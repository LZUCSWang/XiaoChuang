<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>调查问卷</title>
  <link href="/static/survey.css" rel="stylesheet" />
</head>

<body>
  <div class="survey-container">
    <h2>焦虑心理-焦虑自评量表测试</h2>
    <!-- 问题1 -->
    <div class="question">
      <p>1、我觉得比平常容易紧张和着急。</p>
      <!-- <label> <input type="radio" name="q1" value="1" required /> 是 </label>
      <label> <input type="radio" name="q1" value="0" /> 否 </label> -->
      <label> <input type="radio" name="q1" value="1" required /> 没有或很少时间 </label>
      <label> <input type="radio" name="q1" value="2" /> 小部分时间 </label>
      <label> <input type="radio" name="q1" value="3" /> 相当多时间 </label>
      <label> <input type="radio" name="q1" value="4" /> 绝大部分或全部时间 </label>
    </div>
    <!-- 问题2 -->
    <div class="question">
      <p>2、我无缘无故地感到害怕。</p>
      <label> <input type="radio" name="q2" value="1" required /> 没有或很少时间 </label>
      <label> <input type="radio" name="q2" value="2" /> 小部分时间 </label>
      <label> <input type="radio" name="q2" value="3" /> 相当多时间 </label>
      <label> <input type="radio" name="q2" value="4" /> 绝大部分或全部时间 </label>
    </div>
    <div class="question">
      <p>3、我容易心里烦乱或觉得惊慌。</p>
      <label> <input type="radio" name="q3" value="1" required /> 没有或很少时间 </label>
      <label> <input type="radio" name="q3" value="2" /> 小部分时间 </label>
      <label> <input type="radio" name="q3" value="3" /> 相当多时间 </label>
      <label> <input type="radio" name="q3" value="4" /> 绝大部分或全部时间 </label>
    </div>
    <div class="question">
      <p>4、我觉得我可能将要发疯。</p>
      <label> <input type="radio" name="q4" value="1" required /> 没有或很少时间 </label>
      <label> <input type="radio" name="q4" value="2" /> 小部分时间 </label>
      <label> <input type="radio" name="q4" value="3" /> 相当多时间 </label>
      <label> <input type="radio" name="q4" value="4" /> 绝大部分或全部时间 </label>
    </div>
    <div class="question">
      <p>5、我觉得一切都很好，也不会发生什么不幸。</p>
      <label> <input type="radio" name="q5" value="4" required /> 没有或很少时间 </label>
      <label> <input type="radio" name="q5" value="3" /> 小部分时间 </label>
      <label> <input type="radio" name="q5" value="2" /> 相当多时间 </label>
      <label> <input type="radio" name="q5" value="1" /> 绝大部分或全部时间 </label>
    </div>
    <div class="question">
      <p>6、我手脚发抖打颤。</p>
      <label> <input type="radio" name="q6" value="1" required /> 没有或很少时间 </label>
      <label> <input type="radio" name="q6" value="2" /> 小部分时间 </label>
      <label> <input type="radio" name="q6" value="3" /> 相当多时间 </label>
      <label> <input type="radio" name="q6" value="4" /> 绝大部分或全部时间 </label>
    </div>
    <div class="question">
      <p>7、我因为头痛、头颈痛和背痛而苦恼。</p>
      <label> <input type="radio" name="q7" value="1" required /> 没有或很少时间 </label>
      <label> <input type="radio" name="q7" value="2" /> 小部分时间 </label>
      <label> <input type="radio" name="q7" value="3" /> 相当多时间 </label>
      <label> <input type="radio" name="q7" value="4" /> 绝大部分或全部时间 </label>
    </div>
    <div class="question">
      <p>8、我感觉容易衰弱和疲乏。</p>
      <label> <input type="radio" name="q8" value="1" required /> 没有或很少时间 </label>
      <label> <input type="radio" name="q8" value="2" /> 小部分时间 </label>
      <label> <input type="radio" name="q8" value="3" /> 相当多时间 </label>
      <label> <input type="radio" name="q8" value="4" /> 绝大部分或全部时间 </label>
    </div>
    <div class="question">
      <p>9、我觉得心平气和，并且容易安静地坐着。</p>
      <label> <input type="radio" name="q9" value="4" required /> 没有或很少时间 </label>
      <label> <input type="radio" name="q9" value="3" /> 小部分时间 </label>
      <label> <input type="radio" name="q9" value="2" /> 相当多时间 </label>
      <label> <input type="radio" name="q9" value="1" /> 绝大部分或全部时间 </label>
    </div>
    <div class="question">
      <p>10、我觉得心跳得很快。</p>
      <label> <input type="radio" name="q10" value="1" required /> 没有或很少时间 </label>
      <label> <input type="radio" name="q10" value="2" /> 小部分时间 </label>
      <label> <input type="radio" name="q10" value="3" /> 相当多时间 </label>
      <label> <input type="radio" name="q10" value="4" /> 绝大部分或全部时间 </label>
    </div>
    <div class="question">
      <p>11、我因为一阵阵头晕而苦恼。</p>
      <label> <input type="radio" name="q11" value="1" required /> 没有或很少时间 </label>
      <label> <input type="radio" name="q11" value="2" /> 小部分时间 </label>
      <label> <input type="radio" name="q11" value="3" /> 相当多时间 </label>
      <label> <input type="radio" name="q11" value="4" /> 绝大部分或全部时间 </label>
    </div>
    <div class="question">
      <p>12、我有晕倒发作，或觉得要晕倒似的。</p>
      <label> <input type="radio" name="q12" value="1" required /> 没有或很少时间 </label>
      <label> <input type="radio" name="q12" value="2" /> 小部分时间 </label>
      <label> <input type="radio" name="q12" value="3" /> 相当多时间 </label>
      <label> <input type="radio" name="q12" value="4" /> 绝大部分或全部时间 </label>
    </div>
    <div class="question">
      <p>13、我吸气呼气都感到很容易。</p>
      <label> <input type="radio" name="q13" value="4" required /> 没有或很少时间 </label>
      <label> <input type="radio" name="q13" value="3" /> 小部分时间 </label>
      <label> <input type="radio" name="q13" value="2" /> 相当多时间 </label>
      <label> <input type="radio" name="q13" value="1" /> 绝大部分或全部时间 </label>
    </div>
    <div class="question">
      <p>14、我手脚麻木和刺痛。</p>
      <label> <input type="radio" name="q14" value="1" required /> 没有或很少时间 </label>
      <label> <input type="radio" name="q14" value="2" /> 小部分时间 </label>
      <label> <input type="radio" name="q14" value="3" /> 相当多时间 </label>
      <label> <input type="radio" name="q14" value="4" /> 绝大部分或全部时间 </label>
    </div>
    <div class="question">
      <p>15、我因为胃痛和消化不良而苦恼。</p>
      <label> <input type="radio" name="q15" value="1" required /> 没有或很少时间 </label>
      <label> <input type="radio" name="q15" value="2" /> 小部分时间 </label>
      <label> <input type="radio" name="q15" value="3" /> 相当多时间 </label>
      <label> <input type="radio" name="q15" value="4" /> 绝大部分或全部时间 </label>
    </div>
    <div class="question">
      <p>16、我常常要小便。</p>
      <label> <input type="radio" name="q16" value="1" required /> 没有或很少时间 </label>
      <label> <input type="radio" name="q16" value="2" /> 小部分时间 </label>
      <label> <input type="radio" name="q16" value="3" /> 相当多时间 </label>
      <label> <input type="radio" name="q16" value="4" /> 绝大部分或全部时间 </label>
    </div>
    <div class="question">
      <p>17、我的手常常是干燥温暖的。</p>
      <label> <input type="radio" name="q17" value="4" required /> 没有或很少时间 </label>
      <label> <input type="radio" name="q17" value="3" /> 小部分时间 </label>
      <label> <input type="radio" name="q17" value="2" /> 相当多时间 </label>
      <label> <input type="radio" name="q17" value="1" /> 绝大部分或全部时间 </label>
    </div>
    <div class="question">
      <p>18、我脸红发热。</p>
      <label> <input type="radio" name="q18" value="1" required /> 没有或很少时间 </label>
      <label> <input type="radio" name="q18" value="2" /> 小部分时间 </label>
      <label> <input type="radio" name="q18" value="3" /> 相当多时间 </label>
      <label> <input type="radio" name="q18" value="4" /> 绝大部分或全部时间 </label>
    </div>
    <div class="question">
      <p>19、我容易入睡并且一夜睡得很好。</p>
      <label> <input type="radio" name="q19" value="4" required /> 没有或很少时间 </label>
      <label> <input type="radio" name="q19" value="3" /> 小部分时间 </label>
      <label> <input type="radio" name="q19" value="2" /> 相当多时间 </label>
      <label> <input type="radio" name="q19" value="1" /> 绝大部分或全部时间 </label>
    </div>
    <div class="question">
      <p>20、我作恶梦。</p>
      <label> <input type="radio" name="q20" value="1" required /> 没有或很少时间 </label>
      <label> <input type="radio" name="q20" value="2" /> 小部分时间 </label>
      <label> <input type="radio" name="q20" value="3" /> 相当多时间 </label>
      <label> <input type="radio" name="q20" value="4" /> 绝大部分或全部时间 </label>
    </div>
    <button type="submit" class="submit-button" onclick="calculateScore()">
      提交问卷
    </button>
  </div>
  <!-- 模态弹窗 -->
  <div id="scoreModal" class="modal" style="display: none">
    <div class="modal-content">
      <span class="close-button">&times;</span>
      <p id="scoreText"></p>
    </div>
  </div>

  <script>
    function calculateScore() {
      const questions = document.querySelectorAll(".question");
      let score = 0;
      questions.forEach((question) => {
        const selectedOption = question.querySelector(
          'input[type="radio"]:checked'
        );
        if (selectedOption) {
          const value = parseInt(selectedOption.value);
          if (!isNaN(value)) {
            score += value; // 将选中选项的值加到总分上
          }
        }
      });
      score = Math.round(score * 1.25); // 乘以 1.25 取整数
      // 显示模态弹窗和得分
      document.getElementById("scoreText").innerText = `您的得分是：${score}
      低于 50 分者为正常； 
      50-60 分者为轻度焦虑； 
      61-70 分者为中度焦虑;
      70 分以上为重度焦虑，中度以上焦虑建议精神专科咨询就诊，排除焦虑症`;
      document.getElementById("scoreModal").style.display = "block";
    }

    // 关闭模态弹窗
    const closeButton = document.querySelector(".close-button");
    closeButton.addEventListener("click", function () {
      document.getElementById("scoreModal").style.display = "none";
    });

    // 点击模态弹窗外部也可以关闭弹窗
    window.onclick = function (event) {
      const modal = document.getElementById("scoreModal");
      if (event.target == modal) {
        modal.style.display = "none";
      }
    };
  </script>
</body>

</html>