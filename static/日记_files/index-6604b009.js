var uj = Object.defineProperty; var cj = (t, e, r) => e in t ? uj(t, e, { enumerable: !0, configurable: !0, writable: !0, value: r }) : t[e] = r; var PA = (t, e, r) => (cj(t, typeof e != "symbol" ? e + "" : e, r), r); (function () { const e = document.createElement("link").relList; if (e && e.supports && e.supports("modulepreload")) return; for (const a of document.querySelectorAll('link[rel="modulepreload"]')) n(a); new MutationObserver(a => { for (const i of a) if (i.type === "childList") for (const o of i.addedNodes) o.tagName === "LINK" && o.rel === "modulepreload" && n(o) }).observe(document, { childList: !0, subtree: !0 }); function r(a) { const i = {}; return a.integrity && (i.integrity = a.integrity), a.referrerPolicy && (i.referrerPolicy = a.referrerPolicy), a.crossOrigin === "use-credentials" ? i.credentials = "include" : a.crossOrigin === "anonymous" ? i.credentials = "omit" : i.credentials = "same-origin", i } function n(a) { if (a.ep) return; a.ep = !0; const i = r(a); fetch(a.href, i) } })(); function J2(t, e) { const r = new Set(t.split(",")); return e ? n => r.has(n.toLowerCase()) : n => r.has(n) } const Yr = {}, ah = [], za = () => { }, fj = () => !1, h_ = t => t.charCodeAt(0) === 111 && t.charCodeAt(1) === 110 && (t.charCodeAt(2) > 122 || t.charCodeAt(2) < 97), eD = t => t.startsWith("onUpdate:"), Ln = Object.assign, tD = (t, e) => { const r = t.indexOf(e); r > -1 && t.splice(r, 1) }, hj = Object.prototype.hasOwnProperty, cr = (t, e) => hj.call(t, e), yt = Array.isArray, ih = t => Hp(t) === "[object Map]", d_ = t => Hp(t) === "[object Set]", RA = t => Hp(t) === "[object Date]", $t = t => typeof t == "function", tn = t => typeof t == "string", Yl = t => typeof t == "symbol", Pr = t => t !== null && typeof t == "object", u5 = t => (Pr(t) || $t(t)) && $t(t.then) && $t(t.catch), c5 = Object.prototype.toString, Hp = t => c5.call(t), dj = t => Hp(t).slice(8, -1), f5 = t => Hp(t) === "[object Object]", rD = t => tn(t) && t !== "NaN" && t[0] !== "-" && "" + parseInt(t, 10) === t, ny = J2(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"), v_ = t => { const e = Object.create(null); return r => e[r] || (e[r] = t(r)) }, vj = /-(\w)/g, Lo = v_(t => t.replace(vj, (e, r) => r ? r.toUpperCase() : "")), pj = /\B([A-Z])/g, Yc = v_(t => t.replace(pj, "-$1").toLowerCase()), p_ = v_(t => t.charAt(0).toUpperCase() + t.slice(1)), cb = v_(t => t ? `on${p_(t)}` : ""), Ul = (t, e) => !Object.is(t, e), ay = (t, e) => { for (let r = 0; r < t.length; r++)t[r](e) }, Fy = (t, e, r) => { Object.defineProperty(t, e, { configurable: !0, enumerable: !1, value: r }) }, yx = t => { const e = parseFloat(t); return isNaN(e) ? t : e }, gj = t => { const e = tn(t) ? Number(t) : NaN; return isNaN(e) ? t : e }; let OA; const h5 = () => OA || (OA = typeof globalThis < "u" ? globalThis : typeof self < "u" ? self : typeof window < "u" ? window : typeof global < "u" ? global : {}); function at(t) { if (yt(t)) { const e = {}; for (let r = 0; r < t.length; r++) { const n = t[r], a = tn(n) ? bj(n) : at(n); if (a) for (const i in a) e[i] = a[i] } return e } else if (tn(t) || Pr(t)) return t } const mj = /;(?![^(]*\))/g, yj = /:([^]+)/, _j = /\/\*[^]*?\*\//g; function bj(t) { const e = {}; return t.replace(_j, "").split(mj).forEach(r => { if (r) { const n = r.split(yj); n.length > 1 && (e[n[0].trim()] = n[1].trim()) } }), e } function Be(t) { let e = ""; if (tn(t)) e = t; else if (yt(t)) for (let r = 0; r < t.length; r++) { const n = Be(t[r]); n && (e += n + " ") } else if (Pr(t)) for (const r in t) t[r] && (e += r + " "); return e.trim() } function Aa(t) { if (!t) return null; let { class: e, style: r } = t; return e && !tn(e) && (t.class = Be(e)), r && (t.style = at(r)), t } const wj = "itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly", Sj = J2(wj); function d5(t) { return !!t || t === "" } function xj(t, e) { if (t.length !== e.length) return !1; let r = !0; for (let n = 0; r && n < t.length; n++)r = g_(t[n], e[n]); return r } function g_(t, e) { if (t === e) return !0; let r = RA(t), n = RA(e); if (r || n) return r && n ? t.getTime() === e.getTime() : !1; if (r = Yl(t), n = Yl(e), r || n) return t === e; if (r = yt(t), n = yt(e), r || n) return r && n ? xj(t, e) : !1; if (r = Pr(t), n = Pr(e), r || n) { if (!r || !n) return !1; const a = Object.keys(t).length, i = Object.keys(e).length; if (a !== i) return !1; for (const o in t) { const s = t.hasOwnProperty(o), l = e.hasOwnProperty(o); if (s && !l || !s && l || !g_(t[o], e[o])) return !1 } } return String(t) === String(e) } function v5(t, e) { return t.findIndex(r => g_(r, e)) } const fe = t => tn(t) ? t : t == null ? "" : yt(t) || Pr(t) && (t.toString === c5 || !$t(t.toString)) ? JSON.stringify(t, p5, 2) : String(t), p5 = (t, e) => e && e.__v_isRef ? p5(t, e.value) : ih(e) ? { [`Map(${e.size})`]: [...e.entries()].reduce((r, [n, a], i) => (r[fb(n, i) + " =>"] = a, r), {}) } : d_(e) ? { [`Set(${e.size})`]: [...e.values()].map(r => fb(r)) } : Yl(e) ? fb(e) : Pr(e) && !yt(e) && !f5(e) ? String(e) : e, fb = (t, e = "") => { var r; return Yl(t) ? `Symbol(${(r = t.description) != null ? r : e})` : t }; let Ba; class g5 { constructor(e = !1) { this.detached = e, this._active = !0, this.effects = [], this.cleanups = [], this.parent = Ba, !e && Ba && (this.index = (Ba.scopes || (Ba.scopes = [])).push(this) - 1) } get active() { return this._active } run(e) { if (this._active) { const r = Ba; try { return Ba = this, e() } finally { Ba = r } } } on() { Ba = this } off() { Ba = this.parent } stop(e) { if (this._active) { let r, n; for (r = 0, n = this.effects.length; r < n; r++)this.effects[r].stop(); for (r = 0, n = this.cleanups.length; r < n; r++)this.cleanups[r](); if (this.scopes) for (r = 0, n = this.scopes.length; r < n; r++)this.scopes[r].stop(!0); if (!this.detached && this.parent && !e) { const a = this.parent.scopes.pop(); a && a !== this && (this.parent.scopes[this.index] = a, a.index = this.index) } this.parent = void 0, this._active = !1 } } } function m5(t) { return new g5(t) } function Tj(t, e = Ba) { e && e.active && e.effects.push(t) } function nD() { return Ba } function y5(t) { Ba && Ba.cleanups.push(t) } let yc; class aD { constructor(e, r, n, a) { this.fn = e, this.trigger = r, this.scheduler = n, this.active = !0, this.deps = [], this._dirtyLevel = 3, this._trackId = 0, this._runnings = 0, this._queryings = 0, this._depsLength = 0, Tj(this, a) } get dirty() { if (this._dirtyLevel === 1) { this._dirtyLevel = 0, this._queryings++, Uc(); for (const e of this.deps) if (e.computed && (Dj(e.computed), this._dirtyLevel >= 2)) break; Wc(), this._queryings-- } return this._dirtyLevel >= 2 } set dirty(e) { this._dirtyLevel = e ? 3 : 0 } run() { if (this._dirtyLevel = 0, !this.active) return this.fn(); let e = Rl, r = yc; try { return Rl = !0, yc = this, this._runnings++, EA(this), this.fn() } finally { NA(this), this._runnings--, yc = r, Rl = e } } stop() { var e; this.active && (EA(this), NA(this), (e = this.onStop) == null || e.call(this), this.active = !1) } } function Dj(t) { return t.value } function EA(t) { t._trackId++, t._depsLength = 0 } function NA(t) { if (t.deps && t.deps.length > t._depsLength) { for (let e = t._depsLength; e < t.deps.length; e++)_5(t.deps[e], t); t.deps.length = t._depsLength } } function _5(t, e) { const r = t.get(e); r !== void 0 && e._trackId !== r && (t.delete(e), t.size === 0 && t.cleanup()) } let Rl = !0, _x = 0; const b5 = []; function Uc() { b5.push(Rl), Rl = !1 } function Wc() { const t = b5.pop(); Rl = t === void 0 ? !0 : t } function iD() { _x++ } function oD() { for (_x--; !_x && bx.length;)bx.shift()() } function w5(t, e, r) { if (e.get(t) !== t._trackId) { e.set(t, t._trackId); const n = t.deps[t._depsLength]; n !== e ? (n && _5(n, t), t.deps[t._depsLength++] = e) : t._depsLength++ } } const bx = []; function S5(t, e, r) { iD(); for (const n of t.keys()) if (!(!n.allowRecurse && n._runnings) && n._dirtyLevel < e && (!n._runnings || e !== 2)) { const a = n._dirtyLevel; n._dirtyLevel = e, a === 0 && (!n._queryings || e !== 2) && (n.trigger(), n.scheduler && bx.push(n.scheduler)) } oD() } const x5 = (t, e) => { const r = new Map; return r.cleanup = t, r.computed = e, r }, By = new WeakMap, _c = Symbol(""), Sx = Symbol(""); function Ra(t, e, r) { if (Rl && yc) { let n = By.get(t); n || By.set(t, n = new Map); let a = n.get(r); a || n.set(r, a = x5(() => n.delete(r))), w5(yc, a) } } function _s(t, e, r, n, a, i) { const o = By.get(t); if (!o) return; let s = []; if (e === "clear") s = [...o.values()]; else if (r === "length" && yt(t)) { const l = Number(n); o.forEach((u, c) => { (c === "length" || !Yl(c) && c >= l) && s.push(u) }) } else switch (r !== void 0 && s.push(o.get(r)), e) { case "add": yt(t) ? rD(r) && s.push(o.get("length")) : (s.push(o.get(_c)), ih(t) && s.push(o.get(Sx))); break; case "delete": yt(t) || (s.push(o.get(_c)), ih(t) && s.push(o.get(Sx))); break; case "set": ih(t) && s.push(o.get(_c)); break }iD(); for (const l of s) l && S5(l, 3); oD() } function Cj(t, e) { var r; return (r = By.get(t)) == null ? void 0 : r.get(e) } const Mj = J2("__proto__,__v_isRef,__isVue"), T5 = new Set(Object.getOwnPropertyNames(Symbol).filter(t => t !== "arguments" && t !== "caller").map(t => Symbol[t]).filter(Yl)), $A = kj(); function kj() { const t = {}; return ["includes", "indexOf", "lastIndexOf"].forEach(e => { t[e] = function (...r) { const n = tr(this); for (let i = 0, o = this.length; i < o; i++)Ra(n, "get", i + ""); const a = n[e](...r); return a === -1 || a === !1 ? n[e](...r.map(tr)) : a } }), ["push", "pop", "shift", "unshift", "splice"].forEach(e => { t[e] = function (...r) { Uc(), iD(); const n = tr(this)[e].apply(this, r); return oD(), Wc(), n } }), t } function Aj(t) { const e = tr(this); return Ra(e, "has", t), e.hasOwnProperty(t) } class D5 { constructor(e = !1, r = !1) { this._isReadonly = e, this._shallow = r } get(e, r, n) { const a = this._isReadonly, i = this._shallow; if (r === "__v_isReactive") return !a; if (r === "__v_isReadonly") return a; if (r === "__v_isShallow") return i; if (r === "__v_raw") return n === (a ? i ? Hj : A5 : i ? k5 : M5).get(e) || Object.getPrototypeOf(e) === Object.getPrototypeOf(n) ? e : void 0; const o = yt(e); if (!a) { if (o && cr($A, r)) return Reflect.get($A, r, n); if (r === "hasOwnProperty") return Aj } const s = Reflect.get(e, r, n); return (Yl(r) ? T5.has(r) : Mj(r)) || (a || Ra(e, "get", r), i) ? s : Ir(s) ? o && rD(r) ? s : s.value : Pr(s) ? a ? I5(s) : zo(s) : s } } class C5 extends D5 { constructor(e = !1) { super(!1, e) } set(e, r, n, a) { let i = e[r]; if (!this._shallow) { const l = yh(i); if (!qf(n) && !yh(n) && (i = tr(i), n = tr(n)), !yt(e) && Ir(i) && !Ir(n)) return l ? !1 : (i.value = n, !0) } const o = yt(e) && rD(r) ? Number(r) < e.length : cr(e, r), s = Reflect.set(e, r, n, a); return e === tr(a) && (o ? Ul(n, i) && _s(e, "set", r, n) : _s(e, "add", r, n)), s } deleteProperty(e, r) { const n = cr(e, r); e[r]; const a = Reflect.deleteProperty(e, r); return a && n && _s(e, "delete", r, void 0), a } has(e, r) { const n = Reflect.has(e, r); return (!Yl(r) || !T5.has(r)) && Ra(e, "has", r), n } ownKeys(e) { return Ra(e, "iterate", yt(e) ? "length" : _c), Reflect.ownKeys(e) } } class Lj extends D5 { constructor(e = !1) { super(!0, e) } set(e, r) { return !0 } deleteProperty(e, r) { return !0 } } const Ij = new C5, Pj = new Lj, Rj = new C5(!0), sD = t => t, m_ = t => Reflect.getPrototypeOf(t); function Ng(t, e, r = !1, n = !1) { t = t.__v_raw; const a = tr(t), i = tr(e); r || (Ul(e, i) && Ra(a, "get", e), Ra(a, "get", i)); const { has: o } = m_(a), s = n ? sD : r ? cD : Zv; if (o.call(a, e)) return s(t.get(e)); if (o.call(a, i)) return s(t.get(i)); t !== a && t.get(e) } function $g(t, e = !1) { const r = this.__v_raw, n = tr(r), a = tr(t); return e || (Ul(t, a) && Ra(n, "has", t), Ra(n, "has", a)), t === a ? r.has(t) : r.has(t) || r.has(a) } function Fg(t, e = !1) { return t = t.__v_raw, !e && Ra(tr(t), "iterate", _c), Reflect.get(t, "size", t) } function FA(t) { t = tr(t); const e = tr(this); return m_(e).has.call(e, t) || (e.add(t), _s(e, "add", t, t)), this } function BA(t, e) { e = tr(e); const r = tr(this), { has: n, get: a } = m_(r); let i = n.call(r, t); i || (t = tr(t), i = n.call(r, t)); const o = a.call(r, t); return r.set(t, e), i ? Ul(e, o) && _s(r, "set", t, e) : _s(r, "add", t, e), this } function VA(t) { const e = tr(this), { has: r, get: n } = m_(e); let a = r.call(e, t); a || (t = tr(t), a = r.call(e, t)), n && n.call(e, t); const i = e.delete(t); return a && _s(e, "delete", t, void 0), i } function zA() { const t = tr(this), e = t.size !== 0, r = t.clear(); return e && _s(t, "clear", void 0, void 0), r } function Bg(t, e) { return function (n, a) { const i = this, o = i.__v_raw, s = tr(o), l = e ? sD : t ? cD : Zv; return !t && Ra(s, "iterate", _c), o.forEach((u, c) => n.call(a, l(u), l(c), i)) } } function Vg(t, e, r) { return function (...n) { const a = this.__v_raw, i = tr(a), o = ih(i), s = t === "entries" || t === Symbol.iterator && o, l = t === "keys" && o, u = a[t](...n), c = r ? sD : e ? cD : Zv; return !e && Ra(i, "iterate", l ? Sx : _c), { next() { const { value: f, done: h } = u.next(); return h ? { value: f, done: h } : { value: s ? [c(f[0]), c(f[1])] : c(f), done: h } }, [Symbol.iterator]() { return this } } } } function qs(t) { return function (...e) { return t === "delete" ? !1 : t === "clear" ? void 0 : this } } function Oj() { const t = { get(i) { return Ng(this, i) }, get size() { return Fg(this) }, has: $g, add: FA, set: BA, delete: VA, clear: zA, forEach: Bg(!1, !1) }, e = { get(i) { return Ng(this, i, !1, !0) }, get size() { return Fg(this) }, has: $g, add: FA, set: BA, delete: VA, clear: zA, forEach: Bg(!1, !0) }, r = { get(i) { return Ng(this, i, !0) }, get size() { return Fg(this, !0) }, has(i) { return $g.call(this, i, !0) }, add: qs("add"), set: qs("set"), delete: qs("delete"), clear: qs("clear"), forEach: Bg(!0, !1) }, n = { get(i) { return Ng(this, i, !0, !0) }, get size() { return Fg(this, !0) }, has(i) { return $g.call(this, i, !0) }, add: qs("add"), set: qs("set"), delete: qs("delete"), clear: qs("clear"), forEach: Bg(!0, !0) }; return ["keys", "values", "entries", Symbol.iterator].forEach(i => { t[i] = Vg(i, !1, !1), r[i] = Vg(i, !0, !1), e[i] = Vg(i, !1, !0), n[i] = Vg(i, !0, !0) }), [t, r, e, n] } const [Ej, Nj, $j, Fj] = Oj(); function lD(t, e) { const r = e ? t ? Fj : $j : t ? Nj : Ej; return (n, a, i) => a === "__v_isReactive" ? !t : a === "__v_isReadonly" ? t : a === "__v_raw" ? n : Reflect.get(cr(r, a) && a in n ? r : n, a, i) } const Bj = { get: lD(!1, !1) }, Vj = { get: lD(!1, !0) }, zj = { get: lD(!0, !1) }, M5 = new WeakMap, k5 = new WeakMap, A5 = new WeakMap, Hj = new WeakMap; function Yj(t) { switch (t) { case "Object": case "Array": return 1; case "Map": case "Set": case "WeakMap": case "WeakSet": return 2; default: return 0 } } function Uj(t) { return t.__v_skip || !Object.isExtensible(t) ? 0 : Yj(dj(t)) } function zo(t) { return yh(t) ? t : uD(t, !1, Ij, Bj, M5) } function L5(t) { return uD(t, !1, Rj, Vj, k5) } function I5(t) { return uD(t, !0, Pj, zj, A5) } function uD(t, e, r, n, a) { if (!Pr(t) || t.__v_raw && !(e && t.__v_isReactive)) return t; const i = a.get(t); if (i) return i; const o = Uj(t); if (o === 0) return t; const s = new Proxy(t, o === 2 ? n : r); return a.set(t, s), s } function bs(t) { return yh(t) ? bs(t.__v_raw) : !!(t && t.__v_isReactive) } function yh(t) { return !!(t && t.__v_isReadonly) } function qf(t) { return !!(t && t.__v_isShallow) } function P5(t) { return bs(t) || yh(t) } function tr(t) { const e = t && t.__v_raw; return e ? tr(e) : t } function y_(t) { return Fy(t, "__v_skip", !0), t } const Zv = t => Pr(t) ? zo(t) : t, cD = t => Pr(t) ? I5(t) : t; class R5 { constructor(e, r, n, a) { this._setter = r, this.dep = void 0, this.__v_isRef = !0, this.__v_isReadonly = !1, this.effect = new aD(() => e(this._value), () => xx(this, 1)), this.effect.computed = this, this.effect.active = this._cacheable = !a, this.__v_isReadonly = n } get value() { const e = tr(this); return O5(e), (!e._cacheable || e.effect.dirty) && Ul(e._value, e._value = e.effect.run()) && xx(e, 2), e._value } set value(e) { this._setter(e) } get _dirty() { return this.effect.dirty } set _dirty(e) { this.effect.dirty = e } } function Wj(t, e, r = !1) { let n, a; const i = $t(t); return i ? (n = t, a = za) : (n = t.get, a = t.set), new R5(n, a, i || !a, r) } function O5(t) { Rl && yc && (t = tr(t), w5(yc, t.dep || (t.dep = x5(() => t.dep = void 0, t instanceof R5 ? t : void 0)))) } function xx(t, e = 3, r) { t = tr(t); const n = t.dep; n && S5(n, e) } function Ir(t) { return !!(t && t.__v_isRef === !0) } function ne(t) { return E5(t, !1) } function Gj(t) { return E5(t, !0) } function E5(t, e) { return Ir(t) ? t : new jj(t, e) } class jj { constructor(e, r) { this.__v_isShallow = r, this.dep = void 0, this.__v_isRef = !0, this._rawValue = r ? e : tr(e), this._value = r ? e : Zv(e) } get value() { return O5(this), this._value } set value(e) { const r = this.__v_isShallow || qf(e) || yh(e); e = r ? e : tr(e), Ul(e, this._rawValue) && (this._rawValue = e, this._value = r ? e : Zv(e), xx(this, 3)) } } function Y(t) { return Ir(t) ? t.value : t } const Zj = { get: (t, e, r) => Y(Reflect.get(t, e, r)), set: (t, e, r, n) => { const a = t[e]; return Ir(a) && !Ir(r) ? (a.value = r, !0) : Reflect.set(t, e, r, n) } }; function N5(t) { return bs(t) ? t : new Proxy(t, Zj) } function qj(t) { const e = yt(t) ? new Array(t.length) : {}; for (const r in t) e[r] = $5(t, r); return e } class Xj { constructor(e, r, n) { this._object = e, this._key = r, this._defaultValue = n, this.__v_isRef = !0 } get value() { const e = this._object[this._key]; return e === void 0 ? this._defaultValue : e } set value(e) { this._object[this._key] = e } get dep() { return Cj(tr(this._object), this._key) } } class Kj { constructor(e) { this._getter = e, this.__v_isRef = !0, this.__v_isReadonly = !0 } get value() { return this._getter() } } function qv(t, e, r) { return Ir(t) ? t : $t(t) ? new Kj(t) : Pr(t) && arguments.length > 1 ? $5(t, e, r) : ne(t) } function $5(t, e, r) { const n = t[e]; return Ir(n) ? n : new Xj(t, e, r) } function Ol(t, e, r, n) { let a; try { a = n ? t(...n) : t() } catch (i) { __(i, e, r) } return a } function vi(t, e, r, n) { if ($t(t)) { const i = Ol(t, e, r, n); return i && u5(i) && i.catch(o => { __(o, e, r) }), i } const a = []; for (let i = 0; i < t.length; i++)a.push(vi(t[i], e, r, n)); return a } function __(t, e, r, n = !0) { const a = e ? e.vnode : null; if (e) { let i = e.parent; const o = e.proxy, s = `https://vuejs.org/errors/#runtime-${r}`; for (; i;) { const u = i.ec; if (u) { for (let c = 0; c < u.length; c++)if (u[c](t, o, s) === !1) return } i = i.parent } const l = e.appContext.config.errorHandler; if (l) { Ol(l, null, 10, [t, o, s]); return } } Qj(t, r, a, n) } function Qj(t, e, r, n = !0) { console.error(t) } let Xv = !1, Tx = !1; const Jn = []; let ho = 0; const oh = []; let ss = null, ec = 0; const F5 = Promise.resolve(); let fD = null; function Dr(t) { const e = fD || F5; return t ? e.then(this ? t.bind(this) : t) : e } function Jj(t) { let e = ho + 1, r = Jn.length; for (; e < r;) { const n = e + r >>> 1, a = Jn[n], i = Kv(a); i < t || i === t && a.pre ? e = n + 1 : r = n } return e } function hD(t) { (!Jn.length || !Jn.includes(t, Xv && t.allowRecurse ? ho + 1 : ho)) && (t.id == null ? Jn.push(t) : Jn.splice(Jj(t.id), 0, t), B5()) } function B5() { !Xv && !Tx && (Tx = !0, fD = F5.then(z5)) } function eZ(t) { const e = Jn.indexOf(t); e > ho && Jn.splice(e, 1) } function tZ(t) { yt(t) ? oh.push(...t) : (!ss || !ss.includes(t, t.allowRecurse ? ec + 1 : ec)) && oh.push(t), B5() } function HA(t, e, r = Xv ? ho + 1 : 0) { for (; r < Jn.length; r++) { const n = Jn[r]; if (n && n.pre) { if (t && n.id !== t.uid) continue; Jn.splice(r, 1), r--, n() } } } function V5(t) { if (oh.length) { const e = [...new Set(oh)]; if (oh.length = 0, ss) { ss.push(...e); return } for (ss = e, ss.sort((r, n) => Kv(r) - Kv(n)), ec = 0; ec < ss.length; ec++)ss[ec](); ss = null, ec = 0 } } const Kv = t => t.id == null ? 1 / 0 : t.id, rZ = (t, e) => { const r = Kv(t) - Kv(e); if (r === 0) { if (t.pre && !e.pre) return -1; if (e.pre && !t.pre) return 1 } return r }; function z5(t) { Tx = !1, Xv = !0, Jn.sort(rZ); const e = za; try { for (ho = 0; ho < Jn.length; ho++) { const r = Jn[ho]; r && r.active !== !1 && Ol(r, null, 14) } } finally { ho = 0, Jn.length = 0, V5(), Xv = !1, fD = null, (Jn.length || oh.length) && z5() } } function nZ(t, e, ...r) { if (t.isUnmounted) return; const n = t.vnode.props || Yr; let a = r; const i = e.startsWith("update:"), o = i && e.slice(7); if (o && o in n) { const c = `${o === "modelValue" ? "model" : o}Modifiers`, { number: f, trim: h } = n[c] || Yr; h && (a = r.map(d => tn(d) ? d.trim() : d)), f && (a = r.map(yx)) } let s, l = n[s = cb(e)] || n[s = cb(Lo(e))]; !l && i && (l = n[s = cb(Yc(e))]), l && vi(l, t, 6, a); const u = n[s + "Once"]; if (u) { if (!t.emitted) t.emitted = {}; else if (t.emitted[s]) return; t.emitted[s] = !0, vi(u, t, 6, a) } } function H5(t, e, r = !1) { const n = e.emitsCache, a = n.get(t); if (a !== void 0) return a; const i = t.emits; let o = {}, s = !1; if (!$t(t)) { const l = u => { const c = H5(u, e, !0); c && (s = !0, Ln(o, c)) }; !r && e.mixins.length && e.mixins.forEach(l), t.extends && l(t.extends), t.mixins && t.mixins.forEach(l) } return !i && !s ? (Pr(t) && n.set(t, null), null) : (yt(i) ? i.forEach(l => o[l] = null) : Ln(o, i), Pr(t) && n.set(t, o), o) } function b_(t, e) { return !t || !h_(e) ? !1 : (e = e.slice(2).replace(/Once$/, ""), cr(t, e[0].toLowerCase() + e.slice(1)) || cr(t, Yc(e)) || cr(t, e)) } let En = null, w_ = null; function Vy(t) { const e = En; return En = t, w_ = t && t.type.__scopeId || null, e } function ba(t) { w_ = t } function wa() { w_ = null } const aZ = t => Me; function Me(t, e = En, r) { if (!e || t._n) return t; const n = (...a) => { n._d && rL(-1); const i = Vy(e); let o; try { o = t(...a) } finally { Vy(i), n._d && rL(1) } return o }; return n._n = !0, n._c = !0, n._d = !0, n } function hb(t) { const { type: e, vnode: r, proxy: n, withProxy: a, props: i, propsOptions: [o], slots: s, attrs: l, emit: u, render: c, renderCache: f, data: h, setupState: d, ctx: v, inheritAttrs: p } = t; let g, m; const y = Vy(t); try { if (r.shapeFlag & 4) { const b = a || n, x = b; g = fo(c.call(x, b, f, i, d, h, v)), m = l } else { const b = e; g = fo(b.length > 1 ? b(i, { attrs: l, slots: s, emit: u }) : b(i, null)), m = e.props ? l : iZ(l) } } catch (b) { mv.length = 0, __(b, t, 1), g = de(pi) } let _ = g; if (m && p !== !1) { const b = Object.keys(m), { shapeFlag: x } = _; b.length && x & 7 && (o && b.some(eD) && (m = oZ(m, o)), _ = Wl(_, m)) } return r.dirs && (_ = Wl(_), _.dirs = _.dirs ? _.dirs.concat(r.dirs) : r.dirs), r.transition && (_.transition = r.transition), g = _, Vy(y), g } const iZ = t => { let e; for (const r in t) (r === "class" || r === "style" || h_(r)) && ((e || (e = {}))[r] = t[r]); return e }, oZ = (t, e) => { const r = {}; for (const n in t) (!eD(n) || !(n.slice(9) in e)) && (r[n] = t[n]); return r }; function sZ(t, e, r) { const { props: n, children: a, component: i } = t, { props: o, children: s, patchFlag: l } = e, u = i.emitsOptions; if (e.dirs || e.transition) return !0; if (r && l >= 0) { if (l & 1024) return !0; if (l & 16) return n ? YA(n, o, u) : !!o; if (l & 8) { const c = e.dynamicProps; for (let f = 0; f < c.length; f++) { const h = c[f]; if (o[h] !== n[h] && !b_(u, h)) return !0 } } } else return (a || s) && (!s || !s.$stable) ? !0 : n === o ? !1 : n ? o ? YA(n, o, u) : !0 : !!o; return !1 } function YA(t, e, r) { const n = Object.keys(e); if (n.length !== Object.keys(t).length) return !0; for (let a = 0; a < n.length; a++) { const i = n[a]; if (e[i] !== t[i] && !b_(r, i)) return !0 } return !1 } function lZ({ vnode: t, parent: e }, r) { if (r) for (; e;) { const n = e.subTree; if (n.suspense && n.suspense.activeBranch === t && (n.el = t.el), n === t) (t = e.vnode).el = r, e = e.parent; else break } } const dD = "components", uZ = "directives"; function In(t, e) { return vD(dD, t, !0, e) || t } const Y5 = Symbol.for("v-ndc"); function iy(t) { return tn(t) ? vD(dD, t, !1) || t : t || Y5 } function cZ(t) { return vD(uZ, t) } function vD(t, e, r = !0, n = !1) { const a = En || Cn; if (a) { const i = a.type; if (t === dD) { const s = rq(i, !1); if (s && (s === e || s === Lo(e) || s === p_(Lo(e)))) return i } const o = UA(a[t] || i[t], e) || UA(a.appContext[t], e); return !o && n ? i : o } } function UA(t, e) { return t && (t[e] || t[Lo(e)] || t[p_(Lo(e))]) } const fZ = t => t.__isSuspense; function hZ(t, e) { e && e.pendingBranch ? yt(t) ? e.effects.push(...t) : e.effects.push(t) : tZ(t) } const dZ = Symbol.for("v-scx"), vZ = () => Ha(dZ), zg = {}; function mt(t, e, r) { return U5(t, e, r) } function U5(t, e, { immediate: r, deep: n, flush: a, once: i, onTrack: o, onTrigger: s } = Yr) { var l; if (e && i) { const x = e; e = (...S) => { x(...S), b() } } const u = nD() === ((l = Cn) == null ? void 0 : l.scope) ? Cn : null; let c, f = !1, h = !1; if (Ir(t) ? (c = () => t.value, f = qf(t)) : bs(t) ? (c = qf(t) || n === !1 ? () => vs(t, 1) : () => vs(t), f = !0) : yt(t) ? (h = !0, f = t.some(x => bs(x) || qf(x)), c = () => t.map(x => { if (Ir(x)) return x.value; if (bs(x)) return vs(x, qf(x) || n === !1 ? 1 : void 0); if ($t(x)) return Ol(x, u, 2) })) : $t(t) ? e ? c = () => Ol(t, u, 2) : c = () => { if (!(u && u.isUnmounted)) return d && d(), vi(t, u, 3, [v]) } : c = za, e && n) { const x = c; c = () => vs(x()) } let d, v = x => { d = _.onStop = () => { Ol(x, u, 4), d = _.onStop = void 0 } }, p; if (C_) if (v = za, e ? r && vi(e, u, 3, [c(), h ? [] : void 0, v]) : c(), a === "sync") { const x = vZ(); p = x.__watcherHandles || (x.__watcherHandles = []) } else return za; let g = h ? new Array(t.length).fill(zg) : zg; const m = () => { if (!(!_.active || !_.dirty)) if (e) { const x = _.run(); (n || f || (h ? x.some((S, T) => Ul(S, g[T])) : Ul(x, g))) && (d && d(), vi(e, u, 3, [x, g === zg ? void 0 : h && g[0] === zg ? [] : g, v]), g = x) } else _.run() }; m.allowRecurse = !!e; let y; a === "sync" ? y = m : a === "post" ? y = () => Ta(m, u && u.suspense) : (m.pre = !0, u && (m.id = u.uid), y = () => hD(m)); const _ = new aD(c, za, y), b = () => { _.stop(), u && u.scope && tD(u.scope.effects, _) }; return e ? r ? m() : g = _.run() : a === "post" ? Ta(_.run.bind(_), u && u.suspense) : _.run(), p && p.push(b), b } function pZ(t, e, r) { const n = this.proxy, a = tn(t) ? t.includes(".") ? W5(n, t) : () => n[t] : t.bind(n, n); let i; $t(e) ? i = e : (i = e.handler, r = e); const o = Cn; _h(this); const s = U5(a, i.bind(n), r); return o ? _h(o) : bc(), s } function W5(t, e) { const r = e.split("."); return () => { let n = t; for (let a = 0; a < r.length && n; a++)n = n[r[a]]; return n } } function vs(t, e, r = 0, n) { if (!Pr(t) || t.__v_skip) return t; if (e && e > 0) { if (r >= e) return t; r++ } if (n = n || new Set, n.has(t)) return t; if (n.add(t), Ir(t)) vs(t.value, e, r, n); else if (yt(t)) for (let a = 0; a < t.length; a++)vs(t[a], e, r, n); else if (d_(t) || ih(t)) t.forEach(a => { vs(a, e, r, n) }); else if (f5(t)) for (const a in t) vs(t[a], e, r, n); return t } function Ot(t, e) { const r = En; if (r === null) return t; const n = M_(r) || r.proxy, a = t.dirs || (t.dirs = []); for (let i = 0; i < e.length; i++) { let [o, s, l, u = Yr] = e[i]; o && ($t(o) && (o = { mounted: o, updated: o }), o.deep && vs(s), a.push({ dir: o, instance: n, value: s, oldValue: void 0, arg: l, modifiers: u })) } return t } function vu(t, e, r, n) { const a = t.dirs, i = e && e.dirs; for (let o = 0; o < a.length; o++) { const s = a[o]; i && (s.oldValue = i[o].value); let l = s.dir[n]; l && (Uc(), vi(l, r, 8, [t.el, s, t, e]), Wc()) } } const gl = Symbol("_leaveCb"), Hg = Symbol("_enterCb"); function gZ() { const t = { isMounted: !1, isLeaving: !1, isUnmounting: !1, leavingVNodes: new Map }; return Lt(() => { t.isMounted = !0 }), Nh(() => { t.isUnmounting = !0 }), t } const qa = [Function, Array], G5 = { mode: String, appear: Boolean, persisted: Boolean, onBeforeEnter: qa, onEnter: qa, onAfterEnter: qa, onEnterCancelled: qa, onBeforeLeave: qa, onLeave: qa, onAfterLeave: qa, onLeaveCancelled: qa, onBeforeAppear: qa, onAppear: qa, onAfterAppear: qa, onAppearCancelled: qa }, mZ = { name: "BaseTransition", props: G5, setup(t, { slots: e }) { const r = f7(), n = gZ(); let a; return () => { const i = e.default && Z5(e.default(), !0); if (!i || !i.length) return; let o = i[0]; if (i.length > 1) { for (const p of i) if (p.type !== pi) { o = p; break } } const s = tr(t), { mode: l } = s; if (n.isLeaving) return db(o); const u = WA(o); if (!u) return db(o); const c = Dx(u, s, n, r); Cx(u, c); const f = r.subTree, h = f && WA(f); let d = !1; const { getTransitionKey: v } = u.type; if (v) { const p = v(); a === void 0 ? a = p : p !== a && (a = p, d = !0) } if (h && h.type !== pi && (!tc(u, h) || d)) { const p = Dx(h, s, n, r); if (Cx(h, p), l === "out-in") return n.isLeaving = !0, p.afterLeave = () => { n.isLeaving = !1, r.update.active !== !1 && (r.effect.dirty = !0, r.update()) }, db(o); l === "in-out" && u.type !== pi && (p.delayLeave = (g, m, y) => { const _ = j5(n, h); _[String(h.key)] = h, g[gl] = () => { m(), g[gl] = void 0, delete c.delayedLeave }, c.delayedLeave = y }) } return o } } }, yZ = mZ; function j5(t, e) { const { leavingVNodes: r } = t; let n = r.get(e.type); return n || (n = Object.create(null), r.set(e.type, n)), n } function Dx(t, e, r, n) { const { appear: a, mode: i, persisted: o = !1, onBeforeEnter: s, onEnter: l, onAfterEnter: u, onEnterCancelled: c, onBeforeLeave: f, onLeave: h, onAfterLeave: d, onLeaveCancelled: v, onBeforeAppear: p, onAppear: g, onAfterAppear: m, onAppearCancelled: y } = e, _ = String(t.key), b = j5(r, t), x = (C, M) => { C && vi(C, n, 9, M) }, S = (C, M) => { const k = M[1]; x(C, M), yt(C) ? C.every(A => A.length <= 1) && k() : C.length <= 1 && k() }, T = { mode: i, persisted: o, beforeEnter(C) { let M = s; if (!r.isMounted) if (a) M = p || s; else return; C[gl] && C[gl](!0); const k = b[_]; k && tc(t, k) && k.el[gl] && k.el[gl](), x(M, [C]) }, enter(C) { let M = l, k = u, A = c; if (!r.isMounted) if (a) M = g || l, k = m || u, A = y || c; else return; let R = !1; const N = C[Hg] = z => { R || (R = !0, z ? x(A, [C]) : x(k, [C]), T.delayedLeave && T.delayedLeave(), C[Hg] = void 0) }; M ? S(M, [C, N]) : N() }, leave(C, M) { const k = String(t.key); if (C[Hg] && C[Hg](!0), r.isUnmounting) return M(); x(f, [C]); let A = !1; const R = C[gl] = N => { A || (A = !0, M(), N ? x(v, [C]) : x(d, [C]), C[gl] = void 0, b[k] === t && delete b[k]) }; b[k] = t, h ? S(h, [C, R]) : R() }, clone(C) { return Dx(C, e, r, n) } }; return T } function db(t) { if (S_(t)) return t = Wl(t), t.children = null, t } function WA(t) { return S_(t) ? t.children ? t.children[0] : void 0 : t } function Cx(t, e) { t.shapeFlag & 6 && t.component ? Cx(t.component.subTree, e) : t.shapeFlag & 128 ? (t.ssContent.transition = e.clone(t.ssContent), t.ssFallback.transition = e.clone(t.ssFallback)) : t.transition = e } function Z5(t, e = !1, r) { let n = [], a = 0; for (let i = 0; i < t.length; i++) { let o = t[i]; const s = r == null ? o.key : String(r) + String(o.key != null ? o.key : i); o.type === Ve ? (o.patchFlag & 128 && a++, n = n.concat(Z5(o.children, e, s))) : (e || o.type !== pi) && n.push(s != null ? Wl(o, { key: s }) : o) } if (a > 1) for (let i = 0; i < n.length; i++)n[i].patchFlag = -2; return n }/*! #__NO_SIDE_EFFECTS__ */function Ue(t, e) { return $t(t) ? (() => Ln({ name: t.name }, e, { setup: t }))() : t } const vv = t => !!t.type.__asyncLoader, S_ = t => t.type.__isKeepAlive; function q5(t, e) { K5(t, "a", e) } function X5(t, e) { K5(t, "da", e) } function K5(t, e, r = Cn) { const n = t.__wdc || (t.__wdc = () => { let a = r; for (; a;) { if (a.isDeactivated) return; a = a.parent } return t() }); if (x_(e, n, r), r) { let a = r.parent; for (; a && a.parent;)S_(a.parent.vnode) && _Z(n, e, r, a), a = a.parent } } function _Z(t, e, r, n) { const a = x_(e, t, n, !0); Bs(() => { tD(n[e], a) }, r) } function x_(t, e, r = Cn, n = !1) { if (r) { const a = r[t] || (r[t] = []), i = e.__weh || (e.__weh = (...o) => { if (r.isUnmounted) return; Uc(), _h(r); const s = vi(e, r, t, o); return bc(), Wc(), s }); return n ? a.unshift(i) : a.push(i), i } } const Fs = t => (e, r = Cn) => (!C_ || t === "sp") && x_(t, (...n) => e(...n), r), pD = Fs("bm"), Lt = Fs("m"), Q5 = Fs("bu"), bZ = Fs("u"), Nh = Fs("bum"), Bs = Fs("um"), wZ = Fs("sp"), SZ = Fs("rtg"), xZ = Fs("rtc"); function TZ(t, e = Cn) { x_("ec", t, e) } function It(t, e, r, n) { let a; const i = r && r[n]; if (yt(t) || tn(t)) { a = new Array(t.length); for (let o = 0, s = t.length; o < s; o++)a[o] = e(t[o], o, void 0, i && i[o]) } else if (typeof t == "number") { a = new Array(t); for (let o = 0; o < t; o++)a[o] = e(o + 1, o, void 0, i && i[o]) } else if (Pr(t)) if (t[Symbol.iterator]) a = Array.from(t, (o, s) => e(o, s, void 0, i && i[s])); else { const o = Object.keys(t); a = new Array(o.length); for (let s = 0, l = o.length; s < l; s++) { const u = o[s]; a[s] = e(t[u], u, s, i && i[s]) } } else a = []; return r && (r[n] = a), a } function La(t, e) { for (let r = 0; r < e.length; r++) { const n = e[r]; if (yt(n)) for (let a = 0; a < n.length; a++)t[n[a].name] = n[a].fn; else n && (t[n.name] = n.key ? (...a) => { const i = n.fn(...a); return i && (i.key = n.key), i } : n.fn) } return t } function We(t, e, r = {}, n, a) { if (En.isCE || En.parent && vv(En.parent) && En.parent.isCE) return e !== "default" && (r.name = e), de("slot", r, n && n()); let i = t[e]; i && i._c && (i._d = !1), $(); const o = i && J5(i(r)), s = Ie(Ve, { key: r.key || o && o.key || `_${e}` }, o || (n ? n() : []), o && t._ === 1 ? 64 : -2); return !a && s.scopeId && (s.slotScopeIds = [s.scopeId + "-s"]), i && i._c && (i._d = !0), s } function J5(t) { return t.some(e => Hy(e) ? !(e.type === pi || e.type === Ve && !J5(e.children)) : !0) ? t : null } const Mx = t => t ? h7(t) ? M_(t) || t.proxy : Mx(t.parent) : null, pv = Ln(Object.create(null), { $: t => t, $el: t => t.vnode.el, $data: t => t.data, $props: t => t.props, $attrs: t => t.attrs, $slots: t => t.slots, $refs: t => t.refs, $parent: t => Mx(t.parent), $root: t => Mx(t.root), $emit: t => t.emit, $options: t => mD(t), $forceUpdate: t => t.f || (t.f = () => { t.effect.dirty = !0, hD(t.update) }), $nextTick: t => t.n || (t.n = Dr.bind(t.proxy)), $watch: t => pZ.bind(t) }), vb = (t, e) => t !== Yr && !t.__isScriptSetup && cr(t, e), DZ = { get({ _: t }, e) { const { ctx: r, setupState: n, data: a, props: i, accessCache: o, type: s, appContext: l } = t; let u; if (e[0] !== "$") { const d = o[e]; if (d !== void 0) switch (d) { case 1: return n[e]; case 2: return a[e]; case 4: return r[e]; case 3: return i[e] } else { if (vb(n, e)) return o[e] = 1, n[e]; if (a !== Yr && cr(a, e)) return o[e] = 2, a[e]; if ((u = t.propsOptions[0]) && cr(u, e)) return o[e] = 3, i[e]; if (r !== Yr && cr(r, e)) return o[e] = 4, r[e]; kx && (o[e] = 0) } } const c = pv[e]; let f, h; if (c) return e === "$attrs" && Ra(t, "get", e), c(t); if ((f = s.__cssModules) && (f = f[e])) return f; if (r !== Yr && cr(r, e)) return o[e] = 4, r[e]; if (h = l.config.globalProperties, cr(h, e)) return h[e] }, set({ _: t }, e, r) { const { data: n, setupState: a, ctx: i } = t; return vb(a, e) ? (a[e] = r, !0) : n !== Yr && cr(n, e) ? (n[e] = r, !0) : cr(t.props, e) || e[0] === "$" && e.slice(1) in t ? !1 : (i[e] = r, !0) }, has({ _: { data: t, setupState: e, accessCache: r, ctx: n, appContext: a, propsOptions: i } }, o) { let s; return !!r[o] || t !== Yr && cr(t, o) || vb(e, o) || (s = i[0]) && cr(s, o) || cr(n, o) || cr(pv, o) || cr(a.config.globalProperties, o) }, defineProperty(t, e, r) { return r.get != null ? t._.accessCache[e] = 0 : cr(r, "value") && this.set(t, e, r.value, null), Reflect.defineProperty(t, e, r) } }; function gD() { return CZ().slots } function CZ() { const t = f7(); return t.setupContext || (t.setupContext = v7(t)) } function GA(t) { return yt(t) ? t.reduce((e, r) => (e[r] = null, e), {}) : t } let kx = !0; function MZ(t) { const e = mD(t), r = t.proxy, n = t.ctx; kx = !1, e.beforeCreate && jA(e.beforeCreate, t, "bc"); const { data: a, computed: i, methods: o, watch: s, provide: l, inject: u, created: c, beforeMount: f, mounted: h, beforeUpdate: d, updated: v, activated: p, deactivated: g, beforeDestroy: m, beforeUnmount: y, destroyed: _, unmounted: b, render: x, renderTracked: S, renderTriggered: T, errorCaptured: C, serverPrefetch: M, expose: k, inheritAttrs: A, components: R, directives: N, filters: z } = e; if (u && kZ(u, n, null), o) for (const L in o) { const H = o[L]; $t(H) && (n[L] = H.bind(r)) } if (a) { const L = a.call(r, r); Pr(L) && (t.data = zo(L)) } if (kx = !0, i) for (const L in i) { const H = i[L], q = $t(H) ? H.bind(r, r) : $t(H.get) ? H.get.bind(r, r) : za, K = !$t(H) && $t(H.set) ? H.set.bind(r) : za, te = De({ get: q, set: K }); Object.defineProperty(n, L, { enumerable: !0, configurable: !0, get: () => te.value, set: oe => te.value = oe }) } if (s) for (const L in s) e7(s[L], n, r, L); if (l) { const L = $t(l) ? l.call(r) : l; Reflect.ownKeys(L).forEach(H => { oy(H, L[H]) }) } c && jA(c, t, "c"); function V(L, H) { yt(H) ? H.forEach(q => L(q.bind(r))) : H && L(H.bind(r)) } if (V(pD, f), V(Lt, h), V(Q5, d), V(bZ, v), V(q5, p), V(X5, g), V(TZ, C), V(xZ, S), V(SZ, T), V(Nh, y), V(Bs, b), V(wZ, M), yt(k)) if (k.length) { const L = t.exposed || (t.exposed = {}); k.forEach(H => { Object.defineProperty(L, H, { get: () => r[H], set: q => r[H] = q }) }) } else t.exposed || (t.exposed = {}); x && t.render === za && (t.render = x), A != null && (t.inheritAttrs = A), R && (t.components = R), N && (t.directives = N) } function kZ(t, e, r = za) { yt(t) && (t = Ax(t)); for (const n in t) { const a = t[n]; let i; Pr(a) ? "default" in a ? i = Ha(a.from || n, a.default, !0) : i = Ha(a.from || n) : i = Ha(a), Ir(i) ? Object.defineProperty(e, n, { enumerable: !0, configurable: !0, get: () => i.value, set: o => i.value = o }) : e[n] = i } } function jA(t, e, r) { vi(yt(t) ? t.map(n => n.bind(e.proxy)) : t.bind(e.proxy), e, r) } function e7(t, e, r, n) { const a = n.includes(".") ? W5(r, n) : () => r[n]; if (tn(t)) { const i = e[t]; $t(i) && mt(a, i) } else if ($t(t)) mt(a, t.bind(r)); else if (Pr(t)) if (yt(t)) t.forEach(i => e7(i, e, r, n)); else { const i = $t(t.handler) ? t.handler.bind(r) : e[t.handler]; $t(i) && mt(a, i, t) } } function mD(t) { const e = t.type, { mixins: r, extends: n } = e, { mixins: a, optionsCache: i, config: { optionMergeStrategies: o } } = t.appContext, s = i.get(e); let l; return s ? l = s : !a.length && !r && !n ? l = e : (l = {}, a.length && a.forEach(u => zy(l, u, o, !0)), zy(l, e, o)), Pr(e) && i.set(e, l), l } function zy(t, e, r, n = !1) { const { mixins: a, extends: i } = e; i && zy(t, i, r, !0), a && a.forEach(o => zy(t, o, r, !0)); for (const o in e) if (!(n && o === "expose")) { const s = AZ[o] || r && r[o]; t[o] = s ? s(t[o], e[o]) : e[o] } return t } const AZ = { data: ZA, props: qA, emits: qA, methods: tv, computed: tv, beforeCreate: la, created: la, beforeMount: la, mounted: la, beforeUpdate: la, updated: la, beforeDestroy: la, beforeUnmount: la, destroyed: la, unmounted: la, activated: la, deactivated: la, errorCaptured: la, serverPrefetch: la, components: tv, directives: tv, watch: IZ, provide: ZA, inject: LZ }; function ZA(t, e) { return e ? t ? function () { return Ln($t(t) ? t.call(this, this) : t, $t(e) ? e.call(this, this) : e) } : e : t } function LZ(t, e) { return tv(Ax(t), Ax(e)) } function Ax(t) { if (yt(t)) { const e = {}; for (let r = 0; r < t.length; r++)e[t[r]] = t[r]; return e } return t } function la(t, e) { return t ? [...new Set([].concat(t, e))] : e } function tv(t, e) { return t ? Ln(Object.create(null), t, e) : e } function qA(t, e) { return t ? yt(t) && yt(e) ? [...new Set([...t, ...e])] : Ln(Object.create(null), GA(t), GA(e ?? {})) : e } function IZ(t, e) { if (!t) return e; if (!e) return t; const r = Ln(Object.create(null), t); for (const n in e) r[n] = la(t[n], e[n]); return r } function t7() { return { app: null, config: { isNativeTag: fj, performance: !1, globalProperties: {}, optionMergeStrategies: {}, errorHandler: void 0, warnHandler: void 0, compilerOptions: {} }, mixins: [], components: {}, directives: {}, provides: Object.create(null), optionsCache: new WeakMap, propsCache: new WeakMap, emitsCache: new WeakMap } } let PZ = 0; function RZ(t, e) { return function (n, a = null) { $t(n) || (n = Ln({}, n)), a != null && !Pr(a) && (a = null); const i = t7(), o = new WeakSet; let s = !1; const l = i.app = { _uid: PZ++, _component: n, _props: a, _container: null, _context: i, _instance: null, version: aq, get config() { return i.config }, set config(u) { }, use(u, ...c) { return o.has(u) || (u && $t(u.install) ? (o.add(u), u.install(l, ...c)) : $t(u) && (o.add(u), u(l, ...c))), l }, mixin(u) { return i.mixins.includes(u) || i.mixins.push(u), l }, component(u, c) { return c ? (i.components[u] = c, l) : i.components[u] }, directive(u, c) { return c ? (i.directives[u] = c, l) : i.directives[u] }, mount(u, c, f) { if (!s) { const h = de(n, a); return h.appContext = i, f === !0 ? f = "svg" : f === !1 && (f = void 0), c && e ? e(h, u) : t(h, u, f), s = !0, l._container = u, u.__vue_app__ = l, M_(h.component) || h.component.proxy } }, unmount() { s && (t(null, l._container), delete l._container.__vue_app__) }, provide(u, c) { return i.provides[u] = c, l }, runWithContext(u) { Qv = l; try { return u() } finally { Qv = null } } }; return l } } let Qv = null; function oy(t, e) { if (Cn) { let r = Cn.provides; const n = Cn.parent && Cn.parent.provides; n === r && (r = Cn.provides = Object.create(n)), r[t] = e } } function Ha(t, e, r = !1) { const n = Cn || En; if (n || Qv) { const a = n ? n.parent == null ? n.vnode.appContext && n.vnode.appContext.provides : n.parent.provides : Qv._context.provides; if (a && t in a) return a[t]; if (arguments.length > 1) return r && $t(e) ? e.call(n && n.proxy) : e } } function OZ() { return !!(Cn || En || Qv) } function EZ(t, e, r, n = !1) { const a = {}, i = {}; Fy(i, D_, 1), t.propsDefaults = Object.create(null), r7(t, e, a, i); for (const o in t.propsOptions[0]) o in a || (a[o] = void 0); r ? t.props = n ? a : L5(a) : t.type.props ? t.props = a : t.props = i, t.attrs = i } function NZ(t, e, r, n) { const { props: a, attrs: i, vnode: { patchFlag: o } } = t, s = tr(a), [l] = t.propsOptions; let u = !1; if ((n || o > 0) && !(o & 16)) { if (o & 8) { const c = t.vnode.dynamicProps; for (let f = 0; f < c.length; f++) { let h = c[f]; if (b_(t.emitsOptions, h)) continue; const d = e[h]; if (l) if (cr(i, h)) d !== i[h] && (i[h] = d, u = !0); else { const v = Lo(h); a[v] = Lx(l, s, v, d, t, !1) } else d !== i[h] && (i[h] = d, u = !0) } } } else { r7(t, e, a, i) && (u = !0); let c; for (const f in s) (!e || !cr(e, f) && ((c = Yc(f)) === f || !cr(e, c))) && (l ? r && (r[f] !== void 0 || r[c] !== void 0) && (a[f] = Lx(l, s, f, void 0, t, !0)) : delete a[f]); if (i !== s) for (const f in i) (!e || !cr(e, f)) && (delete i[f], u = !0) } u && _s(t, "set", "$attrs") } function r7(t, e, r, n) { const [a, i] = t.propsOptions; let o = !1, s; if (e) for (let l in e) { if (ny(l)) continue; const u = e[l]; let c; a && cr(a, c = Lo(l)) ? !i || !i.includes(c) ? r[c] = u : (s || (s = {}))[c] = u : b_(t.emitsOptions, l) || (!(l in n) || u !== n[l]) && (n[l] = u, o = !0) } if (i) { const l = tr(r), u = s || Yr; for (let c = 0; c < i.length; c++) { const f = i[c]; r[f] = Lx(a, l, f, u[f], t, !cr(u, f)) } } return o } function Lx(t, e, r, n, a, i) { const o = t[r]; if (o != null) { const s = cr(o, "default"); if (s && n === void 0) { const l = o.default; if (o.type !== Function && !o.skipFactory && $t(l)) { const { propsDefaults: u } = a; r in u ? n = u[r] : (_h(a), n = u[r] = l.call(null, e), bc()) } else n = l } o[0] && (i && !s ? n = !1 : o[1] && (n === "" || n === Yc(r)) && (n = !0)) } return n } function n7(t, e, r = !1) { const n = e.propsCache, a = n.get(t); if (a) return a; const i = t.props, o = {}, s = []; let l = !1; if (!$t(t)) { const c = f => { l = !0; const [h, d] = n7(f, e, !0); Ln(o, h), d && s.push(...d) }; !r && e.mixins.length && e.mixins.forEach(c), t.extends && c(t.extends), t.mixins && t.mixins.forEach(c) } if (!i && !l) return Pr(t) && n.set(t, ah), ah; if (yt(i)) for (let c = 0; c < i.length; c++) { const f = Lo(i[c]); XA(f) && (o[f] = Yr) } else if (i) for (const c in i) { const f = Lo(c); if (XA(f)) { const h = i[c], d = o[f] = yt(h) || $t(h) ? { type: h } : Ln({}, h); if (d) { const v = JA(Boolean, d.type), p = JA(String, d.type); d[0] = v > -1, d[1] = p < 0 || v < p, (v > -1 || cr(d, "default")) && s.push(f) } } } const u = [o, s]; return Pr(t) && n.set(t, u), u } function XA(t) { return t[0] !== "$" } function KA(t) { const e = t && t.toString().match(/^\s*(function|class) (\w+)/); return e ? e[2] : t === null ? "null" : "" } function QA(t, e) { return KA(t) === KA(e) } function JA(t, e) { return yt(e) ? e.findIndex(r => QA(r, t)) : $t(e) && QA(e, t) ? 0 : -1 } const a7 = t => t[0] === "_" || t === "$stable", yD = t => yt(t) ? t.map(fo) : [fo(t)], $Z = (t, e, r) => { if (e._n) return e; const n = Me((...a) => yD(e(...a)), r); return n._c = !1, n }, i7 = (t, e, r) => { const n = t._ctx; for (const a in t) { if (a7(a)) continue; const i = t[a]; if ($t(i)) e[a] = $Z(a, i, n); else if (i != null) { const o = yD(i); e[a] = () => o } } }, o7 = (t, e) => { const r = yD(e); t.slots.default = () => r }, FZ = (t, e) => { if (t.vnode.shapeFlag & 32) { const r = e._; r ? (t.slots = tr(e), Fy(e, "_", r)) : i7(e, t.slots = {}) } else t.slots = {}, e && o7(t, e); Fy(t.slots, D_, 1) }, BZ = (t, e, r) => { const { vnode: n, slots: a } = t; let i = !0, o = Yr; if (n.shapeFlag & 32) { const s = e._; s ? r && s === 1 ? i = !1 : (Ln(a, e), !r && s === 1 && delete a._) : (i = !e.$stable, i7(e, a)), o = e } else e && (o7(t, e), o = { default: 1 }); if (i) for (const s in a) !a7(s) && o[s] == null && delete a[s] }; function Ix(t, e, r, n, a = !1) { if (yt(t)) { t.forEach((h, d) => Ix(h, e && (yt(e) ? e[d] : e), r, n, a)); return } if (vv(n) && !a) return; const i = n.shapeFlag & 4 ? M_(n.component) || n.component.proxy : n.el, o = a ? null : i, { i: s, r: l } = t, u = e && e.r, c = s.refs === Yr ? s.refs = {} : s.refs, f = s.setupState; if (u != null && u !== l && (tn(u) ? (c[u] = null, cr(f, u) && (f[u] = null)) : Ir(u) && (u.value = null)), $t(l)) Ol(l, s, 12, [o, c]); else { const h = tn(l), d = Ir(l); if (h || d) { const v = () => { if (t.f) { const p = h ? cr(f, l) ? f[l] : c[l] : l.value; a ? yt(p) && tD(p, i) : yt(p) ? p.includes(i) || p.push(i) : h ? (c[l] = [i], cr(f, l) && (f[l] = c[l])) : (l.value = [i], t.k && (c[t.k] = l.value)) } else h ? (c[l] = o, cr(f, l) && (f[l] = o)) : d && (l.value = o, t.k && (c[t.k] = o)) }; o ? (v.id = -1, Ta(v, r)) : v() } } } const Ta = hZ; function VZ(t) { return zZ(t) } function zZ(t, e) { const r = h5(); r.__VUE__ = !0; const { insert: n, remove: a, patchProp: i, createElement: o, createText: s, createComment: l, setText: u, setElementText: c, parentNode: f, nextSibling: h, setScopeId: d = za, insertStaticContent: v } = t, p = (G, Z, J, le = null, ve = null, we = null, Ne = void 0, Ce = null, Pe = !!Z.dynamicChildren) => { if (G === Z) return; G && !tc(G, Z) && (le = Q(G), oe(G, ve, we, !0), G = null), Z.patchFlag === -2 && (Pe = !1, Z.dynamicChildren = null); const { type: xe, ref: Ye, shapeFlag: ot } = Z; switch (xe) { case T_: g(G, Z, J, le); break; case pi: m(G, Z, J, le); break; case gb: G == null && y(Z, J, le, Ne); break; case Ve: R(G, Z, J, le, ve, we, Ne, Ce, Pe); break; default: ot & 1 ? x(G, Z, J, le, ve, we, Ne, Ce, Pe) : ot & 6 ? N(G, Z, J, le, ve, we, Ne, Ce, Pe) : (ot & 64 || ot & 128) && xe.process(G, Z, J, le, ve, we, Ne, Ce, Pe, ue) }Ye != null && ve && Ix(Ye, G && G.ref, we, Z || G, !Z) }, g = (G, Z, J, le) => { if (G == null) n(Z.el = s(Z.children), J, le); else { const ve = Z.el = G.el; Z.children !== G.children && u(ve, Z.children) } }, m = (G, Z, J, le) => { G == null ? n(Z.el = l(Z.children || ""), J, le) : Z.el = G.el }, y = (G, Z, J, le) => { [G.el, G.anchor] = v(G.children, Z, J, le, G.el, G.anchor) }, _ = ({ el: G, anchor: Z }, J, le) => { let ve; for (; G && G !== Z;)ve = h(G), n(G, J, le), G = ve; n(Z, J, le) }, b = ({ el: G, anchor: Z }) => { let J; for (; G && G !== Z;)J = h(G), a(G), G = J; a(Z) }, x = (G, Z, J, le, ve, we, Ne, Ce, Pe) => { Z.type === "svg" ? Ne = "svg" : Z.type === "math" && (Ne = "mathml"), G == null ? S(Z, J, le, ve, we, Ne, Ce, Pe) : M(G, Z, ve, we, Ne, Ce, Pe) }, S = (G, Z, J, le, ve, we, Ne, Ce) => { let Pe, xe; const { props: Ye, shapeFlag: ot, transition: st, dirs: xt } = G; if (Pe = G.el = o(G.type, we, Ye && Ye.is, Ye), ot & 8 ? c(Pe, G.children) : ot & 16 && C(G.children, Pe, null, le, ve, pb(G, we), Ne, Ce), xt && vu(G, null, le, "created"), T(Pe, G, G.scopeId, Ne, le), Ye) { for (const Jt in Ye) Jt !== "value" && !ny(Jt) && i(Pe, Jt, null, Ye[Jt], we, G.children, le, ve, ee); "value" in Ye && i(Pe, "value", null, Ye.value, we), (xe = Ye.onVnodeBeforeMount) && ro(xe, le, G) } xt && vu(G, null, le, "beforeMount"); const vt = HZ(ve, st); vt && st.beforeEnter(Pe), n(Pe, Z, J), ((xe = Ye && Ye.onVnodeMounted) || vt || xt) && Ta(() => { xe && ro(xe, le, G), vt && st.enter(Pe), xt && vu(G, null, le, "mounted") }, ve) }, T = (G, Z, J, le, ve) => { if (J && d(G, J), le) for (let we = 0; we < le.length; we++)d(G, le[we]); if (ve) { let we = ve.subTree; if (Z === we) { const Ne = ve.vnode; T(G, Ne, Ne.scopeId, Ne.slotScopeIds, ve.parent) } } }, C = (G, Z, J, le, ve, we, Ne, Ce, Pe = 0) => { for (let xe = Pe; xe < G.length; xe++) { const Ye = G[xe] = Ce ? ml(G[xe]) : fo(G[xe]); p(null, Ye, Z, J, le, ve, we, Ne, Ce) } }, M = (G, Z, J, le, ve, we, Ne) => { const Ce = Z.el = G.el; let { patchFlag: Pe, dynamicChildren: xe, dirs: Ye } = Z; Pe |= G.patchFlag & 16; const ot = G.props || Yr, st = Z.props || Yr; let xt; if (J && pu(J, !1), (xt = st.onVnodeBeforeUpdate) && ro(xt, J, Z, G), Ye && vu(Z, G, J, "beforeUpdate"), J && pu(J, !0), xe ? k(G.dynamicChildren, xe, Ce, J, le, pb(Z, ve), we) : Ne || H(G, Z, Ce, null, J, le, pb(Z, ve), we, !1), Pe > 0) { if (Pe & 16) A(Ce, Z, ot, st, J, le, ve); else if (Pe & 2 && ot.class !== st.class && i(Ce, "class", null, st.class, ve), Pe & 4 && i(Ce, "style", ot.style, st.style, ve), Pe & 8) { const vt = Z.dynamicProps; for (let Jt = 0; Jt < vt.length; Jt++) { const ur = vt[Jt], ie = ot[ur], ge = st[ur]; (ge !== ie || ur === "value") && i(Ce, ur, ie, ge, ve, G.children, J, le, ee) } } Pe & 1 && G.children !== Z.children && c(Ce, Z.children) } else !Ne && xe == null && A(Ce, Z, ot, st, J, le, ve); ((xt = st.onVnodeUpdated) || Ye) && Ta(() => { xt && ro(xt, J, Z, G), Ye && vu(Z, G, J, "updated") }, le) }, k = (G, Z, J, le, ve, we, Ne) => { for (let Ce = 0; Ce < Z.length; Ce++) { const Pe = G[Ce], xe = Z[Ce], Ye = Pe.el && (Pe.type === Ve || !tc(Pe, xe) || Pe.shapeFlag & 70) ? f(Pe.el) : J; p(Pe, xe, Ye, null, le, ve, we, Ne, !0) } }, A = (G, Z, J, le, ve, we, Ne) => { if (J !== le) { if (J !== Yr) for (const Ce in J) !ny(Ce) && !(Ce in le) && i(G, Ce, J[Ce], null, Ne, Z.children, ve, we, ee); for (const Ce in le) { if (ny(Ce)) continue; const Pe = le[Ce], xe = J[Ce]; Pe !== xe && Ce !== "value" && i(G, Ce, xe, Pe, Ne, Z.children, ve, we, ee) } "value" in le && i(G, "value", J.value, le.value, Ne) } }, R = (G, Z, J, le, ve, we, Ne, Ce, Pe) => { const xe = Z.el = G ? G.el : s(""), Ye = Z.anchor = G ? G.anchor : s(""); let { patchFlag: ot, dynamicChildren: st, slotScopeIds: xt } = Z; xt && (Ce = Ce ? Ce.concat(xt) : xt), G == null ? (n(xe, J, le), n(Ye, J, le), C(Z.children, J, Ye, ve, we, Ne, Ce, Pe)) : ot > 0 && ot & 64 && st && G.dynamicChildren ? (k(G.dynamicChildren, st, J, ve, we, Ne, Ce), (Z.key != null || ve && Z === ve.subTree) && _D(G, Z, !0)) : H(G, Z, J, Ye, ve, we, Ne, Ce, Pe) }, N = (G, Z, J, le, ve, we, Ne, Ce, Pe) => { Z.slotScopeIds = Ce, G == null ? Z.shapeFlag & 512 ? ve.ctx.activate(Z, J, le, Ne, Pe) : z(Z, J, le, ve, we, Ne, Pe) : F(G, Z, Pe) }, z = (G, Z, J, le, ve, we, Ne) => { const Ce = G.component = QZ(G, le, ve); if (S_(G) && (Ce.ctx.renderer = ue), JZ(Ce), Ce.asyncDep) { if (ve && ve.registerDep(Ce, V), !G.el) { const Pe = Ce.subTree = de(pi); m(null, Pe, Z, J) } } else V(Ce, G, Z, J, ve, we, Ne) }, F = (G, Z, J) => { const le = Z.component = G.component; if (sZ(G, Z, J)) if (le.asyncDep && !le.asyncResolved) { L(le, Z, J); return } else le.next = Z, eZ(le.update), le.effect.dirty = !0, le.update(); else Z.el = G.el, le.vnode = Z }, V = (G, Z, J, le, ve, we, Ne) => { const Ce = () => { if (G.isMounted) { let { next: Ye, bu: ot, u: st, parent: xt, vnode: vt } = G; { const nt = s7(G); if (nt) { Ye && (Ye.el = vt.el, L(G, Ye, Ne)), nt.asyncDep.then(() => { G.isUnmounted || Ce() }); return } } let Jt = Ye, ur; pu(G, !1), Ye ? (Ye.el = vt.el, L(G, Ye, Ne)) : Ye = vt, ot && ay(ot), (ur = Ye.props && Ye.props.onVnodeBeforeUpdate) && ro(ur, xt, Ye, vt), pu(G, !0); const ie = hb(G), ge = G.subTree; G.subTree = ie, p(ge, ie, f(ge.el), Q(ge), G, ve, we), Ye.el = ie.el, Jt === null && lZ(G, ie.el), st && Ta(st, ve), (ur = Ye.props && Ye.props.onVnodeUpdated) && Ta(() => ro(ur, xt, Ye, vt), ve) } else { let Ye; const { el: ot, props: st } = Z, { bm: xt, m: vt, parent: Jt } = G, ur = vv(Z); if (pu(G, !1), xt && ay(xt), !ur && (Ye = st && st.onVnodeBeforeMount) && ro(Ye, Jt, Z), pu(G, !0), ot && Se) { const ie = () => { G.subTree = hb(G), Se(ot, G.subTree, G, ve, null) }; ur ? Z.type.__asyncLoader().then(() => !G.isUnmounted && ie()) : ie() } else { const ie = G.subTree = hb(G); p(null, ie, J, le, G, ve, we), Z.el = ie.el } if (vt && Ta(vt, ve), !ur && (Ye = st && st.onVnodeMounted)) { const ie = Z; Ta(() => ro(Ye, Jt, ie), ve) } (Z.shapeFlag & 256 || Jt && vv(Jt.vnode) && Jt.vnode.shapeFlag & 256) && G.a && Ta(G.a, ve), G.isMounted = !0, Z = J = le = null } }, Pe = G.effect = new aD(Ce, za, () => hD(xe), G.scope), xe = G.update = () => { Pe.dirty && Pe.run() }; xe.id = G.uid, pu(G, !0), xe() }, L = (G, Z, J) => { Z.component = G; const le = G.vnode.props; G.vnode = Z, G.next = null, NZ(G, Z.props, le, J), BZ(G, Z.children, J), Uc(), HA(G), Wc() }, H = (G, Z, J, le, ve, we, Ne, Ce, Pe = !1) => { const xe = G && G.children, Ye = G ? G.shapeFlag : 0, ot = Z.children, { patchFlag: st, shapeFlag: xt } = Z; if (st > 0) { if (st & 128) { K(xe, ot, J, le, ve, we, Ne, Ce, Pe); return } else if (st & 256) { q(xe, ot, J, le, ve, we, Ne, Ce, Pe); return } } xt & 8 ? (Ye & 16 && ee(xe, ve, we), ot !== xe && c(J, ot)) : Ye & 16 ? xt & 16 ? K(xe, ot, J, le, ve, we, Ne, Ce, Pe) : ee(xe, ve, we, !0) : (Ye & 8 && c(J, ""), xt & 16 && C(ot, J, le, ve, we, Ne, Ce, Pe)) }, q = (G, Z, J, le, ve, we, Ne, Ce, Pe) => { G = G || ah, Z = Z || ah; const xe = G.length, Ye = Z.length, ot = Math.min(xe, Ye); let st; for (st = 0; st < ot; st++) { const xt = Z[st] = Pe ? ml(Z[st]) : fo(Z[st]); p(G[st], xt, J, null, ve, we, Ne, Ce, Pe) } xe > Ye ? ee(G, ve, we, !0, !1, ot) : C(Z, J, le, ve, we, Ne, Ce, Pe, ot) }, K = (G, Z, J, le, ve, we, Ne, Ce, Pe) => { let xe = 0; const Ye = Z.length; let ot = G.length - 1, st = Ye - 1; for (; xe <= ot && xe <= st;) { const xt = G[xe], vt = Z[xe] = Pe ? ml(Z[xe]) : fo(Z[xe]); if (tc(xt, vt)) p(xt, vt, J, null, ve, we, Ne, Ce, Pe); else break; xe++ } for (; xe <= ot && xe <= st;) { const xt = G[ot], vt = Z[st] = Pe ? ml(Z[st]) : fo(Z[st]); if (tc(xt, vt)) p(xt, vt, J, null, ve, we, Ne, Ce, Pe); else break; ot--, st-- } if (xe > ot) { if (xe <= st) { const xt = st + 1, vt = xt < Ye ? Z[xt].el : le; for (; xe <= st;)p(null, Z[xe] = Pe ? ml(Z[xe]) : fo(Z[xe]), J, vt, ve, we, Ne, Ce, Pe), xe++ } } else if (xe > st) for (; xe <= ot;)oe(G[xe], ve, we, !0), xe++; else { const xt = xe, vt = xe, Jt = new Map; for (xe = vt; xe <= st; xe++) { const Nr = Z[xe] = Pe ? ml(Z[xe]) : fo(Z[xe]); Nr.key != null && Jt.set(Nr.key, xe) } let ur, ie = 0; const ge = st - vt + 1; let nt = !1, ct = 0; const Zt = new Array(ge); for (xe = 0; xe < ge; xe++)Zt[xe] = 0; for (xe = xt; xe <= ot; xe++) { const Nr = G[xe]; if (ie >= ge) { oe(Nr, ve, we, !0); continue } let be; if (Nr.key != null) be = Jt.get(Nr.key); else for (ur = vt; ur <= st; ur++)if (Zt[ur - vt] === 0 && tc(Nr, Z[ur])) { be = ur; break } be === void 0 ? oe(Nr, ve, we, !0) : (Zt[be - vt] = xe + 1, be >= ct ? ct = be : nt = !0, p(Nr, Z[be], J, null, ve, we, Ne, Ce, Pe), ie++) } const Fn = nt ? YZ(Zt) : ah; for (ur = Fn.length - 1, xe = ge - 1; xe >= 0; xe--) { const Nr = vt + xe, be = Z[Nr], qe = Nr + 1 < Ye ? Z[Nr + 1].el : le; Zt[xe] === 0 ? p(null, be, J, qe, ve, we, Ne, Ce, Pe) : nt && (ur < 0 || xe !== Fn[ur] ? te(be, J, qe, 2) : ur--) } } }, te = (G, Z, J, le, ve = null) => { const { el: we, type: Ne, transition: Ce, children: Pe, shapeFlag: xe } = G; if (xe & 6) { te(G.component.subTree, Z, J, le); return } if (xe & 128) { G.suspense.move(Z, J, le); return } if (xe & 64) { Ne.move(G, Z, J, ue); return } if (Ne === Ve) { n(we, Z, J); for (let ot = 0; ot < Pe.length; ot++)te(Pe[ot], Z, J, le); n(G.anchor, Z, J); return } if (Ne === gb) { _(G, Z, J); return } if (le !== 2 && xe & 1 && Ce) if (le === 0) Ce.beforeEnter(we), n(we, Z, J), Ta(() => Ce.enter(we), ve); else { const { leave: ot, delayLeave: st, afterLeave: xt } = Ce, vt = () => n(we, Z, J), Jt = () => { ot(we, () => { vt(), xt && xt() }) }; st ? st(we, vt, Jt) : Jt() } else n(we, Z, J) }, oe = (G, Z, J, le = !1, ve = !1) => { const { type: we, props: Ne, ref: Ce, children: Pe, dynamicChildren: xe, shapeFlag: Ye, patchFlag: ot, dirs: st } = G; if (Ce != null && Ix(Ce, null, J, G, !0), Ye & 256) { Z.ctx.deactivate(G); return } const xt = Ye & 1 && st, vt = !vv(G); let Jt; if (vt && (Jt = Ne && Ne.onVnodeBeforeUnmount) && ro(Jt, Z, G), Ye & 6) B(G.component, J, le); else { if (Ye & 128) { G.suspense.unmount(J, le); return } xt && vu(G, null, Z, "beforeUnmount"), Ye & 64 ? G.type.remove(G, Z, J, ve, ue, le) : xe && (we !== Ve || ot > 0 && ot & 64) ? ee(xe, Z, J, !1, !0) : (we === Ve && ot & 384 || !ve && Ye & 16) && ee(Pe, Z, J), le && X(G) } (vt && (Jt = Ne && Ne.onVnodeUnmounted) || xt) && Ta(() => { Jt && ro(Jt, Z, G), xt && vu(G, null, Z, "unmounted") }, J) }, X = G => { const { type: Z, el: J, anchor: le, transition: ve } = G; if (Z === Ve) { U(J, le); return } if (Z === gb) { b(G); return } const we = () => { a(J), ve && !ve.persisted && ve.afterLeave && ve.afterLeave() }; if (G.shapeFlag & 1 && ve && !ve.persisted) { const { leave: Ne, delayLeave: Ce } = ve, Pe = () => Ne(J, we); Ce ? Ce(G.el, we, Pe) : Pe() } else we() }, U = (G, Z) => { let J; for (; G !== Z;)J = h(G), a(G), G = J; a(Z) }, B = (G, Z, J) => { const { bum: le, scope: ve, update: we, subTree: Ne, um: Ce } = G; le && ay(le), ve.stop(), we && (we.active = !1, oe(Ne, G, Z, J)), Ce && Ta(Ce, Z), Ta(() => { G.isUnmounted = !0 }, Z), Z && Z.pendingBranch && !Z.isUnmounted && G.asyncDep && !G.asyncResolved && G.suspenseId === Z.pendingId && (Z.deps--, Z.deps === 0 && Z.resolve()) }, ee = (G, Z, J, le = !1, ve = !1, we = 0) => { for (let Ne = we; Ne < G.length; Ne++)oe(G[Ne], Z, J, le, ve) }, Q = G => G.shapeFlag & 6 ? Q(G.component.subTree) : G.shapeFlag & 128 ? G.suspense.next() : h(G.anchor || G.el), se = (G, Z, J) => { G == null ? Z._vnode && oe(Z._vnode, null, null, !0) : p(Z._vnode || null, G, Z, null, null, null, J), HA(), V5(), Z._vnode = G }, ue = { p, um: oe, m: te, r: X, mt: z, mc: C, pc: H, pbc: k, n: Q, o: t }; let pe, Se; return e && ([pe, Se] = e(ue)), { render: se, hydrate: pe, createApp: RZ(se, pe) } } function pb({ type: t, props: e }, r) { return r === "svg" && t === "foreignObject" || r === "mathml" && t === "annotation-xml" && e && e.encoding && e.encoding.includes("html") ? void 0 : r } function pu({ effect: t, update: e }, r) { t.allowRecurse = e.allowRecurse = r } function HZ(t, e) { return (!t || t && !t.pendingBranch) && e && !e.persisted } function _D(t, e, r = !1) { const n = t.children, a = e.children; if (yt(n) && yt(a)) for (let i = 0; i < n.length; i++) { const o = n[i]; let s = a[i]; s.shapeFlag & 1 && !s.dynamicChildren && ((s.patchFlag <= 0 || s.patchFlag === 32) && (s = a[i] = ml(a[i]), s.el = o.el), r || _D(o, s)), s.type === T_ && (s.el = o.el) } } function YZ(t) { const e = t.slice(), r = [0]; let n, a, i, o, s; const l = t.length; for (n = 0; n < l; n++) { const u = t[n]; if (u !== 0) { if (a = r[r.length - 1], t[a] < u) { e[n] = a, r.push(n); continue } for (i = 0, o = r.length - 1; i < o;)s = i + o >> 1, t[r[s]] < u ? i = s + 1 : o = s; u < t[r[i]] && (i > 0 && (e[n] = r[i - 1]), r[i] = n) } } for (i = r.length, o = r[i - 1]; i-- > 0;)r[i] = o, o = e[o]; return r } function s7(t) { const e = t.subTree.component; if (e) return e.asyncDep && !e.asyncResolved ? e : s7(e) } const UZ = t => t.__isTeleport, gv = t => t && (t.disabled || t.disabled === ""), eL = t => typeof SVGElement < "u" && t instanceof SVGElement, tL = t => typeof MathMLElement == "function" && t instanceof MathMLElement, Px = (t, e) => { const r = t && t.to; return tn(r) ? e ? e(r) : null : r }, WZ = { name: "Teleport", __isTeleport: !0, process(t, e, r, n, a, i, o, s, l, u) { const { mc: c, pc: f, pbc: h, o: { insert: d, querySelector: v, createText: p, createComment: g } } = u, m = gv(e.props); let { shapeFlag: y, children: _, dynamicChildren: b } = e; if (t == null) { const x = e.el = p(""), S = e.anchor = p(""); d(x, r, n), d(S, r, n); const T = e.target = Px(e.props, v), C = e.targetAnchor = p(""); T && (d(C, T), o === "svg" || eL(T) ? o = "svg" : (o === "mathml" || tL(T)) && (o = "mathml")); const M = (k, A) => { y & 16 && c(_, k, A, a, i, o, s, l) }; m ? M(r, S) : T && M(T, C) } else { e.el = t.el; const x = e.anchor = t.anchor, S = e.target = t.target, T = e.targetAnchor = t.targetAnchor, C = gv(t.props), M = C ? r : S, k = C ? x : T; if (o === "svg" || eL(S) ? o = "svg" : (o === "mathml" || tL(S)) && (o = "mathml"), b ? (h(t.dynamicChildren, b, M, a, i, o, s), _D(t, e, !0)) : l || f(t, e, M, k, a, i, o, s, !1), m) C ? e.props && t.props && e.props.to !== t.props.to && (e.props.to = t.props.to) : Yg(e, r, x, u, 1); else if ((e.props && e.props.to) !== (t.props && t.props.to)) { const A = e.target = Px(e.props, v); A && Yg(e, A, null, u, 0) } else C && Yg(e, S, T, u, 1) } l7(e) }, remove(t, e, r, n, { um: a, o: { remove: i } }, o) { const { shapeFlag: s, children: l, anchor: u, targetAnchor: c, target: f, props: h } = t; if (f && i(c), o && i(u), s & 16) { const d = o || !gv(h); for (let v = 0; v < l.length; v++) { const p = l[v]; a(p, e, r, d, !!p.dynamicChildren) } } }, move: Yg, hydrate: GZ }; function Yg(t, e, r, { o: { insert: n }, m: a }, i = 2) { i === 0 && n(t.targetAnchor, e, r); const { el: o, anchor: s, shapeFlag: l, children: u, props: c } = t, f = i === 2; if (f && n(o, e, r), (!f || gv(c)) && l & 16) for (let h = 0; h < u.length; h++)a(u[h], e, r, 2); f && n(s, e, r) } function GZ(t, e, r, n, a, i, { o: { nextSibling: o, parentNode: s, querySelector: l } }, u) { const c = e.target = Px(e.props, l); if (c) { const f = c._lpa || c.firstChild; if (e.shapeFlag & 16) if (gv(e.props)) e.anchor = u(o(t), e, s(t), r, n, a, i), e.targetAnchor = f; else { e.anchor = o(t); let h = f; for (; h;)if (h = o(h), h && h.nodeType === 8 && h.data === "teleport anchor") { e.targetAnchor = h, c._lpa = e.targetAnchor && o(e.targetAnchor); break } u(f, e, c, r, n, a, i) } l7(e) } return e.anchor && o(e.anchor) } const jZ = WZ; function l7(t) { const e = t.ctx; if (e && e.ut) { let r = t.children[0].el; for (; r && r !== t.targetAnchor;)r.nodeType === 1 && r.setAttribute("data-v-owner", e.uid), r = r.nextSibling; e.ut() } } const Ve = Symbol.for("v-fgt"), T_ = Symbol.for("v-txt"), pi = Symbol.for("v-cmt"), gb = Symbol.for("v-stc"), mv = []; let Ni = null; function $(t = !1) { mv.push(Ni = t ? null : []) } function ZZ() { mv.pop(), Ni = mv[mv.length - 1] || null } let Jv = 1; function rL(t) { Jv += t } function u7(t) { return t.dynamicChildren = Jv > 0 ? Ni || ah : null, ZZ(), Jv > 0 && Ni && Ni.push(t), t } function j(t, e, r, n, a, i) { return u7(P(t, e, r, n, a, i, !0)) } function Ie(t, e, r, n, a) { return u7(de(t, e, r, n, a, !0)) } function Hy(t) { return t ? t.__v_isVNode === !0 : !1 } function tc(t, e) { return t.type === e.type && t.key === e.key } const D_ = "__vInternal", c7 = ({ key: t }) => t ?? null, sy = ({ ref: t, ref_key: e, ref_for: r }) => (typeof t == "number" && (t = "" + t), t != null ? tn(t) || Ir(t) || $t(t) ? { i: En, r: t, k: e, f: !!r } : t : null); function P(t, e = null, r = null, n = 0, a = null, i = t === Ve ? 0 : 1, o = !1, s = !1) { const l = { __v_isVNode: !0, __v_skip: !0, type: t, props: e, key: e && c7(e), ref: e && sy(e), scopeId: w_, slotScopeIds: null, children: r, component: null, suspense: null, ssContent: null, ssFallback: null, dirs: null, transition: null, el: null, anchor: null, target: null, targetAnchor: null, staticCount: 0, shapeFlag: i, patchFlag: n, dynamicProps: a, dynamicChildren: null, appContext: null, ctx: En }; return s ? (bD(l, r), i & 128 && t.normalize(l)) : r && (l.shapeFlag |= tn(r) ? 8 : 16), Jv > 0 && !o && Ni && (l.patchFlag > 0 || i & 6) && l.patchFlag !== 32 && Ni.push(l), l } const de = qZ; function qZ(t, e = null, r = null, n = 0, a = null, i = !1) { if ((!t || t === Y5) && (t = pi), Hy(t)) { const s = Wl(t, e, !0); return r && bD(s, r), Jv > 0 && !i && Ni && (s.shapeFlag & 6 ? Ni[Ni.indexOf(t)] = s : Ni.push(s)), s.patchFlag |= -2, s } if (nq(t) && (t = t.__vccOpts), e) { e = $i(e); let { class: s, style: l } = e; s && !tn(s) && (e.class = Be(s)), Pr(l) && (P5(l) && !yt(l) && (l = Ln({}, l)), e.style = at(l)) } const o = tn(t) ? 1 : fZ(t) ? 128 : UZ(t) ? 64 : Pr(t) ? 4 : $t(t) ? 2 : 0; return P(t, e, r, n, a, o, i, !0) } function $i(t) { return t ? P5(t) || D_ in t ? Ln({}, t) : t : null } function Wl(t, e, r = !1) { const { props: n, ref: a, patchFlag: i, children: o } = t, s = e ? Dn(n || {}, e) : n; return { __v_isVNode: !0, __v_skip: !0, type: t.type, props: s, key: s && c7(s), ref: e && e.ref ? r && a ? yt(a) ? a.concat(sy(e)) : [a, sy(e)] : sy(e) : a, scopeId: t.scopeId, slotScopeIds: t.slotScopeIds, children: o, target: t.target, targetAnchor: t.targetAnchor, staticCount: t.staticCount, shapeFlag: t.shapeFlag, patchFlag: e && t.type !== Ve ? i === -1 ? 16 : i | 16 : i, dynamicProps: t.dynamicProps, dynamicChildren: t.dynamicChildren, appContext: t.appContext, dirs: t.dirs, transition: t.transition, component: t.component, suspense: t.suspense, ssContent: t.ssContent && Wl(t.ssContent), ssFallback: t.ssFallback && Wl(t.ssFallback), el: t.el, anchor: t.anchor, ctx: t.ctx, ce: t.ce } } function Tt(t = " ", e = 0) { return de(T_, null, t, e) } function ce(t = "", e = !1) { return e ? ($(), Ie(pi, null, t)) : de(pi, null, t) } function fo(t) { return t == null || typeof t == "boolean" ? de(pi) : yt(t) ? de(Ve, null, t.slice()) : typeof t == "object" ? ml(t) : de(T_, null, String(t)) } function ml(t) { return t.el === null && t.patchFlag !== -1 || t.memo ? t : Wl(t) } function bD(t, e) { let r = 0; const { shapeFlag: n } = t; if (e == null) e = null; else if (yt(e)) r = 16; else if (typeof e == "object") if (n & 65) { const a = e.default; a && (a._c && (a._d = !1), bD(t, a()), a._c && (a._d = !0)); return } else { r = 32; const a = e._; !a && !(D_ in e) ? e._ctx = En : a === 3 && En && (En.slots._ === 1 ? e._ = 1 : (e._ = 2, t.patchFlag |= 1024)) } else $t(e) ? (e = { default: e, _ctx: En }, r = 32) : (e = String(e), n & 64 ? (r = 16, e = [Tt(e)]) : r = 8); t.children = e, t.shapeFlag |= r } function Dn(...t) { const e = {}; for (let r = 0; r < t.length; r++) { const n = t[r]; for (const a in n) if (a === "class") e.class !== n.class && (e.class = Be([e.class, n.class])); else if (a === "style") e.style = at([e.style, n.style]); else if (h_(a)) { const i = e[a], o = n[a]; o && i !== o && !(yt(i) && i.includes(o)) && (e[a] = i ? [].concat(i, o) : o) } else a !== "" && (e[a] = n[a]) } return e } function ro(t, e, r, n = null) { vi(t, e, 7, [r, n]) } const XZ = t7(); let KZ = 0; function QZ(t, e, r) { const n = t.type, a = (e ? e.appContext : t.appContext) || XZ, i = { uid: KZ++, vnode: t, type: n, parent: e, appContext: a, root: null, next: null, subTree: null, effect: null, update: null, scope: new g5(!0), render: null, proxy: null, exposed: null, exposeProxy: null, withProxy: null, provides: e ? e.provides : Object.create(a.provides), accessCache: null, renderCache: [], components: null, directives: null, propsOptions: n7(n, a), emitsOptions: H5(n, a), emit: null, emitted: null, propsDefaults: Yr, inheritAttrs: n.inheritAttrs, ctx: Yr, data: Yr, props: Yr, attrs: Yr, slots: Yr, refs: Yr, setupState: Yr, setupContext: null, attrsProxy: null, slotsProxy: null, suspense: r, suspenseId: r ? r.pendingId : 0, asyncDep: null, asyncResolved: !1, isMounted: !1, isUnmounted: !1, isDeactivated: !1, bc: null, c: null, bm: null, m: null, bu: null, u: null, um: null, bum: null, da: null, a: null, rtg: null, rtc: null, ec: null, sp: null }; return i.ctx = { _: i }, i.root = e ? e.root : i, i.emit = nZ.bind(null, i), t.ce && t.ce(i), i } let Cn = null; const f7 = () => Cn || En; let wD, Rx; { const t = h5(), e = (r, n) => { let a; return (a = t[r]) || (a = t[r] = []), a.push(n), i => { a.length > 1 ? a.forEach(o => o(i)) : a[0](i) } }; wD = e("__VUE_INSTANCE_SETTERS__", r => Cn = r), Rx = e("__VUE_SSR_SETTERS__", r => C_ = r) } const _h = t => { wD(t), t.scope.on() }, bc = () => { Cn && Cn.scope.off(), wD(null) }; function h7(t) { return t.vnode.shapeFlag & 4 } let C_ = !1; function JZ(t, e = !1) { e && Rx(e); const { props: r, children: n } = t.vnode, a = h7(t); EZ(t, r, a, e), FZ(t, n); const i = a ? eq(t, e) : void 0; return e && Rx(!1), i } function eq(t, e) { const r = t.type; t.accessCache = Object.create(null), t.proxy = y_(new Proxy(t.ctx, DZ)); const { setup: n } = r; if (n) { const a = t.setupContext = n.length > 1 ? v7(t) : null; _h(t), Uc(); const i = Ol(n, t, 0, [t.props, a]); if (Wc(), bc(), u5(i)) { if (i.then(bc, bc), e) return i.then(o => { nL(t, o, e) }).catch(o => { __(o, t, 0) }); t.asyncDep = i } else nL(t, i, e) } else d7(t, e) } function nL(t, e, r) { $t(e) ? t.type.__ssrInlineRender ? t.ssrRender = e : t.render = e : Pr(e) && (t.setupState = N5(e)), d7(t, r) } let aL; function d7(t, e, r) { const n = t.type; if (!t.render) { if (!e && aL && !n.render) { const a = n.template || mD(t).template; if (a) { const { isCustomElement: i, compilerOptions: o } = t.appContext.config, { delimiters: s, compilerOptions: l } = n, u = Ln(Ln({ isCustomElement: i, delimiters: s }, o), l); n.render = aL(a, u) } } t.render = n.render || za } { _h(t), Uc(); try { MZ(t) } finally { Wc(), bc() } } } function tq(t) { return t.attrsProxy || (t.attrsProxy = new Proxy(t.attrs, { get(e, r) { return Ra(t, "get", "$attrs"), e[r] } })) } function v7(t) { const e = r => { t.exposed = r || {} }; return { get attrs() { return tq(t) }, slots: t.slots, emit: t.emit, expose: e } } function M_(t) { if (t.exposed) return t.exposeProxy || (t.exposeProxy = new Proxy(N5(y_(t.exposed)), { get(e, r) { if (r in e) return e[r]; if (r in pv) return pv[r](t) }, has(e, r) { return r in e || r in pv } })) } function rq(t, e = !0) { return $t(t) ? t.displayName || t.name : t.name || e && t.__name } function nq(t) { return $t(t) && "__vccOpts" in t } const De = (t, e) => Wj(t, e, C_); function k_(t, e, r) { const n = arguments.length; return n === 2 ? Pr(e) && !yt(e) ? Hy(e) ? de(t, null, [e]) : de(t, e) : de(t, null, e) : (n > 3 ? r = Array.prototype.slice.call(arguments, 2) : n === 3 && Hy(r) && (r = [r]), de(t, e, r)) } const aq = "3.4.3", iq = "http://www.w3.org/2000/svg", oq = "http://www.w3.org/1998/Math/MathML", yl = typeof document < "u" ? document : null, iL = yl && yl.createElement("template"), sq = { insert: (t, e, r) => { e.insertBefore(t, r || null) }, remove: t => { const e = t.parentNode; e && e.removeChild(t) }, createElement: (t, e, r, n) => { const a = e === "svg" ? yl.createElementNS(iq, t) : e === "mathml" ? yl.createElementNS(oq, t) : yl.createElement(t, r ? { is: r } : void 0); return t === "select" && n && n.multiple != null && a.setAttribute("multiple", n.multiple), a }, createText: t => yl.createTextNode(t), createComment: t => yl.createComment(t), setText: (t, e) => { t.nodeValue = e }, setElementText: (t, e) => { t.textContent = e }, parentNode: t => t.parentNode, nextSibling: t => t.nextSibling, querySelector: t => yl.querySelector(t), setScopeId(t, e) { t.setAttribute(e, "") }, insertStaticContent(t, e, r, n, a, i) { const o = r ? r.previousSibling : e.lastChild; if (a && (a === i || a.nextSibling)) for (; e.insertBefore(a.cloneNode(!0), r), !(a === i || !(a = a.nextSibling));); else { iL.innerHTML = n === "svg" ? `<svg>${t}</svg>` : n === "mathml" ? `<math>${t}</math>` : t; const s = iL.content; if (n === "svg" || n === "mathml") { const l = s.firstChild; for (; l.firstChild;)s.appendChild(l.firstChild); s.removeChild(l) } e.insertBefore(s, r) } return [o ? o.nextSibling : e.firstChild, r ? r.previousSibling : e.lastChild] } }, Xs = "transition", dd = "animation", ep = Symbol("_vtc"), Cr = (t, { slots: e }) => k_(yZ, lq(t), e); Cr.displayName = "Transition"; const p7 = { name: String, type: String, css: { type: Boolean, default: !0 }, duration: [String, Number, Object], enterFromClass: String, enterActiveClass: String, enterToClass: String, appearFromClass: String, appearActiveClass: String, appearToClass: String, leaveFromClass: String, leaveActiveClass: String, leaveToClass: String }; Cr.props = Ln({}, G5, p7); const gu = (t, e = []) => { yt(t) ? t.forEach(r => r(...e)) : t && t(...e) }, oL = t => t ? yt(t) ? t.some(e => e.length > 1) : t.length > 1 : !1; function lq(t) { const e = {}; for (const R in t) R in p7 || (e[R] = t[R]); if (t.css === !1) return e; const { name: r = "v", type: n, duration: a, enterFromClass: i = `${r}-enter-from`, enterActiveClass: o = `${r}-enter-active`, enterToClass: s = `${r}-enter-to`, appearFromClass: l = i, appearActiveClass: u = o, appearToClass: c = s, leaveFromClass: f = `${r}-leave-from`, leaveActiveClass: h = `${r}-leave-active`, leaveToClass: d = `${r}-leave-to` } = t, v = uq(a), p = v && v[0], g = v && v[1], { onBeforeEnter: m, onEnter: y, onEnterCancelled: _, onLeave: b, onLeaveCancelled: x, onBeforeAppear: S = m, onAppear: T = y, onAppearCancelled: C = _ } = e, M = (R, N, z) => { mu(R, N ? c : s), mu(R, N ? u : o), z && z() }, k = (R, N) => { R._isLeaving = !1, mu(R, f), mu(R, d), mu(R, h), N && N() }, A = R => (N, z) => { const F = R ? T : y, V = () => M(N, R, z); gu(F, [N, V]), sL(() => { mu(N, R ? l : i), Ks(N, R ? c : s), oL(F) || lL(N, n, p, V) }) }; return Ln(e, { onBeforeEnter(R) { gu(m, [R]), Ks(R, i), Ks(R, o) }, onBeforeAppear(R) { gu(S, [R]), Ks(R, l), Ks(R, u) }, onEnter: A(!1), onAppear: A(!0), onLeave(R, N) { R._isLeaving = !0; const z = () => k(R, N); Ks(R, f), hq(), Ks(R, h), sL(() => { R._isLeaving && (mu(R, f), Ks(R, d), oL(b) || lL(R, n, g, z)) }), gu(b, [R, z]) }, onEnterCancelled(R) { M(R, !1), gu(_, [R]) }, onAppearCancelled(R) { M(R, !0), gu(C, [R]) }, onLeaveCancelled(R) { k(R), gu(x, [R]) } }) } function uq(t) { if (t == null) return null; if (Pr(t)) return [mb(t.enter), mb(t.leave)]; { const e = mb(t); return [e, e] } } function mb(t) { return gj(t) } function Ks(t, e) { e.split(/\s+/).forEach(r => r && t.classList.add(r)), (t[ep] || (t[ep] = new Set)).add(e) } function mu(t, e) { e.split(/\s+/).forEach(n => n && t.classList.remove(n)); const r = t[ep]; r && (r.delete(e), r.size || (t[ep] = void 0)) } function sL(t) { requestAnimationFrame(() => { requestAnimationFrame(t) }) } let cq = 0; function lL(t, e, r, n) { const a = t._endId = ++cq, i = () => { a === t._endId && n() }; if (r) return setTimeout(i, r); const { type: o, timeout: s, propCount: l } = fq(t, e); if (!o) return n(); const u = o + "end"; let c = 0; const f = () => { t.removeEventListener(u, h), i() }, h = d => { d.target === t && ++c >= l && f() }; setTimeout(() => { c < l && f() }, s + 1), t.addEventListener(u, h) } function fq(t, e) { const r = window.getComputedStyle(t), n = v => (r[v] || "").split(", "), a = n(`${Xs}Delay`), i = n(`${Xs}Duration`), o = uL(a, i), s = n(`${dd}Delay`), l = n(`${dd}Duration`), u = uL(s, l); let c = null, f = 0, h = 0; e === Xs ? o > 0 && (c = Xs, f = o, h = i.length) : e === dd ? u > 0 && (c = dd, f = u, h = l.length) : (f = Math.max(o, u), c = f > 0 ? o > u ? Xs : dd : null, h = c ? c === Xs ? i.length : l.length : 0); const d = c === Xs && /\b(transform|all)(,|$)/.test(n(`${Xs}Property`).toString()); return { type: c, timeout: f, propCount: h, hasTransform: d } } function uL(t, e) { for (; t.length < e.length;)t = t.concat(t); return Math.max(...e.map((r, n) => cL(r) + cL(t[n]))) } function cL(t) { return t === "auto" ? 0 : Number(t.slice(0, -1).replace(",", ".")) * 1e3 } function hq() { return document.body.offsetHeight } function dq(t, e, r) { const n = t[ep]; n && (e = (e ? [e, ...n] : [...n]).join(" ")), e == null ? t.removeAttribute("class") : r ? t.setAttribute("class", e) : t.className = e } const SD = Symbol("_vod"), un = { beforeMount(t, { value: e }, { transition: r }) { t[SD] = t.style.display === "none" ? "" : t.style.display, r && e ? r.beforeEnter(t) : vd(t, e) }, mounted(t, { value: e }, { transition: r }) { r && e && r.enter(t) }, updated(t, { value: e, oldValue: r }, { transition: n }) { !e != !r && (n ? e ? (n.beforeEnter(t), vd(t, !0), n.enter(t)) : n.leave(t, () => { vd(t, !1) }) : vd(t, e)) }, beforeUnmount(t, { value: e }) { vd(t, e) } }; function vd(t, e) { t.style.display = e ? t[SD] : "none" } const vq = Symbol(""); function pq(t, e, r) { const n = t.style, a = tn(r); if (r && !a) { if (e && !tn(e)) for (const i in e) r[i] == null && Ox(n, i, ""); for (const i in r) Ox(n, i, r[i]) } else { const i = n.display; if (a) { if (e !== r) { const o = n[vq]; o && (r += ";" + o), n.cssText = r } } else e && t.removeAttribute("style"); SD in t && (n.display = i) } } const fL = /\s*!important$/; function Ox(t, e, r) { if (yt(r)) r.forEach(n => Ox(t, e, n)); else if (r == null && (r = ""), e.startsWith("--")) t.setProperty(e, r); else { const n = gq(t, e); fL.test(r) ? t.setProperty(Yc(n), r.replace(fL, ""), "important") : t[n] = r } } const hL = ["Webkit", "Moz", "ms"], yb = {}; function gq(t, e) { const r = yb[e]; if (r) return r; let n = Lo(e); if (n !== "filter" && n in t) return yb[e] = n; n = p_(n); for (let a = 0; a < hL.length; a++) { const i = hL[a] + n; if (i in t) return yb[e] = i } return e } const dL = "http://www.w3.org/1999/xlink"; function mq(t, e, r, n, a) { if (n && e.startsWith("xlink:")) r == null ? t.removeAttributeNS(dL, e.slice(6, e.length)) : t.setAttributeNS(dL, e, r); else { const i = Sj(e); r == null || i && !d5(r) ? t.removeAttribute(e) : t.setAttribute(e, i ? "" : r) } } function yq(t, e, r, n, a, i, o) { if (e === "innerHTML" || e === "textContent") { n && o(n, a, i), t[e] = r ?? ""; return } const s = t.tagName; if (e === "value" && s !== "PROGRESS" && !s.includes("-")) { t._value = r; const u = s === "OPTION" ? t.getAttribute("value") : t.value, c = r ?? ""; u !== c && (t.value = c), r == null && t.removeAttribute(e); return } let l = !1; if (r === "" || r == null) { const u = typeof t[e]; u === "boolean" ? r = d5(r) : r == null && u === "string" ? (r = "", l = !0) : u === "number" && (r = 0, l = !0) } try { t[e] = r } catch { } l && t.removeAttribute(e) } function rc(t, e, r, n) { t.addEventListener(e, r, n) } function _q(t, e, r, n) { t.removeEventListener(e, r, n) } const vL = Symbol("_vei"); function bq(t, e, r, n, a = null) { const i = t[vL] || (t[vL] = {}), o = i[e]; if (n && o) o.value = n; else { const [s, l] = wq(e); if (n) { const u = i[e] = Tq(n, a); rc(t, s, u, l) } else o && (_q(t, s, o, l), i[e] = void 0) } } const pL = /(?:Once|Passive|Capture)$/; function wq(t) { let e; if (pL.test(t)) { e = {}; let n; for (; n = t.match(pL);)t = t.slice(0, t.length - n[0].length), e[n[0].toLowerCase()] = !0 } return [t[2] === ":" ? t.slice(3) : Yc(t.slice(2)), e] } let _b = 0; const Sq = Promise.resolve(), xq = () => _b || (Sq.then(() => _b = 0), _b = Date.now()); function Tq(t, e) { const r = n => { if (!n._vts) n._vts = Date.now(); else if (n._vts <= r.attached) return; vi(Dq(n, r.value), e, 5, [n]) }; return r.value = t, r.attached = xq(), r } function Dq(t, e) { if (yt(e)) { const r = t.stopImmediatePropagation; return t.stopImmediatePropagation = () => { r.call(t), t._stopped = !0 }, e.map(n => a => !a._stopped && n && n(a)) } else return e } const gL = t => t.charCodeAt(0) === 111 && t.charCodeAt(1) === 110 && t.charCodeAt(2) > 96 && t.charCodeAt(2) < 123, Cq = (t, e, r, n, a, i, o, s, l) => { const u = a === "svg"; e === "class" ? dq(t, n, u) : e === "style" ? pq(t, r, n) : h_(e) ? eD(e) || bq(t, e, r, n, o) : (e[0] === "." ? (e = e.slice(1), !0) : e[0] === "^" ? (e = e.slice(1), !1) : Mq(t, e, n, u)) ? yq(t, e, n, i, o, s, l) : (e === "true-value" ? t._trueValue = n : e === "false-value" && (t._falseValue = n), mq(t, e, n, u)) }; function Mq(t, e, r, n) { if (n) return !!(e === "innerHTML" || e === "textContent" || e in t && gL(e) && $t(r)); if (e === "spellcheck" || e === "draggable" || e === "translate" || e === "form" || e === "list" && t.tagName === "INPUT" || e === "type" && t.tagName === "TEXTAREA") return !1; if (e === "width" || e === "height") { const a = t.tagName; if (a === "IMG" || a === "VIDEO" || a === "CANVAS" || a === "SOURCE") return !1 } return gL(e) && tn(r) ? !1 : e in t } const Yy = t => { const e = t.props["onUpdate:modelValue"] || !1; return yt(e) ? r => ay(e, r) : e }; function kq(t) { t.target.composing = !0 } function mL(t) { const e = t.target; e.composing && (e.composing = !1, e.dispatchEvent(new Event("input"))) } const sh = Symbol("_assign"), fn = { created(t, { modifiers: { lazy: e, trim: r, number: n } }, a) { t[sh] = Yy(a); const i = n || a.props && a.props.type === "number"; rc(t, e ? "change" : "input", o => { if (o.target.composing) return; let s = t.value; r && (s = s.trim()), i && (s = yx(s)), t[sh](s) }), r && rc(t, "change", () => { t.value = t.value.trim() }), e || (rc(t, "compositionstart", kq), rc(t, "compositionend", mL), rc(t, "change", mL)) }, mounted(t, { value: e }) { t.value = e ?? "" }, beforeUpdate(t, { value: e, modifiers: { lazy: r, trim: n, number: a } }, i) { if (t[sh] = Yy(i), t.composing) return; const o = a || t.type === "number" ? yx(t.value) : t.value, s = e ?? ""; o !== s && (document.activeElement === t && t.type !== "range" && (r || n && t.value.trim() === s) || (t.value = s)) } }, Ex = { deep: !0, created(t, e, r) { t[sh] = Yy(r), rc(t, "change", () => { const n = t._modelValue, a = Aq(t), i = t.checked, o = t[sh]; if (yt(n)) { const s = v5(n, a), l = s !== -1; if (i && !l) o(n.concat(a)); else if (!i && l) { const u = [...n]; u.splice(s, 1), o(u) } } else if (d_(n)) { const s = new Set(n); i ? s.add(a) : s.delete(a), o(s) } else o(g7(t, i)) }) }, mounted: yL, beforeUpdate(t, e, r) { t[sh] = Yy(r), yL(t, e, r) } }; function yL(t, { value: e, oldValue: r }, n) { t._modelValue = e, yt(e) ? t.checked = v5(e, n.props.value) > -1 : d_(e) ? t.checked = e.has(n.props.value) : e !== r && (t.checked = g_(e, g7(t, !0))) } function Aq(t) { return "_value" in t ? t._value : t.value } function g7(t, e) { const r = e ? "_trueValue" : "_falseValue"; return r in t ? t[r] : e } const Lq = ["ctrl", "shift", "alt", "meta"], Iq = { stop: t => t.stopPropagation(), prevent: t => t.preventDefault(), self: t => t.target !== t.currentTarget, ctrl: t => !t.ctrlKey, shift: t => !t.shiftKey, alt: t => !t.altKey, meta: t => !t.metaKey, left: t => "button" in t && t.button !== 0, middle: t => "button" in t && t.button !== 1, right: t => "button" in t && t.button !== 2, exact: (t, e) => Lq.some(r => t[`${r}Key`] && !e.includes(r)) }, hn = (t, e) => { const r = t._withMods || (t._withMods = {}), n = e.join("."); return r[n] || (r[n] = (a, ...i) => { for (let o = 0; o < e.length; o++) { const s = Iq[e[o]]; if (s && s(a, e)) return } return t(a, ...i) }) }, Pq = { esc: "escape", space: " ", up: "arrow-up", left: "arrow-left", right: "arrow-right", down: "arrow-down", delete: "backspace" }, qt = (t, e) => { const r = t._withKeys || (t._withKeys = {}), n = e.join("."); return r[n] || (r[n] = a => { if (!("key" in a)) return; const i = Yc(a.key); if (e.some(o => o === i || Pq[o] === i)) return t(a) }) }, Rq = Ln({ patchProp: Cq }, sq); let _L; function Oq() { return _L || (_L = VZ(Rq)) } const m7 = (...t) => { const e = Oq().createApp(...t), { mount: r } = e; return e.mount = n => { const a = Nq(n); if (!a) return; const i = e._component; !$t(i) && !i.render && !i.template && (i.template = a.innerHTML), a.innerHTML = ""; const o = r(a, !1, Eq(a)); return a instanceof Element && (a.removeAttribute("v-cloak"), a.setAttribute("data-v-app", "")), o }, e }; function Eq(t) { if (t instanceof SVGElement) return "svg"; if (typeof MathMLElement == "function" && t instanceof MathMLElement) return "mathml" } function Nq(t) { return tn(t) ? document.querySelector(t) : t } var $q = !1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let y7; const A_ = t => y7 = t, _7 = Symbol(); function Nx(t) { return t && typeof t == "object" && Object.prototype.toString.call(t) === "[object Object]" && typeof t.toJSON != "function" } var yv; (function (t) { t.direct = "direct", t.patchObject = "patch object", t.patchFunction = "patch function" })(yv || (yv = {})); function Fq() { const t = m5(!0), e = t.run(() => ne({})); let r = [], n = []; const a = y_({ install(i) { A_(a), a._a = i, i.provide(_7, a), i.config.globalProperties.$pinia = a, n.forEach(o => r.push(o)), n = [] }, use(i) { return !this._a && !$q ? n.push(i) : r.push(i), this }, _p: r, _a: null, _e: t, _s: new Map, state: e }); return a } const b7 = () => { }; function bL(t, e, r, n = b7) { t.push(e); const a = () => { const i = t.indexOf(e); i > -1 && (t.splice(i, 1), n()) }; return !r && nD() && y5(a), a } function df(t, ...e) { t.slice().forEach(r => { r(...e) }) } const Bq = t => t(); function $x(t, e) { t instanceof Map && e instanceof Map && e.forEach((r, n) => t.set(n, r)), t instanceof Set && e instanceof Set && e.forEach(t.add, t); for (const r in e) { if (!e.hasOwnProperty(r)) continue; const n = e[r], a = t[r]; Nx(a) && Nx(n) && t.hasOwnProperty(r) && !Ir(n) && !bs(n) ? t[r] = $x(a, n) : t[r] = n } return t } const Vq = Symbol(); function zq(t) { return !Nx(t) || !t.hasOwnProperty(Vq) } const { assign: fl } = Object; function Hq(t) { return !!(Ir(t) && t.effect) } function Yq(t, e, r, n) { const { state: a, actions: i, getters: o } = e, s = r.state.value[t]; let l; function u() { s || (r.state.value[t] = a ? a() : {}); const c = qj(r.state.value[t]); return fl(c, i, Object.keys(o || {}).reduce((f, h) => (f[h] = y_(De(() => { A_(r); const d = r._s.get(t); return o[h].call(d, d) })), f), {})) } return l = w7(t, u, e, r, n, !0), l } function w7(t, e, r = {}, n, a, i) { let o; const s = fl({ actions: {} }, r), l = { deep: !0 }; let u, c, f = [], h = [], d; const v = n.state.value[t]; !i && !v && (n.state.value[t] = {}), ne({}); let p; function g(C) { let M; u = c = !1, typeof C == "function" ? (C(n.state.value[t]), M = { type: yv.patchFunction, storeId: t, events: d }) : ($x(n.state.value[t], C), M = { type: yv.patchObject, payload: C, storeId: t, events: d }); const k = p = Symbol(); Dr().then(() => { p === k && (u = !0) }), c = !0, df(f, M, n.state.value[t]) } const m = i ? function () { const { state: M } = r, k = M ? M() : {}; this.$patch(A => { fl(A, k) }) } : b7; function y() { o.stop(), f = [], h = [], n._s.delete(t) } function _(C, M) { return function () { A_(n); const k = Array.from(arguments), A = [], R = []; function N(V) { A.push(V) } function z(V) { R.push(V) } df(h, { args: k, name: C, store: x, after: N, onError: z }); let F; try { F = M.apply(this && this.$id === t ? this : x, k) } catch (V) { throw df(R, V), V } return F instanceof Promise ? F.then(V => (df(A, V), V)).catch(V => (df(R, V), Promise.reject(V))) : (df(A, F), F) } } const b = { _p: n, $id: t, $onAction: bL.bind(null, h), $patch: g, $reset: m, $subscribe(C, M = {}) { const k = bL(f, C, M.detached, () => A()), A = o.run(() => mt(() => n.state.value[t], R => { (M.flush === "sync" ? c : u) && C({ storeId: t, type: yv.direct, events: d }, R) }, fl({}, l, M))); return k }, $dispose: y }, x = zo(b); n._s.set(t, x); const T = (n._a && n._a.runWithContext || Bq)(() => n._e.run(() => (o = m5()).run(e))); for (const C in T) { const M = T[C]; if (Ir(M) && !Hq(M) || bs(M)) i || (v && zq(M) && (Ir(M) ? M.value = v[C] : $x(M, v[C])), n.state.value[t][C] = M); else if (typeof M == "function") { const k = _(C, M); T[C] = k, s.actions[C] = M } } return fl(x, T), fl(tr(x), T), Object.defineProperty(x, "$state", { get: () => n.state.value[t], set: C => { g(M => { fl(M, C) }) } }), n._p.forEach(C => { fl(x, o.run(() => C({ store: x, app: n._a, pinia: n, options: s }))) }), v && i && r.hydrate && r.hydrate(x.$state, v), u = !0, c = !0, x } function Uq(t, e, r) { let n, a; const i = typeof e == "function"; typeof t == "string" ? (n = t, a = i ? r : e) : (a = t, n = t.id); function o(s, l) { const u = OZ(); return s = s || (u ? Ha(_7, null) : null), s && A_(s), s = y7, s._s.has(n) || (i ? w7(n, e, a, s) : Yq(n, a, s)), s._s.get(n) } return o.$id = n, o } function L_(t) { { t = tr(t); const e = {}; for (const r in t) { const n = t[r]; (Ir(n) || bs(n)) && (e[r] = qv(t, r)) } return e } } const Wq = "" + new URL("invitation-aec09284.svg", import.meta.url).href, Gq = "" + new URL("add-1b8f940a.svg", import.meta.url).href, jq = "" + new URL("back-c5c0be7a.svg", import.meta.url).href, Zq = "" + new URL("close-599f8feb.svg", import.meta.url).href, qq = "" + new URL("delete-6f88dbd7.svg", import.meta.url).href, Xq = "" + new URL("done-0a7a3d90.svg", import.meta.url).href, Kq = "" + new URL("done_saved-396f8a83.svg", import.meta.url).href, Qq = "" + new URL("done_changed-c3b39c9d.svg", import.meta.url).href, Jq = "" + new URL("edit-ffdaa642.svg", import.meta.url).href, eX = "" + new URL("menu-5a0e1244.svg", import.meta.url).href, tX = "" + new URL("recover-87adfe9c.svg", import.meta.url).href, rX = "" + new URL("search-8e8954a2.svg", import.meta.url).href, nX = "" + new URL("bill-53bec885.svg", import.meta.url).href, aX = "" + new URL("bill_simple-1237f26b.svg", import.meta.url).href, iX = "" + new URL("card-5c6a9776.svg", import.meta.url).href, oX = "" + new URL("share-9d6f8934.svg", import.meta.url).href, sX = "" + new URL("eye_close-994b521c.svg", import.meta.url).href, lX = "" + new URL("eye_open-f0f0ed49.svg", import.meta.url).href, uX = "" + new URL("list_simple-b435680b.svg", import.meta.url).href, cX = "" + new URL("list_detail-55e2c7c5.svg", import.meta.url).href, fX = "" + new URL("statistics-5042cbf3.svg", import.meta.url).href, hX = "" + new URL("key-c927e5ea.svg", import.meta.url).href, dX = "" + new URL("folder-fa4d6687.svg", import.meta.url).href, vX = "" + new URL("todo-df5e82b8.svg", import.meta.url).href, pX = "" + new URL("todo_active-2e2c3dbb.svg", import.meta.url).href, gX = "" + new URL("others-04a441f3.svg", import.meta.url).href, mX = "" + new URL("category-298cc847.svg", import.meta.url).href, yX = "" + new URL("year-2293607b.svg", import.meta.url).href, _X = "" + new URL("about-62826b07.svg", import.meta.url).href, bX = "" + new URL("invitation_black-3a11fd9a.svg", import.meta.url).href, wX = "" + new URL("add_black-4749f815.svg", import.meta.url).href, SX = "" + new URL("back_black-fdfcddf3.svg", import.meta.url).href, xX = "" + new URL("close_black-745390e0.svg", import.meta.url).href, TX = "" + new URL("delete_black-1ff1cbcc.svg", import.meta.url).href, DX = "" + new URL("done_black-6009bb10.svg", import.meta.url).href, CX = "" + new URL("edit_black-d9fb7fc0.svg", import.meta.url).href, MX = "" + new URL("menu_black-b46ad2e9.svg", import.meta.url).href, kX = "" + new URL("recover_black-d241c076.svg", import.meta.url).href, AX = "" + new URL("search_black-fec2d20f.svg", import.meta.url).href, LX = "" + new URL("bill_black-3227a5dd.svg", import.meta.url).href, IX = "" + new URL("bill_simple_black-e4d44dc4.svg", import.meta.url).href, PX = "" + new URL("card_black-4cf5ea21.svg", import.meta.url).href, RX = "" + new URL("share_black-edc83be2.svg", import.meta.url).href, OX = "" + new URL("eye_close_black-c0ec00fc.svg", import.meta.url).href, EX = "" + new URL("eye_open_black-649f82d3.svg", import.meta.url).href, NX = "" + new URL("list_simple_black-c0a25ed6.svg", import.meta.url).href, $X = "" + new URL("list_detail_black-75312187.svg", import.meta.url).href, FX = "" + new URL("statistics_black-f499e411.svg", import.meta.url).href, BX = "" + new URL("key_black-d55d068f.svg", import.meta.url).href, VX = "" + new URL("folder_black-80cfbd2f.svg", import.meta.url).href, zX = "" + new URL("todo_black-da026cb7.svg", import.meta.url).href, HX = "" + new URL("todo_active_black-7512b250.svg", import.meta.url).href, YX = "" + new URL("others_black-072544ed.svg", import.meta.url).href, UX = "" + new URL("category_black-f5e07479.svg", import.meta.url).href, WX = "" + new URL("year_black-bc828995.svg", import.meta.url).href, GX = "" + new URL("about_black-fea0b50e.svg", import.meta.url).href, jX = "" + new URL("logo-38f6ef32.svg", import.meta.url).href, ZX = "" + new URL("logo_content-7d8ce584.svg", import.meta.url).href, qX = "" + new URL("logo_content_saved-907065e0.svg", import.meta.url).href, XX = "" + new URL("logo_title-78abf5d3.svg", import.meta.url).href, KX = "" + new URL("logo_title_saved-03ea30ed.svg", import.meta.url).href, QX = "" + new URL("logo_rounded-3a2ef60e.svg", import.meta.url).href, JX = "" + new URL("logo_register-85b41233.svg", import.meta.url).href, eK = "" + new URL("logo_change_password-49652765.svg", import.meta.url).href, tK = "" + new URL("logo_avatar-8a171fc6.svg", import.meta.url).href, rK = "" + new URL("logo_server_error-679281d3.svg", import.meta.url).href, nK = "" + new URL("cloudy-8d59eb2f.svg", import.meta.url).href, aK = "" + new URL("cloudy_active-2069d411.svg", import.meta.url).href, iK = "" + new URL("cloudy_white-45af5833.svg", import.meta.url).href, oK = "" + new URL("fog-85b51607.svg", import.meta.url).href, sK = "" + new URL("fog_active-87c0408e.svg", import.meta.url).href, lK = "" + new URL("fog_white-65501a53.svg", import.meta.url).href, uK = "" + new URL("overcast-03ab6959.svg", import.meta.url).href, cK = "" + new URL("overcast_active-80789cce.svg", import.meta.url).href, fK = "" + new URL("overcast_white-dd3a9813.svg", import.meta.url).href, hK = "" + new URL("rain-31499842.svg", import.meta.url).href, dK = "" + new URL("rain_active-7dce1ee0.svg", import.meta.url).href, vK = "" + new URL("rain_white-c573b803.svg", import.meta.url).href, pK = "" + new URL("sandstorm-1931c862.svg", import.meta.url).href, gK = "" + new URL("sandstorm_active-a6dcd245.svg", import.meta.url).href, mK = "" + new URL("sandstorm_white-e16d58ba.svg", import.meta.url).href, yK = "" + new URL("smog-b91263fa.svg", import.meta.url).href, _K = "" + new URL("smog_active-f56371b3.svg", import.meta.url).href, bK = "" + new URL("smog_white-246aaef9.svg", import.meta.url).href, wK = "" + new URL("snow-40c6677a.svg", import.meta.url).href, SK = "" + new URL("snow_active-f2139672.svg", import.meta.url).href, xK = "" + new URL("snow_white-ac205596.svg", import.meta.url).href, TK = "" + new URL("sprinkle-454c9d7f.svg", import.meta.url).href, DK = "" + new URL("sprinkle_active-56a9863d.svg", import.meta.url).href, CK = "" + new URL("sprinkle_white-1f8741f5.svg", import.meta.url).href, MK = "" + new URL("sunny-b2f26db5.svg", import.meta.url).href, kK = "" + new URL("sunny_active-8d40b58b.svg", import.meta.url).href, AK = "" + new URL("sunny_white-df18473f.svg", import.meta.url).href, LK = "" + new URL("thunderstorm-dfa67bd9.svg", import.meta.url).href, IK = "" + new URL("thunderstorm_active-fab0db79.svg", import.meta.url).href, PK = "" + new URL("thunderstorm_white-2699d2e7.svg", import.meta.url).href, RK = "" + new URL("tornado-07f3ed3f.svg", import.meta.url).href, OK = "" + new URL("tornado_active-5677386e.svg", import.meta.url).href, EK = "" + new URL("tornado_white-9e06ca6e.svg", import.meta.url).href, NK = "" + new URL("中信银行-6e60d424.svg", import.meta.url).href, $K = "" + new URL("农业银行-30742249.svg", import.meta.url).href, FK = "" + new URL("工商银行-25502d67.svg", import.meta.url).href, BK = "" + new URL("中国银行-b030757f.svg", import.meta.url).href, VK = "" + new URL("建设银行-70ea0ffd.svg", import.meta.url).href, zK = "" + new URL("招商银行-f62c67a6.svg", import.meta.url).href, HK = "" + new URL("民生银行-d1813715.svg", import.meta.url).href, YK = "" + new URL("浦发银行-b4dc6b4b.svg", import.meta.url).href, UK = "" + new URL("广发银行-8b5dd870.svg", import.meta.url).href, WK = "" + new URL("北京银行-d0d6bc98.svg", import.meta.url).href, GK = "" + new URL("交通银行-b229a1b0.svg", import.meta.url).href, jK = "" + new URL("银行-5a3e4aa2.svg", import.meta.url).href, ZK = "" + new URL("EOF-24b522dd.svg", import.meta.url).href, qK = "" + new URL("EOF_dark-5756b7b1.svg", import.meta.url).href, XK = "" + new URL("content-42bec88a.svg", import.meta.url).href, KK = "" + new URL("content_white-14baef87.svg", import.meta.url).href, QK = "" + new URL("content_md-74080a8d.svg", import.meta.url).href, JK = "" + new URL("content_md_white-2d026253.svg", import.meta.url).href, eQ = "" + new URL("clipboard-3716280c.svg", import.meta.url).href, ke = { logo_icons: { logo: jX, logo_content: ZX, logo_content_saved: qX, logo_title: XX, logo_title_saved: KX, logo_rounded: QX, logo_register: JX, logo_change_password: eK, logo_avatar: tK, logo_server_error: rK }, EOF: ZK, EOFDark: qK, content: XK, content_white: KK, content_md: QK, content_md_white: JK, clipboard: eQ, tab_icons: { invitation: Wq, add: Gq, back: jq, close: Zq, delete: qq, done: Xq, doneSaved: Kq, doneChanged: Qq, edit: Jq, menu: eX, recover: tX, search: rX, bill: nX, billSimple: aX, card: iX, share: oX, contentHide: sX, contentShow: lX, listSimple: uX, listDetail: cX, statistics: fX, key: hX, folder: dX, todo: vX, todoActive: pX, others: gX, category: mX, year: yX, about: _X }, tab_icons_black: { invitation: bX, add: wX, back: SX, close: xX, delete: TX, done: DX, edit: CX, menu: MX, recover: kX, search: AX, bill: LX, billSimple: IX, card: PX, share: RX, contentHide: OX, contentShow: EX, listSimple: NX, listDetail: $X, statistics: FX, key: BX, folder: VX, todo: zX, todoActive: HX, others: YX, category: UX, year: WX, about: GX }, weather_icons: { cloudy: nK, cloudy_active: aK, cloudy_white: iK, fog: oK, fog_active: sK, fog_white: lK, overcast: uK, overcast_active: cK, overcast_white: fK, rain: hK, rain_active: dK, rain_white: vK, sandstorm: pK, sandstorm_active: gK, sandstorm_white: mK, smog: yK, smog_active: _K, smog_white: bK, snow: wK, snow_active: SK, snow_white: xK, sprinkle: TK, sprinkle_active: DK, sprinkle_white: CK, sunny: MK, sunny_active: kK, sunny_white: AK, thunderstorm: LK, thunderstorm_active: IK, thunderstorm_white: PK, tornado: RK, tornado_active: OK, tornado_white: EK }, bank_icons: { 中信银行: NK, 农业银行: $K, 工商银行: FK, 中国银行: BK, 建设银行: VK, 招商银行: zK, 民生银行: HK, 浦发银行: YK, 广发银行: UK, 北京银行: WK, 交通银行: GK, 银行: jK } }, xD = "Authorization", TD = "BillKeys"; function qr() { let t = localStorage.getItem(xD); return t ? JSON.parse(t) : null } function DD() { localStorage.removeItem(xD), rQ() } function S7(t) { localStorage.setItem(xD, JSON.stringify({ nickname: t.nickname, uid: t.uid, email: t.email, phone: t.phone, avatar: t.avatar, token: t.token, group_id: t.group_id, city: t.city, geolocation: t.geolocation })) } function x7(t) { localStorage.setItem(TD, JSON.stringify(t)) } function tQ() { let t = localStorage.getItem(TD); return t ? JSON.parse(t) : [] } function rQ() { localStorage.removeItem(TD) } function Mt(t, e, r = () => { }, n = .8) { var s; let a = `pop-msg-${t}`, i = document.createElement("div"); i.classList.add("pop-msg", "animated-fast", "slideInDownPopMessage", a); let o = document.createElement("h3"); o.innerText = e, i.append(o), (s = nQ("body")) == null || s.append(i), setTimeout(() => { i.classList.remove("slideInDownPopMessage") }, 200), setTimeout(() => { i.classList.add("slideOutUpPopMessage"), setTimeout(() => { i.remove() }, 200), setTimeout(() => { r && r() }, 200) }, 1e3 * n) } function nQ(t) { return document.querySelector(t) } const aQ = new Map([[0, "周日"], [1, "周一"], [2, "周二"], [3, "周三"], [4, "周四"], [5, "周五"], [6, "周六"]]), iQ = new Map([[0, "日"], [1, "一"], [2, "二"], [3, "三"], [4, "四"], [5, "五"], [6, "六"]]); function Hr(t, e = "yyyy-MM-dd hh:mm:ss") { let r = { "M+": t.getMonth() + 1, "d+": t.getDate(), "h+": t.getHours(), "m+": t.getMinutes(), "s+": t.getSeconds(), "q+": Math.floor((t.getMonth() + 3) / 3), S: t.getMilliseconds() }; /(y+)/.test(e) && (e = e.replace(RegExp.$1, (t.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let n in r) new RegExp("(" + n + ")").test(e) && (e = e.replace(RegExp.$1, RegExp.$1.length === 1 ? r[n] : ("00" + r[n]).substr(("" + r[n]).length))); return e } function Gl(t) { let e = new Date(t), r = e.getFullYear(), n = e.getMonth() + 1, a = e.getDate(), i = e.getHours(), o = e.getMinutes(), s = e.getDay(), l = ""; return i >= 23 && i < 24 || i <= 3 && i >= 0 ? l = "深夜" : i >= 19 && i < 23 ? l = "晚上" : i >= 14 && i < 19 ? l = "傍晚" : i >= 11 && i < 14 ? l = "中午" : i >= 6 && i < 11 ? l = "早上" : i >= 3 && i < 6 && (l = "凌晨"), { year: r, day: a, month: n, weekday: aQ.get(s), weekShort: iQ.get(s), dateShort: `${vf(n)}-${vf(a)}`, date: `${vf(n)}月${vf(a)}日`, dateFull: `${r}年${n}月${a}日`, dateFullSlash: `${r}/${n}/${a}`, timeLabel: l, time: `${vf(i)}:${vf(o)}` } } function vf(t) { return String(t).padStart(2, "0") } function bh(t) { return t === -273 ? "" : String(t) } function Xf(t) { return t === "" ? -273 : Number(t) } function oi() { let t = localStorage.getItem("DiaryConfig"); if (t) return JSON.parse(t); { let e = { isFilterShared: !1, keywords: [], filteredCategories: I_().map(r => r.name_en), dateFilterString: "" }; return Vf(e), e } } function Vf(t) { localStorage.setItem("DiaryConfig", JSON.stringify(t)) } function oQ() { localStorage.removeItem("DiaryConfig") } function I_() { let t = localStorage.getItem("CategoryAll"); return t ? JSON.parse(t) : [] } function sQ(t) { localStorage.setItem("CategoryAll", JSON.stringify(t)) } function lQ() { localStorage.removeItem("CategoryAll") } function uQ() { return innerWidth < 1024 || innerWidth < innerHeight } console.log("pinia is loaded, inside pinia file"); const Vt = Uq("projectStore", { state: () => ({ insets: { windowsHeight: window.innerHeight, windowsWidth: window.innerWidth, heightPanel: window.innerHeight - 45 }, colorMode: "light", statisticsCategory: {}, statisticsYear: [], isFilterShared: !1, dateFilterString: "", keywords: [], filteredCategories: [], isShowSearchBar: !1, isHideContent: !1, currentDiary: {}, isDiaryNeedToBeSaved: !1, isDiaryNeedToBeRecovered: !1, isDiaryEditorContentHasChanged: !1, isDiaryListShowedInFullStyle: !1, isListNeedBeReload: !1, isSavingDiary: !1, isMenuShowed: !1, editLogoImg: ke.logo_icons.logo, listOperation: {}, categoryAll: [], dataArrayYear: [], dataArrayCategory: [], moneyAccuracy: 1 }), getters: { isInMobileMode(t) { return t.insets.windowsWidth < 1024 || t.insets.windowsWidth < t.insets.windowsHeight }, categoryNameMap(t) { let e = new Map; return t.categoryAll.forEach(r => { e.set(r.name_en, r.name) }), e }, categoryObjectMap(t) { let e = new Map; return t.categoryAll.forEach(r => { e.set(r.name_en, r) }), e } }, actions: { INIT_PROJECT_CONFIG() { let t = oi(); this.filteredCategories = t.filteredCategories, this.keywords = t.keywords, this.dateFilterString = t.dateFilterString, this.isFilterShared = t.isFilterShared }, SET_IS_FILTERED_SHARED(t) { this.isFilterShared = t; let e = oi(); e.isFilterShared = t, Vf(e) }, SET_FILTERED_CATEGORIES(t) { this.filteredCategories = t; let e = oi(); e.filteredCategories = t, Vf(e) }, SET_STATISTICS_YEAR(t) { let e = oi(); t || (e.dateFilterString = "", this.dateFilterString = ""), Vf(e), this.statisticsYear = t }, SET_DATE_FILTER_STRING(t) { this.dateFilterString = t; let e = oi(); e.dateFilterString = t, Vf(e) }, SET_KEYWORD(t) { this.keywords = t; let e = oi(); e.keywords = t, Vf(e) } } });/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const zf = typeof window < "u"; function cQ(t) { return t.__esModule || t[Symbol.toStringTag] === "Module" } const xr = Object.assign; function bb(t, e) { const r = {}; for (const n in e) { const a = e[n]; r[n] = Wi(a) ? a.map(t) : t(a) } return r } const _v = () => { }, Wi = Array.isArray, fQ = /\/$/, hQ = t => t.replace(fQ, ""); function wb(t, e, r = "/") { let n, a = {}, i = "", o = ""; const s = e.indexOf("#"); let l = e.indexOf("?"); return s < l && s >= 0 && (l = -1), l > -1 && (n = e.slice(0, l), i = e.slice(l + 1, s > -1 ? s : e.length), a = t(i)), s > -1 && (n = n || e.slice(0, s), o = e.slice(s, e.length)), n = gQ(n ?? e, r), { fullPath: n + (i && "?") + i + o, path: n, query: a, hash: o } } function dQ(t, e) { const r = e.query ? t(e.query) : ""; return e.path + (r && "?") + r + (e.hash || "") } function wL(t, e) { return !e || !t.toLowerCase().startsWith(e.toLowerCase()) ? t : t.slice(e.length) || "/" } function vQ(t, e, r) { const n = e.matched.length - 1, a = r.matched.length - 1; return n > -1 && n === a && wh(e.matched[n], r.matched[a]) && T7(e.params, r.params) && t(e.query) === t(r.query) && e.hash === r.hash } function wh(t, e) { return (t.aliasOf || t) === (e.aliasOf || e) } function T7(t, e) { if (Object.keys(t).length !== Object.keys(e).length) return !1; for (const r in t) if (!pQ(t[r], e[r])) return !1; return !0 } function pQ(t, e) { return Wi(t) ? SL(t, e) : Wi(e) ? SL(e, t) : t === e } function SL(t, e) { return Wi(e) ? t.length === e.length && t.every((r, n) => r === e[n]) : t.length === 1 && t[0] === e } function gQ(t, e) { if (t.startsWith("/")) return t; if (!t) return e; const r = e.split("/"), n = t.split("/"), a = n[n.length - 1]; (a === ".." || a === ".") && n.push(""); let i = r.length - 1, o, s; for (o = 0; o < n.length; o++)if (s = n[o], s !== ".") if (s === "..") i > 1 && i--; else break; return r.slice(0, i).join("/") + "/" + n.slice(o - (o === n.length ? 1 : 0)).join("/") } var tp; (function (t) { t.pop = "pop", t.push = "push" })(tp || (tp = {})); var bv; (function (t) { t.back = "back", t.forward = "forward", t.unknown = "" })(bv || (bv = {})); function mQ(t) { if (!t) if (zf) { const e = document.querySelector("base"); t = e && e.getAttribute("href") || "/", t = t.replace(/^\w+:\/\/[^\/]+/, "") } else t = "/"; return t[0] !== "/" && t[0] !== "#" && (t = "/" + t), hQ(t) } const yQ = /^[^#]+#/; function _Q(t, e) { return t.replace(yQ, "#") + e } function bQ(t, e) { const r = document.documentElement.getBoundingClientRect(), n = t.getBoundingClientRect(); return { behavior: e.behavior, left: n.left - r.left - (e.left || 0), top: n.top - r.top - (e.top || 0) } } const P_ = () => ({ left: window.pageXOffset, top: window.pageYOffset }); function wQ(t) { let e; if ("el" in t) { const r = t.el, n = typeof r == "string" && r.startsWith("#"), a = typeof r == "string" ? n ? document.getElementById(r.slice(1)) : document.querySelector(r) : r; if (!a) return; e = bQ(a, t) } else e = t; "scrollBehavior" in document.documentElement.style ? window.scrollTo(e) : window.scrollTo(e.left != null ? e.left : window.pageXOffset, e.top != null ? e.top : window.pageYOffset) } function xL(t, e) { return (history.state ? history.state.position - e : -1) + t } const Fx = new Map; function SQ(t, e) { Fx.set(t, e) } function xQ(t) { const e = Fx.get(t); return Fx.delete(t), e } let TQ = () => location.protocol + "//" + location.host; function D7(t, e) { const { pathname: r, search: n, hash: a } = e, i = t.indexOf("#"); if (i > -1) { let s = a.includes(t.slice(i)) ? t.slice(i).length : 1, l = a.slice(s); return l[0] !== "/" && (l = "/" + l), wL(l, "") } return wL(r, t) + n + a } function DQ(t, e, r, n) { let a = [], i = [], o = null; const s = ({ state: h }) => { const d = D7(t, location), v = r.value, p = e.value; let g = 0; if (h) { if (r.value = d, e.value = h, o && o === v) { o = null; return } g = p ? h.position - p.position : 0 } else n(d); a.forEach(m => { m(r.value, v, { delta: g, type: tp.pop, direction: g ? g > 0 ? bv.forward : bv.back : bv.unknown }) }) }; function l() { o = r.value } function u(h) { a.push(h); const d = () => { const v = a.indexOf(h); v > -1 && a.splice(v, 1) }; return i.push(d), d } function c() { const { history: h } = window; h.state && h.replaceState(xr({}, h.state, { scroll: P_() }), "") } function f() { for (const h of i) h(); i = [], window.removeEventListener("popstate", s), window.removeEventListener("beforeunload", c) } return window.addEventListener("popstate", s), window.addEventListener("beforeunload", c, { passive: !0 }), { pauseListeners: l, listen: u, destroy: f } } function TL(t, e, r, n = !1, a = !1) { return { back: t, current: e, forward: r, replaced: n, position: window.history.length, scroll: a ? P_() : null } } function CQ(t) { const { history: e, location: r } = window, n = { value: D7(t, r) }, a = { value: e.state }; a.value || i(n.value, { back: null, current: n.value, forward: null, position: e.length - 1, replaced: !0, scroll: null }, !0); function i(l, u, c) { const f = t.indexOf("#"), h = f > -1 ? (r.host && document.querySelector("base") ? t : t.slice(f)) + l : TQ() + t + l; try { e[c ? "replaceState" : "pushState"](u, "", h), a.value = u } catch (d) { console.error(d), r[c ? "replace" : "assign"](h) } } function o(l, u) { const c = xr({}, e.state, TL(a.value.back, l, a.value.forward, !0), u, { position: a.value.position }); i(l, c, !0), n.value = l } function s(l, u) { const c = xr({}, a.value, e.state, { forward: l, scroll: P_() }); i(c.current, c, !0); const f = xr({}, TL(n.value, l, null), { position: c.position + 1 }, u); i(l, f, !1), n.value = l } return { location: n, state: a, push: s, replace: o } } function MQ(t) { t = mQ(t); const e = CQ(t), r = DQ(t, e.state, e.location, e.replace); function n(i, o = !0) { o || r.pauseListeners(), history.go(i) } const a = xr({ location: "", base: t, go: n, createHref: _Q.bind(null, t) }, e, r); return Object.defineProperty(a, "location", { enumerable: !0, get: () => e.location.value }), Object.defineProperty(a, "state", { enumerable: !0, get: () => e.state.value }), a } function kQ(t) { return t = location.host ? t || location.pathname + location.search : "", t.includes("#") || (t += "#"), MQ(t) } function AQ(t) { return typeof t == "string" || t && typeof t == "object" } function C7(t) { return typeof t == "string" || typeof t == "symbol" } const Qs = { path: "/", name: void 0, params: {}, query: {}, hash: "", fullPath: "/", matched: [], meta: {}, redirectedFrom: void 0 }, M7 = Symbol(""); var DL; (function (t) { t[t.aborted = 4] = "aborted", t[t.cancelled = 8] = "cancelled", t[t.duplicated = 16] = "duplicated" })(DL || (DL = {})); function Sh(t, e) { return xr(new Error, { type: t, [M7]: !0 }, e) } function rs(t, e) { return t instanceof Error && M7 in t && (e == null || !!(t.type & e)) } const CL = "[^/]+?", LQ = { sensitive: !1, strict: !1, start: !0, end: !0 }, IQ = /[.+*?^${}()[\]/\\]/g; function PQ(t, e) { const r = xr({}, LQ, e), n = []; let a = r.start ? "^" : ""; const i = []; for (const u of t) { const c = u.length ? [] : [90]; r.strict && !u.length && (a += "/"); for (let f = 0; f < u.length; f++) { const h = u[f]; let d = 40 + (r.sensitive ? .25 : 0); if (h.type === 0) f || (a += "/"), a += h.value.replace(IQ, "\\$&"), d += 40; else if (h.type === 1) { const { value: v, repeatable: p, optional: g, regexp: m } = h; i.push({ name: v, repeatable: p, optional: g }); const y = m || CL; if (y !== CL) { d += 10; try { new RegExp(`(${y})`) } catch (b) { throw new Error(`Invalid custom RegExp for param "${v}" (${y}): ` + b.message) } } let _ = p ? `((?:${y})(?:/(?:${y}))*)` : `(${y})`; f || (_ = g && u.length < 2 ? `(?:/${_})` : "/" + _), g && (_ += "?"), a += _, d += 20, g && (d += -8), p && (d += -20), y === ".*" && (d += -50) } c.push(d) } n.push(c) } if (r.strict && r.end) { const u = n.length - 1; n[u][n[u].length - 1] += .7000000000000001 } r.strict || (a += "/?"), r.end ? a += "$" : r.strict && (a += "(?:/|$)"); const o = new RegExp(a, r.sensitive ? "" : "i"); function s(u) { const c = u.match(o), f = {}; if (!c) return null; for (let h = 1; h < c.length; h++) { const d = c[h] || "", v = i[h - 1]; f[v.name] = d && v.repeatable ? d.split("/") : d } return f } function l(u) { let c = "", f = !1; for (const h of t) { (!f || !c.endsWith("/")) && (c += "/"), f = !1; for (const d of h) if (d.type === 0) c += d.value; else if (d.type === 1) { const { value: v, repeatable: p, optional: g } = d, m = v in u ? u[v] : ""; if (Wi(m) && !p) throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`); const y = Wi(m) ? m.join("/") : m; if (!y) if (g) h.length < 2 && (c.endsWith("/") ? c = c.slice(0, -1) : f = !0); else throw new Error(`Missing required param "${v}"`); c += y } } return c || "/" } return { re: o, score: n, keys: i, parse: s, stringify: l } } function RQ(t, e) { let r = 0; for (; r < t.length && r < e.length;) { const n = e[r] - t[r]; if (n) return n; r++ } return t.length < e.length ? t.length === 1 && t[0] === 40 + 40 ? -1 : 1 : t.length > e.length ? e.length === 1 && e[0] === 40 + 40 ? 1 : -1 : 0 } function OQ(t, e) { let r = 0; const n = t.score, a = e.score; for (; r < n.length && r < a.length;) { const i = RQ(n[r], a[r]); if (i) return i; r++ } if (Math.abs(a.length - n.length) === 1) { if (ML(n)) return 1; if (ML(a)) return -1 } return a.length - n.length } function ML(t) { const e = t[t.length - 1]; return t.length > 0 && e[e.length - 1] < 0 } const EQ = { type: 0, value: "" }, NQ = /[a-zA-Z0-9_]/; function $Q(t) { if (!t) return [[]]; if (t === "/") return [[EQ]]; if (!t.startsWith("/")) throw new Error(`Invalid path "${t}"`); function e(d) { throw new Error(`ERR (${r})/"${u}": ${d}`) } let r = 0, n = r; const a = []; let i; function o() { i && a.push(i), i = [] } let s = 0, l, u = "", c = ""; function f() { u && (r === 0 ? i.push({ type: 0, value: u }) : r === 1 || r === 2 || r === 3 ? (i.length > 1 && (l === "*" || l === "+") && e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`), i.push({ type: 1, value: u, regexp: c, repeatable: l === "*" || l === "+", optional: l === "*" || l === "?" })) : e("Invalid state to consume buffer"), u = "") } function h() { u += l } for (; s < t.length;) { if (l = t[s++], l === "\\" && r !== 2) { n = r, r = 4; continue } switch (r) { case 0: l === "/" ? (u && f(), o()) : l === ":" ? (f(), r = 1) : h(); break; case 4: h(), r = n; break; case 1: l === "(" ? r = 2 : NQ.test(l) ? h() : (f(), r = 0, l !== "*" && l !== "?" && l !== "+" && s--); break; case 2: l === ")" ? c[c.length - 1] == "\\" ? c = c.slice(0, -1) + l : r = 3 : c += l; break; case 3: f(), r = 0, l !== "*" && l !== "?" && l !== "+" && s--, c = ""; break; default: e("Unknown state"); break } } return r === 2 && e(`Unfinished custom RegExp for param "${u}"`), f(), o(), a } function FQ(t, e, r) { const n = PQ($Q(t.path), r), a = xr(n, { record: t, parent: e, children: [], alias: [] }); return e && !a.record.aliasOf == !e.record.aliasOf && e.children.push(a), a } function BQ(t, e) { const r = [], n = new Map; e = LL({ strict: !1, end: !0, sensitive: !1 }, e); function a(c) { return n.get(c) } function i(c, f, h) { const d = !h, v = VQ(c); v.aliasOf = h && h.record; const p = LL(e, c), g = [v]; if ("alias" in c) { const _ = typeof c.alias == "string" ? [c.alias] : c.alias; for (const b of _) g.push(xr({}, v, { components: h ? h.record.components : v.components, path: b, aliasOf: h ? h.record : v })) } let m, y; for (const _ of g) { const { path: b } = _; if (f && b[0] !== "/") { const x = f.record.path, S = x[x.length - 1] === "/" ? "" : "/"; _.path = f.record.path + (b && S + b) } if (m = FQ(_, f, p), h ? h.alias.push(m) : (y = y || m, y !== m && y.alias.push(m), d && c.name && !AL(m) && o(c.name)), v.children) { const x = v.children; for (let S = 0; S < x.length; S++)i(x[S], m, h && h.children[S]) } h = h || m, (m.record.components && Object.keys(m.record.components).length || m.record.name || m.record.redirect) && l(m) } return y ? () => { o(y) } : _v } function o(c) { if (C7(c)) { const f = n.get(c); f && (n.delete(c), r.splice(r.indexOf(f), 1), f.children.forEach(o), f.alias.forEach(o)) } else { const f = r.indexOf(c); f > -1 && (r.splice(f, 1), c.record.name && n.delete(c.record.name), c.children.forEach(o), c.alias.forEach(o)) } } function s() { return r } function l(c) { let f = 0; for (; f < r.length && OQ(c, r[f]) >= 0 && (c.record.path !== r[f].record.path || !k7(c, r[f]));)f++; r.splice(f, 0, c), c.record.name && !AL(c) && n.set(c.record.name, c) } function u(c, f) { let h, d = {}, v, p; if ("name" in c && c.name) { if (h = n.get(c.name), !h) throw Sh(1, { location: c }); p = h.record.name, d = xr(kL(f.params, h.keys.filter(y => !y.optional).map(y => y.name)), c.params && kL(c.params, h.keys.map(y => y.name))), v = h.stringify(d) } else if ("path" in c) v = c.path, h = r.find(y => y.re.test(v)), h && (d = h.parse(v), p = h.record.name); else { if (h = f.name ? n.get(f.name) : r.find(y => y.re.test(f.path)), !h) throw Sh(1, { location: c, currentLocation: f }); p = h.record.name, d = xr({}, f.params, c.params), v = h.stringify(d) } const g = []; let m = h; for (; m;)g.unshift(m.record), m = m.parent; return { name: p, path: v, params: d, matched: g, meta: HQ(g) } } return t.forEach(c => i(c)), { addRoute: i, resolve: u, removeRoute: o, getRoutes: s, getRecordMatcher: a } } function kL(t, e) { const r = {}; for (const n of e) n in t && (r[n] = t[n]); return r } function VQ(t) { return { path: t.path, redirect: t.redirect, name: t.name, meta: t.meta || {}, aliasOf: void 0, beforeEnter: t.beforeEnter, props: zQ(t), children: t.children || [], instances: {}, leaveGuards: new Set, updateGuards: new Set, enterCallbacks: {}, components: "components" in t ? t.components || null : t.component && { default: t.component } } } function zQ(t) { const e = {}, r = t.props || !1; if ("component" in t) e.default = r; else for (const n in t.components) e[n] = typeof r == "object" ? r[n] : r; return e } function AL(t) { for (; t;) { if (t.record.aliasOf) return !0; t = t.parent } return !1 } function HQ(t) { return t.reduce((e, r) => xr(e, r.meta), {}) } function LL(t, e) { const r = {}; for (const n in t) r[n] = n in e ? e[n] : t[n]; return r } function k7(t, e) { return e.children.some(r => r === t || k7(t, r)) } const A7 = /#/g, YQ = /&/g, UQ = /\//g, WQ = /=/g, GQ = /\?/g, L7 = /\+/g, jQ = /%5B/g, ZQ = /%5D/g, I7 = /%5E/g, qQ = /%60/g, P7 = /%7B/g, XQ = /%7C/g, R7 = /%7D/g, KQ = /%20/g; function CD(t) { return encodeURI("" + t).replace(XQ, "|").replace(jQ, "[").replace(ZQ, "]") } function QQ(t) { return CD(t).replace(P7, "{").replace(R7, "}").replace(I7, "^") } function Bx(t) { return CD(t).replace(L7, "%2B").replace(KQ, "+").replace(A7, "%23").replace(YQ, "%26").replace(qQ, "`").replace(P7, "{").replace(R7, "}").replace(I7, "^") } function JQ(t) { return Bx(t).replace(WQ, "%3D") } function eJ(t) { return CD(t).replace(A7, "%23").replace(GQ, "%3F") } function tJ(t) { return t == null ? "" : eJ(t).replace(UQ, "%2F") } function Uy(t) { try { return decodeURIComponent("" + t) } catch { } return "" + t } function rJ(t) { const e = {}; if (t === "" || t === "?") return e; const n = (t[0] === "?" ? t.slice(1) : t).split("&"); for (let a = 0; a < n.length; ++a) { const i = n[a].replace(L7, " "), o = i.indexOf("="), s = Uy(o < 0 ? i : i.slice(0, o)), l = o < 0 ? null : Uy(i.slice(o + 1)); if (s in e) { let u = e[s]; Wi(u) || (u = e[s] = [u]), u.push(l) } else e[s] = l } return e } function IL(t) { let e = ""; for (let r in t) { const n = t[r]; if (r = JQ(r), n == null) { n !== void 0 && (e += (e.length ? "&" : "") + r); continue } (Wi(n) ? n.map(i => i && Bx(i)) : [n && Bx(n)]).forEach(i => { i !== void 0 && (e += (e.length ? "&" : "") + r, i != null && (e += "=" + i)) }) } return e } function nJ(t) { const e = {}; for (const r in t) { const n = t[r]; n !== void 0 && (e[r] = Wi(n) ? n.map(a => a == null ? null : "" + a) : n == null ? n : "" + n) } return e } const O7 = Symbol(""), PL = Symbol(""), R_ = Symbol(""), MD = Symbol(""), Vx = Symbol(""); function pd() { let t = []; function e(n) { return t.push(n), () => { const a = t.indexOf(n); a > -1 && t.splice(a, 1) } } function r() { t = [] } return { add: e, list: () => t.slice(), reset: r } } function aJ(t, e, r) { const n = () => { t[e].delete(r) }; Bs(n), X5(n), q5(() => { t[e].add(r) }), t[e].add(r) } function iJ(t) { const e = Ha(O7, {}).value; e && aJ(e, "leaveGuards", t) } function _l(t, e, r, n, a) { const i = n && (n.enterCallbacks[a] = n.enterCallbacks[a] || []); return () => new Promise((o, s) => { const l = f => { f === !1 ? s(Sh(4, { from: r, to: e })) : f instanceof Error ? s(f) : AQ(f) ? s(Sh(2, { from: e, to: f })) : (i && n.enterCallbacks[a] === i && typeof f == "function" && i.push(f), o()) }, u = t.call(n && n.instances[a], e, r, l); let c = Promise.resolve(u); t.length < 3 && (c = c.then(l)), c.catch(f => s(f)) }) } function Sb(t, e, r, n) { const a = []; for (const i of t) for (const o in i.components) { let s = i.components[o]; if (!(e !== "beforeRouteEnter" && !i.instances[o])) if (oJ(s)) { const u = (s.__vccOpts || s)[e]; u && a.push(_l(u, r, n, i, o)) } else { let l = s(); a.push(() => l.then(u => { if (!u) return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`)); const c = cQ(u) ? u.default : u; i.components[o] = c; const h = (c.__vccOpts || c)[e]; return h && _l(h, r, n, i, o)() })) } } return a } function oJ(t) { return typeof t == "object" || "displayName" in t || "props" in t || "__vccOpts" in t } function RL(t) { const e = Ha(R_), r = Ha(MD), n = De(() => e.resolve(Y(t.to))), a = De(() => { const { matched: l } = n.value, { length: u } = l, c = l[u - 1], f = r.matched; if (!c || !f.length) return -1; const h = f.findIndex(wh.bind(null, c)); if (h > -1) return h; const d = OL(l[u - 2]); return u > 1 && OL(c) === d && f[f.length - 1].path !== d ? f.findIndex(wh.bind(null, l[u - 2])) : h }), i = De(() => a.value > -1 && cJ(r.params, n.value.params)), o = De(() => a.value > -1 && a.value === r.matched.length - 1 && T7(r.params, n.value.params)); function s(l = {}) { return uJ(l) ? e[Y(t.replace) ? "replace" : "push"](Y(t.to)).catch(_v) : Promise.resolve() } return { route: n, href: De(() => n.value.href), isActive: i, isExactActive: o, navigate: s } } const sJ = Ue({ name: "RouterLink", compatConfig: { MODE: 3 }, props: { to: { type: [String, Object], required: !0 }, replace: Boolean, activeClass: String, exactActiveClass: String, custom: Boolean, ariaCurrentValue: { type: String, default: "page" } }, useLink: RL, setup(t, { slots: e }) { const r = zo(RL(t)), { options: n } = Ha(R_), a = De(() => ({ [EL(t.activeClass, n.linkActiveClass, "router-link-active")]: r.isActive, [EL(t.exactActiveClass, n.linkExactActiveClass, "router-link-exact-active")]: r.isExactActive })); return () => { const i = e.default && e.default(r); return t.custom ? i : k_("a", { "aria-current": r.isExactActive ? t.ariaCurrentValue : null, href: r.href, onClick: r.navigate, class: a.value }, i) } } }), lJ = sJ; function uJ(t) { if (!(t.metaKey || t.altKey || t.ctrlKey || t.shiftKey) && !t.defaultPrevented && !(t.button !== void 0 && t.button !== 0)) { if (t.currentTarget && t.currentTarget.getAttribute) { const e = t.currentTarget.getAttribute("target"); if (/\b_blank\b/i.test(e)) return } return t.preventDefault && t.preventDefault(), !0 } } function cJ(t, e) { for (const r in e) { const n = e[r], a = t[r]; if (typeof n == "string") { if (n !== a) return !1 } else if (!Wi(a) || a.length !== n.length || n.some((i, o) => i !== a[o])) return !1 } return !0 } function OL(t) { return t ? t.aliasOf ? t.aliasOf.path : t.path : "" } const EL = (t, e, r) => t ?? e ?? r, fJ = Ue({ name: "RouterView", inheritAttrs: !1, props: { name: { type: String, default: "default" }, route: Object }, compatConfig: { MODE: 3 }, setup(t, { attrs: e, slots: r }) { const n = Ha(Vx), a = De(() => t.route || n.value), i = Ha(PL, 0), o = De(() => { let u = Y(i); const { matched: c } = a.value; let f; for (; (f = c[u]) && !f.components;)u++; return u }), s = De(() => a.value.matched[o.value]); oy(PL, De(() => o.value + 1)), oy(O7, s), oy(Vx, a); const l = ne(); return mt(() => [l.value, s.value, t.name], ([u, c, f], [h, d, v]) => { c && (c.instances[f] = u, d && d !== c && u && u === h && (c.leaveGuards.size || (c.leaveGuards = d.leaveGuards), c.updateGuards.size || (c.updateGuards = d.updateGuards))), u && c && (!d || !wh(c, d) || !h) && (c.enterCallbacks[f] || []).forEach(p => p(u)) }, { flush: "post" }), () => { const u = a.value, c = t.name, f = s.value, h = f && f.components[c]; if (!h) return NL(r.default, { Component: h, route: u }); const d = f.props[c], v = d ? d === !0 ? u.params : typeof d == "function" ? d(u) : d : null, g = k_(h, xr({}, v, e, { onVnodeUnmounted: m => { m.component.isUnmounted && (f.instances[c] = null) }, ref: l })); return NL(r.default, { Component: g, route: u }) || g } } }); function NL(t, e) { if (!t) return null; const r = t(e); return r.length === 1 ? r[0] : r } const hJ = fJ; function dJ(t) { const e = BQ(t.routes, t), r = t.parseQuery || rJ, n = t.stringifyQuery || IL, a = t.history, i = pd(), o = pd(), s = pd(), l = Gj(Qs); let u = Qs; zf && t.scrollBehavior && "scrollRestoration" in history && (history.scrollRestoration = "manual"); const c = bb.bind(null, Q => "" + Q), f = bb.bind(null, tJ), h = bb.bind(null, Uy); function d(Q, se) { let ue, pe; return C7(Q) ? (ue = e.getRecordMatcher(Q), pe = se) : pe = Q, e.addRoute(pe, ue) } function v(Q) { const se = e.getRecordMatcher(Q); se && e.removeRoute(se) } function p() { return e.getRoutes().map(Q => Q.record) } function g(Q) { return !!e.getRecordMatcher(Q) } function m(Q, se) { if (se = xr({}, se || l.value), typeof Q == "string") { const J = wb(r, Q, se.path), le = e.resolve({ path: J.path }, se), ve = a.createHref(J.fullPath); return xr(J, le, { params: h(le.params), hash: Uy(J.hash), redirectedFrom: void 0, href: ve }) } let ue; if ("path" in Q) ue = xr({}, Q, { path: wb(r, Q.path, se.path).path }); else { const J = xr({}, Q.params); for (const le in J) J[le] == null && delete J[le]; ue = xr({}, Q, { params: f(J) }), se.params = f(se.params) } const pe = e.resolve(ue, se), Se = Q.hash || ""; pe.params = c(h(pe.params)); const G = dQ(n, xr({}, Q, { hash: QQ(Se), path: pe.path })), Z = a.createHref(G); return xr({ fullPath: G, hash: Se, query: n === IL ? nJ(Q.query) : Q.query || {} }, pe, { redirectedFrom: void 0, href: Z }) } function y(Q) { return typeof Q == "string" ? wb(r, Q, l.value.path) : xr({}, Q) } function _(Q, se) { if (u !== Q) return Sh(8, { from: se, to: Q }) } function b(Q) { return T(Q) } function x(Q) { return b(xr(y(Q), { replace: !0 })) } function S(Q) { const se = Q.matched[Q.matched.length - 1]; if (se && se.redirect) { const { redirect: ue } = se; let pe = typeof ue == "function" ? ue(Q) : ue; return typeof pe == "string" && (pe = pe.includes("?") || pe.includes("#") ? pe = y(pe) : { path: pe }, pe.params = {}), xr({ query: Q.query, hash: Q.hash, params: "path" in pe ? {} : Q.params }, pe) } } function T(Q, se) { const ue = u = m(Q), pe = l.value, Se = Q.state, G = Q.force, Z = Q.replace === !0, J = S(ue); if (J) return T(xr(y(J), { state: typeof J == "object" ? xr({}, Se, J.state) : Se, force: G, replace: Z }), se || ue); const le = ue; le.redirectedFrom = se; let ve; return !G && vQ(n, pe, ue) && (ve = Sh(16, { to: le, from: pe }), te(pe, pe, !0, !1)), (ve ? Promise.resolve(ve) : k(le, pe)).catch(we => rs(we) ? rs(we, 2) ? we : K(we) : H(we, le, pe)).then(we => { if (we) { if (rs(we, 2)) return T(xr({ replace: Z }, y(we.to), { state: typeof we.to == "object" ? xr({}, Se, we.to.state) : Se, force: G }), se || le) } else we = R(le, pe, !0, Z, Se); return A(le, pe, we), we }) } function C(Q, se) { const ue = _(Q, se); return ue ? Promise.reject(ue) : Promise.resolve() } function M(Q) { const se = U.values().next().value; return se && typeof se.runWithContext == "function" ? se.runWithContext(Q) : Q() } function k(Q, se) { let ue; const [pe, Se, G] = vJ(Q, se); ue = Sb(pe.reverse(), "beforeRouteLeave", Q, se); for (const J of pe) J.leaveGuards.forEach(le => { ue.push(_l(le, Q, se)) }); const Z = C.bind(null, Q, se); return ue.push(Z), ee(ue).then(() => { ue = []; for (const J of i.list()) ue.push(_l(J, Q, se)); return ue.push(Z), ee(ue) }).then(() => { ue = Sb(Se, "beforeRouteUpdate", Q, se); for (const J of Se) J.updateGuards.forEach(le => { ue.push(_l(le, Q, se)) }); return ue.push(Z), ee(ue) }).then(() => { ue = []; for (const J of G) if (J.beforeEnter) if (Wi(J.beforeEnter)) for (const le of J.beforeEnter) ue.push(_l(le, Q, se)); else ue.push(_l(J.beforeEnter, Q, se)); return ue.push(Z), ee(ue) }).then(() => (Q.matched.forEach(J => J.enterCallbacks = {}), ue = Sb(G, "beforeRouteEnter", Q, se), ue.push(Z), ee(ue))).then(() => { ue = []; for (const J of o.list()) ue.push(_l(J, Q, se)); return ue.push(Z), ee(ue) }).catch(J => rs(J, 8) ? J : Promise.reject(J)) } function A(Q, se, ue) { s.list().forEach(pe => M(() => pe(Q, se, ue))) } function R(Q, se, ue, pe, Se) { const G = _(Q, se); if (G) return G; const Z = se === Qs, J = zf ? history.state : {}; ue && (pe || Z ? a.replace(Q.fullPath, xr({ scroll: Z && J && J.scroll }, Se)) : a.push(Q.fullPath, Se)), l.value = Q, te(Q, se, ue, Z), K() } let N; function z() { N || (N = a.listen((Q, se, ue) => { if (!B.listening) return; const pe = m(Q), Se = S(pe); if (Se) { T(xr(Se, { replace: !0 }), pe).catch(_v); return } u = pe; const G = l.value; zf && SQ(xL(G.fullPath, ue.delta), P_()), k(pe, G).catch(Z => rs(Z, 12) ? Z : rs(Z, 2) ? (T(Z.to, pe).then(J => { rs(J, 20) && !ue.delta && ue.type === tp.pop && a.go(-1, !1) }).catch(_v), Promise.reject()) : (ue.delta && a.go(-ue.delta, !1), H(Z, pe, G))).then(Z => { Z = Z || R(pe, G, !1), Z && (ue.delta && !rs(Z, 8) ? a.go(-ue.delta, !1) : ue.type === tp.pop && rs(Z, 20) && a.go(-1, !1)), A(pe, G, Z) }).catch(_v) })) } let F = pd(), V = pd(), L; function H(Q, se, ue) { K(Q); const pe = V.list(); return pe.length ? pe.forEach(Se => Se(Q, se, ue)) : console.error(Q), Promise.reject(Q) } function q() { return L && l.value !== Qs ? Promise.resolve() : new Promise((Q, se) => { F.add([Q, se]) }) } function K(Q) { return L || (L = !Q, z(), F.list().forEach(([se, ue]) => Q ? ue(Q) : se()), F.reset()), Q } function te(Q, se, ue, pe) { const { scrollBehavior: Se } = t; if (!zf || !Se) return Promise.resolve(); const G = !ue && xQ(xL(Q.fullPath, 0)) || (pe || !ue) && history.state && history.state.scroll || null; return Dr().then(() => Se(Q, se, G)).then(Z => Z && wQ(Z)).catch(Z => H(Z, Q, se)) } const oe = Q => a.go(Q); let X; const U = new Set, B = { currentRoute: l, listening: !0, addRoute: d, removeRoute: v, hasRoute: g, getRoutes: p, resolve: m, options: t, push: b, replace: x, go: oe, back: () => oe(-1), forward: () => oe(1), beforeEach: i.add, beforeResolve: o.add, afterEach: s.add, onError: V.add, isReady: q, install(Q) { const se = this; Q.component("RouterLink", lJ), Q.component("RouterView", hJ), Q.config.globalProperties.$router = se, Object.defineProperty(Q.config.globalProperties, "$route", { enumerable: !0, get: () => Y(l) }), zf && !X && l.value === Qs && (X = !0, b(a.location).catch(Se => { })); const ue = {}; for (const Se in Qs) Object.defineProperty(ue, Se, { get: () => l.value[Se], enumerable: !0 }); Q.provide(R_, se), Q.provide(MD, L5(ue)), Q.provide(Vx, l); const pe = Q.unmount; U.add(Q), Q.unmount = function () { U.delete(Q), U.size < 1 && (u = Qs, N && N(), N = null, l.value = Qs, X = !1, L = !1), pe() } } }; function ee(Q) { return Q.reduce((se, ue) => se.then(() => M(ue)), Promise.resolve()) } return B } function vJ(t, e) { const r = [], n = [], a = [], i = Math.max(e.matched.length, t.matched.length); for (let o = 0; o < i; o++) { const s = e.matched[o]; s && (t.matched.find(u => wh(u, s)) ? n.push(s) : r.push(s)); const l = t.matched[o]; l && (e.matched.find(u => wh(u, l)) || a.push(l)) } return [r, n, a] } function wn() { return Ha(R_) } function Ki() { return Ha(MD) } function E7(t, e) { return function () { return t.apply(e, arguments) } } const { toString: pJ } = Object.prototype, { getPrototypeOf: kD } = Object, O_ = (t => e => { const r = pJ.call(e); return t[r] || (t[r] = r.slice(8, -1).toLowerCase()) })(Object.create(null)), Ho = t => (t = t.toLowerCase(), e => O_(e) === t), E_ = t => e => typeof e === t, { isArray: $h } = Array, rp = E_("undefined"); function gJ(t) { return t !== null && !rp(t) && t.constructor !== null && !rp(t.constructor) && gi(t.constructor.isBuffer) && t.constructor.isBuffer(t) } const N7 = Ho("ArrayBuffer"); function mJ(t) { let e; return typeof ArrayBuffer < "u" && ArrayBuffer.isView ? e = ArrayBuffer.isView(t) : e = t && t.buffer && N7(t.buffer), e } const yJ = E_("string"), gi = E_("function"), $7 = E_("number"), N_ = t => t !== null && typeof t == "object", _J = t => t === !0 || t === !1, ly = t => { if (O_(t) !== "object") return !1; const e = kD(t); return (e === null || e === Object.prototype || Object.getPrototypeOf(e) === null) && !(Symbol.toStringTag in t) && !(Symbol.iterator in t) }, bJ = Ho("Date"), wJ = Ho("File"), SJ = Ho("Blob"), xJ = Ho("FileList"), TJ = t => N_(t) && gi(t.pipe), DJ = t => { let e; return t && (typeof FormData == "function" && t instanceof FormData || gi(t.append) && ((e = O_(t)) === "formdata" || e === "object" && gi(t.toString) && t.toString() === "[object FormData]")) }, CJ = Ho("URLSearchParams"), MJ = t => t.trim ? t.trim() : t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, ""); function Yp(t, e, { allOwnKeys: r = !1 } = {}) { if (t === null || typeof t > "u") return; let n, a; if (typeof t != "object" && (t = [t]), $h(t)) for (n = 0, a = t.length; n < a; n++)e.call(null, t[n], n, t); else { const i = r ? Object.getOwnPropertyNames(t) : Object.keys(t), o = i.length; let s; for (n = 0; n < o; n++)s = i[n], e.call(null, t[s], s, t) } } function F7(t, e) { e = e.toLowerCase(); const r = Object.keys(t); let n = r.length, a; for (; n-- > 0;)if (a = r[n], e === a.toLowerCase()) return a; return null } const B7 = (() => typeof globalThis < "u" ? globalThis : typeof self < "u" ? self : typeof window < "u" ? window : global)(), V7 = t => !rp(t) && t !== B7; function zx() { const { caseless: t } = V7(this) && this || {}, e = {}, r = (n, a) => { const i = t && F7(e, a) || a; ly(e[i]) && ly(n) ? e[i] = zx(e[i], n) : ly(n) ? e[i] = zx({}, n) : $h(n) ? e[i] = n.slice() : e[i] = n }; for (let n = 0, a = arguments.length; n < a; n++)arguments[n] && Yp(arguments[n], r); return e } const kJ = (t, e, r, { allOwnKeys: n } = {}) => (Yp(e, (a, i) => { r && gi(a) ? t[i] = E7(a, r) : t[i] = a }, { allOwnKeys: n }), t), AJ = t => (t.charCodeAt(0) === 65279 && (t = t.slice(1)), t), LJ = (t, e, r, n) => { t.prototype = Object.create(e.prototype, n), t.prototype.constructor = t, Object.defineProperty(t, "super", { value: e.prototype }), r && Object.assign(t.prototype, r) }, IJ = (t, e, r, n) => { let a, i, o; const s = {}; if (e = e || {}, t == null) return e; do { for (a = Object.getOwnPropertyNames(t), i = a.length; i-- > 0;)o = a[i], (!n || n(o, t, e)) && !s[o] && (e[o] = t[o], s[o] = !0); t = r !== !1 && kD(t) } while (t && (!r || r(t, e)) && t !== Object.prototype); return e }, PJ = (t, e, r) => { t = String(t), (r === void 0 || r > t.length) && (r = t.length), r -= e.length; const n = t.indexOf(e, r); return n !== -1 && n === r }, RJ = t => { if (!t) return null; if ($h(t)) return t; let e = t.length; if (!$7(e)) return null; const r = new Array(e); for (; e-- > 0;)r[e] = t[e]; return r }, OJ = (t => e => t && e instanceof t)(typeof Uint8Array < "u" && kD(Uint8Array)), EJ = (t, e) => { const n = (t && t[Symbol.iterator]).call(t); let a; for (; (a = n.next()) && !a.done;) { const i = a.value; e.call(t, i[0], i[1]) } }, NJ = (t, e) => { let r; const n = []; for (; (r = t.exec(e)) !== null;)n.push(r); return n }, $J = Ho("HTMLFormElement"), FJ = t => t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g, function (r, n, a) { return n.toUpperCase() + a }), $L = (({ hasOwnProperty: t }) => (e, r) => t.call(e, r))(Object.prototype), BJ = Ho("RegExp"), z7 = (t, e) => { const r = Object.getOwnPropertyDescriptors(t), n = {}; Yp(r, (a, i) => { let o; (o = e(a, i, t)) !== !1 && (n[i] = o || a) }), Object.defineProperties(t, n) }, VJ = t => { z7(t, (e, r) => { if (gi(t) && ["arguments", "caller", "callee"].indexOf(r) !== -1) return !1; const n = t[r]; if (gi(n)) { if (e.enumerable = !1, "writable" in e) { e.writable = !1; return } e.set || (e.set = () => { throw Error("Can not rewrite read-only method '" + r + "'") }) } }) }, zJ = (t, e) => { const r = {}, n = a => { a.forEach(i => { r[i] = !0 }) }; return $h(t) ? n(t) : n(String(t).split(e)), r }, HJ = () => { }, YJ = (t, e) => (t = +t, Number.isFinite(t) ? t : e), xb = "abcdefghijklmnopqrstuvwxyz", FL = "0123456789", H7 = { DIGIT: FL, ALPHA: xb, ALPHA_DIGIT: xb + xb.toUpperCase() + FL }, UJ = (t = 16, e = H7.ALPHA_DIGIT) => { let r = ""; const { length: n } = e; for (; t--;)r += e[Math.random() * n | 0]; return r }; function WJ(t) { return !!(t && gi(t.append) && t[Symbol.toStringTag] === "FormData" && t[Symbol.iterator]) } const GJ = t => { const e = new Array(10), r = (n, a) => { if (N_(n)) { if (e.indexOf(n) >= 0) return; if (!("toJSON" in n)) { e[a] = n; const i = $h(n) ? [] : {}; return Yp(n, (o, s) => { const l = r(o, a + 1); !rp(l) && (i[s] = l) }), e[a] = void 0, i } } return n }; return r(t, 0) }, jJ = Ho("AsyncFunction"), ZJ = t => t && (N_(t) || gi(t)) && gi(t.then) && gi(t.catch), Te = { isArray: $h, isArrayBuffer: N7, isBuffer: gJ, isFormData: DJ, isArrayBufferView: mJ, isString: yJ, isNumber: $7, isBoolean: _J, isObject: N_, isPlainObject: ly, isUndefined: rp, isDate: bJ, isFile: wJ, isBlob: SJ, isRegExp: BJ, isFunction: gi, isStream: TJ, isURLSearchParams: CJ, isTypedArray: OJ, isFileList: xJ, forEach: Yp, merge: zx, extend: kJ, trim: MJ, stripBOM: AJ, inherits: LJ, toFlatObject: IJ, kindOf: O_, kindOfTest: Ho, endsWith: PJ, toArray: RJ, forEachEntry: EJ, matchAll: NJ, isHTMLForm: $J, hasOwnProperty: $L, hasOwnProp: $L, reduceDescriptors: z7, freezeMethods: VJ, toObjectSet: zJ, toCamelCase: FJ, noop: HJ, toFiniteNumber: YJ, findKey: F7, global: B7, isContextDefined: V7, ALPHABET: H7, generateString: UJ, isSpecCompliantForm: WJ, toJSONObject: GJ, isAsyncFn: jJ, isThenable: ZJ }; function or(t, e, r, n, a) { Error.call(this), Error.captureStackTrace ? Error.captureStackTrace(this, this.constructor) : this.stack = new Error().stack, this.message = t, this.name = "AxiosError", e && (this.code = e), r && (this.config = r), n && (this.request = n), a && (this.response = a) } Te.inherits(or, Error, { toJSON: function () { return { message: this.message, name: this.name, description: this.description, number: this.number, fileName: this.fileName, lineNumber: this.lineNumber, columnNumber: this.columnNumber, stack: this.stack, config: Te.toJSONObject(this.config), code: this.code, status: this.response && this.response.status ? this.response.status : null } } }); const Y7 = or.prototype, U7 = {};["ERR_BAD_OPTION_VALUE", "ERR_BAD_OPTION", "ECONNABORTED", "ETIMEDOUT", "ERR_NETWORK", "ERR_FR_TOO_MANY_REDIRECTS", "ERR_DEPRECATED", "ERR_BAD_RESPONSE", "ERR_BAD_REQUEST", "ERR_CANCELED", "ERR_NOT_SUPPORT", "ERR_INVALID_URL"].forEach(t => { U7[t] = { value: t } }); Object.defineProperties(or, U7); Object.defineProperty(Y7, "isAxiosError", { value: !0 }); or.from = (t, e, r, n, a, i) => { const o = Object.create(Y7); return Te.toFlatObject(t, o, function (l) { return l !== Error.prototype }, s => s !== "isAxiosError"), or.call(o, t.message, e, r, n, a), o.cause = t, o.name = t.name, i && Object.assign(o, i), o }; const qJ = null; function Hx(t) { return Te.isPlainObject(t) || Te.isArray(t) } function W7(t) { return Te.endsWith(t, "[]") ? t.slice(0, -2) : t } function BL(t, e, r) { return t ? t.concat(e).map(function (a, i) { return a = W7(a), !r && i ? "[" + a + "]" : a }).join(r ? "." : "") : e } function XJ(t) { return Te.isArray(t) && !t.some(Hx) } const KJ = Te.toFlatObject(Te, {}, null, function (e) { return /^is[A-Z]/.test(e) }); function $_(t, e, r) { if (!Te.isObject(t)) throw new TypeError("target must be an object"); e = e || new FormData, r = Te.toFlatObject(r, { metaTokens: !0, dots: !1, indexes: !1 }, !1, function (p, g) { return !Te.isUndefined(g[p]) }); const n = r.metaTokens, a = r.visitor || c, i = r.dots, o = r.indexes, l = (r.Blob || typeof Blob < "u" && Blob) && Te.isSpecCompliantForm(e); if (!Te.isFunction(a)) throw new TypeError("visitor must be a function"); function u(v) { if (v === null) return ""; if (Te.isDate(v)) return v.toISOString(); if (!l && Te.isBlob(v)) throw new or("Blob is not supported. Use a Buffer instead."); return Te.isArrayBuffer(v) || Te.isTypedArray(v) ? l && typeof Blob == "function" ? new Blob([v]) : Buffer.from(v) : v } function c(v, p, g) { let m = v; if (v && !g && typeof v == "object") { if (Te.endsWith(p, "{}")) p = n ? p : p.slice(0, -2), v = JSON.stringify(v); else if (Te.isArray(v) && XJ(v) || (Te.isFileList(v) || Te.endsWith(p, "[]")) && (m = Te.toArray(v))) return p = W7(p), m.forEach(function (_, b) { !(Te.isUndefined(_) || _ === null) && e.append(o === !0 ? BL([p], b, i) : o === null ? p : p + "[]", u(_)) }), !1 } return Hx(v) ? !0 : (e.append(BL(g, p, i), u(v)), !1) } const f = [], h = Object.assign(KJ, { defaultVisitor: c, convertValue: u, isVisitable: Hx }); function d(v, p) { if (!Te.isUndefined(v)) { if (f.indexOf(v) !== -1) throw Error("Circular reference detected in " + p.join(".")); f.push(v), Te.forEach(v, function (m, y) { (!(Te.isUndefined(m) || m === null) && a.call(e, m, Te.isString(y) ? y.trim() : y, p, h)) === !0 && d(m, p ? p.concat(y) : [y]) }), f.pop() } } if (!Te.isObject(t)) throw new TypeError("data must be an object"); return d(t), e } function VL(t) { const e = { "!": "%21", "'": "%27", "(": "%28", ")": "%29", "~": "%7E", "%20": "+", "%00": "\0" }; return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g, function (n) { return e[n] }) } function AD(t, e) { this._pairs = [], t && $_(t, this, e) } const G7 = AD.prototype; G7.append = function (e, r) { this._pairs.push([e, r]) }; G7.toString = function (e) { const r = e ? function (n) { return e.call(this, n, VL) } : VL; return this._pairs.map(function (a) { return r(a[0]) + "=" + r(a[1]) }, "").join("&") }; function QJ(t) { return encodeURIComponent(t).replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]") } function j7(t, e, r) { if (!e) return t; const n = r && r.encode || QJ, a = r && r.serialize; let i; if (a ? i = a(e, r) : i = Te.isURLSearchParams(e) ? e.toString() : new AD(e, r).toString(n), i) { const o = t.indexOf("#"); o !== -1 && (t = t.slice(0, o)), t += (t.indexOf("?") === -1 ? "?" : "&") + i } return t } class JJ { constructor() { this.handlers = [] } use(e, r, n) { return this.handlers.push({ fulfilled: e, rejected: r, synchronous: n ? n.synchronous : !1, runWhen: n ? n.runWhen : null }), this.handlers.length - 1 } eject(e) { this.handlers[e] && (this.handlers[e] = null) } clear() { this.handlers && (this.handlers = []) } forEach(e) { Te.forEach(this.handlers, function (n) { n !== null && e(n) }) } } const zL = JJ, Z7 = { silentJSONParsing: !0, forcedJSONParsing: !0, clarifyTimeoutError: !1 }, eee = typeof URLSearchParams < "u" ? URLSearchParams : AD, tee = typeof FormData < "u" ? FormData : null, ree = typeof Blob < "u" ? Blob : null, nee = { isBrowser: !0, classes: { URLSearchParams: eee, FormData: tee, Blob: ree }, protocols: ["http", "https", "file", "blob", "url", "data"] }, q7 = typeof window < "u" && typeof document < "u", aee = (t => q7 && ["ReactNative", "NativeScript", "NS"].indexOf(t) < 0)(typeof navigator < "u" && navigator.product), iee = (() => typeof WorkerGlobalScope < "u" && self instanceof WorkerGlobalScope && typeof self.importScripts == "function")(), oee = Object.freeze(Object.defineProperty({ __proto__: null, hasBrowserEnv: q7, hasStandardBrowserEnv: aee, hasStandardBrowserWebWorkerEnv: iee }, Symbol.toStringTag, { value: "Module" })), bo = { ...oee, ...nee }; function see(t, e) { return $_(t, new bo.classes.URLSearchParams, Object.assign({ visitor: function (r, n, a, i) { return bo.isNode && Te.isBuffer(r) ? (this.append(n, r.toString("base64")), !1) : i.defaultVisitor.apply(this, arguments) } }, e)) } function lee(t) { return Te.matchAll(/\w+|\[(\w*)]/g, t).map(e => e[0] === "[]" ? "" : e[1] || e[0]) } function uee(t) { const e = {}, r = Object.keys(t); let n; const a = r.length; let i; for (n = 0; n < a; n++)i = r[n], e[i] = t[i]; return e } function X7(t) { function e(r, n, a, i) { let o = r[i++]; const s = Number.isFinite(+o), l = i >= r.length; return o = !o && Te.isArray(a) ? a.length : o, l ? (Te.hasOwnProp(a, o) ? a[o] = [a[o], n] : a[o] = n, !s) : ((!a[o] || !Te.isObject(a[o])) && (a[o] = []), e(r, n, a[o], i) && Te.isArray(a[o]) && (a[o] = uee(a[o])), !s) } if (Te.isFormData(t) && Te.isFunction(t.entries)) { const r = {}; return Te.forEachEntry(t, (n, a) => { e(lee(n), a, r, 0) }), r } return null } function cee(t, e, r) { if (Te.isString(t)) try { return (e || JSON.parse)(t), Te.trim(t) } catch (n) { if (n.name !== "SyntaxError") throw n } return (r || JSON.stringify)(t) } const LD = { transitional: Z7, adapter: ["xhr", "http"], transformRequest: [function (e, r) { const n = r.getContentType() || "", a = n.indexOf("application/json") > -1, i = Te.isObject(e); if (i && Te.isHTMLForm(e) && (e = new FormData(e)), Te.isFormData(e)) return a && a ? JSON.stringify(X7(e)) : e; if (Te.isArrayBuffer(e) || Te.isBuffer(e) || Te.isStream(e) || Te.isFile(e) || Te.isBlob(e)) return e; if (Te.isArrayBufferView(e)) return e.buffer; if (Te.isURLSearchParams(e)) return r.setContentType("application/x-www-form-urlencoded;charset=utf-8", !1), e.toString(); let s; if (i) { if (n.indexOf("application/x-www-form-urlencoded") > -1) return see(e, this.formSerializer).toString(); if ((s = Te.isFileList(e)) || n.indexOf("multipart/form-data") > -1) { const l = this.env && this.env.FormData; return $_(s ? { "files[]": e } : e, l && new l, this.formSerializer) } } return i || a ? (r.setContentType("application/json", !1), cee(e)) : e }], transformResponse: [function (e) { const r = this.transitional || LD.transitional, n = r && r.forcedJSONParsing, a = this.responseType === "json"; if (e && Te.isString(e) && (n && !this.responseType || a)) { const o = !(r && r.silentJSONParsing) && a; try { return JSON.parse(e) } catch (s) { if (o) throw s.name === "SyntaxError" ? or.from(s, or.ERR_BAD_RESPONSE, this, null, this.response) : s } } return e }], timeout: 0, xsrfCookieName: "XSRF-TOKEN", xsrfHeaderName: "X-XSRF-TOKEN", maxContentLength: -1, maxBodyLength: -1, env: { FormData: bo.classes.FormData, Blob: bo.classes.Blob }, validateStatus: function (e) { return e >= 200 && e < 300 }, headers: { common: { Accept: "application/json, text/plain, */*", "Content-Type": void 0 } } }; Te.forEach(["delete", "get", "head", "post", "put", "patch"], t => { LD.headers[t] = {} }); const ID = LD, fee = Te.toObjectSet(["age", "authorization", "content-length", "content-type", "etag", "expires", "from", "host", "if-modified-since", "if-unmodified-since", "last-modified", "location", "max-forwards", "proxy-authorization", "referer", "retry-after", "user-agent"]), hee = t => {
    const e = {}; let r, n, a; return t && t.split(`
`).forEach(function (o) { a = o.indexOf(":"), r = o.substring(0, a).trim().toLowerCase(), n = o.substring(a + 1).trim(), !(!r || e[r] && fee[r]) && (r === "set-cookie" ? e[r] ? e[r].push(n) : e[r] = [n] : e[r] = e[r] ? e[r] + ", " + n : n) }), e
}, HL = Symbol("internals"); function gd(t) { return t && String(t).trim().toLowerCase() } function uy(t) { return t === !1 || t == null ? t : Te.isArray(t) ? t.map(uy) : String(t) } function dee(t) { const e = Object.create(null), r = /([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g; let n; for (; n = r.exec(t);)e[n[1]] = n[2]; return e } const vee = t => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()); function Tb(t, e, r, n, a) { if (Te.isFunction(n)) return n.call(this, e, r); if (a && (e = r), !!Te.isString(e)) { if (Te.isString(n)) return e.indexOf(n) !== -1; if (Te.isRegExp(n)) return n.test(e) } } function pee(t) { return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g, (e, r, n) => r.toUpperCase() + n) } function gee(t, e) { const r = Te.toCamelCase(" " + e);["get", "set", "has"].forEach(n => { Object.defineProperty(t, n + r, { value: function (a, i, o) { return this[n].call(this, e, a, i, o) }, configurable: !0 }) }) } class F_ {
    constructor(e) { e && this.set(e) } set(e, r, n) { const a = this; function i(s, l, u) { const c = gd(l); if (!c) throw new Error("header name must be a non-empty string"); const f = Te.findKey(a, c); (!f || a[f] === void 0 || u === !0 || u === void 0 && a[f] !== !1) && (a[f || l] = uy(s)) } const o = (s, l) => Te.forEach(s, (u, c) => i(u, c, l)); return Te.isPlainObject(e) || e instanceof this.constructor ? o(e, r) : Te.isString(e) && (e = e.trim()) && !vee(e) ? o(hee(e), r) : e != null && i(r, e, n), this } get(e, r) { if (e = gd(e), e) { const n = Te.findKey(this, e); if (n) { const a = this[n]; if (!r) return a; if (r === !0) return dee(a); if (Te.isFunction(r)) return r.call(this, a, n); if (Te.isRegExp(r)) return r.exec(a); throw new TypeError("parser must be boolean|regexp|function") } } } has(e, r) { if (e = gd(e), e) { const n = Te.findKey(this, e); return !!(n && this[n] !== void 0 && (!r || Tb(this, this[n], n, r))) } return !1 } delete(e, r) { const n = this; let a = !1; function i(o) { if (o = gd(o), o) { const s = Te.findKey(n, o); s && (!r || Tb(n, n[s], s, r)) && (delete n[s], a = !0) } } return Te.isArray(e) ? e.forEach(i) : i(e), a } clear(e) { const r = Object.keys(this); let n = r.length, a = !1; for (; n--;) { const i = r[n]; (!e || Tb(this, this[i], i, e, !0)) && (delete this[i], a = !0) } return a } normalize(e) { const r = this, n = {}; return Te.forEach(this, (a, i) => { const o = Te.findKey(n, i); if (o) { r[o] = uy(a), delete r[i]; return } const s = e ? pee(i) : String(i).trim(); s !== i && delete r[i], r[s] = uy(a), n[s] = !0 }), this } concat(...e) { return this.constructor.concat(this, ...e) } toJSON(e) { const r = Object.create(null); return Te.forEach(this, (n, a) => { n != null && n !== !1 && (r[a] = e && Te.isArray(n) ? n.join(", ") : n) }), r } [Symbol.iterator]() { return Object.entries(this.toJSON())[Symbol.iterator]() } toString() {
        return Object.entries(this.toJSON()).map(([e, r]) => e + ": " + r).join(`
`)
    } get [Symbol.toStringTag]() { return "AxiosHeaders" } static from(e) { return e instanceof this ? e : new this(e) } static concat(e, ...r) { const n = new this(e); return r.forEach(a => n.set(a)), n } static accessor(e) { const n = (this[HL] = this[HL] = { accessors: {} }).accessors, a = this.prototype; function i(o) { const s = gd(o); n[s] || (gee(a, o), n[s] = !0) } return Te.isArray(e) ? e.forEach(i) : i(e), this }
} F_.accessor(["Content-Type", "Content-Length", "Accept", "Accept-Encoding", "User-Agent", "Authorization"]); Te.reduceDescriptors(F_.prototype, ({ value: t }, e) => { let r = e[0].toUpperCase() + e.slice(1); return { get: () => t, set(n) { this[r] = n } } }); Te.freezeMethods(F_); const ws = F_; function Db(t, e) { const r = this || ID, n = e || r, a = ws.from(n.headers); let i = n.data; return Te.forEach(t, function (s) { i = s.call(r, i, a.normalize(), e ? e.status : void 0) }), a.normalize(), i } function K7(t) { return !!(t && t.__CANCEL__) } function Up(t, e, r) { or.call(this, t ?? "canceled", or.ERR_CANCELED, e, r), this.name = "CanceledError" } Te.inherits(Up, or, { __CANCEL__: !0 }); function mee(t, e, r) { const n = r.config.validateStatus; !r.status || !n || n(r.status) ? t(r) : e(new or("Request failed with status code " + r.status, [or.ERR_BAD_REQUEST, or.ERR_BAD_RESPONSE][Math.floor(r.status / 100) - 4], r.config, r.request, r)) } const yee = bo.hasStandardBrowserEnv ? { write(t, e, r, n, a, i) { const o = [t + "=" + encodeURIComponent(e)]; Te.isNumber(r) && o.push("expires=" + new Date(r).toGMTString()), Te.isString(n) && o.push("path=" + n), Te.isString(a) && o.push("domain=" + a), i === !0 && o.push("secure"), document.cookie = o.join("; ") }, read(t) { const e = document.cookie.match(new RegExp("(^|;\\s*)(" + t + ")=([^;]*)")); return e ? decodeURIComponent(e[3]) : null }, remove(t) { this.write(t, "", Date.now() - 864e5) } } : { write() { }, read() { return null }, remove() { } }; function _ee(t) { return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(t) } function bee(t, e) { return e ? t.replace(/\/?\/$/, "") + "/" + e.replace(/^\/+/, "") : t } function Q7(t, e) { return t && !_ee(e) ? bee(t, e) : e } const wee = bo.hasStandardBrowserEnv ? function () { const e = /(msie|trident)/i.test(navigator.userAgent), r = document.createElement("a"); let n; function a(i) { let o = i; return e && (r.setAttribute("href", o), o = r.href), r.setAttribute("href", o), { href: r.href, protocol: r.protocol ? r.protocol.replace(/:$/, "") : "", host: r.host, search: r.search ? r.search.replace(/^\?/, "") : "", hash: r.hash ? r.hash.replace(/^#/, "") : "", hostname: r.hostname, port: r.port, pathname: r.pathname.charAt(0) === "/" ? r.pathname : "/" + r.pathname } } return n = a(window.location.href), function (o) { const s = Te.isString(o) ? a(o) : o; return s.protocol === n.protocol && s.host === n.host } }() : function () { return function () { return !0 } }(); function See(t) { const e = /^([-+\w]{1,25})(:?\/\/|:)/.exec(t); return e && e[1] || "" } function xee(t, e) { t = t || 10; const r = new Array(t), n = new Array(t); let a = 0, i = 0, o; return e = e !== void 0 ? e : 1e3, function (l) { const u = Date.now(), c = n[i]; o || (o = u), r[a] = l, n[a] = u; let f = i, h = 0; for (; f !== a;)h += r[f++], f = f % t; if (a = (a + 1) % t, a === i && (i = (i + 1) % t), u - o < e) return; const d = c && u - c; return d ? Math.round(h * 1e3 / d) : void 0 } } function YL(t, e) { let r = 0; const n = xee(50, 250); return a => { const i = a.loaded, o = a.lengthComputable ? a.total : void 0, s = i - r, l = n(s), u = i <= o; r = i; const c = { loaded: i, total: o, progress: o ? i / o : void 0, bytes: s, rate: l || void 0, estimated: l && o && u ? (o - i) / l : void 0, event: a }; c[e ? "download" : "upload"] = !0, t(c) } } const Tee = typeof XMLHttpRequest < "u", Dee = Tee && function (t) { return new Promise(function (r, n) { let a = t.data; const i = ws.from(t.headers).normalize(); let { responseType: o, withXSRFToken: s } = t, l; function u() { t.cancelToken && t.cancelToken.unsubscribe(l), t.signal && t.signal.removeEventListener("abort", l) } let c; if (Te.isFormData(a)) { if (bo.hasStandardBrowserEnv || bo.hasStandardBrowserWebWorkerEnv) i.setContentType(!1); else if ((c = i.getContentType()) !== !1) { const [p, ...g] = c ? c.split(";").map(m => m.trim()).filter(Boolean) : []; i.setContentType([p || "multipart/form-data", ...g].join("; ")) } } let f = new XMLHttpRequest; if (t.auth) { const p = t.auth.username || "", g = t.auth.password ? unescape(encodeURIComponent(t.auth.password)) : ""; i.set("Authorization", "Basic " + btoa(p + ":" + g)) } const h = Q7(t.baseURL, t.url); f.open(t.method.toUpperCase(), j7(h, t.params, t.paramsSerializer), !0), f.timeout = t.timeout; function d() { if (!f) return; const p = ws.from("getAllResponseHeaders" in f && f.getAllResponseHeaders()), m = { data: !o || o === "text" || o === "json" ? f.responseText : f.response, status: f.status, statusText: f.statusText, headers: p, config: t, request: f }; mee(function (_) { r(_), u() }, function (_) { n(_), u() }, m), f = null } if ("onloadend" in f ? f.onloadend = d : f.onreadystatechange = function () { !f || f.readyState !== 4 || f.status === 0 && !(f.responseURL && f.responseURL.indexOf("file:") === 0) || setTimeout(d) }, f.onabort = function () { f && (n(new or("Request aborted", or.ECONNABORTED, t, f)), f = null) }, f.onerror = function () { n(new or("Network Error", or.ERR_NETWORK, t, f)), f = null }, f.ontimeout = function () { let g = t.timeout ? "timeout of " + t.timeout + "ms exceeded" : "timeout exceeded"; const m = t.transitional || Z7; t.timeoutErrorMessage && (g = t.timeoutErrorMessage), n(new or(g, m.clarifyTimeoutError ? or.ETIMEDOUT : or.ECONNABORTED, t, f)), f = null }, bo.hasStandardBrowserEnv && (s && Te.isFunction(s) && (s = s(t)), s || s !== !1 && wee(h))) { const p = t.xsrfHeaderName && t.xsrfCookieName && yee.read(t.xsrfCookieName); p && i.set(t.xsrfHeaderName, p) } a === void 0 && i.setContentType(null), "setRequestHeader" in f && Te.forEach(i.toJSON(), function (g, m) { f.setRequestHeader(m, g) }), Te.isUndefined(t.withCredentials) || (f.withCredentials = !!t.withCredentials), o && o !== "json" && (f.responseType = t.responseType), typeof t.onDownloadProgress == "function" && f.addEventListener("progress", YL(t.onDownloadProgress, !0)), typeof t.onUploadProgress == "function" && f.upload && f.upload.addEventListener("progress", YL(t.onUploadProgress)), (t.cancelToken || t.signal) && (l = p => { f && (n(!p || p.type ? new Up(null, t, f) : p), f.abort(), f = null) }, t.cancelToken && t.cancelToken.subscribe(l), t.signal && (t.signal.aborted ? l() : t.signal.addEventListener("abort", l))); const v = See(h); if (v && bo.protocols.indexOf(v) === -1) { n(new or("Unsupported protocol " + v + ":", or.ERR_BAD_REQUEST, t)); return } f.send(a || null) }) }, Yx = { http: qJ, xhr: Dee }; Te.forEach(Yx, (t, e) => { if (t) { try { Object.defineProperty(t, "name", { value: e }) } catch { } Object.defineProperty(t, "adapterName", { value: e }) } }); const UL = t => `- ${t}`, Cee = t => Te.isFunction(t) || t === null || t === !1, J7 = {
    getAdapter: t => {
        t = Te.isArray(t) ? t : [t]; const { length: e } = t; let r, n; const a = {}; for (let i = 0; i < e; i++) { r = t[i]; let o; if (n = r, !Cee(r) && (n = Yx[(o = String(r)).toLowerCase()], n === void 0)) throw new or(`Unknown adapter '${o}'`); if (n) break; a[o || "#" + i] = n } if (!n) {
            const i = Object.entries(a).map(([s, l]) => `adapter ${s} ` + (l === !1 ? "is not supported by the environment" : "is not available in the build")); let o = e ? i.length > 1 ? `since :
`+ i.map(UL).join(`
`) : " " + UL(i[0]) : "as no adapter specified"; throw new or("There is no suitable adapter to dispatch the request " + o, "ERR_NOT_SUPPORT")
        } return n
    }, adapters: Yx
}; function Cb(t) { if (t.cancelToken && t.cancelToken.throwIfRequested(), t.signal && t.signal.aborted) throw new Up(null, t) } function WL(t) { return Cb(t), t.headers = ws.from(t.headers), t.data = Db.call(t, t.transformRequest), ["post", "put", "patch"].indexOf(t.method) !== -1 && t.headers.setContentType("application/x-www-form-urlencoded", !1), J7.getAdapter(t.adapter || ID.adapter)(t).then(function (n) { return Cb(t), n.data = Db.call(t, t.transformResponse, n), n.headers = ws.from(n.headers), n }, function (n) { return K7(n) || (Cb(t), n && n.response && (n.response.data = Db.call(t, t.transformResponse, n.response), n.response.headers = ws.from(n.response.headers))), Promise.reject(n) }) } const GL = t => t instanceof ws ? t.toJSON() : t; function xh(t, e) { e = e || {}; const r = {}; function n(u, c, f) { return Te.isPlainObject(u) && Te.isPlainObject(c) ? Te.merge.call({ caseless: f }, u, c) : Te.isPlainObject(c) ? Te.merge({}, c) : Te.isArray(c) ? c.slice() : c } function a(u, c, f) { if (Te.isUndefined(c)) { if (!Te.isUndefined(u)) return n(void 0, u, f) } else return n(u, c, f) } function i(u, c) { if (!Te.isUndefined(c)) return n(void 0, c) } function o(u, c) { if (Te.isUndefined(c)) { if (!Te.isUndefined(u)) return n(void 0, u) } else return n(void 0, c) } function s(u, c, f) { if (f in e) return n(u, c); if (f in t) return n(void 0, u) } const l = { url: i, method: i, data: i, baseURL: o, transformRequest: o, transformResponse: o, paramsSerializer: o, timeout: o, timeoutMessage: o, withCredentials: o, withXSRFToken: o, adapter: o, responseType: o, xsrfCookieName: o, xsrfHeaderName: o, onUploadProgress: o, onDownloadProgress: o, decompress: o, maxContentLength: o, maxBodyLength: o, beforeRedirect: o, transport: o, httpAgent: o, httpsAgent: o, cancelToken: o, socketPath: o, responseEncoding: o, validateStatus: s, headers: (u, c) => a(GL(u), GL(c), !0) }; return Te.forEach(Object.keys(Object.assign({}, t, e)), function (c) { const f = l[c] || a, h = f(t[c], e[c], c); Te.isUndefined(h) && f !== s || (r[c] = h) }), r } const e4 = "1.6.3", PD = {};["object", "boolean", "number", "function", "string", "symbol"].forEach((t, e) => { PD[t] = function (n) { return typeof n === t || "a" + (e < 1 ? "n " : " ") + t } }); const jL = {}; PD.transitional = function (e, r, n) { function a(i, o) { return "[Axios v" + e4 + "] Transitional option '" + i + "'" + o + (n ? ". " + n : "") } return (i, o, s) => { if (e === !1) throw new or(a(o, " has been removed" + (r ? " in " + r : "")), or.ERR_DEPRECATED); return r && !jL[o] && (jL[o] = !0, console.warn(a(o, " has been deprecated since v" + r + " and will be removed in the near future"))), e ? e(i, o, s) : !0 } }; function Mee(t, e, r) { if (typeof t != "object") throw new or("options must be an object", or.ERR_BAD_OPTION_VALUE); const n = Object.keys(t); let a = n.length; for (; a-- > 0;) { const i = n[a], o = e[i]; if (o) { const s = t[i], l = s === void 0 || o(s, i, t); if (l !== !0) throw new or("option " + i + " must be " + l, or.ERR_BAD_OPTION_VALUE); continue } if (r !== !0) throw new or("Unknown option " + i, or.ERR_BAD_OPTION) } } const Ux = { assertOptions: Mee, validators: PD }, Js = Ux.validators; class Wy { constructor(e) { this.defaults = e, this.interceptors = { request: new zL, response: new zL } } request(e, r) { typeof e == "string" ? (r = r || {}, r.url = e) : r = e || {}, r = xh(this.defaults, r); const { transitional: n, paramsSerializer: a, headers: i } = r; n !== void 0 && Ux.assertOptions(n, { silentJSONParsing: Js.transitional(Js.boolean), forcedJSONParsing: Js.transitional(Js.boolean), clarifyTimeoutError: Js.transitional(Js.boolean) }, !1), a != null && (Te.isFunction(a) ? r.paramsSerializer = { serialize: a } : Ux.assertOptions(a, { encode: Js.function, serialize: Js.function }, !0)), r.method = (r.method || this.defaults.method || "get").toLowerCase(); let o = i && Te.merge(i.common, i[r.method]); i && Te.forEach(["delete", "get", "head", "post", "put", "patch", "common"], v => { delete i[v] }), r.headers = ws.concat(o, i); const s = []; let l = !0; this.interceptors.request.forEach(function (p) { typeof p.runWhen == "function" && p.runWhen(r) === !1 || (l = l && p.synchronous, s.unshift(p.fulfilled, p.rejected)) }); const u = []; this.interceptors.response.forEach(function (p) { u.push(p.fulfilled, p.rejected) }); let c, f = 0, h; if (!l) { const v = [WL.bind(this), void 0]; for (v.unshift.apply(v, s), v.push.apply(v, u), h = v.length, c = Promise.resolve(r); f < h;)c = c.then(v[f++], v[f++]); return c } h = s.length; let d = r; for (f = 0; f < h;) { const v = s[f++], p = s[f++]; try { d = v(d) } catch (g) { p.call(this, g); break } } try { c = WL.call(this, d) } catch (v) { return Promise.reject(v) } for (f = 0, h = u.length; f < h;)c = c.then(u[f++], u[f++]); return c } getUri(e) { e = xh(this.defaults, e); const r = Q7(e.baseURL, e.url); return j7(r, e.params, e.paramsSerializer) } } Te.forEach(["delete", "get", "head", "options"], function (e) { Wy.prototype[e] = function (r, n) { return this.request(xh(n || {}, { method: e, url: r, data: (n || {}).data })) } }); Te.forEach(["post", "put", "patch"], function (e) { function r(n) { return function (i, o, s) { return this.request(xh(s || {}, { method: e, headers: n ? { "Content-Type": "multipart/form-data" } : {}, url: i, data: o })) } } Wy.prototype[e] = r(), Wy.prototype[e + "Form"] = r(!0) }); const cy = Wy; class RD { constructor(e) { if (typeof e != "function") throw new TypeError("executor must be a function."); let r; this.promise = new Promise(function (i) { r = i }); const n = this; this.promise.then(a => { if (!n._listeners) return; let i = n._listeners.length; for (; i-- > 0;)n._listeners[i](a); n._listeners = null }), this.promise.then = a => { let i; const o = new Promise(s => { n.subscribe(s), i = s }).then(a); return o.cancel = function () { n.unsubscribe(i) }, o }, e(function (i, o, s) { n.reason || (n.reason = new Up(i, o, s), r(n.reason)) }) } throwIfRequested() { if (this.reason) throw this.reason } subscribe(e) { if (this.reason) { e(this.reason); return } this._listeners ? this._listeners.push(e) : this._listeners = [e] } unsubscribe(e) { if (!this._listeners) return; const r = this._listeners.indexOf(e); r !== -1 && this._listeners.splice(r, 1) } static source() { let e; return { token: new RD(function (a) { e = a }), cancel: e } } } const kee = RD; function Aee(t) { return function (r) { return t.apply(null, r) } } function Lee(t) { return Te.isObject(t) && t.isAxiosError === !0 } const Wx = { Continue: 100, SwitchingProtocols: 101, Processing: 102, EarlyHints: 103, Ok: 200, Created: 201, Accepted: 202, NonAuthoritativeInformation: 203, NoContent: 204, ResetContent: 205, PartialContent: 206, MultiStatus: 207, AlreadyReported: 208, ImUsed: 226, MultipleChoices: 300, MovedPermanently: 301, Found: 302, SeeOther: 303, NotModified: 304, UseProxy: 305, Unused: 306, TemporaryRedirect: 307, PermanentRedirect: 308, BadRequest: 400, Unauthorized: 401, PaymentRequired: 402, Forbidden: 403, NotFound: 404, MethodNotAllowed: 405, NotAcceptable: 406, ProxyAuthenticationRequired: 407, RequestTimeout: 408, Conflict: 409, Gone: 410, LengthRequired: 411, PreconditionFailed: 412, PayloadTooLarge: 413, UriTooLong: 414, UnsupportedMediaType: 415, RangeNotSatisfiable: 416, ExpectationFailed: 417, ImATeapot: 418, MisdirectedRequest: 421, UnprocessableEntity: 422, Locked: 423, FailedDependency: 424, TooEarly: 425, UpgradeRequired: 426, PreconditionRequired: 428, TooManyRequests: 429, RequestHeaderFieldsTooLarge: 431, UnavailableForLegalReasons: 451, InternalServerError: 500, NotImplemented: 501, BadGateway: 502, ServiceUnavailable: 503, GatewayTimeout: 504, HttpVersionNotSupported: 505, VariantAlsoNegotiates: 506, InsufficientStorage: 507, LoopDetected: 508, NotExtended: 510, NetworkAuthenticationRequired: 511 }; Object.entries(Wx).forEach(([t, e]) => { Wx[e] = t }); const Iee = Wx; function t4(t) { const e = new cy(t), r = E7(cy.prototype.request, e); return Te.extend(r, cy.prototype, e, { allOwnKeys: !0 }), Te.extend(r, e, null, { allOwnKeys: !0 }), r.create = function (a) { return t4(xh(t, a)) }, r } const _n = t4(ID); _n.Axios = cy; _n.CanceledError = Up; _n.CancelToken = kee; _n.isCancel = K7; _n.VERSION = e4; _n.toFormData = $_; _n.AxiosError = or; _n.Cancel = _n.CanceledError; _n.all = function (e) { return Promise.all(e) }; _n.spread = Aee; _n.isAxiosError = Lee; _n.mergeConfig = xh; _n.AxiosHeaders = ws; _n.formToJSON = t => X7(Te.isHTMLForm(t) ? new FormData(t) : t); _n.getAdapter = J7.getAdapter; _n.HttpStatusCode = Iee; _n.default = _n; const OD = _n, Pee = "../portal/"; function fr(t, e, r, n, a = 3e4) { let i = {}; return n !== "user/login" && n !== "user/register" && Object.assign(i, { "Diary-Token": qr() && qr().token, "Diary-Uid": qr() && qr().uid }), new Promise((o, s) => { OD({ url: Pee + n, method: t, params: e, data: r, headers: i, timeout: a, withCredentials: !0 }).then(l => { l.status === 200 ? l.data.success ? o(l.data) : (console.log("request err: ", l.data), s(l.data)) : (s(l.data), console.log("request err: ", l.data.message)) }).catch(l => { l.response ? console.log("response: ", l.response) : l.request ? console.log("request: ", l.request) : l.message && console.log("message: ", l.message), s(l) }) }) } const Pa = { getCategoryAll() { return fr("get", null, null, "diary-category/list") }, list(t) { return fr("get", t, null, "diary/list") }, add(t) { return fr("post", {}, t, "diary/add") }, modify(t) { return fr("put", {}, t, "diary/modify") }, delete(t) { return fr("delete", {}, t, "diary/delete") }, detail(t) { return fr("get", t, null, "diary/detail") }, share(t) { return fr("get", t, null, "diary/share") }, export() { return fr("get", null, null, "diary/export", 12e4) }, clear() { return fr("post", null, null, "diary/clear") } }, ta = {
    adminEmail: "kylebing@163.com", isShowDemoAccount: !0, demoAccount: "test@163.com", demoAccountPassword: "test", QiniuImgBaseURL: "https://diary-container.kylebing.cn/", QiniuBucketName: "diary-container", QiniuStyleSuffix: "thumbnail_600px", HefengWeatherKey: "c5894aea6ce2495ca0f78a2963c04d57", registerTip: `
            <h3>暂不开放注册</h3>
            <p>如果你试用过之后感觉这个日记体验不错，能在你的生活中有所帮助，并想长期使用</p>
            <p>或者你想注册同步自己的五笔词条</p>
            <p>请发邮件到此邮箱免费获取： <a href="mailto:kylebing@163.com">kylebing@163.com</a></p> 
            <p>否则，请勿打扰</p>
            <hr>
            <p>当然，如果你有开发能力，也可以自己部署一套自己的日记系统，已开源 <a href="https://github.com/KyleBing/diary">github: Diary</a></p>
            <hr>
            <p>我会时不时的更新程序，使用中遇到任何问题，都可以 Email 我，我接收 Email 跟接收短信一样即时。</p>
            
        `}, Ree = t => (ba("data-v-97d235ae"), t = t(), wa(), t), Oee = { class: "logo-server-error" }, Eee = ["src"], Nee = Ree(() => P("div", { class: "server-error-title" }, "遇到错误，请尝试刷新页面。如果还不行，请联系管理员", -1)), $ee = { class: "server-error-title" }, Fee = ["href"], Bee = Ue({ __name: "ServerError", setup(t) { const e = Vt(); return (r, n) => ($(), j("div", { class: "server-error", style: at(`height: ${Y(e).insets.windowsHeight}px`) }, [P("div", Oee, [P("img", { src: Y(ke).logo_icons.logo_server_error, alt: "logo error" }, null, 8, Eee)]), Nee, P("div", $ee, [P("a", { href: `mailto:${Y(ta).adminEmail}` }, fe(Y(ta).adminEmail), 9, Fee)])], 4)) } }); const Et = (t, e) => { const r = t.__vccOpts || t; for (const [n, a] of e) r[n] = a; return r }, Vee = Et(Bee, [["__scopeId", "data-v-97d235ae"]]), zee = Ue({ __name: "App", setup(t) { const e = Vt(), r = Ki(), n = wn(), a = ne(!1); pD(() => { document.querySelector(".preloading").style.display = "none", window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches, e.colorMode = "dark", window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", o => { e.colorMode = o.matches ? "dark" : "light" }) }), Lt(() => { i(), e.INIT_PROJECT_CONFIG(), window.onresize = () => { e.insets = { windowsHeight: document.documentElement.clientHeight, windowsWidth: document.documentElement.clientWidth, heightPanel: document.documentElement.clientHeight - 45 }, e.isInMobileMode || r.name === "List" && n.push({ name: "EditNew" }) } }); function i() { Pa.getCategoryAll().then(o => { e.categoryAll = o.data, sQ(o.data), console.log("app is loaded all categories") }).catch(() => { a.value = !0, console.log("服务器错误，请联系管理员") }) } return (o, s) => { const l = In("router-view"); return $(), j(Ve, null, [Y(e).categoryAll.length > 0 ? ($(), Ie(l, { key: 0 })) : ce("", !0), a.value ? ($(), Ie(Vee, { key: 1 })) : ce("", !0)], 64) } } }); const Hee = { class: "date" }, Yee = { class: "detail" }, Uee = { key: 0, class: "title" }, Wee = { key: 1, class: "title" }, Gee = ["src"], jee = ["alt", "src"], Zee = Ue({ __name: "DiaryListItem", props: { isActive: { type: Boolean, default: !1 }, diary: { type: Object, required: !0 } }, setup(t) { const e = Vt(), r = t, n = De(() => r.isActive ? ke.weather_icons[`${r.diary.weather}_white`] : r.diary.is_public ? ke.weather_icons[`${r.diary.weather}_active`] : ke.weather_icons[r.diary.weather]), a = De(() => { if (r.isActive) return `background-color: ${e.categoryObjectMap.get(r.diary.category).color}` }), i = De(() => r.diary.is_markdown ? r.isActive ? ke.content_md_white : ke.content_md : r.isActive ? ke.content_white : ke.content); return (o, s) => { const l = In("router-link"); return $(), Ie(l, { ref: "listItem", class: Be(["diary-list-item", { active: t.isActive }]), to: `/detail/${t.diary.id}`, style: at(a.value) }, { default: Me(() => [P("i", { class: Be(["category"]), style: at(`background-color: ${Y(e).categoryObjectMap.get(t.diary.category).color}`) }, null, 4), P("span", Hee, fe(t.diary.date), 1), P("div", Yee, [Y(e).isHideContent ? ($(), j("p", Uee, fe(t.diary.title.replace(/[^，。 \n]/g, "*")), 1)) : ($(), j("p", Wee, fe(t.diary.title), 1)), t.diary.hasOwnProperty("billData") ? ($(), j(Ve, { key: 2 }, [Y(e).isHideContent ? ($(), j("div", { key: 0, class: Be(["bill-amount", { "bill-in": t.diary.billData.sum > 0 }]) }, fe(t.diary.billData.sum.toFixed(Y(e).moneyAccuracy).replace(/[^，。 \n]/g, "*")), 3)) : ($(), j("div", { key: 1, class: Be(["bill-amount", { "bill-in": t.diary.billData.sum > 0 }]) }, fe(t.diary.billData.sum > 0 ? "+ " : "") + fe(t.diary.billData.sum.toFixed(Y(e).moneyAccuracy)), 3))], 64)) : ce("", !0), t.diary.content ? ($(), j("img", { key: 3, alt: "Content", class: "icon", src: i.value }, null, 8, Gee)) : ce("", !0), t.diary.weather ? ($(), j("img", { key: 4, alt: t.diary.weather, class: "icon", src: n.value }, null, 8, jee)) : ce("", !0)])]), _: 1 }, 8, ["class", "to", "style"]) } } }); const qee = Et(Zee, [["__scopeId", "data-v-4ac72b24"]]); function r4() { return { async: !1, baseUrl: null, breaks: !1, extensions: null, gfm: !0, headerIds: !0, headerPrefix: "", highlight: null, hooks: null, langPrefix: "language-", mangle: !0, pedantic: !1, renderer: null, sanitize: !1, sanitizer: null, silent: !1, smartypants: !1, tokenizer: null, walkTokens: null, xhtml: !1 } } let Gc = r4(); function Xee(t) { Gc = t } const n4 = /[&<>"']/, Kee = new RegExp(n4.source, "g"), a4 = /[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/, Qee = new RegExp(a4.source, "g"), Jee = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;" }, ZL = t => Jee[t]; function Kn(t, e) { if (e) { if (n4.test(t)) return t.replace(Kee, ZL) } else if (a4.test(t)) return t.replace(Qee, ZL); return t } const ete = /&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig; function i4(t) { return t.replace(ete, (e, r) => (r = r.toLowerCase(), r === "colon" ? ":" : r.charAt(0) === "#" ? r.charAt(1) === "x" ? String.fromCharCode(parseInt(r.substring(2), 16)) : String.fromCharCode(+r.substring(1)) : "")) } const tte = /(^|[^\[])\^/g; function Er(t, e) { t = typeof t == "string" ? t : t.source, e = e || ""; const r = { replace: (n, a) => (a = a.source || a, a = a.replace(tte, "$1"), t = t.replace(n, a), r), getRegex: () => new RegExp(t, e) }; return r } const rte = /[^\w:]/g, nte = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i; function qL(t, e, r) { if (t) { let n; try { n = decodeURIComponent(i4(r)).replace(rte, "").toLowerCase() } catch { return null } if (n.indexOf("javascript:") === 0 || n.indexOf("vbscript:") === 0 || n.indexOf("data:") === 0) return null } e && !nte.test(r) && (r = ste(e, r)); try { r = encodeURI(r).replace(/%25/g, "%") } catch { return null } return r } const Ug = {}, ate = /^[^:]+:\/*[^/]*$/, ite = /^([^:]+:)[\s\S]*$/, ote = /^([^:]+:\/*[^/]*)[\s\S]*$/; function ste(t, e) { Ug[" " + t] || (ate.test(t) ? Ug[" " + t] = t + "/" : Ug[" " + t] = fy(t, "/", !0)), t = Ug[" " + t]; const r = t.indexOf(":") === -1; return e.substring(0, 2) === "//" ? r ? e : t.replace(ite, "$1") + e : e.charAt(0) === "/" ? r ? e : t.replace(ote, "$1") + e : t + e } const Gy = { exec: function () { } }; function XL(t, e) { const r = t.replace(/\|/g, (i, o, s) => { let l = !1, u = o; for (; --u >= 0 && s[u] === "\\";)l = !l; return l ? "|" : " |" }), n = r.split(/ \|/); let a = 0; if (n[0].trim() || n.shift(), n.length > 0 && !n[n.length - 1].trim() && n.pop(), n.length > e) n.splice(e); else for (; n.length < e;)n.push(""); for (; a < n.length; a++)n[a] = n[a].trim().replace(/\\\|/g, "|"); return n } function fy(t, e, r) { const n = t.length; if (n === 0) return ""; let a = 0; for (; a < n;) { const i = t.charAt(n - a - 1); if (i === e && !r) a++; else if (i !== e && r) a++; else break } return t.slice(0, n - a) } function lte(t, e) { if (t.indexOf(e[1]) === -1) return -1; const r = t.length; let n = 0, a = 0; for (; a < r; a++)if (t[a] === "\\") a++; else if (t[a] === e[0]) n++; else if (t[a] === e[1] && (n--, n < 0)) return a; return -1 } function ute(t) { t && t.sanitize && !t.silent && console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options") } function KL(t, e) { if (e < 1) return ""; let r = ""; for (; e > 1;)e & 1 && (r += t), e >>= 1, t += t; return r + t } function QL(t, e, r, n) { const a = e.href, i = e.title ? Kn(e.title) : null, o = t[1].replace(/\\([\[\]])/g, "$1"); if (t[0].charAt(0) !== "!") { n.state.inLink = !0; const s = { type: "link", raw: r, href: a, title: i, text: o, tokens: n.inlineTokens(o) }; return n.state.inLink = !1, s } return { type: "image", raw: r, href: a, title: i, text: Kn(o) } } function cte(t, e) {
    const r = t.match(/^(\s+)(?:```)/); if (r === null) return e; const n = r[1]; return e.split(`
`).map(a => { const i = a.match(/^\s+/); if (i === null) return a; const [o] = i; return o.length >= n.length ? a.slice(n.length) : a }).join(`
`)
} class ED {
    constructor(e) { this.options = e || Gc } space(e) { const r = this.rules.block.newline.exec(e); if (r && r[0].length > 0) return { type: "space", raw: r[0] } } code(e) {
        const r = this.rules.block.code.exec(e); if (r) {
            const n = r[0].replace(/^ {1,4}/gm, ""); return {
                type: "code", raw: r[0], codeBlockStyle: "indented", text: this.options.pedantic ? n : fy(n, `
`)
            }
        }
    } fences(e) { const r = this.rules.block.fences.exec(e); if (r) { const n = r[0], a = cte(n, r[3] || ""); return { type: "code", raw: n, lang: r[2] ? r[2].trim().replace(this.rules.inline._escapes, "$1") : r[2], text: a } } } heading(e) { const r = this.rules.block.heading.exec(e); if (r) { let n = r[2].trim(); if (/#$/.test(n)) { const a = fy(n, "#"); (this.options.pedantic || !a || / $/.test(a)) && (n = a.trim()) } return { type: "heading", raw: r[0], depth: r[1].length, text: n, tokens: this.lexer.inline(n) } } } hr(e) { const r = this.rules.block.hr.exec(e); if (r) return { type: "hr", raw: r[0] } } blockquote(e) { const r = this.rules.block.blockquote.exec(e); if (r) { const n = r[0].replace(/^ *>[ \t]?/gm, ""), a = this.lexer.state.top; this.lexer.state.top = !0; const i = this.lexer.blockTokens(n); return this.lexer.state.top = a, { type: "blockquote", raw: r[0], tokens: i, text: n } } } list(e) {
        let r = this.rules.block.list.exec(e); if (r) {
            let n, a, i, o, s, l, u, c, f, h, d, v, p = r[1].trim(); const g = p.length > 1, m = { type: "list", raw: "", ordered: g, start: g ? +p.slice(0, -1) : "", loose: !1, items: [] }; p = g ? `\\d{1,9}\\${p.slice(-1)}` : `\\${p}`, this.options.pedantic && (p = g ? p : "[*+-]"); const y = new RegExp(`^( {0,3}${p})((?:[	 ][^\\n]*)?(?:\\n|$))`); for (; e && (v = !1, !(!(r = y.exec(e)) || this.rules.block.hr.test(e)));) {
                if (n = r[0], e = e.substring(n.length), c = r[2].split(`
`, 1)[0].replace(/^\t+/, b => " ".repeat(3 * b.length)), f = e.split(`
`, 1)[0], this.options.pedantic ? (o = 2, d = c.trimLeft()) : (o = r[2].search(/[^ ]/), o = o > 4 ? 1 : o, d = c.slice(o), o += r[1].length), l = !1, !c && /^ *$/.test(f) && (n += f + `
`, e = e.substring(f.length + 1), v = !0), !v) {
                    const b = new RegExp(`^ {0,${Math.min(3, o - 1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`), x = new RegExp(`^ {0,${Math.min(3, o - 1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`), S = new RegExp(`^ {0,${Math.min(3, o - 1)}}(?:\`\`\`|~~~)`), T = new RegExp(`^ {0,${Math.min(3, o - 1)}}#`); for (; e && (h = e.split(`
`, 1)[0], f = h, this.options.pedantic && (f = f.replace(/^ {1,4}(?=( {4})*[^ ])/g, "  ")), !(S.test(f) || T.test(f) || b.test(f) || x.test(e)));) {
                        if (f.search(/[^ ]/) >= o || !f.trim()) d += `
`+ f.slice(o); else {
                            if (l || c.search(/[^ ]/) >= 4 || S.test(c) || T.test(c) || x.test(c)) break; d += `
`+ f
                        } !l && !f.trim() && (l = !0), n += h + `
`, e = e.substring(h.length + 1), c = f.slice(o)
                    }
                } m.loose || (u ? m.loose = !0 : /\n *\n *$/.test(n) && (u = !0)), this.options.gfm && (a = /^\[[ xX]\] /.exec(d), a && (i = a[0] !== "[ ] ", d = d.replace(/^\[[ xX]\] +/, ""))), m.items.push({ type: "list_item", raw: n, task: !!a, checked: i, loose: !1, text: d }), m.raw += n
            } m.items[m.items.length - 1].raw = n.trimRight(), m.items[m.items.length - 1].text = d.trimRight(), m.raw = m.raw.trimRight(); const _ = m.items.length; for (s = 0; s < _; s++)if (this.lexer.state.top = !1, m.items[s].tokens = this.lexer.blockTokens(m.items[s].text, []), !m.loose) { const b = m.items[s].tokens.filter(S => S.type === "space"), x = b.length > 0 && b.some(S => /\n.*\n/.test(S.raw)); m.loose = x } if (m.loose) for (s = 0; s < _; s++)m.items[s].loose = !0; return m
        }
    } html(e) { const r = this.rules.block.html.exec(e); if (r) { const n = { type: "html", raw: r[0], pre: !this.options.sanitizer && (r[1] === "pre" || r[1] === "script" || r[1] === "style"), text: r[0] }; if (this.options.sanitize) { const a = this.options.sanitizer ? this.options.sanitizer(r[0]) : Kn(r[0]); n.type = "paragraph", n.text = a, n.tokens = this.lexer.inline(a) } return n } } def(e) { const r = this.rules.block.def.exec(e); if (r) { const n = r[1].toLowerCase().replace(/\s+/g, " "), a = r[2] ? r[2].replace(/^<(.*)>$/, "$1").replace(this.rules.inline._escapes, "$1") : "", i = r[3] ? r[3].substring(1, r[3].length - 1).replace(this.rules.inline._escapes, "$1") : r[3]; return { type: "def", tag: n, raw: r[0], href: a, title: i } } } table(e) {
        const r = this.rules.block.table.exec(e); if (r) {
            const n = {
                type: "table", header: XL(r[1]).map(a => ({ text: a })), align: r[2].replace(/^ *|\| *$/g, "").split(/ *\| */), rows: r[3] && r[3].trim() ? r[3].replace(/\n[ \t]*$/, "").split(`
`) : []
            }; if (n.header.length === n.align.length) { n.raw = r[0]; let a = n.align.length, i, o, s, l; for (i = 0; i < a; i++)/^ *-+: *$/.test(n.align[i]) ? n.align[i] = "right" : /^ *:-+: *$/.test(n.align[i]) ? n.align[i] = "center" : /^ *:-+ *$/.test(n.align[i]) ? n.align[i] = "left" : n.align[i] = null; for (a = n.rows.length, i = 0; i < a; i++)n.rows[i] = XL(n.rows[i], n.header.length).map(u => ({ text: u })); for (a = n.header.length, o = 0; o < a; o++)n.header[o].tokens = this.lexer.inline(n.header[o].text); for (a = n.rows.length, o = 0; o < a; o++)for (l = n.rows[o], s = 0; s < l.length; s++)l[s].tokens = this.lexer.inline(l[s].text); return n }
        }
    } lheading(e) { const r = this.rules.block.lheading.exec(e); if (r) return { type: "heading", raw: r[0], depth: r[2].charAt(0) === "=" ? 1 : 2, text: r[1], tokens: this.lexer.inline(r[1]) } } paragraph(e) {
        const r = this.rules.block.paragraph.exec(e); if (r) {
            const n = r[1].charAt(r[1].length - 1) === `
`? r[1].slice(0, -1) : r[1]; return { type: "paragraph", raw: r[0], text: n, tokens: this.lexer.inline(n) }
        }
    } text(e) { const r = this.rules.block.text.exec(e); if (r) return { type: "text", raw: r[0], text: r[0], tokens: this.lexer.inline(r[0]) } } escape(e) { const r = this.rules.inline.escape.exec(e); if (r) return { type: "escape", raw: r[0], text: Kn(r[1]) } } tag(e) { const r = this.rules.inline.tag.exec(e); if (r) return !this.lexer.state.inLink && /^<a /i.test(r[0]) ? this.lexer.state.inLink = !0 : this.lexer.state.inLink && /^<\/a>/i.test(r[0]) && (this.lexer.state.inLink = !1), !this.lexer.state.inRawBlock && /^<(pre|code|kbd|script)(\s|>)/i.test(r[0]) ? this.lexer.state.inRawBlock = !0 : this.lexer.state.inRawBlock && /^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0]) && (this.lexer.state.inRawBlock = !1), { type: this.options.sanitize ? "text" : "html", raw: r[0], inLink: this.lexer.state.inLink, inRawBlock: this.lexer.state.inRawBlock, text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(r[0]) : Kn(r[0]) : r[0] } } link(e) { const r = this.rules.inline.link.exec(e); if (r) { const n = r[2].trim(); if (!this.options.pedantic && /^</.test(n)) { if (!/>$/.test(n)) return; const o = fy(n.slice(0, -1), "\\"); if ((n.length - o.length) % 2 === 0) return } else { const o = lte(r[2], "()"); if (o > -1) { const l = (r[0].indexOf("!") === 0 ? 5 : 4) + r[1].length + o; r[2] = r[2].substring(0, o), r[0] = r[0].substring(0, l).trim(), r[3] = "" } } let a = r[2], i = ""; if (this.options.pedantic) { const o = /^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(a); o && (a = o[1], i = o[3]) } else i = r[3] ? r[3].slice(1, -1) : ""; return a = a.trim(), /^</.test(a) && (this.options.pedantic && !/>$/.test(n) ? a = a.slice(1) : a = a.slice(1, -1)), QL(r, { href: a && a.replace(this.rules.inline._escapes, "$1"), title: i && i.replace(this.rules.inline._escapes, "$1") }, r[0], this.lexer) } } reflink(e, r) { let n; if ((n = this.rules.inline.reflink.exec(e)) || (n = this.rules.inline.nolink.exec(e))) { let a = (n[2] || n[1]).replace(/\s+/g, " "); if (a = r[a.toLowerCase()], !a) { const i = n[0].charAt(0); return { type: "text", raw: i, text: i } } return QL(n, a, n[0], this.lexer) } } emStrong(e, r, n = "") { let a = this.rules.inline.emStrong.lDelim.exec(e); if (!a || a[3] && n.match(/[\p{L}\p{N}]/u)) return; const i = a[1] || a[2] || ""; if (!i || i && (n === "" || this.rules.inline.punctuation.exec(n))) { const o = a[0].length - 1; let s, l, u = o, c = 0; const f = a[0][0] === "*" ? this.rules.inline.emStrong.rDelimAst : this.rules.inline.emStrong.rDelimUnd; for (f.lastIndex = 0, r = r.slice(-1 * e.length + o); (a = f.exec(r)) != null;) { if (s = a[1] || a[2] || a[3] || a[4] || a[5] || a[6], !s) continue; if (l = s.length, a[3] || a[4]) { u += l; continue } else if ((a[5] || a[6]) && o % 3 && !((o + l) % 3)) { c += l; continue } if (u -= l, u > 0) continue; l = Math.min(l, l + u + c); const h = e.slice(0, o + a.index + (a[0].length - s.length) + l); if (Math.min(o, l) % 2) { const v = h.slice(1, -1); return { type: "em", raw: h, text: v, tokens: this.lexer.inlineTokens(v) } } const d = h.slice(2, -2); return { type: "strong", raw: h, text: d, tokens: this.lexer.inlineTokens(d) } } } } codespan(e) { const r = this.rules.inline.code.exec(e); if (r) { let n = r[2].replace(/\n/g, " "); const a = /[^ ]/.test(n), i = /^ /.test(n) && / $/.test(n); return a && i && (n = n.substring(1, n.length - 1)), n = Kn(n, !0), { type: "codespan", raw: r[0], text: n } } } br(e) { const r = this.rules.inline.br.exec(e); if (r) return { type: "br", raw: r[0] } } del(e) { const r = this.rules.inline.del.exec(e); if (r) return { type: "del", raw: r[0], text: r[2], tokens: this.lexer.inlineTokens(r[2]) } } autolink(e, r) { const n = this.rules.inline.autolink.exec(e); if (n) { let a, i; return n[2] === "@" ? (a = Kn(this.options.mangle ? r(n[1]) : n[1]), i = "mailto:" + a) : (a = Kn(n[1]), i = a), { type: "link", raw: n[0], text: a, href: i, tokens: [{ type: "text", raw: a, text: a }] } } } url(e, r) { let n; if (n = this.rules.inline.url.exec(e)) { let a, i; if (n[2] === "@") a = Kn(this.options.mangle ? r(n[0]) : n[0]), i = "mailto:" + a; else { let o; do o = n[0], n[0] = this.rules.inline._backpedal.exec(n[0])[0]; while (o !== n[0]); a = Kn(n[0]), n[1] === "www." ? i = "http://" + n[0] : i = n[0] } return { type: "link", raw: n[0], text: a, href: i, tokens: [{ type: "text", raw: a, text: a }] } } } inlineText(e, r) { const n = this.rules.inline.text.exec(e); if (n) { let a; return this.lexer.state.inRawBlock ? a = this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(n[0]) : Kn(n[0]) : n[0] : a = Kn(this.options.smartypants ? r(n[0]) : n[0]), { type: "text", raw: n[0], text: a } } }
} const St = { newline: /^(?: *(?:\n|$))+/, code: /^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/, fences: /^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/, hr: /^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/, heading: /^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/, blockquote: /^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/, list: /^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/, html: "^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))", def: /^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/, table: Gy, lheading: /^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/, _paragraph: /^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/, text: /^[^\n]+/ }; St._label = /(?!\s*\])(?:\\.|[^\[\]\\])+/; St._title = /(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/; St.def = Er(St.def).replace("label", St._label).replace("title", St._title).getRegex(); St.bullet = /(?:[*+-]|\d{1,9}[.)])/; St.listItemStart = Er(/^( *)(bull) */).replace("bull", St.bullet).getRegex(); St.list = Er(St.list).replace(/bull/g, St.bullet).replace("hr", "\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def", "\\n+(?=" + St.def.source + ")").getRegex(); St._tag = "address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul"; St._comment = /<!--(?!-?>)[\s\S]*?(?:-->|$)/; St.html = Er(St.html, "i").replace("comment", St._comment).replace("tag", St._tag).replace("attribute", / +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(); St.paragraph = Er(St._paragraph).replace("hr", St.hr).replace("heading", " {0,3}#{1,6} ").replace("|lheading", "").replace("|table", "").replace("blockquote", " {0,3}>").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag", St._tag).getRegex(); St.blockquote = Er(St.blockquote).replace("paragraph", St.paragraph).getRegex(); St.normal = { ...St }; St.gfm = { ...St.normal, table: "^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)" }; St.gfm.table = Er(St.gfm.table).replace("hr", St.hr).replace("heading", " {0,3}#{1,6} ").replace("blockquote", " {0,3}>").replace("code", " {4}[^\\n]").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag", St._tag).getRegex(); St.gfm.paragraph = Er(St._paragraph).replace("hr", St.hr).replace("heading", " {0,3}#{1,6} ").replace("|lheading", "").replace("table", St.gfm.table).replace("blockquote", " {0,3}>").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag", St._tag).getRegex(); St.pedantic = {
    ...St.normal, html: Er(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment", St._comment).replace(/tag/g, "(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(), def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/, heading: /^(#{1,6})(.*)(?:\n+|$)/, fences: Gy, lheading: /^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/, paragraph: Er(St.normal._paragraph).replace("hr", St.hr).replace("heading", ` *#{1,6} *[^
]`).replace("lheading", St.lheading).replace("blockquote", " {0,3}>").replace("|fences", "").replace("|list", "").replace("|html", "").getRegex()
}; const tt = { escape: /^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/, autolink: /^<(scheme:[^\s\x00-\x1f<>]*|email)>/, url: Gy, tag: "^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>", link: /^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/, reflink: /^!?\[(label)\]\[(ref)\]/, nolink: /^!?\[(ref)\](?:\[\])?/, reflinkSearch: "reflink|nolink(?!\\()", emStrong: { lDelim: /^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/, rDelimAst: /^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/, rDelimUnd: /^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/ }, code: /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/, br: /^( {2,}|\\)\n(?!\s*$)/, del: Gy, text: /^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/, punctuation: /^([\spunctuation])/ }; tt._punctuation = "!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"; tt.punctuation = Er(tt.punctuation).replace(/punctuation/g, tt._punctuation).getRegex(); tt.blockSkip = /\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g; tt.escapedEmSt = /(?:^|[^\\])(?:\\\\)*\\[*_]/g; tt._comment = Er(St._comment).replace("(?:-->|$)", "-->").getRegex(); tt.emStrong.lDelim = Er(tt.emStrong.lDelim).replace(/punct/g, tt._punctuation).getRegex(); tt.emStrong.rDelimAst = Er(tt.emStrong.rDelimAst, "g").replace(/punct/g, tt._punctuation).getRegex(); tt.emStrong.rDelimUnd = Er(tt.emStrong.rDelimUnd, "g").replace(/punct/g, tt._punctuation).getRegex(); tt._escapes = /\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g; tt._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/; tt._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/; tt.autolink = Er(tt.autolink).replace("scheme", tt._scheme).replace("email", tt._email).getRegex(); tt._attribute = /\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/; tt.tag = Er(tt.tag).replace("comment", tt._comment).replace("attribute", tt._attribute).getRegex(); tt._label = /(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/; tt._href = /<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/; tt._title = /"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/; tt.link = Er(tt.link).replace("label", tt._label).replace("href", tt._href).replace("title", tt._title).getRegex(); tt.reflink = Er(tt.reflink).replace("label", tt._label).replace("ref", St._label).getRegex(); tt.nolink = Er(tt.nolink).replace("ref", St._label).getRegex(); tt.reflinkSearch = Er(tt.reflinkSearch, "g").replace("reflink", tt.reflink).replace("nolink", tt.nolink).getRegex(); tt.normal = { ...tt }; tt.pedantic = { ...tt.normal, strong: { start: /^__|\*\*/, middle: /^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/, endAst: /\*\*(?!\*)/g, endUnd: /__(?!_)/g }, em: { start: /^_|\*/, middle: /^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/, endAst: /\*(?!\*)/g, endUnd: /_(?!_)/g }, link: Er(/^!?\[(label)\]\((.*?)\)/).replace("label", tt._label).getRegex(), reflink: Er(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label", tt._label).getRegex() }; tt.gfm = { ...tt.normal, escape: Er(tt.escape).replace("])", "~|])").getRegex(), _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/, url: /^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/, _backpedal: /(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/, del: /^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/, text: /^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/ }; tt.gfm.url = Er(tt.gfm.url, "i").replace("email", tt.gfm._extended_email).getRegex(); tt.breaks = { ...tt.gfm, br: Er(tt.br).replace("{2,}", "*").getRegex(), text: Er(tt.gfm.text).replace("\\b_", "\\b_| {2,}\\n").replace(/\{2,\}/g, "*").getRegex() }; function fte(t) { return t.replace(/---/g, "—").replace(/--/g, "–").replace(/(^|[-\u2014/(\[{"\s])'/g, "$1‘").replace(/'/g, "’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g, "$1“").replace(/"/g, "”").replace(/\.{3}/g, "…") } function JL(t) { let e = "", r, n; const a = t.length; for (r = 0; r < a; r++)n = t.charCodeAt(r), Math.random() > .5 && (n = "x" + n.toString(16)), e += "&#" + n + ";"; return e } class jl {
    constructor(e) { this.tokens = [], this.tokens.links = Object.create(null), this.options = e || Gc, this.options.tokenizer = this.options.tokenizer || new ED, this.tokenizer = this.options.tokenizer, this.tokenizer.options = this.options, this.tokenizer.lexer = this, this.inlineQueue = [], this.state = { inLink: !1, inRawBlock: !1, top: !0 }; const r = { block: St.normal, inline: tt.normal }; this.options.pedantic ? (r.block = St.pedantic, r.inline = tt.pedantic) : this.options.gfm && (r.block = St.gfm, this.options.breaks ? r.inline = tt.breaks : r.inline = tt.gfm), this.tokenizer.rules = r } static get rules() { return { block: St, inline: tt } } static lex(e, r) { return new jl(r).lex(e) } static lexInline(e, r) { return new jl(r).inlineTokens(e) } lex(e) {
        e = e.replace(/\r\n|\r/g, `
`), this.blockTokens(e, this.tokens); let r; for (; r = this.inlineQueue.shift();)this.inlineTokens(r.src, r.tokens); return this.tokens
    } blockTokens(e, r = []) {
        this.options.pedantic ? e = e.replace(/\t/g, "    ").replace(/^ +$/gm, "") : e = e.replace(/^( *)(\t+)/gm, (s, l, u) => l + "    ".repeat(u.length)); let n, a, i, o; for (; e;)if (!(this.options.extensions && this.options.extensions.block && this.options.extensions.block.some(s => (n = s.call({ lexer: this }, e, r)) ? (e = e.substring(n.raw.length), r.push(n), !0) : !1))) {
            if (n = this.tokenizer.space(e)) {
                e = e.substring(n.raw.length), n.raw.length === 1 && r.length > 0 ? r[r.length - 1].raw += `
`: r.push(n); continue
            } if (n = this.tokenizer.code(e)) {
                e = e.substring(n.raw.length), a = r[r.length - 1], a && (a.type === "paragraph" || a.type === "text") ? (a.raw += `
`+ n.raw, a.text += `
`+ n.text, this.inlineQueue[this.inlineQueue.length - 1].src = a.text) : r.push(n); continue
            } if (n = this.tokenizer.fences(e)) { e = e.substring(n.raw.length), r.push(n); continue } if (n = this.tokenizer.heading(e)) { e = e.substring(n.raw.length), r.push(n); continue } if (n = this.tokenizer.hr(e)) { e = e.substring(n.raw.length), r.push(n); continue } if (n = this.tokenizer.blockquote(e)) { e = e.substring(n.raw.length), r.push(n); continue } if (n = this.tokenizer.list(e)) { e = e.substring(n.raw.length), r.push(n); continue } if (n = this.tokenizer.html(e)) { e = e.substring(n.raw.length), r.push(n); continue } if (n = this.tokenizer.def(e)) {
                e = e.substring(n.raw.length), a = r[r.length - 1], a && (a.type === "paragraph" || a.type === "text") ? (a.raw += `
`+ n.raw, a.text += `
`+ n.raw, this.inlineQueue[this.inlineQueue.length - 1].src = a.text) : this.tokens.links[n.tag] || (this.tokens.links[n.tag] = { href: n.href, title: n.title }); continue
            } if (n = this.tokenizer.table(e)) { e = e.substring(n.raw.length), r.push(n); continue } if (n = this.tokenizer.lheading(e)) { e = e.substring(n.raw.length), r.push(n); continue } if (i = e, this.options.extensions && this.options.extensions.startBlock) { let s = 1 / 0; const l = e.slice(1); let u; this.options.extensions.startBlock.forEach(function (c) { u = c.call({ lexer: this }, l), typeof u == "number" && u >= 0 && (s = Math.min(s, u)) }), s < 1 / 0 && s >= 0 && (i = e.substring(0, s + 1)) } if (this.state.top && (n = this.tokenizer.paragraph(i))) {
                a = r[r.length - 1], o && a.type === "paragraph" ? (a.raw += `
`+ n.raw, a.text += `
`+ n.text, this.inlineQueue.pop(), this.inlineQueue[this.inlineQueue.length - 1].src = a.text) : r.push(n), o = i.length !== e.length, e = e.substring(n.raw.length); continue
            } if (n = this.tokenizer.text(e)) {
                e = e.substring(n.raw.length), a = r[r.length - 1], a && a.type === "text" ? (a.raw += `
`+ n.raw, a.text += `
`+ n.text, this.inlineQueue.pop(), this.inlineQueue[this.inlineQueue.length - 1].src = a.text) : r.push(n); continue
            } if (e) { const s = "Infinite loop on byte: " + e.charCodeAt(0); if (this.options.silent) { console.error(s); break } else throw new Error(s) }
        } return this.state.top = !0, r
    } inline(e, r = []) { return this.inlineQueue.push({ src: e, tokens: r }), r } inlineTokens(e, r = []) { let n, a, i, o = e, s, l, u; if (this.tokens.links) { const c = Object.keys(this.tokens.links); if (c.length > 0) for (; (s = this.tokenizer.rules.inline.reflinkSearch.exec(o)) != null;)c.includes(s[0].slice(s[0].lastIndexOf("[") + 1, -1)) && (o = o.slice(0, s.index) + "[" + KL("a", s[0].length - 2) + "]" + o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex)) } for (; (s = this.tokenizer.rules.inline.blockSkip.exec(o)) != null;)o = o.slice(0, s.index) + "[" + KL("a", s[0].length - 2) + "]" + o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex); for (; (s = this.tokenizer.rules.inline.escapedEmSt.exec(o)) != null;)o = o.slice(0, s.index + s[0].length - 2) + "++" + o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex), this.tokenizer.rules.inline.escapedEmSt.lastIndex--; for (; e;)if (l || (u = ""), l = !1, !(this.options.extensions && this.options.extensions.inline && this.options.extensions.inline.some(c => (n = c.call({ lexer: this }, e, r)) ? (e = e.substring(n.raw.length), r.push(n), !0) : !1))) { if (n = this.tokenizer.escape(e)) { e = e.substring(n.raw.length), r.push(n); continue } if (n = this.tokenizer.tag(e)) { e = e.substring(n.raw.length), a = r[r.length - 1], a && n.type === "text" && a.type === "text" ? (a.raw += n.raw, a.text += n.text) : r.push(n); continue } if (n = this.tokenizer.link(e)) { e = e.substring(n.raw.length), r.push(n); continue } if (n = this.tokenizer.reflink(e, this.tokens.links)) { e = e.substring(n.raw.length), a = r[r.length - 1], a && n.type === "text" && a.type === "text" ? (a.raw += n.raw, a.text += n.text) : r.push(n); continue } if (n = this.tokenizer.emStrong(e, o, u)) { e = e.substring(n.raw.length), r.push(n); continue } if (n = this.tokenizer.codespan(e)) { e = e.substring(n.raw.length), r.push(n); continue } if (n = this.tokenizer.br(e)) { e = e.substring(n.raw.length), r.push(n); continue } if (n = this.tokenizer.del(e)) { e = e.substring(n.raw.length), r.push(n); continue } if (n = this.tokenizer.autolink(e, JL)) { e = e.substring(n.raw.length), r.push(n); continue } if (!this.state.inLink && (n = this.tokenizer.url(e, JL))) { e = e.substring(n.raw.length), r.push(n); continue } if (i = e, this.options.extensions && this.options.extensions.startInline) { let c = 1 / 0; const f = e.slice(1); let h; this.options.extensions.startInline.forEach(function (d) { h = d.call({ lexer: this }, f), typeof h == "number" && h >= 0 && (c = Math.min(c, h)) }), c < 1 / 0 && c >= 0 && (i = e.substring(0, c + 1)) } if (n = this.tokenizer.inlineText(i, fte)) { e = e.substring(n.raw.length), n.raw.slice(-1) !== "_" && (u = n.raw.slice(-1)), l = !0, a = r[r.length - 1], a && a.type === "text" ? (a.raw += n.raw, a.text += n.text) : r.push(n); continue } if (e) { const c = "Infinite loop on byte: " + e.charCodeAt(0); if (this.options.silent) { console.error(c); break } else throw new Error(c) } } return r }
} class ND {
    constructor(e) { this.options = e || Gc } code(e, r, n) {
        const a = (r || "").match(/\S*/)[0]; if (this.options.highlight) { const i = this.options.highlight(e, a); i != null && i !== e && (n = !0, e = i) } return e = e.replace(/\n$/, "") + `
`, a ? '<pre><code class="' + this.options.langPrefix + Kn(a) + '">' + (n ? e : Kn(e, !0)) + `</code></pre>
`: "<pre><code>" + (n ? e : Kn(e, !0)) + `</code></pre>
`} blockquote(e) {
        return `<blockquote>
${e}</blockquote>
`} html(e) { return e } heading(e, r, n, a) {
        if (this.options.headerIds) {
            const i = this.options.headerPrefix + a.slug(n); return `<h${r} id="${i}">${e}</h${r}>
`} return `<h${r}>${e}</h${r}>
`} hr() {
        return this.options.xhtml ? `<hr/>
`: `<hr>
`} list(e, r, n) {
        const a = r ? "ol" : "ul", i = r && n !== 1 ? ' start="' + n + '"' : ""; return "<" + a + i + `>
`+ e + "</" + a + `>
`} listitem(e) {
        return `<li>${e}</li>
`} checkbox(e) { return "<input " + (e ? 'checked="" ' : "") + 'disabled="" type="checkbox"' + (this.options.xhtml ? " /" : "") + "> " } paragraph(e) {
        return `<p>${e}</p>
`} table(e, r) {
        return r && (r = `<tbody>${r}</tbody>`), `<table>
<thead>
`+ e + `</thead>
`+ r + `</table>
`} tablerow(e) {
        return `<tr>
${e}</tr>
`} tablecell(e, r) {
        const n = r.header ? "th" : "td"; return (r.align ? `<${n} align="${r.align}">` : `<${n}>`) + e + `</${n}>
`} strong(e) { return `<strong>${e}</strong>` } em(e) { return `<em>${e}</em>` } codespan(e) { return `<code>${e}</code>` } br() { return this.options.xhtml ? "<br/>" : "<br>" } del(e) { return `<del>${e}</del>` } link(e, r, n) { if (e = qL(this.options.sanitize, this.options.baseUrl, e), e === null) return n; let a = '<a href="' + e + '"'; return r && (a += ' title="' + r + '"'), a += ">" + n + "</a>", a } image(e, r, n) { if (e = qL(this.options.sanitize, this.options.baseUrl, e), e === null) return n; let a = `<img src="${e}" alt="${n}"`; return r && (a += ` title="${r}"`), a += this.options.xhtml ? "/>" : ">", a } text(e) { return e }
} class o4 { strong(e) { return e } em(e) { return e } codespan(e) { return e } del(e) { return e } html(e) { return e } text(e) { return e } link(e, r, n) { return "" + n } image(e, r, n) { return "" + n } br() { return "" } } class s4 { constructor() { this.seen = {} } serialize(e) { return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig, "").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g, "").replace(/\s/g, "-") } getNextSafeSlug(e, r) { let n = e, a = 0; if (this.seen.hasOwnProperty(n)) { a = this.seen[e]; do a++, n = e + "-" + a; while (this.seen.hasOwnProperty(n)) } return r || (this.seen[e] = a, this.seen[n] = 0), n } slug(e, r = {}) { const n = this.serialize(e); return this.getNextSafeSlug(n, r.dryrun) } } let Wp = class Gx {
    constructor(e) { this.options = e || Gc, this.options.renderer = this.options.renderer || new ND, this.renderer = this.options.renderer, this.renderer.options = this.options, this.textRenderer = new o4, this.slugger = new s4 } static parse(e, r) { return new Gx(r).parse(e) } static parseInline(e, r) { return new Gx(r).parseInline(e) } parse(e, r = !0) {
        let n = "", a, i, o, s, l, u, c, f, h, d, v, p, g, m, y, _, b, x, S; const T = e.length; for (a = 0; a < T; a++) {
            if (d = e[a], this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[d.type] && (S = this.options.extensions.renderers[d.type].call({ parser: this }, d), S !== !1 || !["space", "hr", "heading", "code", "table", "blockquote", "list", "html", "paragraph", "text"].includes(d.type))) { n += S || ""; continue } switch (d.type) {
                case "space": continue; case "hr": { n += this.renderer.hr(); continue } case "heading": { n += this.renderer.heading(this.parseInline(d.tokens), d.depth, i4(this.parseInline(d.tokens, this.textRenderer)), this.slugger); continue } case "code": { n += this.renderer.code(d.text, d.lang, d.escaped); continue } case "table": { for (f = "", c = "", s = d.header.length, i = 0; i < s; i++)c += this.renderer.tablecell(this.parseInline(d.header[i].tokens), { header: !0, align: d.align[i] }); for (f += this.renderer.tablerow(c), h = "", s = d.rows.length, i = 0; i < s; i++) { for (u = d.rows[i], c = "", l = u.length, o = 0; o < l; o++)c += this.renderer.tablecell(this.parseInline(u[o].tokens), { header: !1, align: d.align[o] }); h += this.renderer.tablerow(c) } n += this.renderer.table(f, h); continue } case "blockquote": { h = this.parse(d.tokens), n += this.renderer.blockquote(h); continue } case "list": { for (v = d.ordered, p = d.start, g = d.loose, s = d.items.length, h = "", i = 0; i < s; i++)y = d.items[i], _ = y.checked, b = y.task, m = "", y.task && (x = this.renderer.checkbox(_), g ? y.tokens.length > 0 && y.tokens[0].type === "paragraph" ? (y.tokens[0].text = x + " " + y.tokens[0].text, y.tokens[0].tokens && y.tokens[0].tokens.length > 0 && y.tokens[0].tokens[0].type === "text" && (y.tokens[0].tokens[0].text = x + " " + y.tokens[0].tokens[0].text)) : y.tokens.unshift({ type: "text", text: x }) : m += x), m += this.parse(y.tokens, g), h += this.renderer.listitem(m, b, _); n += this.renderer.list(h, v, p); continue } case "html": { n += this.renderer.html(d.text); continue } case "paragraph": { n += this.renderer.paragraph(this.parseInline(d.tokens)); continue } case "text": {
                    for (h = d.tokens ? this.parseInline(d.tokens) : d.text; a + 1 < T && e[a + 1].type === "text";)d = e[++a], h += `
`+ (d.tokens ? this.parseInline(d.tokens) : d.text); n += r ? this.renderer.paragraph(h) : h; continue
                } default: { const C = 'Token with "' + d.type + '" type was not found.'; if (this.options.silent) { console.error(C); return } else throw new Error(C) }
            }
        } return n
    } parseInline(e, r) { r = r || this.renderer; let n = "", a, i, o; const s = e.length; for (a = 0; a < s; a++) { if (i = e[a], this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[i.type] && (o = this.options.extensions.renderers[i.type].call({ parser: this }, i), o !== !1 || !["escape", "html", "link", "image", "strong", "em", "codespan", "br", "del", "text"].includes(i.type))) { n += o || ""; continue } switch (i.type) { case "escape": { n += r.text(i.text); break } case "html": { n += r.html(i.text); break } case "link": { n += r.link(i.href, i.title, this.parseInline(i.tokens, r)); break } case "image": { n += r.image(i.href, i.title, i.text); break } case "strong": { n += r.strong(this.parseInline(i.tokens, r)); break } case "em": { n += r.em(this.parseInline(i.tokens, r)); break } case "codespan": { n += r.codespan(i.text); break } case "br": { n += r.br(); break } case "del": { n += r.del(this.parseInline(i.tokens, r)); break } case "text": { n += r.text(i.text); break } default: { const l = 'Token with "' + i.type + '" type was not found.'; if (this.options.silent) { console.error(l); return } else throw new Error(l) } } } return n }
}; class jy { constructor(e) { this.options = e || Gc } preprocess(e) { return e } postprocess(e) { return e } } PA(jy, "passThroughHooks", new Set(["preprocess", "postprocess"])); function hte(t, e, r) {
    return n => {
        if (n.message += `
Please report this to https://github.com/markedjs/marked.`, t) { const a = "<p>An error occurred:</p><pre>" + Kn(n.message + "", !0) + "</pre>"; if (e) return Promise.resolve(a); if (r) { r(null, a); return } return a } if (e) return Promise.reject(n); if (r) { r(n); return } throw n
    }
} function l4(t, e) { return (r, n, a) => { typeof n == "function" && (a = n, n = null); const i = { ...n }; n = { ...pt.defaults, ...i }; const o = hte(n.silent, n.async, a); if (typeof r > "u" || r === null) return o(new Error("marked(): input parameter is undefined or null")); if (typeof r != "string") return o(new Error("marked(): input parameter is of type " + Object.prototype.toString.call(r) + ", string expected")); if (ute(n), n.hooks && (n.hooks.options = n), a) { const s = n.highlight; let l; try { n.hooks && (r = n.hooks.preprocess(r)), l = t(r, n) } catch (f) { return o(f) } const u = function (f) { let h; if (!f) try { n.walkTokens && pt.walkTokens(l, n.walkTokens), h = e(l, n), n.hooks && (h = n.hooks.postprocess(h)) } catch (d) { f = d } return n.highlight = s, f ? o(f) : a(null, h) }; if (!s || s.length < 3 || (delete n.highlight, !l.length)) return u(); let c = 0; pt.walkTokens(l, function (f) { f.type === "code" && (c++, setTimeout(() => { s(f.text, f.lang, function (h, d) { if (h) return u(h); d != null && d !== f.text && (f.text = d, f.escaped = !0), c--, c === 0 && u() }) }, 0)) }), c === 0 && u(); return } if (n.async) return Promise.resolve(n.hooks ? n.hooks.preprocess(r) : r).then(s => t(s, n)).then(s => n.walkTokens ? Promise.all(pt.walkTokens(s, n.walkTokens)).then(() => s) : s).then(s => e(s, n)).then(s => n.hooks ? n.hooks.postprocess(s) : s).catch(o); try { n.hooks && (r = n.hooks.preprocess(r)); const s = t(r, n); n.walkTokens && pt.walkTokens(s, n.walkTokens); let l = e(s, n); return n.hooks && (l = n.hooks.postprocess(l)), l } catch (s) { return o(s) } } } function pt(t, e, r) { return l4(jl.lex, Wp.parse)(t, e, r) } pt.options = pt.setOptions = function (t) { return pt.defaults = { ...pt.defaults, ...t }, Xee(pt.defaults), pt }; pt.getDefaults = r4; pt.defaults = Gc; pt.use = function (...t) { const e = pt.defaults.extensions || { renderers: {}, childTokens: {} }; t.forEach(r => { const n = { ...r }; if (n.async = pt.defaults.async || n.async || !1, r.extensions && (r.extensions.forEach(a => { if (!a.name) throw new Error("extension name required"); if (a.renderer) { const i = e.renderers[a.name]; i ? e.renderers[a.name] = function (...o) { let s = a.renderer.apply(this, o); return s === !1 && (s = i.apply(this, o)), s } : e.renderers[a.name] = a.renderer } if (a.tokenizer) { if (!a.level || a.level !== "block" && a.level !== "inline") throw new Error("extension level must be 'block' or 'inline'"); e[a.level] ? e[a.level].unshift(a.tokenizer) : e[a.level] = [a.tokenizer], a.start && (a.level === "block" ? e.startBlock ? e.startBlock.push(a.start) : e.startBlock = [a.start] : a.level === "inline" && (e.startInline ? e.startInline.push(a.start) : e.startInline = [a.start])) } a.childTokens && (e.childTokens[a.name] = a.childTokens) }), n.extensions = e), r.renderer) { const a = pt.defaults.renderer || new ND; for (const i in r.renderer) { const o = a[i]; a[i] = (...s) => { let l = r.renderer[i].apply(a, s); return l === !1 && (l = o.apply(a, s)), l } } n.renderer = a } if (r.tokenizer) { const a = pt.defaults.tokenizer || new ED; for (const i in r.tokenizer) { const o = a[i]; a[i] = (...s) => { let l = r.tokenizer[i].apply(a, s); return l === !1 && (l = o.apply(a, s)), l } } n.tokenizer = a } if (r.hooks) { const a = pt.defaults.hooks || new jy; for (const i in r.hooks) { const o = a[i]; jy.passThroughHooks.has(i) ? a[i] = s => { if (pt.defaults.async) return Promise.resolve(r.hooks[i].call(a, s)).then(u => o.call(a, u)); const l = r.hooks[i].call(a, s); return o.call(a, l) } : a[i] = (...s) => { let l = r.hooks[i].apply(a, s); return l === !1 && (l = o.apply(a, s)), l } } n.hooks = a } if (r.walkTokens) { const a = pt.defaults.walkTokens; n.walkTokens = function (i) { let o = []; return o.push(r.walkTokens.call(this, i)), a && (o = o.concat(a.call(this, i))), o } } pt.setOptions(n) }) }; pt.walkTokens = function (t, e) { let r = []; for (const n of t) switch (r = r.concat(e.call(pt, n)), n.type) { case "table": { for (const a of n.header) r = r.concat(pt.walkTokens(a.tokens, e)); for (const a of n.rows) for (const i of a) r = r.concat(pt.walkTokens(i.tokens, e)); break } case "list": { r = r.concat(pt.walkTokens(n.items, e)); break } default: pt.defaults.extensions && pt.defaults.extensions.childTokens && pt.defaults.extensions.childTokens[n.type] ? pt.defaults.extensions.childTokens[n.type].forEach(function (a) { r = r.concat(pt.walkTokens(n[a], e)) }) : n.tokens && (r = r.concat(pt.walkTokens(n.tokens, e))) }return r }; pt.parseInline = l4(jl.lexInline, Wp.parseInline); pt.Parser = Wp; pt.parser = Wp.parse; pt.Renderer = ND; pt.TextRenderer = o4; pt.Lexer = jl; pt.lexer = jl.lex; pt.Tokenizer = ED; pt.Slugger = s4; pt.Hooks = jy; pt.parse = pt; pt.options; pt.setOptions; pt.use; pt.walkTokens; pt.parseInline; Wp.parse; jl.lex; const dte = { class: "date" }, vte = { class: "weather" }, pte = ["src", "alt"], gte = { class: "week" }, mte = { key: 0, class: "article-body" }, yte = { class: "title" }, _te = ["innerHTML"], bte = { key: 1, class: "article-body" }, wte = { class: "title" }, Ste = ["innerHTML"], xte = ["innerHTML"], Tte = Ue({
    __name: "DiaryListItemLong", props: { diary: { type: Object, required: !0 } }, setup(t) {
        const e = Vt(), r = Ki(), n = t, a = De(() => Number(r.params.id) === Number(n.diary.id)), i = De(() => a.value ? "_white" : ""), o = De(() => a.value ? `
                      background-color: ${e.categoryObjectMap.get(n.diary.category).color};
                `: ""), s = De(() => pt.parse(n.diary.content)), l = De(() => {
            if (!a.value) return `
                      color:  ${e.categoryObjectMap.get(n.diary.category).color}
                `}); return (u, c) => { const f = In("router-link"); return $(), j("div", { class: Be(["article", { active: a.value }]) }, [de(f, { style: at(o.value), to: `/detail/${n.diary.id}`, class: Be(["article-header"]) }, { default: Me(() => [P("div", dte, fe(n.diary.dateString), 1), P("div", vte, [n.diary.weather ? ($(), j("img", { key: 0, src: Y(ke).weather_icons[n.diary.weather + i.value], alt: n.diary.weather }, null, 8, pte)) : ce("", !0)]), P("div", gte, fe(n.diary.weekday), 1), P("div", { class: "category", style: at(l.value) }, fe(n.diary.categoryString), 5)]), _: 1 }, 8, ["style", "to"]), Y(e).isHideContent ? ($(), j("div", mte, [P("div", yte, fe(n.diary.title.replace(/[^，。 \n]/g, "*")), 1), P("div", { class: "content", innerHTML: n.diary.contentHtml.replace(/[^，。 \n]/g, "*") }, null, 8, _te)])) : ($(), j("div", bte, [P("div", wte, fe(n.diary.title), 1), n.diary.is_markdown === 1 ? ($(), j("div", { key: 0, class: "markdown", innerHTML: s.value }, null, 8, Ste)) : ($(), j("div", { key: 1, class: "content", innerHTML: n.diary.contentHtml }, null, 8, xte))]))], 2) }
    }
}); const Dte = Et(Tte, [["__scopeId", "data-v-250443ea"]]), $D = t => (ba("data-v-c4e5495d"), t = t(), wa(), t), Cte = { key: 0, class: "loading" }, Mte = $D(() => P("div", { class: "loading-1 loading-item" }, null, -1)), kte = $D(() => P("div", { class: "loading-2 loading-item" }, null, -1)), Ate = $D(() => P("div", { class: "loading-3 loading-item" }, null, -1)), Lte = [Mte, kte, Ate], Ite = Ue({ __name: "Loading", props: { loading: { type: Boolean, default: !1 } }, setup(t) { const e = t; return (r, n) => e.loading ? ($(), j("div", Cte, Lte)) : ce("", !0) } }); const Gi = Et(Ite, [["__scopeId", "data-v-c4e5495d"]]); const Pte = { name: "ListHeader", props: { title: { type: String, require: !0 }, size: { type: String } } }; function Rte(t, e, r, n, a, i) { return $(), j("div", { class: Be(["list-header", { big: r.size === "big" }, { medium: r.size === "medium" }]) }, fe(r.title), 3) } const eI = Et(Pte, [["render", Rte], ["__scopeId", "data-v-de8b83c0"]]), Ote = { key: 0, class: "search-bar" }, Ete = { key: 0, class: "diary-list-group" }, Nte = { key: 1, class: "diary-list-group" }, $te = { key: 2, class: "pt-4 pb-4" }, Fte = { class: "end-of-diary" }, Bte = { key: 0, class: "no-diary-list" }, Vte = ["src"], zte = ["src"], Hte = Ue({ __name: "List", setup(t) { const e = Vt(), r = wn(), n = Ki(), a = ne(!0), i = ne(!0), o = ne([]), s = ne([]), { isShowSearchBar: l, isListNeedBeReload: u, listOperation: c } = L_(e), f = ne({ keywords: "", pageNo: 1, pageSize: 100, categories: "", filterShared: 0, dateFilterString: "" }); Lt(() => { document.title = "日记", d.value = e.keywords && e.keywords.join(" "), Dr(() => { _() }), e.isShowSearchBar = !!d.value, g() }); function h() { console.log("diaries changed"); let b = []; if (o.value.length > 0) { let x = o.value[0], S = Hr(new Date(x.date), "yyyy-MM-dd"); b.push({ date: S.substring(0, 7) }); let T = Number(S.slice(8, 10)), C = {}; if (Object.assign(C, x), C.date = T, C.is_public = C.is_public === 1, b.push(C), o.value.length > 1) for (let M = 1; M < o.value.length; M++) { x = o.value[M - 1]; let k = o.value[M], A = Hr(new Date(x.date), "yyyy-MM-dd"), R = Hr(new Date(k.date), "yyyy-MM-dd"), N = A.substring(0, 7); Number(A.substring(8, 10)); let z = R.substring(0, 7), F = Number(R.substring(8, 10)); N !== z && b.push({ date: R.substring(0, 7) }); let V = {}; Object.assign(V, k), V.is_public = k.is_public === 1, V.date = R === A ? "" : F, b.push(V) } } s.value = b } const d = ne(""); function v() { g() } mt(l, b => { b && Dr(() => { document.querySelector("#keyword").focus() }) }), mt(d, b => { b ? e.SET_KEYWORD(b.split(" ")) : e.SET_KEYWORD([]) }); function p() { e.SET_KEYWORD([]), d.value = "", v() } function g() { f.value.pageNo = 1, f.value.keywords = JSON.stringify(e.keywords), o.value = [], s.value = [], m() } function m() { a.value = !1, i.value = !0, f.value.categories = JSON.stringify(e.filteredCategories), f.value.dateFilterString = e.dateFilterString, f.value.filterShared = e.isFilterShared ? 1 : 0, y() } function y() { Pa.list(f.value).then(b => { let x = b.data.map(S => (S.content && (S.contentHtml = S.content.replace(/\n/g, "<br/>")), S.categoryString = e.categoryNameMap.get(S.category), S.weekday = Gl(S.date).weekday, S.dateString = Gl(S.date).date, S)); b.data.length === f.value.pageSize ? (a.value = !0, f.value.pageNo++) : a.value = !1, o.value = o.value.concat(x), h() }).finally(() => { e.isListNeedBeReload = !1, i.value = !1 }) } function _() { document.querySelector(".diary-list-container").addEventListener("scroll", () => { function b() { let x = document.querySelector(".diary-list-group > div:last-child"); if (!x) return !1; let S = x.offsetTop, T = window.innerHeight, M = document.querySelector(".diary-list-container").scrollTop; return S < T + M + innerHeight } a.value && b() && m() }) } return mt(n, b => { b.path === "/" && g() }), mt(u, b => { b && g() }), mt(c, ({ type: b, diary: x, id: S }) => { switch (b) { case "add": let T = 0; for (let C = 0; C < o.value.length; C++) { let M = o.value[C]; if (x.date > M.date) { T = C; break } } o.value.splice(T, 0, x), h(); break; case "delete": o.value.map((C, M) => { C.id === S && (o.value.splice(M, 1), o.value[M] ? r.push({ name: "Detail", params: { id: o.value[M].id } }) : r.push({ name: "Index" })) }), h(); break; case "change": o.value.map((C, M) => { Number(C.id) === Number(x.id) && o.value.splice(M, 1, x) }), h(); break } }), (b, x) => ($(), j("div", { class: "diary-list-group-container", style: at(`min-height: ${Y(e).insets.heightPanel}px`) }, [de(Cr, { "enter-active-class": "animated-fast slideInDown", "leave-active-class": "animated-fast slideOutUp" }, { default: Me(() => [Y(e).isShowSearchBar ? ($(), j("div", Ote, [P("form", { onSubmit: hn(v, ["prevent"]) }, [Ot(P("input", { id: "keyword", type: "text", placeholder: "搜索内容", "onUpdate:modelValue": x[0] || (x[0] = S => d.value = S) }, null, 512), [[fn, d.value]]), Ot(P("span", { onClick: p, class: "clear" }, "✕", 512), [[un, d.value.length > 0]])], 32)])) : ce("", !0)]), _: 1 }), Y(e).isDiaryListShowedInFullStyle ? ($(), j("div", Nte, [($(!0), j(Ve, null, It(s.value, (S, T) => ($(), j("div", { key: T }, [S.title ? ($(), Ie(Dte, { key: 1, diary: S }, null, 8, ["diary"])) : ($(), Ie(eI, { key: 0, size: "big", title: S.date }, null, 8, ["title"]))]))), 128))])) : ($(), j("div", Ete, [($(!0), j(Ve, null, It(s.value, (S, T) => ($(), j("div", { key: T }, [S.title ? ($(), Ie(qee, { key: 1, isActive: Y(n).params.id === String(S.id), category: S.category, diary: S }, null, 8, ["isActive", "category", "diary"])) : ($(), Ie(eI, { key: 0, size: "", title: S.date }, null, 8, ["title"]))]))), 128))])), i.value ? ($(), j("div", $te, [de(Gi, { loading: i.value }, null, 8, ["loading"])])) : ce("", !0), Ot(P("div", Fte, [o.value.length < 1 ? ($(), j("div", Bte, "无日记")) : ce("", !0), P("p", null, [Y(e).colorMode === "light" ? ($(), j("img", { key: 0, src: Y(ke).EOF, alt: "EOF" }, null, 8, Vte)) : ($(), j("img", { key: 1, src: Y(ke).EOFDark, alt: "EOF" }, null, 8, zte))])], 512), [[un, !i.value && !a.value]])], 4)) } }); const u4 = Et(Hte, [["__scopeId", "data-v-6be704a0"]]), Yte = ["alt", "title", "src"], Ute = Ue({ __name: "TabIcon", props: { alt: { type: String, require: !0 }, size: { type: String, default: "" } }, setup(t) { const e = t, r = De(() => { let n = new Map; return n.set("LOGO", ke.logo_icons.logo), n.set("保存", ke.tab_icons.done), n.set("确定", ke.tab_icons.done), n.set("确定-已保存", ke.tab_icons.doneSaved), n.set("确定-已变化", ke.tab_icons.doneChanged), n.set("添加", ke.tab_icons.add), n.set("关闭", ke.tab_icons.close), n.set("返回", ke.tab_icons.back), n.set("删除", ke.tab_icons.delete), n.set("编辑", ke.tab_icons.edit), n.set("菜单", ke.tab_icons.menu), n.set("恢复", ke.tab_icons.recover), n.set("搜索", ke.tab_icons.search), n.set("分享", ke.tab_icons.share), n.set("账单", ke.tab_icons.bill), n.set("其它", ke.tab_icons.others), n.set("银行卡", ke.tab_icons.card), n.set("文件", ke.tab_icons.folder), n.set("待办", ke.tab_icons.todo), n.set("待办-显示", ke.tab_icons.todoActive), n.set("内容隐藏", ke.tab_icons.contentHide), n.set("内容显示", ke.tab_icons.contentShow), n.set("列表简洁", ke.tab_icons.listSimple), n.set("列表详情", ke.tab_icons.listDetail), n.set("黑色-添加", ke.tab_icons_black.add), n.set("黑色-确定", ke.tab_icons_black.done), n.set("黑色-关闭", ke.tab_icons_black.close), n.set("黑色-返回", ke.tab_icons_black.back), n.set("黑色-删除", ke.tab_icons_black.delete), n.set("黑色-编辑", ke.tab_icons_black.edit), n.set("黑色-菜单", ke.tab_icons_black.menu), n.set("黑色-恢复", ke.tab_icons_black.recover), n.set("黑色-搜索", ke.tab_icons_black.search), n.set("黑色-分享", ke.tab_icons_black.share), n.set("黑色-账单", ke.tab_icons_black.bill), n.set("黑色-其它", ke.tab_icons_black.others), n.set("黑色-银行卡", ke.tab_icons_black.card), n.set("黑色-文件", ke.tab_icons_black.folder), n.set("黑色-待办", ke.tab_icons_black.todo), n.set("黑色-待办-显示", ke.tab_icons_black.todoActive), n.set("黑色-内容隐藏", ke.tab_icons_black.contentHide), n.set("黑色-内容显示", ke.tab_icons_black.contentShow), n.set("黑色-列表简洁", ke.tab_icons_black.listSimple), n.set("黑色-列表详情", ke.tab_icons_black.listDetail), n }); return (n, a) => ($(), j("div", { class: Be(["icon-btn", { wide: e.alt === "LOGO" }, { small: e.size === "small" }, { black: e.alt && e.alt.indexOf("黑色") > -1 }]) }, [P("img", { alt: e.alt, title: e.alt, src: r.value.get(e.alt) }, null, 8, Yte)], 2)) } }); const gr = Et(Ute, [["__scopeId", "data-v-9e062e58"]]), Wte = Ue({ __name: "MenuPanelContainer", setup(t) { const e = Vt(); return (r, n) => ($(), j("div", { class: "menu-panel-container", style: at(`height:  ${Y(e).insets.heightPanel}px`) }, [We(r.$slots, "default", {}, void 0, !0)], 4)) } }); const iu = Et(Wte, [["__scopeId", "data-v-f2cf48dd"]]), Gte = { class: "menu-category-list" }, jte = ["onClick"], Zte = { class: "count" }, qte = { class: "menu-category-list category-operations-container" }, Xte = Ue({ __name: "MenuCategorySelector", setup(t) { const e = Vt(), r = ne(!1); Lt(() => { r.value = oi().isFilterShared }), mt(r, u => { e.isFilterShared = u }); function n() { e.SET_IS_FILTERED_SHARED(!e.isFilterShared) } function a(u) { let c = e.filteredCategories.indexOf(u.name_en); c > -1 ? e.filteredCategories.splice(c, 1) : e.filteredCategories.push(u.name_en), e.SET_FILTERED_CATEGORIES(e.filteredCategories), e.isListNeedBeReload = !0 } function i(u) { return e.filteredCategories.indexOf(u.name_en) > -1 ? `background-color: ${u.color}; border: 1px solid ${u.color};` : "" } function o() { e.SET_FILTERED_CATEGORIES(I_().map(u => u.name_en)) } function s() { let u = [].concat(e.categoryAll.map(c => c.name_en)); e.filteredCategories.forEach(c => { u.splice(u.indexOf(c), 1) }), e.SET_FILTERED_CATEGORIES(u) } function l() { e.SET_FILTERED_CATEGORIES(["work", "week"]) } return (u, c) => ($(), Ie(iu, null, { default: Me(() => [P("ul", Gte, [($(!0), j(Ve, null, It(Y(e).categoryAll, (f, h) => ($(), j("li", { class: "menu-category-item", key: h, style: at(i(f)), onClick: d => a(f) }, [P("div", null, [Tt(fe(f.name), 1), P("span", Zte, fe(Y(e).statisticsCategory[f.name_en]), 1)])], 12, jte))), 128))]), P("div", qte, [P("div", { class: Be(["menu-category-item", "menu-category-shared", { active: Y(e).isFilterShared }]), onClick: n }, "共享日记", 2)]), P("div", { class: "menu-category-list category-operations-container" }, [P("div", { onClick: o, class: "menu-btn" }, "全选"), P("div", { onClick: s, class: "menu-btn" }, "反选"), P("div", { onClick: l, class: "menu-btn" }, "周报")])]), _: 1 })) } }), Kte = { key: 0, class: "year-container" }, Qte = { class: "year-header" }, Jte = { class: "count" }, ere = { class: "year-list" }, tre = ["onClick"], rre = { class: "month" }, nre = { class: "month-count" }, are = { key: 1, class: "year-tip" }, ire = Ue({ __name: "YearSelector", setup(t) { const e = Vt(); function r(n) { n === e.dateFilterString ? e.SET_DATE_FILTER_STRING("") : e.SET_DATE_FILTER_STRING(n) } return (n, a) => ($(), Ie(iu, null, { default: Me(() => [Y(e).statisticsYear.length > 0 ? ($(), j("div", Kte, [($(!0), j(Ve, null, It(Y(e).statisticsYear, (i, o) => ($(), j("div", { class: "year", key: o }, [P("div", Qte, [P("span", null, fe(i.year), 1), P("sup", Jte, fe(i.count), 1)]), P("div", ere, [($(!0), j(Ve, null, It(i.months, (s, l) => ($(), j("div", { class: Be(["year-month-item", { active: Y(e).dateFilterString === s.id }]), onClick: u => r(s.id), key: l }, [P("p", rre, fe(s.month), 1), P("span", nre, fe(s.count), 1)], 10, tre))), 128))])]))), 128))])) : ($(), j("div", are, " - 空 - "))]), _: 1 })) } }); const ore = Et(ire, [["__scopeId", "data-v-2e8877c0"]]), sre = "diary", lre = "标题日记", ure = "module", cre = "一句话概括你的一天", fre = "9.0.6", hre = "2024.01.20", dre = "2018.08.14", vre = "kylebing@163.com", pre = { email: "kylebing@163.com", homePage: "http://kylebing.cn", name: "KyleBing", nameZh: "邴新科" }, gre = { dev: "vite", build: "vite build", preview: "vite preview" }, mre = { "@vuepic/vue-datepicker": "^3.3.1", axios: "^1.6.3", clipboard: "^2.0.11", "core-js": "^3.26.1", echarts: "^5.4.3", "floating-vue": "^2.0.0-beta.20", "js-base64": "^3.7.5", "js-calendar-converter": "^0.0.6", marked: "^4.2.4", moment: "^2.29.4", pinia: "^2.1.7", "qiniu-js": "^3.4.1", "register-service-worker": "^1.7.2", vue: "^3.4.3", "vue-router": "^4.2.5" }, yre = { "@vitejs/plugin-vue": "^4.2.3", sass: "^1.69.6", "sass-loader": "^13.3.2", typescript: "^5.0.2", vite: "^4.4.5", "vite-plugin-pwa": "^0.17.4", "vite-plugin-zip-pack": "^1.0.7", "vite-svg-loader": "^5.1.0", "vue-tsc": "^1.8.5" }, vo = { name: sre, nameZh: lre, type: ure, description: cre, version: fre, dateModify: hre, dateInit: dre, adminEmail: vre, author: pre, private: !0, scripts: gre, dependencies: mre, devDependencies: yre }, Gp = t => (ba("data-v-e5932e83"), t = t(), wa(), t), _re = { class: "about" }, bre = { class: "logo" }, wre = ["src"], Sre = { class: "title" }, xre = { class: "subtitle" }, Tre = { class: "version" }, Dre = { class: "author" }, Cre = Gp(() => P("a", { href: "http://kylebing.cn", class: "social-link" }, "🌖 开发者主页", -1)), Mre = Gp(() => P("a", { href: "mailto:kylebing@163.com" }, "kylebing@163.com", -1)), kre = Gp(() => P("a", null, "·", -1)), Are = Gp(() => P("a", { href: "https://github.com/KyleBing/diary-vue" }, " github 开源仓库 ", -1)), Lre = Gp(() => P("a", null, "·", -1)), Ire = { href: "" }, Pre = Ue({ __name: "About", setup(t) { return Vt(), (e, r) => ($(), Ie(iu, null, { default: Me(() => [P("div", _re, [P("div", bre, [P("img", { src: Y(ke).logo_icons.logo_rounded, alt: "LOGO" }, null, 8, wre)]), P("h3", Sre, fe(Y(vo).nameZh), 1), P("h4", xre, fe(Y(vo).description), 1), P("div", Tre, "v" + fe(Y(vo).version), 1), P("div", Dre, [Cre, Mre, kre, Are, Lre, P("a", Ire, fe(Y(vo).dateInit) + " ~ " + fe(Y(vo).dateModify), 1)])])]), _: 1 })) } }); const Rre = Et(Pre, [["__scopeId", "data-v-e5932e83"]]); const Ore = { name: "MenuListItem", props: { icon: { type: String, default: null }, menuName: { type: String, default: "菜单" } } }, Ere = { class: "menu-list-item" }, Nre = { class: "menu-list-item-wrapper" }, $re = { key: 0, class: "menu-list-item-icon" }, Fre = ["src"], Bre = { class: "menu-list-item-content" }, Vre = { class: "title" }; function zre(t, e, r, n, a, i) { return $(), j("div", Ere, [P("div", Nre, [r.icon ? ($(), j("div", $re, [P("img", { src: r.icon, alt: "icon" }, null, 8, Fre)])) : ce("", !0), P("div", Bre, [P("div", Vre, fe(r.menuName), 1)]), We(t.$slots, "default", {}, void 0, !0)])]) } const ki = Et(Ore, [["render", zre], ["__scopeId", "data-v-4ef8a603"]]), Hre = { class: "user-profile" }, Yre = { class: "avatar" }, Ure = ["src"], Wre = ["src"], Gre = { class: "user-info mt-1 mb-2" }, jre = { class: "user" }, Zre = { class: "username" }, qre = { class: "email" }, Xre = { key: 0, class: "statistics" }, Kre = { class: "copyright" }, Qre = { class: "version ml-1" }, Jre = Ue({ __name: "UserProfile", setup(t) { const e = wn(), r = Vt(), n = ne(qr()); function a() { e.push({ name: "ChangeProfile" }) } function i() { DD(), lQ(), r.isMenuShowed = !1, e.push({ name: "Login" }) } return (o, s) => ($(), j("div", Hre, [P("div", Yre, [n.value.avatar ? ($(), j("img", { key: 0, src: n.value.avatar + "-" + Y(ta).QiniuStyleSuffix || Y(ke).logo_icons.logo_rounded, alt: "Avatar" }, null, 8, Ure)) : ($(), j("img", { key: 1, src: Y(ke).logo_icons.logo_avatar, alt: "Avatar" }, null, 8, Wre))]), P("div", Gre, [P("div", jre, [P("div", Zre, fe(n.value.nickname), 1), P("div", qre, fe(n.value.email), 1), P("div", { class: "operation" }, [P("div", { class: "logout", onClick: i }, "退出"), P("div", { class: "logout ml-3", onClick: a }, "修改")])])]), Y(r).statisticsCategory.shared > 0 ? ($(), j("div", Xre, [P("p", null, "📍 " + fe(n.value.city), 1), P("p", null, [Tt("总计 "), P("b", null, fe(Y(r).statisticsCategory.amount), 1), Tt(" 篇")]), P("p", null, [Tt("共享 "), P("b", null, fe(Y(r).statisticsCategory.shared), 1), Tt(" 篇")])])) : ce("", !0), P("div", Kre, [P("span", Qre, "v" + fe(Y(vo).version), 1)])])) } }); const ene = Et(Jre, [["__scopeId", "data-v-8b549ac7"]]), FD = [{ value: "sunny", label: "晴" }, { value: "cloudy", label: "多云" }, { value: "overcast", label: "阴" }, { value: "sprinkle", label: "小雨" }, { value: "rain", label: "雨" }, { value: "thunderstorm", label: "暴雨" }, { value: "snow", label: "雪" }, { value: "fog", label: "雾" }, { value: "tornado", label: "龙卷风" }, { value: "smog", label: "雾霾" }, { value: "sandstorm", label: "沙尘暴" }]; new Map(FD.map(t => [t.value, t.label])); const Fh = t => (ba("data-v-753ad940"), t = t(), wa(), t), tne = { class: "menu-section" }, rne = Fh(() => P("div", { class: "menu-section-title" }, "密码", -1)), nne = Fh(() => P("div", { class: "menu-section-subtitle" }, null, -1)), ane = { class: "menu-section-content" }, ine = { class: "desc" }, one = { class: "menu-section" }, sne = Fh(() => P("div", { class: "menu-section-title" }, "导出日记", -1)), lne = Fh(() => P("div", { class: "menu-section-subtitle" }, "导出所有日记内容到指定格式的文件", -1)), une = { class: "menu-section-content" }, cne = { class: "btn-list" }, fne = { key: 0, class: "desc" }, hne = { class: "menu-section" }, dne = Fh(() => P("div", { class: "menu-section-title" }, "再见", -1)), vne = Fh(() => P("div", { class: "menu-section-subtitle" }, "清空日记内容", -1)), pne = { key: 0, class: "desc" }, gne = Ue({
    __name: "MenuOtherFunction", setup(t) {
        const e = Vt(), r = wn(), n = ne(!1), a = ne(new Map); Lt(() => { a.value = new Map, FD.forEach(d => { a.value.set(d.title, d.name) }) }); function i() { e.isMenuShowed = !1, r.push({ name: "RemoveAllYourDiary" }) } function o() { e.isMenuShowed = !1, r.push({ name: "DestroyAccount" }) } function s() { e.isMenuShowed = !1, r.push({ name: "ChangePassword" }) } function l(d) { n.value = !0, Pa.export().then(v => { n.value = !1; let p = v.data, g = `日记导出-${qr().nickname}-${Hr(new Date, "yyyy-MM-dd_hhmmss")}`; if (p.length > 0) switch (d) { case "csv": h(`${g}.csv`, c(p)); break; case "json": h(`${g}.json`, JSON.stringify(p)); break; case "text": h(`${g}.txt`, f(p)); break; case "sql": h(`${g}.sql`, u(p)); break } else Mt("warning", "日记为空") }) } function u(d) {
            let v = ""; return d.forEach(p => {
                let g = Hr(new Date(p.date)), m = Hr(new Date(p.date_modify)), y = Hr(new Date(p.date_create)); p.is_markdown, p.temperature === -273 || `${p.temperature}`, p.temperature_outside === -273 || `${p.temperature_outside}`, a.value.get(p.weather); let _ = e.categoryNameMap.get(p.category); v = v.concat(`
INSERT INTO
diaries(id, date, date_create, date_modify, category, is_markdown, is_public, temperature, temperature_outside, title, content, uid)
VALUES (${p.id}, '${g}','${y}','${m}','${_}',${p.is_markdown},${p.is_public},${p.temperature},${p.temperature_outside}, '${p.title}', '${p.content}',${qr().uid});
`)
            }), v
        } function c(d) {
            let v = `ID,日期,编辑时间,创建时间,类别,天气,身处温度,外界气温,Markdown,标题,内容
`; return d.forEach(p => {
                let g = Hr(new Date(p.date)), m = Hr(new Date(p.date_modify)), y = Hr(new Date(p.date_create)), _ = p.is_markdown === 0 ? "否" : "是", b = p.temperature === -273 ? "" : `${p.temperature}℃`, x = p.temperature_outside === -273 ? "" : `${p.temperature_outside}℃`, S = a.value.get(p.weather), T = e.categoryNameMap.get(p.category), C = p.content.replace(/\"/g, '"'); v = v.concat(`${p.id},${g},${m},${y},${T},${S},${b},${x},${_},${p.title},"${C}"
`)
            }), v
        } function f(d) {
            let v = `※※※※※※※※※※※※※※※※※※※※※※※※※※※※

    导出日期：${Hr(new Date)}
    用　　户：${qr().nickname}
    总　　计：${d.length} 条
    Email：${qr().email}
    UID：${qr().uid}

※※※※※※※※※※※※※※※※※※※※※※※※※※※※




`; return d.forEach(p => {
                let g = Hr(new Date(p.date)), m = Hr(new Date(p.date_modify)), y = Hr(new Date(p.date_create)), _ = p.is_markdown === 0 ? "否" : "是", b = p.temperature === -273 ? "" : `${p.temperature}℃`, x = p.temperature_outside === -273 ? "" : `${p.temperature_outside}℃`, S = a.value.get(p.weather), T = e.categoryNameMap.get(p.category); v = v.concat(`=== ${p.id} =====================

日　　期：${g}
编辑日期：${m}
创建日期：${y}
类　　别：${T}
天　　气：${S}
身处温度：${b}
室外温度：${x}
MarkDown：${_}
标　　题：${p.title}
内　　容：${p.content}

`)
            }), v
        } function h(d, v) { let p = document.createElement("a"), g = new Blob([v]); document.createEvent("HTMLEvents").initEvent("click", !0, !0), p.download = d, p.href = URL.createObjectURL(g), p.click() } return (d, v) => ($(), Ie(iu, null, { default: Me(() => [P("div", tne, [rne, nne, P("div", ane, [P("div", { class: "btn-list" }, [P("div", { class: "btn btn-active", onClick: s }, "修改密码")]), P("div", ine, "忘记密码，可以通过注册的邮箱给管理员 " + fe(Y(ta).adminEmail) + " 发邮件重置密码", 1)])]), P("div", one, [sne, lne, P("div", une, [P("div", cne, [P("div", { class: "btn btn-active", onClick: v[0] || (v[0] = p => l("csv")) }, "csv"), P("div", { class: "btn btn-active", onClick: v[1] || (v[1] = p => l("json")) }, "json"), P("div", { class: "btn btn-active", onClick: v[2] || (v[2] = p => l("text")) }, "txt"), P("div", { class: "btn btn-active", onClick: v[3] || (v[3] = p => l("sql")) }, "sql")])]), n.value ? ($(), j("div", fne, "导出中，请耐心等待，勿进行其它操作...")) : ce("", !0)]), P("div", hne, [dne, vne, P("div", { class: "menu-section-content" }, [P("div", { class: "btn-list" }, [P("div", { class: "btn btn-active", onClick: i }, "清空日记 ？"), P("div", { class: "btn btn-active", onClick: o }, "注销账号 ？")])]), n.value ? ($(), j("div", pne, "导出中，请耐心等待，勿进行其它操作...")) : ce("", !0)])]), _: 1 }))
    }
}); const mne = Et(gne, [["__scopeId", "data-v-753ad940"]]), yne = { class: "indicator-list-inline" }, _ne = Ue({ __name: "MenuCategoryIndicatorInline", setup(t) { const e = Vt(); function r(n) { return e.filteredCategories.indexOf(n.name_en) > -1 ? `background-color: ${n.color};` : "" } return (n, a) => ($(), j("div", yne, [($(!0), j(Ve, null, It(Y(e).categoryAll, (i, o) => ($(), j("div", { class: "indicator-list-item", key: o, style: at(`border-color: ${i.color}; ${r(i)}`) }, null, 4))), 128)), P("div", { class: "indicator-list-item", style: at(Y(e).isFilterShared ? "background-color: white" : "") }, null, 4)])) } }); const bne = Et(_ne, [["__scopeId", "data-v-0d50364c"]]), wne = { class: "menu-list" }, Sne = Ue({ __name: "NavMenu", setup(t) { const e = Vt(), r = wn(); Lt(() => { l.value = new Set(e.filteredCategories) }); const n = ne(!0), a = ne(!1), i = ne(!1), o = ne(!1), s = ne(!1), l = ne(new Set), { isMenuShowed: u } = L_(e); mt(u, g => { g ? h() : d() }); const c = De(() => qr().group_id === 1); function f(g) { e.isMenuShowed = !1, d(), r.push({ name: g }) } function h() { e.isMenuShowed = !0, n.value = !0, a.value = !1, i.value = !1, o.value = !1, s.value = !1 } function d() { a.value ? (e.isListNeedBeReload = !0, v()) : s.value ? (e.isMenuShowed = !0, n.value = !0, a.value = !1, i.value = !1, o.value = !1, s.value = !1) : i.value ? (e.isListNeedBeReload = !0, v()) : e.isMenuShowed && v() } function v() { e.isMenuShowed = !1, n.value = !0, a.value = !1, i.value = !1, o.value = !1, s.value = !1 } function p(g) { switch (g) { case "search": e.isShowSearchBar = !0, v(), Dr(() => { document.querySelector("#keyword").focus() }); break; case "todo": let m = []; e.filteredCategories.length === 1 && e.filteredCategories[0] === "todo" ? m = [] : m = ["todo"], e.isFilterShared = !1, e.SET_FILTERED_CATEGORIES(m), e.isListNeedBeReload = !0, v(); break; case "category": e.isMenuShowed = !0, n.value = !1, a.value = !0, i.value = !1, o.value = !1, s.value = !1; break; case "bankCard": r.push({ name: "BankCard" }); break; case "year": e.isMenuShowed = !0, n.value = !1, a.value = !1, i.value = !0, o.value = !1, s.value = !1; break; case "others": e.isMenuShowed = !0, n.value = !1, a.value = !1, i.value = !1, o.value = !0, s.value = !1; break; case "about": e.isMenuShowed = !0, n.value = !1, a.value = !1, i.value = !1, o.value = !1, s.value = !0; break } } return (g, m) => ($(), Ie(Cr, { "enter-active-class": "animated-fast slideInLeft", "leave-active-class": "animated-fast slideOutLeft" }, { default: Me(() => [Y(e).isMenuShowed ? ($(), j("div", { key: 0, class: "menu-panel", id: "menu-panel", style: at(`height:  ${Y(e).insets.heightPanel}px`) }, [Ot(de(iu, null, { default: Me(() => [P("div", { class: "menu", style: at(`min-height: ${Y(e).insets.heightPanel - 60}px`) }, [P("div", wne, [Y(e).isInMobileMode ? ($(), Ie(ki, { key: 0, "menu-name": "搜索", icon: Y(ke).tab_icons.search, onClick: m[0] || (m[0] = y => p("search")) }, null, 8, ["icon"])) : ce("", !0), Y(e).isInMobileMode ? ($(), Ie(ki, { key: 1, "menu-name": "待办", icon: Y(e).filteredCategories.length === 1 && Y(e).filteredCategories[0] === "todo" ? Y(ke).tab_icons.todoActive : Y(ke).tab_icons.todo, onClick: m[1] || (m[1] = y => p("todo")) }, null, 8, ["icon"])) : ce("", !0), de(ki, { "menu-name": "类别筛选", icon: Y(ke).tab_icons.category, onClick: m[2] || (m[2] = y => p("category")) }, { default: Me(() => [de(bne)]), _: 1 }, 8, ["icon"]), de(ki, { "menu-name": "年份筛选", icon: Y(ke).tab_icons.year, onClick: m[3] || (m[3] = y => p("year")), "add-on-text": Y(e).dateFilterString }, null, 8, ["icon", "add-on-text"]), de(ki, { "menu-name": "统计数据", icon: Y(ke).tab_icons.statistics, onClick: m[4] || (m[4] = y => f("Statistics")) }, null, 8, ["icon"]), de(ki, { "menu-name": "账单", icon: Y(ke).tab_icons.bill, onClick: m[5] || (m[5] = y => f("Bill")) }, null, 8, ["icon"]), de(ki, { "menu-name": "银行卡", icon: Y(ke).tab_icons.card, onClick: m[6] || (m[6] = y => f("BankCard")) }, null, 8, ["icon"]), c.value ? ($(), Ie(ki, { key: 2, "menu-name": "文件管理", icon: Y(ke).tab_icons.folder, onClick: m[7] || (m[7] = y => f("FileManager")) }, null, 8, ["icon"])) : ce("", !0), de(ki, { "menu-name": "其它", icon: Y(ke).tab_icons.others, onClick: m[8] || (m[8] = y => p("others")) }, null, 8, ["icon"]), c.value ? ($(), Ie(ki, { key: 3, "menu-name": "邀请码", icon: Y(ke).tab_icons.invitation, onClick: m[9] || (m[9] = y => f("Invitation")) }, null, 8, ["icon"])) : ce("", !0), de(ki, { "menu-name": "关于", icon: Y(ke).tab_icons.about, onClick: m[10] || (m[10] = y => p("about")), "add-on-text": `v${Y(vo).version}` }, null, 8, ["icon", "add-on-text"])]), de(ene)], 4)]), _: 1 }, 512), [[un, n.value]]), de(Cr, { "enter-active-class": "animated-fast fadeIn", "leave-active-class": "animated-fast fadeOut" }, { default: Me(() => [a.value ? ($(), Ie(Xte, { key: 0 })) : ce("", !0)]), _: 1 }), de(Cr, { "enter-active-class": "animated-fast fadeIn", "leave-active-class": "animated-fast fadeOut" }, { default: Me(() => [Ot(de(ore, null, null, 512), [[un, i.value]])]), _: 1 }), de(Cr, { "enter-active-class": "animated-fast fadeIn", "leave-active-class": "animated-fast fadeOut" }, { default: Me(() => [Ot(de(mne, null, null, 512), [[un, o.value]])]), _: 1 }), de(Cr, { "enter-active-class": "animated-fast fadeIn", "leave-active-class": "animated-fast fadeOut" }, { default: Me(() => [Ot(de(Rre, null, null, 512), [[un, s.value]])]), _: 1 })], 4)) : ce("", !0)]), _: 1 })) } }); var xne = [19416, 19168, 42352, 21717, 53856, 55632, 91476, 22176, 39632, 21970, 19168, 42422, 42192, 53840, 119381, 46400, 54944, 44450, 38320, 84343, 18800, 42160, 46261, 27216, 27968, 109396, 11104, 38256, 21234, 18800, 25958, 54432, 59984, 92821, 23248, 11104, 100067, 37600, 116951, 51536, 54432, 120998, 46416, 22176, 107956, 9680, 37584, 53938, 43344, 46423, 27808, 46416, 86869, 19872, 42416, 83315, 21168, 43432, 59728, 27296, 44710, 43856, 19296, 43748, 42352, 21088, 62051, 55632, 23383, 22176, 38608, 19925, 19152, 42192, 54484, 53840, 54616, 46400, 46752, 103846, 38320, 18864, 43380, 42160, 45690, 27216, 27968, 44870, 43872, 38256, 19189, 18800, 25776, 29859, 59984, 27480, 23232, 43872, 38613, 37600, 51552, 55636, 54432, 55888, 30034, 22176, 43959, 9680, 37584, 51893, 43344, 46240, 47780, 44368, 21977, 19360, 42416, 86390, 21168, 43312, 31060, 27296, 44368, 23378, 19296, 42726, 42208, 53856, 60005, 54576, 23200, 30371, 38608, 19195, 19152, 42192, 118966, 53840, 54560, 56645, 46496, 22224, 21938, 18864, 42359, 42160, 43600, 111189, 27936, 44448, 84835, 37744, 18936, 18800, 25776, 92326, 59984, 27424, 108228, 43744, 37600, 53987, 51552, 54615, 54432, 55888, 23893, 22176, 42704, 21972, 21200, 43448, 43344, 46240, 46758, 44368, 21920, 43940, 42416, 21168, 45683, 26928, 29495, 27296, 44368, 84821, 19296, 42352, 21732, 53600, 59752, 54560, 55968, 92838, 22224, 19168, 43476, 41680, 53584, 62034, 54560], Tne = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31], Dne = ["甲", "乙", "丙", "丁", "戊", "己", "庚", "辛", "壬", "癸"], Cne = ["子", "丑", "寅", "卯", "辰", "巳", "午", "未", "申", "酉", "戌", "亥"], Mne = ["鼠", "牛", "虎", "兔", "龙", "蛇", "马", "羊", "猴", "鸡", "狗", "猪"], kne = { "1-1": { title: "元旦节" }, "2-14": { title: "情人节" }, "5-1": { title: "劳动节" }, "5-4": { title: "青年节" }, "6-1": { title: "儿童节" }, "9-10": { title: "教师节" }, "10-1": { title: "国庆节" }, "12-25": { title: "圣诞节" }, "3-8": { title: "妇女节" }, "3-12": { title: "植树节" }, "4-1": { title: "愚人节" }, "5-12": { title: "护士节" }, "7-1": { title: "建党节" }, "8-1": { title: "建军节" }, "12-24": { title: "平安夜" } }, Ane = { "12-30": { title: "除夕" }, "1-1": { title: "春节" }, "1-15": { title: "元宵节" }, "2-2": { title: "龙抬头" }, "5-5": { title: "端午节" }, "7-7": { title: "七夕节" }, "7-15": { title: "中元节" }, "8-15": { title: "中秋节" }, "9-9": { title: "重阳节" }, "10-1": { title: "寒衣节" }, "10-15": { title: "下元节" }, "12-8": { title: "腊八节" }, "12-23": { title: "北方小年" }, "12-24": { title: "南方小年" } }, Lne = ["小寒", "大寒", "立春", "雨水", "惊蛰", "春分", "清明", "谷雨", "立夏", "小满", "芒种", "夏至", "小暑", "大暑", "立秋", "处暑", "白露", "秋分", "寒露", "霜降", "立冬", "小雪", "大雪", "冬至"], Ine = ["9778397bd097c36b0b6fc9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bcf97c3598082c95f8c965cc920f", "97bd0b06bdb0722c965ce1cfcc920f", "b027097bd097c36b0b6fc9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bcf97c359801ec95f8c965cc920f", "97bd0b06bdb0722c965ce1cfcc920f", "b027097bd097c36b0b6fc9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bcf97c359801ec95f8c965cc920f", "97bd0b06bdb0722c965ce1cfcc920f", "b027097bd097c36b0b6fc9274c91aa", "9778397bd19801ec9210c965cc920e", "97b6b97bd19801ec95f8c965cc920f", "97bd09801d98082c95f8e1cfcc920f", "97bd097bd097c36b0b6fc9210c8dc2", "9778397bd197c36c9210c9274c91aa", "97b6b97bd19801ec95f8c965cc920e", "97bd09801d98082c95f8e1cfcc920f", "97bd097bd097c36b0b6fc9210c8dc2", "9778397bd097c36c9210c9274c91aa", "97b6b97bd19801ec95f8c965cc920e", "97bcf97c3598082c95f8e1cfcc920f", "97bd097bd097c36b0b6fc9210c8dc2", "9778397bd097c36c9210c9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bcf97c3598082c95f8c965cc920f", "97bd097bd097c35b0b6fc920fb0722", "9778397bd097c36b0b6fc9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bcf97c3598082c95f8c965cc920f", "97bd097bd097c35b0b6fc920fb0722", "9778397bd097c36b0b6fc9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bcf97c359801ec95f8c965cc920f", "97bd097bd097c35b0b6fc920fb0722", "9778397bd097c36b0b6fc9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bcf97c359801ec95f8c965cc920f", "97bd097bd097c35b0b6fc920fb0722", "9778397bd097c36b0b6fc9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bcf97c359801ec95f8c965cc920f", "97bd097bd07f595b0b6fc920fb0722", "9778397bd097c36b0b6fc9210c8dc2", "9778397bd19801ec9210c9274c920e", "97b6b97bd19801ec95f8c965cc920f", "97bd07f5307f595b0b0bc920fb0722", "7f0e397bd097c36b0b6fc9210c8dc2", "9778397bd097c36c9210c9274c920e", "97b6b97bd19801ec95f8c965cc920f", "97bd07f5307f595b0b0bc920fb0722", "7f0e397bd097c36b0b6fc9210c8dc2", "9778397bd097c36c9210c9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bd07f1487f595b0b0bc920fb0722", "7f0e397bd097c36b0b6fc9210c8dc2", "9778397bd097c36b0b6fc9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bcf7f1487f595b0b0bb0b6fb0722", "7f0e397bd097c35b0b6fc920fb0722", "9778397bd097c36b0b6fc9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bcf7f1487f595b0b0bb0b6fb0722", "7f0e397bd097c35b0b6fc920fb0722", "9778397bd097c36b0b6fc9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bcf7f1487f531b0b0bb0b6fb0722", "7f0e397bd097c35b0b6fc920fb0722", "9778397bd097c36b0b6fc9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bcf7f1487f531b0b0bb0b6fb0722", "7f0e397bd07f595b0b6fc920fb0722", "9778397bd097c36b0b6fc9274c91aa", "97b6b97bd19801ec9210c9274c920e", "97bcf7f0e47f531b0b0bb0b6fb0722", "7f0e397bd07f595b0b0bc920fb0722", "9778397bd097c36b0b6fc9210c91aa", "97b6b97bd197c36c9210c9274c920e", "97bcf7f0e47f531b0b0bb0b6fb0722", "7f0e397bd07f595b0b0bc920fb0722", "9778397bd097c36b0b6fc9210c8dc2", "9778397bd097c36c9210c9274c920e", "97b6b7f0e47f531b0723b0b6fb0722", "7f0e37f5307f595b0b0bc920fb0722", "7f0e397bd097c36b0b6fc9210c8dc2", "9778397bd097c36b0b70c9274c91aa", "97b6b7f0e47f531b0723b0b6fb0721", "7f0e37f1487f595b0b0bb0b6fb0722", "7f0e397bd097c35b0b6fc9210c8dc2", "9778397bd097c36b0b6fc9274c91aa", "97b6b7f0e47f531b0723b0b6fb0721", "7f0e27f1487f595b0b0bb0b6fb0722", "7f0e397bd097c35b0b6fc920fb0722", "9778397bd097c36b0b6fc9274c91aa", "97b6b7f0e47f531b0723b0b6fb0721", "7f0e27f1487f531b0b0bb0b6fb0722", "7f0e397bd097c35b0b6fc920fb0722", "9778397bd097c36b0b6fc9274c91aa", "97b6b7f0e47f531b0723b0b6fb0721", "7f0e27f1487f531b0b0bb0b6fb0722", "7f0e397bd097c35b0b6fc920fb0722", "9778397bd097c36b0b6fc9274c91aa", "97b6b7f0e47f531b0723b0b6fb0721", "7f0e27f1487f531b0b0bb0b6fb0722", "7f0e397bd07f595b0b0bc920fb0722", "9778397bd097c36b0b6fc9274c91aa", "97b6b7f0e47f531b0723b0787b0721", "7f0e27f0e47f531b0b0bb0b6fb0722", "7f0e397bd07f595b0b0bc920fb0722", "9778397bd097c36b0b6fc9210c91aa", "97b6b7f0e47f149b0723b0787b0721", "7f0e27f0e47f531b0723b0b6fb0722", "7f0e397bd07f595b0b0bc920fb0722", "9778397bd097c36b0b6fc9210c8dc2", "977837f0e37f149b0723b0787b0721", "7f07e7f0e47f531b0723b0b6fb0722", "7f0e37f5307f595b0b0bc920fb0722", "7f0e397bd097c35b0b6fc9210c8dc2", "977837f0e37f14998082b0787b0721", "7f07e7f0e47f531b0723b0b6fb0721", "7f0e37f1487f595b0b0bb0b6fb0722", "7f0e397bd097c35b0b6fc9210c8dc2", "977837f0e37f14998082b0787b06bd", "7f07e7f0e47f531b0723b0b6fb0721", "7f0e27f1487f531b0b0bb0b6fb0722", "7f0e397bd097c35b0b6fc920fb0722", "977837f0e37f14998082b0787b06bd", "7f07e7f0e47f531b0723b0b6fb0721", "7f0e27f1487f531b0b0bb0b6fb0722", "7f0e397bd097c35b0b6fc920fb0722", "977837f0e37f14998082b0787b06bd", "7f07e7f0e47f531b0723b0b6fb0721", "7f0e27f1487f531b0b0bb0b6fb0722", "7f0e397bd07f595b0b0bc920fb0722", "977837f0e37f14998082b0787b06bd", "7f07e7f0e47f531b0723b0b6fb0721", "7f0e27f1487f531b0b0bb0b6fb0722", "7f0e397bd07f595b0b0bc920fb0722", "977837f0e37f14998082b0787b06bd", "7f07e7f0e47f149b0723b0787b0721", "7f0e27f0e47f531b0b0bb0b6fb0722", "7f0e397bd07f595b0b0bc920fb0722", "977837f0e37f14998082b0723b06bd", "7f07e7f0e37f149b0723b0787b0721", "7f0e27f0e47f531b0723b0b6fb0722", "7f0e397bd07f595b0b0bc920fb0722", "977837f0e37f14898082b0723b02d5", "7ec967f0e37f14998082b0787b0721", "7f07e7f0e47f531b0723b0b6fb0722", "7f0e37f1487f595b0b0bb0b6fb0722", "7f0e37f0e37f14898082b0723b02d5", "7ec967f0e37f14998082b0787b0721", "7f07e7f0e47f531b0723b0b6fb0722", "7f0e37f1487f531b0b0bb0b6fb0722", "7f0e37f0e37f14898082b0723b02d5", "7ec967f0e37f14998082b0787b06bd", "7f07e7f0e47f531b0723b0b6fb0721", "7f0e37f1487f531b0b0bb0b6fb0722", "7f0e37f0e37f14898082b072297c35", "7ec967f0e37f14998082b0787b06bd", "7f07e7f0e47f531b0723b0b6fb0721", "7f0e27f1487f531b0b0bb0b6fb0722", "7f0e37f0e37f14898082b072297c35", "7ec967f0e37f14998082b0787b06bd", "7f07e7f0e47f531b0723b0b6fb0721", "7f0e27f1487f531b0b0bb0b6fb0722", "7f0e37f0e366aa89801eb072297c35", "7ec967f0e37f14998082b0787b06bd", "7f07e7f0e47f149b0723b0787b0721", "7f0e27f1487f531b0b0bb0b6fb0722", "7f0e37f0e366aa89801eb072297c35", "7ec967f0e37f14998082b0723b06bd", "7f07e7f0e47f149b0723b0787b0721", "7f0e27f0e47f531b0723b0b6fb0722", "7f0e37f0e366aa89801eb072297c35", "7ec967f0e37f14998082b0723b06bd", "7f07e7f0e37f14998083b0787b0721", "7f0e27f0e47f531b0723b0b6fb0722", "7f0e37f0e366aa89801eb072297c35", "7ec967f0e37f14898082b0723b02d5", "7f07e7f0e37f14998082b0787b0721", "7f07e7f0e47f531b0723b0b6fb0722", "7f0e36665b66aa89801e9808297c35", "665f67f0e37f14898082b0723b02d5", "7ec967f0e37f14998082b0787b0721", "7f07e7f0e47f531b0723b0b6fb0722", "7f0e36665b66a449801e9808297c35", "665f67f0e37f14898082b0723b02d5", "7ec967f0e37f14998082b0787b06bd", "7f07e7f0e47f531b0723b0b6fb0721", "7f0e36665b66a449801e9808297c35", "665f67f0e37f14898082b072297c35", "7ec967f0e37f14998082b0787b06bd", "7f07e7f0e47f531b0723b0b6fb0721", "7f0e26665b66a449801e9808297c35", "665f67f0e37f1489801eb072297c35", "7ec967f0e37f14998082b0787b06bd", "7f07e7f0e47f531b0723b0b6fb0721", "7f0e27f1487f531b0b0bb0b6fb0722"], Pne = ["日", "一", "二", "三", "四", "五", "六", "七", "八", "九", "十"], Rne = ["初", "十", "廿", "卅"], One = ["正", "二", "三", "四", "五", "六", "七", "八", "九", "十", "冬", "腊"], BD = { lunarInfo: xne, solarMonth: Tne, Gan: Dne, Zhi: Cne, Animals: Mne, festival: kne, lFestival: Ane, solarTerm: Lne, sTermInfo: Ine, nStr1: Pne, nStr2: Rne, nStr3: One, getFestival: function () { return this.festival }, getLunarFestival: function () { return this.lFestival }, setFestival: function () { var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}; this.festival = e }, setLunarFestival: function () { var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}; this.lFestival = e }, lYearDays: function (e) { var r, n = 348; for (r = 32768; r > 8; r >>= 1)n += this.lunarInfo[e - 1900] & r ? 1 : 0; return n + this.leapDays(e) }, leapMonth: function (e) { return this.lunarInfo[e - 1900] & 15 }, leapDays: function (e) { return this.leapMonth(e) ? this.lunarInfo[e - 1900] & 65536 ? 30 : 29 : 0 }, monthDays: function (e, r) { return r > 12 || r < 1 ? -1 : this.lunarInfo[e - 1900] & 65536 >> r ? 30 : 29 }, solarDays: function (e, r) { if (r > 12 || r < 1) return -1; var n = r - 1; return n === 1 ? e % 4 === 0 && e % 100 !== 0 || e % 400 === 0 ? 29 : 28 : this.solarMonth[n] }, toGanZhiYear: function (e) { var r = (e - 3) % 10, n = (e - 3) % 12; return r === 0 && (r = 10), n === 0 && (n = 12), this.Gan[r - 1] + this.Zhi[n - 1] }, toAstro: function (e, r) { var n = "摩羯水瓶双鱼白羊金牛双子巨蟹狮子处女天秤天蝎射手摩羯", a = [20, 19, 21, 21, 21, 22, 23, 23, 23, 23, 22, 22]; return n.substr(e * 2 - (r < a[e - 1] ? 2 : 0), 2) + "座" }, toGanZhi: function (e) { return this.Gan[e % 10] + this.Zhi[e % 12] }, getTerm: function (e, r) { if (e < 1900 || e > 2100 || r < 1 || r > 24) return -1; for (var n = this.sTermInfo[e - 1900], a = [], i = 0; i < n.length; i += 5) { var o = parseInt("0x" + n.substr(i, 5)).toString(); a.push(o[0], o.substr(1, 2), o[3], o.substr(4, 2)) } return parseInt(a[r - 1]) }, toChinaMonth: function (e) { if (e > 12 || e < 1) return -1; var r = this.nStr3[e - 1]; return r += "月", r }, toChinaDay: function (e) { var r; switch (e) { case 10: r = "初十"; break; case 20: r = "二十"; break; case 30: r = "三十"; break; default: r = this.nStr2[Math.floor(e / 10)], r += this.nStr1[e % 10] }return r }, getAnimal: function (e) { return this.Animals[(e - 4) % 12] }, solar2lunar: function (e, r, n) { var a = parseInt(e), i = parseInt(r), o = parseInt(n); if (a < 1900 || a > 2100 || a === 1900 && i === 1 && o < 31) return -1; var s; a ? s = new Date(a, parseInt(i) - 1, o) : s = new Date; var l, u = 0, c = 0; a = s.getFullYear(), i = s.getMonth() + 1, o = s.getDate(); var f = (Date.UTC(s.getFullYear(), s.getMonth(), s.getDate()) - Date.UTC(1900, 0, 31)) / 864e5; for (l = 1900; l < 2101 && f > 0; l++)c = this.lYearDays(l), f -= c; f < 0 && (f += c, l--); var h = new Date, d = !1; h.getFullYear() === a && h.getMonth() + 1 === i && h.getDate() === o && (d = !0); var v = s.getDay(), p = this.nStr1[v]; v === 0 && (v = 7); var g = l; u = this.leapMonth(l); var m = !1; for (l = 1; l < 13 && f > 0; l++)u > 0 && l === u + 1 && m === !1 ? (--l, m = !0, c = this.leapDays(g)) : c = this.monthDays(g, l), m === !0 && l === u + 1 && (m = !1), f -= c; f === 0 && u > 0 && l === u + 1 && (m ? m = !1 : (m = !0, --l)), f < 0 && (f += c, --l); var y = l, _ = f + 1, b = i - 1, x = this.toGanZhiYear(g), S = this.getTerm(a, i * 2 - 1), T = this.getTerm(a, i * 2), C = this.toGanZhi((a - 1900) * 12 + i + 11); o >= S && (C = this.toGanZhi((a - 1900) * 12 + i + 12)); var M = !1, k = null; S === o && (M = !0, k = this.solarTerm[i * 2 - 2]), T === o && (M = !0, k = this.solarTerm[i * 2 - 1]); var A = Date.UTC(a, b, 1, 0, 0, 0, 0) / 864e5 + 25567 + 10, R = this.toGanZhi(A + o - 1), N = this.toAstro(i, o), z = a + "-" + i + "-" + o, F = g + "-" + y + "-" + _, V = this.festival, L = this.lFestival, H = i + "-" + o, q = y + "-" + _; return y === 12 && _ === 29 && this.monthDays(g, y) === 29 && (q = "12-30"), { date: z, lunarDate: F, festival: V[H] ? V[H].title : null, lunarFestival: L[q] ? L[q].title : null, lYear: g, lMonth: y, lDay: _, Animal: this.getAnimal(g), IMonthCn: (m ? "闰" : "") + this.toChinaMonth(y), IDayCn: this.toChinaDay(_), cYear: a, cMonth: i, cDay: o, gzYear: x, gzMonth: C, gzDay: R, isToday: d, isLeap: m, nWeek: v, ncWeek: "星期" + p, isTerm: M, Term: k, astro: N } }, lunar2solar: function (e, r, n, a) { e = parseInt(e), r = parseInt(r), n = parseInt(n), a = !!a; var i = this.leapMonth(e); if (this.leapDays(e), a && i !== r || e === 2100 && r === 12 && n > 1 || e === 1900 && r === 1 && n < 31) return -1; var o = this.monthDays(e, r), s = o; if (a && (s = this.leapDays(e, r)), e < 1900 || e > 2100 || n > s) return -1; var l = 0, u; for (u = 1900; u < e; u++)l += this.lYearDays(u); var c = 0, f = !1; for (u = 1; u < r; u++)c = this.leapMonth(e), f || c <= u && c > 0 && (l += this.leapDays(e), f = !0), l += this.monthDays(e, u); a && (l += o); var h = Date.UTC(1900, 1, 30, 0, 0, 0), d = new Date((l + n - 31) * 864e5 + h), v = d.getUTCFullYear(), p = d.getUTCMonth() + 1, g = d.getUTCDate(); return this.solar2lunar(v, p, g) } }; const Ene = { class: "clock" }, Nne = { class: "weekday" }, $ne = { class: "lunar" }, Fne = { class: "date" }, Bne = Ue({ __name: "Clock", setup(t) { let e = new Map; e.set("0", "周期日"), e.set("1", "周期一"), e.set("2", "周期二"), e.set("3", "周期三"), e.set("4", "周期四"), e.set("5", "周期五"), e.set("6", "周期六"); const r = ne(""), n = ne({}), a = ne(null); Lt(() => { i(), n.value = BD.solar2lunar() }), Nh(() => { o() }); function i() { let s = new Date; r.value = Hr(s, "hh:mm"), o(), a.value = setInterval(() => { s = new Date, r.value = Hr(s, "hh:mm") }, 1e3) } function o() { clearInterval(a.value), a.value = null } return (s, l) => ($(), j("div", Ene, [P("div", Nne, fe(n.value.ncWeek), 1), P("div", $ne, fe(n.value.IMonthCn) + fe(n.value.IDayCn), 1), P("div", Fne, fe(n.value.cMonth) + "." + fe(n.value.cDay), 1), P("div", null, fe(r.value), 1)])) } }); const Vne = Et(Bne, [["__scopeId", "data-v-4f031659"]]), zne = { class: "navbar-category-filter" }, Hne = { class: "navbar-category-list-container" }, Yne = { class: "navbar-category-list" }, Une = ["onClick"], Wne = Ue({ __name: "NavbarCategorySelector", setup(t) { const e = Vt(); function r() { e.SET_IS_FILTERED_SHARED(!e.isFilterShared), e.isListNeedBeReload = !0 } function n(s) { let l = e.filteredCategories.indexOf(s.name_en); l > -1 ? e.filteredCategories.splice(l, 1) : e.filteredCategories.push(s.name_en), e.SET_FILTERED_CATEGORIES(e.filteredCategories), e.isListNeedBeReload = !0 } function a() { e.SET_FILTERED_CATEGORIES([]), e.isListNeedBeReload = !0 } function i() { let s = [].concat(e.categoryAll.map(l => l.name_en)); e.filteredCategories.forEach(l => { s.splice(s.indexOf(l), 1) }), e.SET_FILTERED_CATEGORIES(s), e.isListNeedBeReload = !0 } function o(s) { return e.filteredCategories.indexOf(s.name_en) > -1 ? `color: ${s.color}; opacity: 1; font-weight: bold;` : "" } return (s, l) => ($(), j("div", zne, [de(Cr, { "enter-active-class": "animated-fast slideInRight", "leave-active-class": "animated-fast slideOutRight" }, { default: Me(() => [P("div", Hne, [P("div", Yne, [($(!0), j(Ve, null, It(Y(e).categoryAll, (u, c) => ($(), j("div", { class: Be(["navbar-category-list-item", { active: Y(e).filteredCategories.includes(u.name_en) }]), key: c, style: at(o(u)), onClick: f => n(u) }, fe(u.name), 15, Une))), 128)), P("div", { class: Be(["navbar-category-list-item", "share-item", "ml-3", { active: Y(e).isFilterShared }]), onClick: r }, "共享", 2)]), P("div", { class: "navbar-category-list-special" }, [P("div", { class: "navbar-category-list-item special", onClick: i }, "反选"), P("div", { class: "navbar-category-list-item special", onClick: a }, "清选")])])]), _: 1 })])) } }); const Gne = Et(Wne, [["__scopeId", "data-v-b2736040"]]); var c4 = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {}; function VD(t) { return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t } var f4 = { exports: {} };/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */(function (t, e) { (function (n, a) { t.exports = a() })(c4, function () { return function () { var r = { 686: function (i, o, s) { s.d(o, { default: function () { return te } }); var l = s(279), u = s.n(l), c = s(370), f = s.n(c), h = s(817), d = s.n(h); function v(oe) { try { return document.execCommand(oe) } catch { return !1 } } var p = function (X) { var U = d()(X); return v("cut"), U }, g = p; function m(oe) { var X = document.documentElement.getAttribute("dir") === "rtl", U = document.createElement("textarea"); U.style.fontSize = "12pt", U.style.border = "0", U.style.padding = "0", U.style.margin = "0", U.style.position = "absolute", U.style[X ? "right" : "left"] = "-9999px"; var B = window.pageYOffset || document.documentElement.scrollTop; return U.style.top = "".concat(B, "px"), U.setAttribute("readonly", ""), U.value = oe, U } var y = function (X, U) { var B = m(X); U.container.appendChild(B); var ee = d()(B); return v("copy"), B.remove(), ee }, _ = function (X) { var U = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : { container: document.body }, B = ""; return typeof X == "string" ? B = y(X, U) : X instanceof HTMLInputElement && !["text", "search", "url", "tel", "password"].includes(X == null ? void 0 : X.type) ? B = y(X.value, U) : (B = d()(X), v("copy")), B }, b = _; function x(oe) { "@babel/helpers - typeof"; return typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? x = function (U) { return typeof U } : x = function (U) { return U && typeof Symbol == "function" && U.constructor === Symbol && U !== Symbol.prototype ? "symbol" : typeof U }, x(oe) } var S = function () { var X = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, U = X.action, B = U === void 0 ? "copy" : U, ee = X.container, Q = X.target, se = X.text; if (B !== "copy" && B !== "cut") throw new Error('Invalid "action" value, use either "copy" or "cut"'); if (Q !== void 0) if (Q && x(Q) === "object" && Q.nodeType === 1) { if (B === "copy" && Q.hasAttribute("disabled")) throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute'); if (B === "cut" && (Q.hasAttribute("readonly") || Q.hasAttribute("disabled"))) throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`) } else throw new Error('Invalid "target" value, use a valid Element'); if (se) return b(se, { container: ee }); if (Q) return B === "cut" ? g(Q) : b(Q, { container: ee }) }, T = S; function C(oe) { "@babel/helpers - typeof"; return typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? C = function (U) { return typeof U } : C = function (U) { return U && typeof Symbol == "function" && U.constructor === Symbol && U !== Symbol.prototype ? "symbol" : typeof U }, C(oe) } function M(oe, X) { if (!(oe instanceof X)) throw new TypeError("Cannot call a class as a function") } function k(oe, X) { for (var U = 0; U < X.length; U++) { var B = X[U]; B.enumerable = B.enumerable || !1, B.configurable = !0, "value" in B && (B.writable = !0), Object.defineProperty(oe, B.key, B) } } function A(oe, X, U) { return X && k(oe.prototype, X), U && k(oe, U), oe } function R(oe, X) { if (typeof X != "function" && X !== null) throw new TypeError("Super expression must either be null or a function"); oe.prototype = Object.create(X && X.prototype, { constructor: { value: oe, writable: !0, configurable: !0 } }), X && N(oe, X) } function N(oe, X) { return N = Object.setPrototypeOf || function (B, ee) { return B.__proto__ = ee, B }, N(oe, X) } function z(oe) { var X = L(); return function () { var B = H(oe), ee; if (X) { var Q = H(this).constructor; ee = Reflect.construct(B, arguments, Q) } else ee = B.apply(this, arguments); return F(this, ee) } } function F(oe, X) { return X && (C(X) === "object" || typeof X == "function") ? X : V(oe) } function V(oe) { if (oe === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return oe } function L() { if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham) return !1; if (typeof Proxy == "function") return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], function () { })), !0 } catch { return !1 } } function H(oe) { return H = Object.setPrototypeOf ? Object.getPrototypeOf : function (U) { return U.__proto__ || Object.getPrototypeOf(U) }, H(oe) } function q(oe, X) { var U = "data-clipboard-".concat(oe); if (X.hasAttribute(U)) return X.getAttribute(U) } var K = function (oe) { R(U, oe); var X = z(U); function U(B, ee) { var Q; return M(this, U), Q = X.call(this), Q.resolveOptions(ee), Q.listenClick(B), Q } return A(U, [{ key: "resolveOptions", value: function () { var ee = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}; this.action = typeof ee.action == "function" ? ee.action : this.defaultAction, this.target = typeof ee.target == "function" ? ee.target : this.defaultTarget, this.text = typeof ee.text == "function" ? ee.text : this.defaultText, this.container = C(ee.container) === "object" ? ee.container : document.body } }, { key: "listenClick", value: function (ee) { var Q = this; this.listener = f()(ee, "click", function (se) { return Q.onClick(se) }) } }, { key: "onClick", value: function (ee) { var Q = ee.delegateTarget || ee.currentTarget, se = this.action(Q) || "copy", ue = T({ action: se, container: this.container, target: this.target(Q), text: this.text(Q) }); this.emit(ue ? "success" : "error", { action: se, text: ue, trigger: Q, clearSelection: function () { Q && Q.focus(), window.getSelection().removeAllRanges() } }) } }, { key: "defaultAction", value: function (ee) { return q("action", ee) } }, { key: "defaultTarget", value: function (ee) { var Q = q("target", ee); if (Q) return document.querySelector(Q) } }, { key: "defaultText", value: function (ee) { return q("text", ee) } }, { key: "destroy", value: function () { this.listener.destroy() } }], [{ key: "copy", value: function (ee) { var Q = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : { container: document.body }; return b(ee, Q) } }, { key: "cut", value: function (ee) { return g(ee) } }, { key: "isSupported", value: function () { var ee = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : ["copy", "cut"], Q = typeof ee == "string" ? [ee] : ee, se = !!document.queryCommandSupported; return Q.forEach(function (ue) { se = se && !!document.queryCommandSupported(ue) }), se } }]), U }(u()), te = K }, 828: function (i) { var o = 9; if (typeof Element < "u" && !Element.prototype.matches) { var s = Element.prototype; s.matches = s.matchesSelector || s.mozMatchesSelector || s.msMatchesSelector || s.oMatchesSelector || s.webkitMatchesSelector } function l(u, c) { for (; u && u.nodeType !== o;) { if (typeof u.matches == "function" && u.matches(c)) return u; u = u.parentNode } } i.exports = l }, 438: function (i, o, s) { var l = s(828); function u(h, d, v, p, g) { var m = f.apply(this, arguments); return h.addEventListener(v, m, g), { destroy: function () { h.removeEventListener(v, m, g) } } } function c(h, d, v, p, g) { return typeof h.addEventListener == "function" ? u.apply(null, arguments) : typeof v == "function" ? u.bind(null, document).apply(null, arguments) : (typeof h == "string" && (h = document.querySelectorAll(h)), Array.prototype.map.call(h, function (m) { return u(m, d, v, p, g) })) } function f(h, d, v, p) { return function (g) { g.delegateTarget = l(g.target, d), g.delegateTarget && p.call(h, g) } } i.exports = c }, 879: function (i, o) { o.node = function (s) { return s !== void 0 && s instanceof HTMLElement && s.nodeType === 1 }, o.nodeList = function (s) { var l = Object.prototype.toString.call(s); return s !== void 0 && (l === "[object NodeList]" || l === "[object HTMLCollection]") && "length" in s && (s.length === 0 || o.node(s[0])) }, o.string = function (s) { return typeof s == "string" || s instanceof String }, o.fn = function (s) { var l = Object.prototype.toString.call(s); return l === "[object Function]" } }, 370: function (i, o, s) { var l = s(879), u = s(438); function c(v, p, g) { if (!v && !p && !g) throw new Error("Missing required arguments"); if (!l.string(p)) throw new TypeError("Second argument must be a String"); if (!l.fn(g)) throw new TypeError("Third argument must be a Function"); if (l.node(v)) return f(v, p, g); if (l.nodeList(v)) return h(v, p, g); if (l.string(v)) return d(v, p, g); throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList") } function f(v, p, g) { return v.addEventListener(p, g), { destroy: function () { v.removeEventListener(p, g) } } } function h(v, p, g) { return Array.prototype.forEach.call(v, function (m) { m.addEventListener(p, g) }), { destroy: function () { Array.prototype.forEach.call(v, function (m) { m.removeEventListener(p, g) }) } } } function d(v, p, g) { return u(document.body, v, p, g) } i.exports = c }, 817: function (i) { function o(s) { var l; if (s.nodeName === "SELECT") s.focus(), l = s.value; else if (s.nodeName === "INPUT" || s.nodeName === "TEXTAREA") { var u = s.hasAttribute("readonly"); u || s.setAttribute("readonly", ""), s.select(), s.setSelectionRange(0, s.value.length), u || s.removeAttribute("readonly"), l = s.value } else { s.hasAttribute("contenteditable") && s.focus(); var c = window.getSelection(), f = document.createRange(); f.selectNodeContents(s), c.removeAllRanges(), c.addRange(f), l = c.toString() } return l } i.exports = o }, 279: function (i) { function o() { } o.prototype = { on: function (s, l, u) { var c = this.e || (this.e = {}); return (c[s] || (c[s] = [])).push({ fn: l, ctx: u }), this }, once: function (s, l, u) { var c = this; function f() { c.off(s, f), l.apply(u, arguments) } return f._ = l, this.on(s, f, u) }, emit: function (s) { var l = [].slice.call(arguments, 1), u = ((this.e || (this.e = {}))[s] || []).slice(), c = 0, f = u.length; for (c; c < f; c++)u[c].fn.apply(u[c].ctx, l); return this }, off: function (s, l) { var u = this.e || (this.e = {}), c = u[s], f = []; if (c && l) for (var h = 0, d = c.length; h < d; h++)c[h].fn !== l && c[h].fn._ !== l && f.push(c[h]); return f.length ? u[s] = f : delete u[s], this } }, i.exports = o, i.exports.TinyEmitter = o } }, n = {}; function a(i) { if (n[i]) return n[i].exports; var o = n[i] = { exports: {} }; return r[i](o, o.exports, a), o.exports } return function () { a.n = function (i) { var o = i && i.__esModule ? function () { return i.default } : function () { return i }; return a.d(o, { a: o }), o } }(), function () { a.d = function (i, o) { for (var s in o) a.o(o, s) && !a.o(i, s) && Object.defineProperty(i, s, { enumerable: !0, get: o[s] }) } }(), function () { a.o = function (i, o) { return Object.prototype.hasOwnProperty.call(i, o) } }(), a(686) }().default }) })(f4); var jne = f4.exports; const jp = VD(jne), zD = t => (ba("data-v-5b2413a4"), t = t(), wa(), t), Zne = { class: "navbar-container" }, qne = { class: "navbar", id: "navbar" }, Xne = { class: "nav-part-left" }, Kne = { key: 10, class: "btn-text-group" }, Qne = { class: "nav-part-right" }, Jne = { key: 1, class: "nav-btn-wrapper" }, eae = ["data-clipboard"], tae = { key: 2, class: "nav-btn-wrapper" }, rae = { key: 1 }, nae = ["src"], aae = { key: 1 }, iae = ["src"], oae = { key: 2 }, sae = ["src"], lae = { id: "toast", class: "fadeIn animated-fast" }, uae = zD(() => P("div", { class: "toast-header" }, "确定删除吗", -1)), cae = zD(() => P("div", { class: "toast-body" }, null, -1)), fae = zD(() => P("div", { class: "mask" }, null, -1)), hae = Ue({ __name: "Navbar", setup(t) { const e = Vt(), r = Ki(), n = wn(), a = De(() => qr().group_id === 1), i = ne(); let o = null; Bs(() => { i.value.destroy() }), Lt(() => { o = window.location, c.value = !r.params.id, i.value = new jp(".clipboard-trigger", { text: C => C.getAttribute("data-clipboard") }), i.value.on("success", () => { Mt("success", "分享链接 已复制到 剪贴板", () => { }, 2) }) }); const s = ne(!1); function l() { s.value = !1 } function u() { s.value = !0 } const c = ne(!0); mt(r, C => { c.value = !C.params.id }); const f = De(() => `${o.origin}/diary/#/share/${e.currentDiary.id}`); function h() { switch (r.name) { case "Edit": case "Detail": n.push({ name: "List" }); break; default: n.push({ name: "List" }) } } function d() { e.SET_DATE_FILTER_STRING(""), e.isListNeedBeReload = !0 } function v(C) { n.push({ name: C }) } function p() { e.isMenuShowed = !0 } function g() { e.isMenuShowed = !1 } function m() { e.isMenuShowed || (e.isDiaryListShowedInFullStyle = !e.isDiaryListShowedInFullStyle) } function y() { e.isShowSearchBar = !e.isShowSearchBar } function _() { let C = []; e.filteredCategories.length === 1 && e.filteredCategories[0] === "todo" ? C = [] : C = ["todo"], e.isFilterShared = !1, e.SET_FILTERED_CATEGORIES(C), e.isListNeedBeReload = !0 } function b() { e.isHideContent = !e.isHideContent } function x() { e.isDiaryNeedToBeSaved = !0 } function S() { e.isDiaryNeedToBeRecovered = !0 } function T() { let C = { diaryId: e.currentDiary.id }; Pa.delete(C).then(M => { l(), Mt("success", M.message, () => { e.isInMobileMode ? n.back() : e.listOperation = { type: "delete", diary: null, id: e.currentDiary.id } }, .5) }) } return (C, M) => { const k = In("router-link"); return $(), j("div", Zne, [P("nav", qne, [P("div", Xne, [!Y(e).isInMobileMode && !Y(e).isMenuShowed || Y(e).isInMobileMode && Y(r).name === "List" && !Y(e).isMenuShowed ? ($(), j("div", { key: 0, onClick: p }, [Y(e).isInMobileMode ? ($(), Ie(gr, { key: 0, alt: "菜单" })) : ($(), Ie(gr, { key: 1, alt: "LOGO" }))])) : ce("", !0), Y(e).isMenuShowed ? ($(), j("div", { key: 1, onClick: g }, [de(gr, { alt: "关闭" })])) : ce("", !0), Y(e).isInMobileMode && Y(r).name !== "List" ? ($(), j("div", { key: 2, onClick: h }, [de(gr, { alt: "返回" })])) : ce("", !0), Y(e).isInMobileMode ? ce("", !0) : Ot(($(), j("div", { key: 3, onClick: b }, [Y(e).isHideContent ? ($(), Ie(gr, { key: 0, alt: "内容隐藏" })) : ($(), Ie(gr, { key: 1, alt: "内容显示" }))], 512)), [[un, !Y(e).isMenuShowed]]), Y(e).isInMobileMode ? ce("", !0) : Ot(($(), j("div", { key: 4, onClick: m }, [Y(e).isDiaryListShowedInFullStyle ? ($(), Ie(gr, { key: 1, alt: "列表详情" })) : ($(), Ie(gr, { key: 0, alt: "列表简洁" }))], 512)), [[un, !Y(e).isMenuShowed]]), Y(e).isInMobileMode ? ce("", !0) : Ot(($(), j("div", { key: 5, onClick: y }, [de(gr, { alt: "搜索" })], 512)), [[un, !Y(e).isMenuShowed]]), Y(e).isInMobileMode ? ce("", !0) : Ot(($(), j("div", { key: 6, onClick: M[0] || (M[0] = A => v("BankCard")) }, [de(gr, { alt: "银行卡" })], 512)), [[un, !Y(e).isMenuShowed]]), Y(e).isInMobileMode ? ce("", !0) : Ot(($(), j("div", { key: 7, onClick: M[1] || (M[1] = A => v("Bill")) }, [de(gr, { alt: "账单" })], 512)), [[un, !Y(e).isMenuShowed]]), !Y(e).isInMobileMode && a.value ? Ot(($(), j("div", { key: 8, onClick: M[2] || (M[2] = A => v("FileManager")) }, [de(gr, { alt: "文件" })], 512)), [[un, !Y(e).isMenuShowed]]) : ce("", !0), Y(e).isInMobileMode ? ce("", !0) : Ot(($(), j("div", { key: 9, onClick: _ }, [Y(e).filteredCategories.length === 1 && Y(e).filteredCategories[0] === "todo" ? ($(), Ie(gr, { key: 0, alt: "待办-显示" })) : ($(), Ie(gr, { key: 1, alt: "待办" }))], 512)), [[un, !Y(e).isMenuShowed]]), !Y(e).isInMobileMode && Y(e).dateFilterString ? Ot(($(), j("div", Kne, [P("div", { class: "btn-text", onClick: d }, fe(Y(e).dateFilterString), 1)], 512)), [[un, !Y(e).isMenuShowed]]) : ce("", !0), !Y(e).isInMobileMode && !Y(e).isMenuShowed ? ($(), Ie(Gne, { key: 11, class: "ml-5" })) : ce("", !0)]), P("div", Qne, [!Y(e).isInMobileMode && Y(e).insets.windowsWidth > 1352 ? ($(), Ie(Vne, { key: 0, class: "pr-6" })) : ce("", !0), Y(r).name === "Detail" && Y(e).currentDiary ? ($(), j("div", Jne, [Y(e).currentDiary && Y(e).currentDiary.is_public === 1 ? ($(), j("div", { key: 0, class: "clipboard-trigger", "data-clipboard": f.value }, [de(gr, { alt: "分享" })], 8, eae)) : ce("", !0), P("div", { onClick: u }, [de(gr, { alt: "删除" })]), de(k, { to: `/edit/${Y(e).currentDiary.id}` }, { default: Me(() => [de(gr, { alt: "编辑" })]), _: 1 }, 8, ["to"])])) : ce("", !0), Y(r).name === "Edit" || Y(r).name === "EditNew" ? ($(), j("div", tae, [Y(e).isDiaryEditorContentHasChanged ? ($(), j("div", { key: 0, onClick: S }, [de(gr, { alt: "恢复" })])) : ce("", !0), Y(e).isSavingDiary ? ($(), j("div", rae, [de(Gi, { height: 50, loading: !0 })])) : ($(), j("div", { key: 2, onClick: x }, [c.value ? ($(), Ie(gr, { key: 0, alt: "确定" })) : Y(e).isDiaryEditorContentHasChanged ? ($(), Ie(gr, { key: 1, alt: "确定-已变化" })) : ($(), Ie(gr, { key: 2, alt: "确定-已保存" }))]))])) : ce("", !0), Y(e).isInMobileMode && Y(r).name !== "Detail" && !Y(e).isMenuShowed || !Y(e).isInMobileMode ? ($(), Ie(k, { key: 3, to: "/edit" }, { default: Me(() => [de(gr, { alt: "添加" })]), _: 1 })) : ce("", !0)]), Y(e).isInMobileMode ? ($(), j("div", { key: 0, class: "brand", onClick: m }, [Y(r).name === "Edit" || Y(r).name === "EditNew" ? ($(), j("img", { key: 0, src: Y(e).editLogoImg, alt: "LOGO" }, null, 8, nae)) : Y(e).isDiaryListShowedInFullStyle ? ($(), j("a", aae, [P("img", { src: Y(ke).logo_icons.logo_content, alt: "日记" }, null, 8, iae)])) : ($(), j("a", oae, [P("img", { src: Y(ke).logo_icons.logo, alt: "日记" }, null, 8, sae)]))])) : ce("", !0), de(Sne)]), Ot(P("div", lae, [P("div", { class: "toast" }, [uae, cae, P("div", { class: "toast-footer" }, [P("div", { class: "btn-cancel", onClick: l }, "取消"), P("div", { class: "btn-confirm", onClick: T }, "确定")])]), fae], 512), [[un, s.value]])]) } } }); const h4 = Et(hae, [["__scopeId", "data-v-5b2413a4"]]), Io = { category() { return fr("get", null, null, "statistic/category") }, year() { return fr("get", null, null, "statistic/year") }, users() { return fr("get", null, null, "statistic/users") }, weather() { return fr("get", null, null, "statistic/weather") }, daySum() { return fr("get", null, null, "bill/day-sum") }, monthSum() { return fr("get", null, null, "bill/month-sum") } }, dae = { key: 1, class: "diary" }, vae = Ue({ __name: "Index", setup(t) { const e = Vt(); Ki(), wn(); const r = ne(); Lt(() => { a() }); const { isShowSearchBar: n } = L_(e); mt(n, s => { s && r.value.scrollTo(0, 0) }); function a() { Io.category().then(s => { e.statisticsCategory = s.data, o(s.data) }), Io.year().then(s => { e.statisticsYear = s.data, i(s.data) }) } function i(s) { s && (e.dataArrayYear = s.reverse().map(l => ({ name: l.year, value: l.count }))) } function o(s) { let l = Object.keys(s); l = l.filter(u => u !== "amount" && u !== "shared"), e.dataArrayCategory = l.map(u => ({ name: e.categoryNameMap.get(u), value: s[u] })) } return (s, l) => { const u = In("router-view"); return $(), j("div", null, [de(h4), Y(e).isInMobileMode ? ($(), j("div", { key: 0, class: "diary", style: at(`height:${Y(e).insets.heightPanel}px`) }, [P("div", { ref_key: "refDiaryList", ref: r, class: "diary-list-container diary-list-container-mobile", style: at(`height:${Y(e).insets.heightPanel}px`) }, [de(u)], 4)], 4)) : ($(), j("div", dae, [P("div", { ref_key: "refDiaryList", ref: r, class: "diary-list-container", style: at(`height:${Y(e).insets.heightPanel}px`) }, [de(u4)], 4), P("div", { class: "diary-container", style: at(`height:${Y(e).insets.heightPanel}px`) }, [de(u)], 4)]))]) } } }); const pae = Et(vae, [["__scopeId", "data-v-8ef8e387"]]), gae = { class: "diary" }, mae = Ue({ __name: "Hole", setup(t) { const e = Vt(); Lt(() => { r() }); function r() { Io.category().then(i => { e.statisticsCategory = i.data, a(i.data) }), Io.year().then(i => { e.statisticsYear = i.data, n(i.data) }) } function n(i) { i && (e.dataArrayYear = i.reverse().map(o => ({ name: o.year, value: o.count }))) } function a(i) { let o = Object.keys(i); o = o.filter(s => s !== "amount" && s !== "shared"), e.dataArrayCategory = o.map(s => ({ name: e.categoryNameMap.get(s), value: i[s] })) } return (i, o) => { const s = In("router-view"); return $(), j("div", null, [de(h4), P("div", gae, [P("div", { class: "diary-hole-container", style: at(`height:${Y(e).insets.heightPanel}px`) }, [de(s)], 4)])]) } } }); const yae = Et(mae, [["__scopeId", "data-v-c0107dfc"]]), Th = { login(t) { return fr("post", {}, t, "user/login") }, register(t) { return fr("post", {}, t, "user/register") }, changePassword(t) { return fr("put", {}, t, "user/change-password") }, setProfile(t) { return fr("put", {}, t, "user/set-profile") }, destroyAccount() { return fr("delete", {}, null, "user/destroy-account") }, getAvatar(t) { return fr("get", t, null, "user/avatar") } }, _ae = ["innerHTML"], d4 = Ue({ __name: "RegisterTip", props: { htmlContent: { type: String } }, setup(t) { return (e, r) => ($(), Ie(Cr, { "enter-active-class": "animated-fast fadeIn", "leave-active-class": "animated-fast faceOut" }, { default: Me(() => [t.htmlContent ? ($(), j("div", { key: 0, class: "register-tip mb-6", innerHTML: t.htmlContent }, null, 8, _ae)) : ce("", !0)]), _: 1 })) } }); const bae = { key: 0, class: "body-login" }, wae = { class: "logo-wrapper" }, Sae = { class: "logo" }, xae = ["src"], Tae = P("div", { class: "project-name" }, "注册", -1), Dae = { id: "regForm" }, Cae = { class: "input-group" }, Mae = { class: "input-group" }, kae = { class: "input-group" }, Aae = { class: "input-group" }, Lae = { class: "input-group" }, Iae = Ue({ __name: "Register", setup(t) { const e = Vt(); Ki(); const r = wn(), n = ne(!1), a = ne("邀请码"), i = ne("邮箱"), o = ne("密码"), s = ne("再次确认密码"), l = ne("昵称"), u = ne(""), c = ne(""), f = ne(""), h = ne(""), d = ne(""), v = ne(!1), p = ne(!1), g = ne(!1), m = ne(!1), y = ne(!1); ne(0), Lt(() => { n.value = !0, document.title = "日记 - 注册" }); const _ = De(() => g.value && p.value && m.value && y.value); function b() { if (_.value) { let x = { nickname: u.value, invitationCode: d.value, email: c.value, password: f.value }; Th.register(x).then(S => { Mt("success", `${S.message}，正在前往登录`, () => r.push({ name: "Login" })) }).catch(S => { Mt("danger", S.message, () => { }, 5) }) } } return mt(d, () => { d.value.length > 0 ? (a.value = "邀请码", v.value = !0) : (a.value = "邀请码不能为空", v.value = !1) }), mt(u, () => { u.value.length > 0 ? (l.value = "昵称", p.value = !0) : (l.value = "昵称不能为空", p.value = !1) }), mt(c, () => { /(\w|\d)+@(\w|\d)+\.\w+/i.test(c.value) ? (i.value = "邮箱", g.value = !0) : (i.value = "输入的邮箱不正确，请重新输入", g.value = !1) }), mt(f, () => { f.value.length > 0 ? (o.value = "密码", m.value = !0) : (o.value = "密码不能为空", m.value = !1) }), mt(h, () => { f.value === h.value && m.value ? (s.value = "再次确认密码", y.value = !0) : (s.value = "两次密码不一致", y.value = !1) }), (x, S) => { const T = In("router-link"); return $(), j("div", { class: "body-login-bg", style: at(`min-height: ${Y(e).insets.windowsHeight}px`) }, [de(Cr, { "enter-active-class": "animated-fast fadeIn", "leave-active-class": "animated-fast faceOut" }, { default: Me(() => [n.value ? ($(), j("div", bae, [P("div", wae, [P("div", Sae, [P("img", { src: Y(ke).logo_icons.logo_register, alt: "Diary Logo" }, null, 8, xae)]), Tae]), de(d4, { "html-content": Y(ta).registerTip }, null, 8, ["html-content"]), P("form", Dae, [P("div", Cae, [P("label", { for: "invitation", class: Be({ red: !v.value }) }, fe(a.value), 3), Ot(P("input", { "onUpdate:modelValue": S[0] || (S[0] = C => d.value = C), type: "text", name: "invitation", id: "invitation" }, null, 512), [[fn, d.value]])]), P("div", Mae, [P("label", { for: "nickname", class: Be({ red: !p.value }) }, fe(l.value), 3), Ot(P("input", { "onUpdate:modelValue": S[1] || (S[1] = C => u.value = C), type: "text", name: "nickname", id: "nickname" }, null, 512), [[fn, u.value]])]), P("div", kae, [P("label", { for: "email", class: Be({ red: !g.value }) }, fe(i.value), 3), Ot(P("input", { "onUpdate:modelValue": S[2] || (S[2] = C => c.value = C), type: "text", name: "email", id: "email" }, null, 512), [[fn, c.value, void 0, { lazy: !0 }]])]), P("div", Aae, [P("label", { for: "password1", class: Be({ red: !m.value }) }, fe(o.value), 3), Ot(P("input", { "onUpdate:modelValue": S[3] || (S[3] = C => f.value = C), name: "password1", type: "password", id: "password1" }, null, 512), [[fn, f.value, void 0, { lazy: !0 }]])]), P("div", Lae, [P("label", { for: "password2", class: Be({ red: !y.value }) }, fe(s.value), 3), Ot(P("input", { "onUpdate:modelValue": S[4] || (S[4] = C => h.value = C), type: "password", name: "password2", id: "password2" }, null, 512), [[fn, h.value]])]), P("button", { class: Be(["btn mt-8", _.value ? "btn-active" : "btn-inactive"]), type: "button", onClick: hn(b, ["prevent"]) }, "注册 ", 2)]), P("div", { class: Be(["footer", { center: !Y(ta).isShowDemoAccount }]) }, [de(T, { to: "/login" }, { default: Me(() => [Tt("登录")]), _: 1 })], 2)])) : ce("", !0)]), _: 1 })], 4) } } }), jx = { sorted(t) { return fr("get", t, null, "bill/sorted") }, keys() { return fr("get", null, null, "bill/keys") } }, Pae = t => (ba("data-v-50e90164"), t = t(), wa(), t), Rae = { key: 0, class: "body-login" }, Oae = { class: "logo-wrapper" }, Eae = ["src"], Nae = ["src"], $ae = { class: "input-group" }, Fae = { class: "input-group" }, Bae = Pae(() => P("label", { for: "password" }, "密码", -1)), Vae = { class: "copyright" }, zae = { class: "project-name", target: "_blank", href: "http://kylebing.cn/diary/#/share/6766" }, Hae = { class: "version ml-1" }, Yae = { class: "ml-1" }, Uae = Ue({ __name: "Login", setup(t) { const e = Vt(), r = wn(), n = ne(!1); Lt(() => { n.value = !0, document.title = "日记 - 登录" }); const a = ne("邮箱"), i = ne(""), o = ne(""), s = ne("登录"), l = ta.isShowDemoAccount, u = ne(null); mt(i, m => { m === "" ? (a.value = "邮箱", u.value = null) : c.value ? (a.value = "邮箱", g()) : (u.value = null, a.value = "输入的邮箱不正确，请重新输入") }); const c = De(() => /(\w|\d)+@(\w|\d)+\.\w+/i.test(i.value)), f = De(() => o.value.length > 0), h = De(() => c.value && f.value); function d() { if (h.value) { s.value = "登录中..."; let m = { email: i.value, password: o.value }; Th.login(m).then(y => { S7({ nickname: y.data.nickname, uid: y.data.uid, email: y.data.email, phone: y.data.phone, avatar: y.data.avatar, token: y.data.password, group_id: y.data.group_id, city: y.data.city, geolocation: y.data.geolocation }), v(), Mt("success", y.message, () => r.push({ name: "Index" })), s.value = "登录成功" }).catch(y => { s.value = "登录失败", Mt("danger", y.message, () => s.value = "登录", 5) }) } } function v() { jx.keys().then(m => { x7(m.data) }).catch(m => { Mt("warning", m.message) }) } function p() { i.value = ta.demoAccount, o.value = ta.demoAccountPassword } function g() { Th.getAvatar({ email: i.value }).then(m => { m.data && (u.value = m.data.avatar) }) } return (m, y) => { const _ = In("router-link"); return $(), j("div", { class: "body-login-bg", style: at(`min-height: ${Y(e).insets.windowsHeight}px`) }, [de(Cr, { "enter-active-class": "animated-fast fadeIn", "leave-active-class": "animated-fast faceOut" }, { default: Me(() => [n.value ? ($(), j("div", Rae, [P("div", Oae, [P("div", { class: Be(["logo", { valid: u.value }]) }, [u.value ? ($(), j("img", { key: 0, src: u.value, alt: "Diary Logo" }, null, 8, Eae)) : ($(), j("img", { key: 1, src: Y(ke).logo_icons.logo_rounded, alt: "LOGIN-LOGO" }, null, 8, Nae))], 2)]), P("form", { method: "post", id: "regForm", onSubmit: hn(d, ["prevent"]) }, [P("div", $ae, [P("label", { for: "email", class: Be({ red: c.value || i.value.length < 1 }) }, fe(a.value), 3), Ot(P("input", { "onUpdate:modelValue": y[0] || (y[0] = b => i.value = b), type: "text", name: "email", id: "email" }, null, 512), [[fn, i.value, void 0, { lazy: !0 }]])]), P("div", Fae, [Bae, Ot(P("input", { "onUpdate:modelValue": y[1] || (y[1] = b => o.value = b), name: "password", type: "password", id: "password" }, null, 512), [[fn, o.value]])]), P("button", { class: Be(["btn mt-8", h.value ? "btn-active" : "btn-inactive"]), type: "submit" }, fe(s.value), 3)], 32), P("div", { class: Be(["footer", { center: !Y(l) }]) }, [de(_, { to: "/register" }, { default: Me(() => [Tt("注册")]), _: 1 }), Y(l) ? ($(), j("a", { key: 0, onClick: p }, "试用演示账户")) : ce("", !0)], 2), P("div", Vae, [P("a", zae, fe(Y(vo).nameZh), 1), P("span", Hae, "v" + fe(Y(vo).version), 1), P("span", Yae, " 始于 " + fe(Y(vo).dateInit), 1), de(_, { class: "ml-1 password", to: "/fetch-password" }, { default: Me(() => [Tt("找回密码")]), _: 1 })])])) : ce("", !0)]), _: 1 })], 4) } } }); const Wae = Et(Uae, [["__scopeId", "data-v-50e90164"]]), Gae = { key: 0, class: "body-login" }, jae = { id: "reg" }, Zae = { class: "logo-wrapper" }, qae = { class: "logo" }, Xae = ["src"], Kae = P("div", { class: "project-name" }, "修改密码", -1), Qae = { id: "regForm" }, Jae = { class: "input-group" }, eie = P("label", { for: "password1" }, "新密码", -1), tie = { class: "input-group" }, rie = { class: "footer" }, nie = Ue({ __name: "ChangePassword", setup(t) { const e = Vt(), r = wn(), n = ne(!1), a = ne("再次确认密码"), i = ne(""), o = ne(""); Lt(() => { n.value = !0, document.title = "日记 - 修改密码" }); function s() { if (l) { let u = { password: i.value }; Th.changePassword(u).then(c => { Mt("success", `${c.message}，正在前往登录`, () => { DD(), r.go(-1) }, 2) }).catch(c => { Mt("danger", c.message, () => { }, 3) }) } } mt(o, () => { l.value ? a.value = "再次确认密码" : a.value = "两次密码不一致" }); const l = De(() => i.value.length > 0 && i.value === o.value); return (u, c) => { const f = In("router-link"); return $(), j("div", { class: "body-login-bg", style: at(`min-height: ${Y(e).insets.windowsHeight}px`) }, [de(Cr, { "enter-active-class": "animated-fast fadeIn", "leave-active-class": "animated-fast faceOut" }, { default: Me(() => [n.value ? ($(), j("div", Gae, [P("div", jae, [P("div", Zae, [P("div", qae, [P("img", { src: Y(ke).logo_icons.logo_change_password, alt: "Diary Logo" }, null, 8, Xae)]), Kae]), P("form", Qae, [P("div", Jae, [eie, Ot(P("input", { "onUpdate:modelValue": c[0] || (c[0] = h => i.value = h), name: "password1", type: "password", id: "password1" }, null, 512), [[fn, i.value, void 0, { lazy: !0 }]])]), P("div", tie, [P("label", { for: "password2", class: Be({ red: l.value || o.value.length < 1 }) }, fe(a.value), 3), Ot(P("input", { "onUpdate:modelValue": c[1] || (c[1] = h => o.value = h), type: "password", name: "password2", id: "password2", class: "focused" }, null, 512), [[fn, o.value]])]), P("button", { class: Be(["btn mt-8", l.value ? "btn-active" : "btn-inactive"]), type: "button", onClick: hn(s, ["prevent"]) }, "确定修改 ", 2)]), P("div", rie, [de(f, { to: "/", class: "left" }, { default: Me(() => [Tt("返回")]), _: 1 }), de(f, { to: "/login", class: "right" }, { default: Me(() => [Tt("登录")]), _: 1 })])])])) : ce("", !0)]), _: 1 })], 4) } } }), aie = { getUploadToken(t) { return fr("get", t, null, "/image-qiniu/") } }; var v4 = globalThis && globalThis.__extends || function () { var t = function (e, r) { return t = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (n, a) { n.__proto__ = a } || function (n, a) { for (var i in a) a.hasOwnProperty(i) && (n[i] = a[i]) }, t(e, r) }; return function (e, r) { t(e, r); function n() { this.constructor = e } e.prototype = r === null ? Object.create(r) : (n.prototype = r.prototype, new n) } }(), Qr; (function (t) { t.InvalidFile = "InvalidFile", t.InvalidToken = "InvalidToken", t.InvalidMetadata = "InvalidMetadata", t.InvalidChunkSize = "InvalidChunkSize", t.InvalidCustomVars = "InvalidCustomVars", t.NotAvailableUploadHost = "NotAvailableUploadHost", t.ReadCacheFailed = "ReadCacheFailed", t.InvalidCacheData = "InvalidCacheData", t.WriteCacheFailed = "WriteCacheFailed", t.RemoveCacheFailed = "RemoveCacheFailed", t.GetCanvasContextFailed = "GetCanvasContextFailed", t.UnsupportedFileType = "UnsupportedFileType", t.FileReaderReadFailed = "FileReaderReadFailed", t.NotAvailableXMLHttpRequest = "NotAvailableXMLHttpRequest", t.InvalidProgressEventTarget = "InvalidProgressEventTarget", t.RequestError = "RequestError" })(Qr || (Qr = {})); var cn = function () { function t(e, r) { this.name = e, this.message = r, this.stack = new Error().stack } return t }(), np = function (t) { v4(e, t); function e(r, n, a, i) { var o = t.call(this, Qr.RequestError, a) || this; return o.code = r, o.reqId = n, o.isRequestError = !0, o.data = i, o } return e }(cn), iie = function (t) { v4(e, t); function e(r, n) { return n === void 0 && (n = ""), t.call(this, 0, n, r) || this } return e }(np), oie = function () { function t(e, r) { this.runTask = e, this.limit = r, this.aborted = !1, this.queue = [], this.processing = [] } return t.prototype.enqueue = function (e) { var r = this; return new Promise(function (n, a) { r.queue.push({ task: e, resolve: n, reject: a }), r.check() }) }, t.prototype.run = function (e) { var r = this; this.queue = this.queue.filter(function (n) { return n !== e }), this.processing.push(e), this.runTask(e.task).then(function () { r.processing = r.processing.filter(function (n) { return n !== e }), e.resolve(), r.check() }, function (n) { return e.reject(n) }) }, t.prototype.check = function () { var e = this; if (!this.aborted) { var r = this.processing.length, n = this.limit - r; this.queue.slice(0, n).forEach(function (a) { e.run(a) }) } }, t.prototype.abort = function () { this.queue = [], this.aborted = !0 }, t }(), sie = globalThis && globalThis.__extends || function () { var t = function (e, r) { return t = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (n, a) { n.__proto__ = a } || function (n, a) { for (var i in a) a.hasOwnProperty(i) && (n[i] = a[i]) }, t(e, r) }; return function (e, r) { t(e, r); function n() { this.constructor = e } e.prototype = r === null ? Object.create(r) : (n.prototype = r.prototype, new n) } }(), wv = globalThis && globalThis.__assign || function () { return wv = Object.assign || function (t) { for (var e, r = 1, n = arguments.length; r < n; r++) { e = arguments[r]; for (var a in e) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]) } return t }, wv.apply(this, arguments) }, lie = function () { function t() { this.closed = !1 } return t.prototype.unsubscribe = function () { this.closed || (this.closed = !0, this._unsubscribe && this._unsubscribe()) }, t.prototype.add = function (e) { this._unsubscribe = e }, t }(), uie = function (t) { sie(e, t); function e(r, n, a) { var i = t.call(this) || this; return i.isStopped = !1, r && typeof r == "object" ? i.destination = r : i.destination = wv(wv(wv({}, r && { next: r }), n && { error: n }), a && { complete: a }), i } return e.prototype.unsubscribe = function () { this.closed || (this.isStopped = !0, t.prototype.unsubscribe.call(this)) }, e.prototype.next = function (r) { !this.isStopped && this.destination.next && this.destination.next(r) }, e.prototype.error = function (r) { !this.isStopped && this.destination.error && (this.isStopped = !0, this.destination.error(r)) }, e.prototype.complete = function (r) { !this.isStopped && this.destination.complete && (this.isStopped = !0, this.destination.complete(r)) }, e }(lie), cie = function () { function t(e) { this._subscribe = e } return t.prototype.subscribe = function (e, r, n) { var a = new uie(e, r, n); return a.add(this._subscribe(a)), a }, t }(); function fie(t) { if (t === null || typeof t > "u") return ""; var e = t + "", r = "", n, a, i = 0; n = a = 0, i = e.length; for (var o = 0; o < i; o++) { var s = e.charCodeAt(o), l = null; if (s < 128) a++; else if (s > 127 && s < 2048) l = String.fromCharCode(s >> 6 | 192, s & 63 | 128); else if ((s & 63488 ^ 55296) > 0) l = String.fromCharCode(s >> 12 | 224, s >> 6 & 63 | 128, s & 63 | 128); else { if ((s & 64512 ^ 55296) > 0) throw new RangeError("Unmatched trail surrogate at " + o); var u = e.charCodeAt(++o); if ((u & 64512 ^ 56320) > 0) throw new RangeError("Unmatched lead surrogate at " + (o - 1)); s = ((s & 1023) << 10) + (u & 1023) + 65536, l = String.fromCharCode(s >> 18 | 240, s >> 12 & 63 | 128, s >> 6 & 63 | 128, s & 63 | 128) } l !== null && (a > n && (r += e.slice(n, a)), r += l, n = a = o + 1) } return a > n && (r += e.slice(n, i)), r } function hie(t) { var e = [], r = 0, n = 0, a = 0; for (t += ""; r < t.length;) { n = t.charCodeAt(r) & 255, a = 0, n <= 191 ? (n = n & 127, a = 1) : n <= 223 ? (n = n & 31, a = 2) : n <= 239 ? (n = n & 15, a = 3) : (n = n & 7, a = 4); for (var i = 1; i < a; ++i)n = n << 6 | t.charCodeAt(i + r) & 63; a === 4 ? (n -= 65536, e.push(String.fromCharCode(55296 | n >> 10 & 1023)), e.push(String.fromCharCode(56320 | n & 1023))) : e.push(String.fromCharCode(n)), r += a } return e.join("") } function die(t) { var e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", r, n, a, i, o, s, l, u, c = 0, f = 0, h = "", d = []; if (!t) return t; t = fie(t + ""); do r = t.charCodeAt(c++), n = t.charCodeAt(c++), a = t.charCodeAt(c++), u = r << 16 | n << 8 | a, i = u >> 18 & 63, o = u >> 12 & 63, s = u >> 6 & 63, l = u & 63, d[f++] = e.charAt(i) + e.charAt(o) + e.charAt(s) + e.charAt(l); while (c < t.length); switch (h = d.join(""), t.length % 3) { case 1: h = h.slice(0, -2) + "=="; break; case 2: h = h.slice(0, -1) + "="; break }return h } function vie(t) { var e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", r, n, a, i, o, s, l, u, c = 0, f = 0, h = "", d = []; if (!t) return t; t += ""; do i = e.indexOf(t.charAt(c++)), o = e.indexOf(t.charAt(c++)), s = e.indexOf(t.charAt(c++)), l = e.indexOf(t.charAt(c++)), u = i << 18 | o << 12 | s << 6 | l, r = u >> 16 & 255, n = u >> 8 & 255, a = u & 255, s === 64 ? d[f++] = String.fromCharCode(r) : l === 64 ? d[f++] = String.fromCharCode(r, n) : d[f++] = String.fromCharCode(r, n, a); while (c < t.length); return h = d.join(""), hie(h) } function p4(t) { return t = die(t), t.replace(/\//g, "_").replace(/\+/g, "-") } function pie(t) { return t = t.replace(/_/g, "/").replace(/-/g, "+"), vie(t) } var g4 = { exports: {} }; (function (t, e) { (function (r) { t.exports = r() })(function (r) { var n = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "a", "b", "c", "d", "e", "f"]; function a(m, y) { var _ = m[0], b = m[1], x = m[2], S = m[3]; _ += (b & x | ~b & S) + y[0] - 680876936 | 0, _ = (_ << 7 | _ >>> 25) + b | 0, S += (_ & b | ~_ & x) + y[1] - 389564586 | 0, S = (S << 12 | S >>> 20) + _ | 0, x += (S & _ | ~S & b) + y[2] + 606105819 | 0, x = (x << 17 | x >>> 15) + S | 0, b += (x & S | ~x & _) + y[3] - 1044525330 | 0, b = (b << 22 | b >>> 10) + x | 0, _ += (b & x | ~b & S) + y[4] - 176418897 | 0, _ = (_ << 7 | _ >>> 25) + b | 0, S += (_ & b | ~_ & x) + y[5] + 1200080426 | 0, S = (S << 12 | S >>> 20) + _ | 0, x += (S & _ | ~S & b) + y[6] - 1473231341 | 0, x = (x << 17 | x >>> 15) + S | 0, b += (x & S | ~x & _) + y[7] - 45705983 | 0, b = (b << 22 | b >>> 10) + x | 0, _ += (b & x | ~b & S) + y[8] + 1770035416 | 0, _ = (_ << 7 | _ >>> 25) + b | 0, S += (_ & b | ~_ & x) + y[9] - 1958414417 | 0, S = (S << 12 | S >>> 20) + _ | 0, x += (S & _ | ~S & b) + y[10] - 42063 | 0, x = (x << 17 | x >>> 15) + S | 0, b += (x & S | ~x & _) + y[11] - 1990404162 | 0, b = (b << 22 | b >>> 10) + x | 0, _ += (b & x | ~b & S) + y[12] + 1804603682 | 0, _ = (_ << 7 | _ >>> 25) + b | 0, S += (_ & b | ~_ & x) + y[13] - 40341101 | 0, S = (S << 12 | S >>> 20) + _ | 0, x += (S & _ | ~S & b) + y[14] - 1502002290 | 0, x = (x << 17 | x >>> 15) + S | 0, b += (x & S | ~x & _) + y[15] + 1236535329 | 0, b = (b << 22 | b >>> 10) + x | 0, _ += (b & S | x & ~S) + y[1] - 165796510 | 0, _ = (_ << 5 | _ >>> 27) + b | 0, S += (_ & x | b & ~x) + y[6] - 1069501632 | 0, S = (S << 9 | S >>> 23) + _ | 0, x += (S & b | _ & ~b) + y[11] + 643717713 | 0, x = (x << 14 | x >>> 18) + S | 0, b += (x & _ | S & ~_) + y[0] - 373897302 | 0, b = (b << 20 | b >>> 12) + x | 0, _ += (b & S | x & ~S) + y[5] - 701558691 | 0, _ = (_ << 5 | _ >>> 27) + b | 0, S += (_ & x | b & ~x) + y[10] + 38016083 | 0, S = (S << 9 | S >>> 23) + _ | 0, x += (S & b | _ & ~b) + y[15] - 660478335 | 0, x = (x << 14 | x >>> 18) + S | 0, b += (x & _ | S & ~_) + y[4] - 405537848 | 0, b = (b << 20 | b >>> 12) + x | 0, _ += (b & S | x & ~S) + y[9] + 568446438 | 0, _ = (_ << 5 | _ >>> 27) + b | 0, S += (_ & x | b & ~x) + y[14] - 1019803690 | 0, S = (S << 9 | S >>> 23) + _ | 0, x += (S & b | _ & ~b) + y[3] - 187363961 | 0, x = (x << 14 | x >>> 18) + S | 0, b += (x & _ | S & ~_) + y[8] + 1163531501 | 0, b = (b << 20 | b >>> 12) + x | 0, _ += (b & S | x & ~S) + y[13] - 1444681467 | 0, _ = (_ << 5 | _ >>> 27) + b | 0, S += (_ & x | b & ~x) + y[2] - 51403784 | 0, S = (S << 9 | S >>> 23) + _ | 0, x += (S & b | _ & ~b) + y[7] + 1735328473 | 0, x = (x << 14 | x >>> 18) + S | 0, b += (x & _ | S & ~_) + y[12] - 1926607734 | 0, b = (b << 20 | b >>> 12) + x | 0, _ += (b ^ x ^ S) + y[5] - 378558 | 0, _ = (_ << 4 | _ >>> 28) + b | 0, S += (_ ^ b ^ x) + y[8] - 2022574463 | 0, S = (S << 11 | S >>> 21) + _ | 0, x += (S ^ _ ^ b) + y[11] + 1839030562 | 0, x = (x << 16 | x >>> 16) + S | 0, b += (x ^ S ^ _) + y[14] - 35309556 | 0, b = (b << 23 | b >>> 9) + x | 0, _ += (b ^ x ^ S) + y[1] - 1530992060 | 0, _ = (_ << 4 | _ >>> 28) + b | 0, S += (_ ^ b ^ x) + y[4] + 1272893353 | 0, S = (S << 11 | S >>> 21) + _ | 0, x += (S ^ _ ^ b) + y[7] - 155497632 | 0, x = (x << 16 | x >>> 16) + S | 0, b += (x ^ S ^ _) + y[10] - 1094730640 | 0, b = (b << 23 | b >>> 9) + x | 0, _ += (b ^ x ^ S) + y[13] + 681279174 | 0, _ = (_ << 4 | _ >>> 28) + b | 0, S += (_ ^ b ^ x) + y[0] - 358537222 | 0, S = (S << 11 | S >>> 21) + _ | 0, x += (S ^ _ ^ b) + y[3] - 722521979 | 0, x = (x << 16 | x >>> 16) + S | 0, b += (x ^ S ^ _) + y[6] + 76029189 | 0, b = (b << 23 | b >>> 9) + x | 0, _ += (b ^ x ^ S) + y[9] - 640364487 | 0, _ = (_ << 4 | _ >>> 28) + b | 0, S += (_ ^ b ^ x) + y[12] - 421815835 | 0, S = (S << 11 | S >>> 21) + _ | 0, x += (S ^ _ ^ b) + y[15] + 530742520 | 0, x = (x << 16 | x >>> 16) + S | 0, b += (x ^ S ^ _) + y[2] - 995338651 | 0, b = (b << 23 | b >>> 9) + x | 0, _ += (x ^ (b | ~S)) + y[0] - 198630844 | 0, _ = (_ << 6 | _ >>> 26) + b | 0, S += (b ^ (_ | ~x)) + y[7] + 1126891415 | 0, S = (S << 10 | S >>> 22) + _ | 0, x += (_ ^ (S | ~b)) + y[14] - 1416354905 | 0, x = (x << 15 | x >>> 17) + S | 0, b += (S ^ (x | ~_)) + y[5] - 57434055 | 0, b = (b << 21 | b >>> 11) + x | 0, _ += (x ^ (b | ~S)) + y[12] + 1700485571 | 0, _ = (_ << 6 | _ >>> 26) + b | 0, S += (b ^ (_ | ~x)) + y[3] - 1894986606 | 0, S = (S << 10 | S >>> 22) + _ | 0, x += (_ ^ (S | ~b)) + y[10] - 1051523 | 0, x = (x << 15 | x >>> 17) + S | 0, b += (S ^ (x | ~_)) + y[1] - 2054922799 | 0, b = (b << 21 | b >>> 11) + x | 0, _ += (x ^ (b | ~S)) + y[8] + 1873313359 | 0, _ = (_ << 6 | _ >>> 26) + b | 0, S += (b ^ (_ | ~x)) + y[15] - 30611744 | 0, S = (S << 10 | S >>> 22) + _ | 0, x += (_ ^ (S | ~b)) + y[6] - 1560198380 | 0, x = (x << 15 | x >>> 17) + S | 0, b += (S ^ (x | ~_)) + y[13] + 1309151649 | 0, b = (b << 21 | b >>> 11) + x | 0, _ += (x ^ (b | ~S)) + y[4] - 145523070 | 0, _ = (_ << 6 | _ >>> 26) + b | 0, S += (b ^ (_ | ~x)) + y[11] - 1120210379 | 0, S = (S << 10 | S >>> 22) + _ | 0, x += (_ ^ (S | ~b)) + y[2] + 718787259 | 0, x = (x << 15 | x >>> 17) + S | 0, b += (S ^ (x | ~_)) + y[9] - 343485551 | 0, b = (b << 21 | b >>> 11) + x | 0, m[0] = _ + m[0] | 0, m[1] = b + m[1] | 0, m[2] = x + m[2] | 0, m[3] = S + m[3] | 0 } function i(m) { var y = [], _; for (_ = 0; _ < 64; _ += 4)y[_ >> 2] = m.charCodeAt(_) + (m.charCodeAt(_ + 1) << 8) + (m.charCodeAt(_ + 2) << 16) + (m.charCodeAt(_ + 3) << 24); return y } function o(m) { var y = [], _; for (_ = 0; _ < 64; _ += 4)y[_ >> 2] = m[_] + (m[_ + 1] << 8) + (m[_ + 2] << 16) + (m[_ + 3] << 24); return y } function s(m) { var y = m.length, _ = [1732584193, -271733879, -1732584194, 271733878], b, x, S, T, C, M; for (b = 64; b <= y; b += 64)a(_, i(m.substring(b - 64, b))); for (m = m.substring(b - 64), x = m.length, S = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], b = 0; b < x; b += 1)S[b >> 2] |= m.charCodeAt(b) << (b % 4 << 3); if (S[b >> 2] |= 128 << (b % 4 << 3), b > 55) for (a(_, S), b = 0; b < 16; b += 1)S[b] = 0; return T = y * 8, T = T.toString(16).match(/(.*?)(.{0,8})$/), C = parseInt(T[2], 16), M = parseInt(T[1], 16) || 0, S[14] = C, S[15] = M, a(_, S), _ } function l(m) { var y = m.length, _ = [1732584193, -271733879, -1732584194, 271733878], b, x, S, T, C, M; for (b = 64; b <= y; b += 64)a(_, o(m.subarray(b - 64, b))); for (m = b - 64 < y ? m.subarray(b - 64) : new Uint8Array(0), x = m.length, S = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], b = 0; b < x; b += 1)S[b >> 2] |= m[b] << (b % 4 << 3); if (S[b >> 2] |= 128 << (b % 4 << 3), b > 55) for (a(_, S), b = 0; b < 16; b += 1)S[b] = 0; return T = y * 8, T = T.toString(16).match(/(.*?)(.{0,8})$/), C = parseInt(T[2], 16), M = parseInt(T[1], 16) || 0, S[14] = C, S[15] = M, a(_, S), _ } function u(m) { var y = "", _; for (_ = 0; _ < 4; _ += 1)y += n[m >> _ * 8 + 4 & 15] + n[m >> _ * 8 & 15]; return y } function c(m) { var y; for (y = 0; y < m.length; y += 1)m[y] = u(m[y]); return m.join("") } c(s("hello")), typeof ArrayBuffer < "u" && !ArrayBuffer.prototype.slice && function () { function m(y, _) { return y = y | 0 || 0, y < 0 ? Math.max(y + _, 0) : Math.min(y, _) } ArrayBuffer.prototype.slice = function (y, _) { var b = this.byteLength, x = m(y, b), S = b, T, C, M, k; return _ !== r && (S = m(_, b)), x > S ? new ArrayBuffer(0) : (T = S - x, C = new ArrayBuffer(T), M = new Uint8Array(C), k = new Uint8Array(this, x, T), M.set(k), C) } }(); function f(m) { return /[\u0080-\uFFFF]/.test(m) && (m = unescape(encodeURIComponent(m))), m } function h(m, y) { var _ = m.length, b = new ArrayBuffer(_), x = new Uint8Array(b), S; for (S = 0; S < _; S += 1)x[S] = m.charCodeAt(S); return y ? x : b } function d(m) { return String.fromCharCode.apply(null, new Uint8Array(m)) } function v(m, y, _) { var b = new Uint8Array(m.byteLength + y.byteLength); return b.set(new Uint8Array(m)), b.set(new Uint8Array(y), m.byteLength), _ ? b : b.buffer } function p(m) { var y = [], _ = m.length, b; for (b = 0; b < _ - 1; b += 2)y.push(parseInt(m.substr(b, 2), 16)); return String.fromCharCode.apply(String, y) } function g() { this.reset() } return g.prototype.append = function (m) { return this.appendBinary(f(m)), this }, g.prototype.appendBinary = function (m) { this._buff += m, this._length += m.length; var y = this._buff.length, _; for (_ = 64; _ <= y; _ += 64)a(this._hash, i(this._buff.substring(_ - 64, _))); return this._buff = this._buff.substring(_ - 64), this }, g.prototype.end = function (m) { var y = this._buff, _ = y.length, b, x = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], S; for (b = 0; b < _; b += 1)x[b >> 2] |= y.charCodeAt(b) << (b % 4 << 3); return this._finish(x, _), S = c(this._hash), m && (S = p(S)), this.reset(), S }, g.prototype.reset = function () { return this._buff = "", this._length = 0, this._hash = [1732584193, -271733879, -1732584194, 271733878], this }, g.prototype.getState = function () { return { buff: this._buff, length: this._length, hash: this._hash.slice() } }, g.prototype.setState = function (m) { return this._buff = m.buff, this._length = m.length, this._hash = m.hash, this }, g.prototype.destroy = function () { delete this._hash, delete this._buff, delete this._length }, g.prototype._finish = function (m, y) { var _ = y, b, x, S; if (m[_ >> 2] |= 128 << (_ % 4 << 3), _ > 55) for (a(this._hash, m), _ = 0; _ < 16; _ += 1)m[_] = 0; b = this._length * 8, b = b.toString(16).match(/(.*?)(.{0,8})$/), x = parseInt(b[2], 16), S = parseInt(b[1], 16) || 0, m[14] = x, m[15] = S, a(this._hash, m) }, g.hash = function (m, y) { return g.hashBinary(f(m), y) }, g.hashBinary = function (m, y) { var _ = s(m), b = c(_); return y ? p(b) : b }, g.ArrayBuffer = function () { this.reset() }, g.ArrayBuffer.prototype.append = function (m) { var y = v(this._buff.buffer, m, !0), _ = y.length, b; for (this._length += m.byteLength, b = 64; b <= _; b += 64)a(this._hash, o(y.subarray(b - 64, b))); return this._buff = b - 64 < _ ? new Uint8Array(y.buffer.slice(b - 64)) : new Uint8Array(0), this }, g.ArrayBuffer.prototype.end = function (m) { var y = this._buff, _ = y.length, b = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], x, S; for (x = 0; x < _; x += 1)b[x >> 2] |= y[x] << (x % 4 << 3); return this._finish(b, _), S = c(this._hash), m && (S = p(S)), this.reset(), S }, g.ArrayBuffer.prototype.reset = function () { return this._buff = new Uint8Array(0), this._length = 0, this._hash = [1732584193, -271733879, -1732584194, 271733878], this }, g.ArrayBuffer.prototype.getState = function () { var m = g.prototype.getState.call(this); return m.buff = d(m.buff), m }, g.ArrayBuffer.prototype.setState = function (m) { return m.buff = h(m.buff, !0), g.prototype.setState.call(this, m) }, g.ArrayBuffer.prototype.destroy = g.prototype.destroy, g.ArrayBuffer.prototype._finish = g.prototype._finish, g.ArrayBuffer.hash = function (m, y) { var _ = l(new Uint8Array(m)), b = c(_); return y ? p(b) : b }, g }) })(g4); var gie = g4.exports; const mie = VD(gie); var Zy = globalThis && globalThis.__assign || function () { return Zy = Object.assign || function (t) { for (var e, r = 1, n = arguments.length; r < n; r++) { e = arguments[r]; for (var a in e) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]) } return t }, Zy.apply(this, arguments) }, yie = globalThis && globalThis.__awaiter || function (t, e, r, n) { function a(i) { return i instanceof r ? i : new r(function (o) { o(i) }) } return new (r || (r = Promise))(function (i, o) { function s(c) { try { u(n.next(c)) } catch (f) { o(f) } } function l(c) { try { u(n.throw(c)) } catch (f) { o(f) } } function u(c) { c.done ? i(c.value) : a(c.value).then(s, l) } u((n = n.apply(t, e || [])).next()) }) }, _ie = globalThis && globalThis.__generator || function (t, e) { var r = { label: 0, sent: function () { if (i[0] & 1) throw i[1]; return i[1] }, trys: [], ops: [] }, n, a, i, o; return o = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (o[Symbol.iterator] = function () { return this }), o; function s(u) { return function (c) { return l([u, c]) } } function l(u) { if (n) throw new TypeError("Generator is already executing."); for (; r;)try { if (n = 1, a && (i = u[0] & 2 ? a.return : u[0] ? a.throw || ((i = a.return) && i.call(a), 0) : a.next) && !(i = i.call(a, u[1])).done) return i; switch (a = 0, i && (u = [u[0] & 2, i.value]), u[0]) { case 0: case 1: i = u; break; case 4: return r.label++, { value: u[1], done: !1 }; case 5: r.label++, a = u[1], u = [0]; continue; case 7: u = r.ops.pop(), r.trys.pop(); continue; default: if (i = r.trys, !(i = i.length > 0 && i[i.length - 1]) && (u[0] === 6 || u[0] === 2)) { r = 0; continue } if (u[0] === 3 && (!i || u[1] > i[0] && u[1] < i[3])) { r.label = u[1]; break } if (u[0] === 6 && r.label < i[1]) { r.label = i[1], i = u; break } if (i && r.label < i[2]) { r.label = i[2], r.ops.push(u); break } i[2] && r.ops.pop(), r.trys.pop(); continue }u = e.call(t, r) } catch (c) { u = [6, c], a = 0 } finally { n = i = 0 } if (u[0] & 5) throw u[1]; return { value: u[0] ? u[1] : void 0, done: !0 } } }, Kf = Math.pow(1024, 2); function bie(t, e) { var r = e * Kf; if (r > t.size) r = t.size; else for (; t.size > r * 1e4;)r *= 2; for (var n = [], a = Math.ceil(t.size / r), i = 0; i < a; i++) { var o = t.slice(r * i, i === a - 1 ? t.size : r * (i + 1)); n.push(o) } return n } function wie(t) { return Object.keys(t).every(function (e) { return e.indexOf("x-qn-meta-") === 0 }) } function Sie(t) { return Object.keys(t).every(function (e) { return e.indexOf("x:") === 0 }) } function xie(t) { return t.reduce(function (e, r) { return e + r }, 0) } function Tie(t, e, r) { try { localStorage.setItem(t, JSON.stringify(e)) } catch { r.warn(new cn(Qr.WriteCacheFailed, "setLocalFileInfo failed: " + t)) } } function Die(t, e, r) { var n = e == null ? "_" : "_key_" + e + "_"; return "qiniu_js_sdk_upload_file_name_" + t + n + "size_" + r } function Zx(t, e) { try { localStorage.removeItem(t) } catch { e.warn(new cn(Qr.RemoveCacheFailed, "removeLocalFileInfo failed. key: " + t)) } } function Cie(t, e) { var r = null; try { r = localStorage.getItem(t) } catch { e.warn(new cn(Qr.ReadCacheFailed, "getLocalFileInfo failed. key: " + t)) } if (r == null) return null; var n = null; try { n = JSON.parse(r) } catch { Zx(t, e), e.warn(new cn(Qr.InvalidCacheData, "getLocalFileInfo failed to parse. key: " + t)) } return n } function B_(t) { var e = "UpToken " + t; return { Authorization: e } } function Mie(t) { var e = B_(t); return Zy({ "content-type": "application/octet-stream" }, e) } function kie(t) { var e = B_(t); return Zy({ "content-type": "application/json" }, e) } function m4() { if (window.XMLHttpRequest) return new XMLHttpRequest; if (window.ActiveXObject) return new window.ActiveXObject("Microsoft.XMLHTTP"); throw new cn(Qr.NotAvailableXMLHttpRequest, "the current environment does not support.") } function Aie(t) { return yie(this, void 0, void 0, function () { var e, r; return _ie(this, function (n) { switch (n.label) { case 0: return [4, Lie(t)]; case 1: return e = n.sent(), r = new mie.ArrayBuffer, r.append(e), [2, r.end()] } }) }) } function Lie(t) { return new Promise(function (e, r) { var n = new FileReader; n.onload = function (a) { if (a.target) { var i = a.target.result; e(i) } else r(new cn(Qr.InvalidProgressEventTarget, "progress event target is undefined")) }, n.onerror = function () { r(new cn(Qr.FileReaderReadFailed, "fileReader read failed")) }, n.readAsArrayBuffer(t) }) } function Zp(t, e) { return new Promise(function (r, n) { var a = m4(); if (a.open(e.method, t), e.onCreate && e.onCreate(a), e.headers) { var i = e.headers; Object.keys(i).forEach(function (o) { a.setRequestHeader(o, i[o]) }) } a.upload.addEventListener("progress", function (o) { o.lengthComputable && e.onProgress && e.onProgress({ loaded: o.loaded, total: o.total }) }), a.onreadystatechange = function () { var o = a.responseText; if (a.readyState === 4) { var s = a.getResponseHeader("x-reqId") || ""; if (a.status === 0) { n(new iie("network error.", s)); return } if (a.status !== 200) { var l = "xhr request failed, code: " + a.status; o && (l += " response: " + o); var u = void 0; try { u = JSON.parse(o) } catch { } n(new np(a.status, s, l, u)); return } try { r({ data: JSON.parse(o), reqId: s }) } catch (c) { n(c) } } }, a.send(e.body) }) } function Iie(t) { if (t && t.match) { var e = t.match(/(^https?)/); if (!e) return ""; var r = e[1]; return e = t.match(/^https?:\/\/([^:^/]*):(\d*)/), e ? e[2] : r === "http" ? "80" : "443" } return "" } function Pie(t) { if (t && t.match) { var e = t.match(/^https?:\/\/([^:^/]*)/); return e ? e[1] : "" } return "" } function HD(t) { if (!t) throw new cn(Qr.InvalidToken, "invalid token."); var e = t.split(":"); if (e.length === 1) throw new cn(Qr.InvalidToken, "invalid token segments."); var r = e.length > 3 ? e[1] : e[0]; if (!r) throw new cn(Qr.InvalidToken, "missing assess key field."); var n = null; try { n = JSON.parse(pie(e[e.length - 1])) } catch { throw new cn(Qr.InvalidToken, "token parse failed.") } if (n == null) throw new cn(Qr.InvalidToken, "putPolicy is null."); if (n.scope == null) throw new cn(Qr.InvalidToken, "scope field is null."); var a = n.scope.split(":")[0]; if (!a) throw new cn(Qr.InvalidToken, "resolve bucketName failed."); return { assessKey: r, bucketName: a, scope: n.scope } } var el, pf = { z0: "z0", z1: "z1", z2: "z2", na0: "na0", as0: "as0", cnEast2: "cn-east-2" }, Rie = (el = {}, el[pf.z0] = { srcUphost: ["up.qiniup.com"], cdnUphost: ["upload.qiniup.com"] }, el[pf.z1] = { srcUphost: ["up-z1.qiniup.com"], cdnUphost: ["upload-z1.qiniup.com"] }, el[pf.z2] = { srcUphost: ["up-z2.qiniup.com"], cdnUphost: ["upload-z2.qiniup.com"] }, el[pf.na0] = { srcUphost: ["up-na0.qiniup.com"], cdnUphost: ["upload-na0.qiniup.com"] }, el[pf.as0] = { srcUphost: ["up-as0.qiniup.com"], cdnUphost: ["upload-as0.qiniup.com"] }, el[pf.cnEast2] = { srcUphost: ["up-cn-east-2.qiniup.com"], cdnUphost: ["upload-cn-east-2.qiniup.com"] }, el), md = function (t) { switch (typeof t) { case "string": return t; case "boolean": return t ? "true" : "false"; case "number": return isFinite(t) ? t : ""; default: return "" } }, Oie = function (t, e, r, n) { return e = e || "&", r = r || "=", t === null && (t = void 0), typeof t == "object" ? Object.keys(t).map(function (a) { var i = encodeURIComponent(md(a)) + r; return Array.isArray(t[a]) ? t[a].map(function (o) { return i + encodeURIComponent(md(o)) }).join(e) : i + encodeURIComponent(md(t[a])) }).filter(Boolean).join(e) : n ? encodeURIComponent(md(n)) + r + encodeURIComponent(md(t)) : "" }, y4; y4 = Oie; var Rc = globalThis && globalThis.__assign || function () { return Rc = Object.assign || function (t) { for (var e, r = 1, n = arguments.length; r < n; r++) { e = arguments[r]; for (var a in e) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]) } return t }, Rc.apply(this, arguments) }, Eie = globalThis && globalThis.__awaiter || function (t, e, r, n) { function a(i) { return i instanceof r ? i : new r(function (o) { o(i) }) } return new (r || (r = Promise))(function (i, o) { function s(c) { try { u(n.next(c)) } catch (f) { o(f) } } function l(c) { try { u(n.throw(c)) } catch (f) { o(f) } } function u(c) { c.done ? i(c.value) : a(c.value).then(s, l) } u((n = n.apply(t, e || [])).next()) }) }, Nie = globalThis && globalThis.__generator || function (t, e) { var r = { label: 0, sent: function () { if (i[0] & 1) throw i[1]; return i[1] }, trys: [], ops: [] }, n, a, i, o; return o = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (o[Symbol.iterator] = function () { return this }), o; function s(u) { return function (c) { return l([u, c]) } } function l(u) { if (n) throw new TypeError("Generator is already executing."); for (; r;)try { if (n = 1, a && (i = u[0] & 2 ? a.return : u[0] ? a.throw || ((i = a.return) && i.call(a), 0) : a.next) && !(i = i.call(a, u[1])).done) return i; switch (a = 0, i && (u = [u[0] & 2, i.value]), u[0]) { case 0: case 1: i = u; break; case 4: return r.label++, { value: u[1], done: !1 }; case 5: r.label++, a = u[1], u = [0]; continue; case 7: u = r.ops.pop(), r.trys.pop(); continue; default: if (i = r.trys, !(i = i.length > 0 && i[i.length - 1]) && (u[0] === 6 || u[0] === 2)) { r = 0; continue } if (u[0] === 3 && (!i || u[1] > i[0] && u[1] < i[3])) { r.label = u[1]; break } if (u[0] === 6 && r.label < i[1]) { r.label = i[1], i = u; break } if (i && r.label < i[2]) { r.label = i[2], r.ops.push(u); break } i[2] && r.ops.pop(), r.trys.pop(); continue }u = e.call(t, r) } catch (c) { u = [6, c], a = 0 } finally { n = i = 0 } if (u[0] & 5) throw u[1]; return { value: u[0] ? u[1] : void 0, done: !0 } } }; function $ie(t, e, r) { return Eie(this, void 0, void 0, function () { var n, a; return Nie(this, function (i) { return n = y4({ ak: t, bucket: e }), a = r + "://api.qiniu.com/v2/query?" + n, [2, Zp(a, { method: "GET" })] }) }) } function _4(t, e, r) { var n = r.url, a = r.id; return n + "/buckets/" + t + "/objects/" + (e != null ? p4(e) : "~") + "/uploads/" + a } function Fie(t, e, r, n) { var a = n + "/buckets/" + e + "/objects/" + (r != null ? p4(r) : "~") + "/uploads"; return Zp(a, { method: "POST", headers: B_(t) }) } function Bie(t, e, r, n, a) { var i = HD(t).bucketName, o = _4(i, e, n) + ("/" + r), s = Mie(t); return a.md5 && (s["Content-MD5"] = a.md5), Zp(o, Rc(Rc({}, a), { method: "PUT", headers: s })) } function Vie(t, e, r, n) { var a = HD(t).bucketName, i = _4(a, e, r); return Zp(i, Rc(Rc({}, n), { method: "POST", headers: kie(t) })) } function zie(t, e, r) { return Zp(t, Rc({ method: "POST", body: e }, r)) } var qy = globalThis && globalThis.__assign || function () { return qy = Object.assign || function (t) { for (var e, r = 1, n = arguments.length; r < n; r++) { e = arguments[r]; for (var a in e) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]) } return t }, qy.apply(this, arguments) }, tI = globalThis && globalThis.__awaiter || function (t, e, r, n) { function a(i) { return i instanceof r ? i : new r(function (o) { o(i) }) } return new (r || (r = Promise))(function (i, o) { function s(c) { try { u(n.next(c)) } catch (f) { o(f) } } function l(c) { try { u(n.throw(c)) } catch (f) { o(f) } } function u(c) { c.done ? i(c.value) : a(c.value).then(s, l) } u((n = n.apply(t, e || [])).next()) }) }, rI = globalThis && globalThis.__generator || function (t, e) { var r = { label: 0, sent: function () { if (i[0] & 1) throw i[1]; return i[1] }, trys: [], ops: [] }, n, a, i, o; return o = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (o[Symbol.iterator] = function () { return this }), o; function s(u) { return function (c) { return l([u, c]) } } function l(u) { if (n) throw new TypeError("Generator is already executing."); for (; r;)try { if (n = 1, a && (i = u[0] & 2 ? a.return : u[0] ? a.throw || ((i = a.return) && i.call(a), 0) : a.next) && !(i = i.call(a, u[1])).done) return i; switch (a = 0, i && (u = [u[0] & 2, i.value]), u[0]) { case 0: case 1: i = u; break; case 4: return r.label++, { value: u[1], done: !1 }; case 5: r.label++, a = u[1], u = [0]; continue; case 7: u = r.ops.pop(), r.trys.pop(); continue; default: if (i = r.trys, !(i = i.length > 0 && i[i.length - 1]) && (u[0] === 6 || u[0] === 2)) { r = 0; continue } if (u[0] === 3 && (!i || u[1] > i[0] && u[1] < i[3])) { r.label = u[1]; break } if (u[0] === 6 && r.label < i[1]) { r.label = i[1], i = u; break } if (i && r.label < i[2]) { r.label = i[2], r.ops.push(u); break } i[2] && r.ops.pop(), r.trys.pop(); continue }u = e.call(t, r) } catch (c) { u = [6, c], a = 0 } finally { n = i = 0 } if (u[0] & 5) throw u[1]; return { value: u[0] ? u[1] : void 0, done: !0 } } }, Hie = globalThis && globalThis.__read || function (t, e) { var r = typeof Symbol == "function" && t[Symbol.iterator]; if (!r) return t; var n = r.call(t), a, i = [], o; try { for (; (e === void 0 || e-- > 0) && !(a = n.next()).done;)i.push(a.value) } catch (s) { o = { error: s } } finally { try { a && !a.done && (r = n.return) && r.call(n) } finally { if (o) throw o.error } } return i }, Yie = globalThis && globalThis.__spread || function () { for (var t = [], e = 0; e < arguments.length; e++)t = t.concat(Hie(arguments[e])); return t }, Uie = 4, b4 = [0, 502, 503, 504, 599], Wie = Yie(b4, [612]), Gie = Math.pow(1024, 3), w4 = function () { function t(e, r, n, a) { this.hostPool = n, this.logger = a, this.aborted = !1, this.retryCount = 0, this.xhrList = [], this.config = e.config, a.info("config inited.", this.config), this.putExtra = qy({ fname: "" }, e.putExtra), a.info("putExtra inited.", this.putExtra), this.key = e.key, this.file = e.file, this.token = e.token, this.onData = r.onData, this.onError = r.onError, this.onComplete = r.onComplete; try { var i = HD(this.token); this.bucketName = i.bucketName, this.assessKey = i.assessKey } catch (o) { a.error("get putPolicy from token failed.", o), this.onError(o) } } return t.prototype.checkAndUpdateUploadHost = function () { return tI(this, void 0, void 0, function () { var e; return rI(this, function (r) { switch (r.label) { case 0: return this.logger.info("get available upload host."), [4, this.hostPool.getUp(this.assessKey, this.bucketName, this.config.upprotocol)]; case 1: if (e = r.sent(), e == null) throw new cn(Qr.NotAvailableUploadHost, "no available upload host."); return this.uploadHost != null && this.uploadHost.host !== e.host ? this.logger.warn("host switches from " + this.uploadHost.host + " to " + e.host + ".") : this.logger.info("use host " + e.host + "."), this.uploadHost = e, [2] } }) }) }, t.prototype.checkAndUnfreezeHost = function () { this.logger.info("check unfreeze host."), this.uploadHost != null && this.uploadHost.isFrozen() && (this.logger.warn(this.uploadHost.host + " will be unfrozen."), this.uploadHost.unfreeze()) }, t.prototype.checkAndFreezeHost = function (e) { this.logger.info("check freeze host."), e instanceof np && this.uploadHost != null && b4.includes(e.code) && (this.logger.warn(this.uploadHost.host + " will be temporarily frozen."), this.uploadHost.freeze()) }, t.prototype.handleError = function (e) { this.logger.error(e.message), this.onError(e) }, t.prototype.putFile = function () { return tI(this, void 0, void 0, function () { var e, r, n, a; return rI(this, function (i) { switch (i.label) { case 0: if (this.aborted = !1, this.putExtra.fname || (this.logger.info("use file.name as fname."), this.putExtra.fname = this.file.name), this.file.size > 1e4 * Gie) return this.handleError(new cn(Qr.InvalidFile, "file size exceed maximum value 10000G")), [2]; if (this.putExtra.customVars && !Sie(this.putExtra.customVars)) return this.handleError(new cn(Qr.InvalidCustomVars, "customVars key should start width x:")), [2]; if (this.putExtra.metadata && !wie(this.putExtra.metadata)) return this.handleError(new cn(Qr.InvalidMetadata, "metadata key should start with x-qn-meta-")), [2]; i.label = 1; case 1: return i.trys.push([1, 4, , 5]), this.uploadAt = new Date().getTime(), [4, this.checkAndUpdateUploadHost()]; case 2: return i.sent(), [4, this.run()]; case 3: return e = i.sent(), this.onComplete(e.data), this.checkAndUnfreezeHost(), this.sendLog(e.reqId, 200), [2]; case 4: return r = i.sent(), this.aborted ? (this.logger.warn("upload is aborted."), this.sendLog("", -2), [2]) : (this.clear(), this.logger.error(r), r instanceof np && (this.sendLog(r.reqId, r.code), this.checkAndFreezeHost(r), n = ++this.retryCount <= this.config.retryCount, a = Wie.includes(r.code), a && n) ? (this.logger.warn("error auto retry: " + this.retryCount + "/" + this.config.retryCount + "."), this.putFile(), [2]) : (this.onError(r), [3, 5])); case 5: return [2] } }) }) }, t.prototype.clear = function () { this.xhrList.forEach(function (e) { e.onreadystatechange = null, e.abort() }), this.xhrList = [], this.logger.info("cleanup uploading xhr.") }, t.prototype.stop = function () { this.logger.info("aborted."), this.clear(), this.aborted = !0 }, t.prototype.addXhr = function (e) { this.xhrList.push(e) }, t.prototype.sendLog = function (e, r) { var n, a; this.logger.report({ code: r, reqId: e, remoteIp: "", upType: "jssdk-h5", size: this.file.size, time: Math.floor(this.uploadAt / 1e3), port: Iie((n = this.uploadHost) === null || n === void 0 ? void 0 : n.getUrl()), host: Pie((a = this.uploadHost) === null || a === void 0 ? void 0 : a.getUrl()), bytesSent: this.progress ? this.progress.total.loaded : 0, duration: Math.floor((new Date().getTime() - this.uploadAt) / 1e3) }) }, t.prototype.getProgressInfoItem = function (e, r, n) { return qy({ size: r, loaded: e, percent: e / r * 100 }, n == null ? {} : { fromCache: n }) }, t }(), jie = globalThis && globalThis.__extends || function () { var t = function (e, r) { return t = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (n, a) { n.__proto__ = a } || function (n, a) { for (var i in a) a.hasOwnProperty(i) && (n[i] = a[i]) }, t(e, r) }; return function (e, r) { t(e, r); function n() { this.constructor = e } e.prototype = r === null ? Object.create(r) : (n.prototype = r.prototype, new n) } }(), Sv = globalThis && globalThis.__assign || function () { return Sv = Object.assign || function (t) { for (var e, r = 1, n = arguments.length; r < n; r++) { e = arguments[r]; for (var a in e) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]) } return t }, Sv.apply(this, arguments) }, yd = globalThis && globalThis.__awaiter || function (t, e, r, n) { function a(i) { return i instanceof r ? i : new r(function (o) { o(i) }) } return new (r || (r = Promise))(function (i, o) { function s(c) { try { u(n.next(c)) } catch (f) { o(f) } } function l(c) { try { u(n.throw(c)) } catch (f) { o(f) } } function u(c) { c.done ? i(c.value) : a(c.value).then(s, l) } u((n = n.apply(t, e || [])).next()) }) }, _d = globalThis && globalThis.__generator || function (t, e) { var r = { label: 0, sent: function () { if (i[0] & 1) throw i[1]; return i[1] }, trys: [], ops: [] }, n, a, i, o; return o = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (o[Symbol.iterator] = function () { return this }), o; function s(u) { return function (c) { return l([u, c]) } } function l(u) { if (n) throw new TypeError("Generator is already executing."); for (; r;)try { if (n = 1, a && (i = u[0] & 2 ? a.return : u[0] ? a.throw || ((i = a.return) && i.call(a), 0) : a.next) && !(i = i.call(a, u[1])).done) return i; switch (a = 0, i && (u = [u[0] & 2, i.value]), u[0]) { case 0: case 1: i = u; break; case 4: return r.label++, { value: u[1], done: !1 }; case 5: r.label++, a = u[1], u = [0]; continue; case 7: u = r.ops.pop(), r.trys.pop(); continue; default: if (i = r.trys, !(i = i.length > 0 && i[i.length - 1]) && (u[0] === 6 || u[0] === 2)) { r = 0; continue } if (u[0] === 3 && (!i || u[1] > i[0] && u[1] < i[3])) { r.label = u[1]; break } if (u[0] === 6 && r.label < i[1]) { r.label = i[1], i = u; break } if (i && r.label < i[2]) { r.label = i[2], r.ops.push(u); break } i[2] && r.ops.pop(), r.trys.pop(); continue }u = e.call(t, r) } catch (c) { u = [6, c], a = 0 } finally { n = i = 0 } if (u[0] & 5) throw u[1]; return { value: u[0] ? u[1] : void 0, done: !0 } } }; function Zie(t) { var e = /^[1-9]\d*$/; return e.test(String(t)) } var qie = function (t) { jie(e, t); function e() { return t !== null && t.apply(this, arguments) || this } return e.prototype.run = function () { return yd(this, void 0, void 0, function () { var r, n, a, i, o, s = this; return _d(this, function (l) { switch (l.label) { case 0: if (this.logger.info("start run Resume."), !this.config.chunkSize || !Zie(this.config.chunkSize)) throw new cn(Qr.InvalidChunkSize, "chunkSize must be a positive integer"); if (this.config.chunkSize > 1024) throw new cn(Qr.InvalidChunkSize, "chunkSize maximum value is 1024"); return [4, this.initBeforeUploadChunks()]; case 1: l.sent(), r = new oie(function (u) { return yd(s, void 0, void 0, function () { return _d(this, function (c) { switch (c.label) { case 0: if (this.aborted) throw r.abort(), new Error("pool is aborted"); return [4, this.uploadChunk(u)]; case 1: return c.sent(), [2] } }) }) }, this.config.concurrentRequestLimit), n = null, a = this.getLocalKey(), i = this.chunks.map(function (u, c) { return r.enqueue({ chunk: u, index: c }) }), l.label = 2; case 2: return l.trys.push([2, 5, , 6]), [4, Promise.all(i)]; case 3: return l.sent(), [4, this.mkFileReq()]; case 4: return n = l.sent(), [3, 6]; case 5: throw o = l.sent(), o instanceof np && (o.code === 612 || o.code === 400) && Zx(a, this.logger), o; case 6: return Zx(a, this.logger), [2, n] } }) }) }, e.prototype.uploadChunk = function (r) { return yd(this, void 0, void 0, function () { var n, a, i, o, s, l, u, c, f, h = this; return _d(this, function (d) { switch (d.label) { case 0: return n = r.index, a = r.chunk, i = this.cachedUploadedList[n], this.logger.info("upload part " + n + ", cache:", i), o = this.config.checkByMD5, s = function () { h.usedCacheList[n] = !0, h.updateChunkProgress(a.size, n), h.uploadedList[n] = i, h.updateLocalCache() }, i && !o ? (s(), [2]) : [4, Aie(a)]; case 1: return l = d.sent(), this.logger.info("computed part md5.", l), i && l === i.md5 ? (s(), [2]) : (this.usedCacheList[n] = !1, u = function (v) { h.updateChunkProgress(v.loaded, n) }, c = { body: a, md5: this.config.checkByServer ? l : void 0, onProgress: u, onCreate: function (v) { return h.addXhr(v) } }, this.logger.info("part " + n + " start uploading."), [4, Bie(this.token, this.key, r.index + 1, this.getUploadInfo(), c)]); case 2: return f = d.sent(), this.logger.info("part " + n + " upload completed."), u({ loaded: a.size, total: a.size }), this.uploadedList[n] = { etag: f.data.etag, md5: f.data.md5, size: a.size }, this.updateLocalCache(), [2] } }) }) }, e.prototype.mkFileReq = function () { return yd(this, void 0, void 0, function () { var r, n, a = this; return _d(this, function (i) { switch (i.label) { case 0: return r = Sv(Sv(Sv({ parts: this.uploadedList.map(function (o, s) { return { etag: o.etag, partNumber: s + 1 } }), fname: this.putExtra.fname }, this.putExtra.mimeType && { mimeType: this.putExtra.mimeType }), this.putExtra.customVars && { customVars: this.putExtra.customVars }), this.putExtra.metadata && { metadata: this.putExtra.metadata }), this.logger.info("parts upload completed, make file.", r), [4, Vie(this.token, this.key, this.getUploadInfo(), { onCreate: function (o) { return a.addXhr(o) }, body: JSON.stringify(r) })]; case 1: return n = i.sent(), this.logger.info("finish Resume Progress."), this.updateMkFileProgress(1), [2, n] } }) }) }, e.prototype.initBeforeUploadChunks = function () { return yd(this, void 0, void 0, function () { var r, n, a; return _d(this, function (i) { switch (i.label) { case 0: return this.uploadedList = [], this.usedCacheList = [], r = Cie(this.getLocalKey(), this.logger), r ? [3, 2] : (this.logger.info("init upload parts from api."), [4, Fie(this.token, this.bucketName, this.key, this.uploadHost.getUrl())]); case 1: return n = i.sent(), this.logger.info("initd upload parts of id: " + n.data.uploadId + "."), this.uploadId = n.data.uploadId, this.cachedUploadedList = [], [3, 3]; case 2: a = ["resume upload parts from local cache,", "total " + r.data.length + " part,", "id is " + r.id + "."], this.logger.info(a.join(" ")), this.cachedUploadedList = r.data, this.uploadId = r.id, i.label = 3; case 3: return this.chunks = bie(this.file, this.config.chunkSize), this.loaded = { mkFileProgress: 0, chunks: this.chunks.map(function (o) { return 0 }) }, this.notifyResumeProgress(), [2] } }) }) }, e.prototype.getUploadInfo = function () { return { id: this.uploadId, url: this.uploadHost.getUrl() } }, e.prototype.getLocalKey = function () { return Die(this.file.name, this.key, this.file.size) }, e.prototype.updateLocalCache = function () { Tie(this.getLocalKey(), { id: this.uploadId, data: this.uploadedList }, this.logger) }, e.prototype.updateChunkProgress = function (r, n) { this.loaded.chunks[n] = r, this.notifyResumeProgress() }, e.prototype.updateMkFileProgress = function (r) { this.loaded.mkFileProgress = r, this.notifyResumeProgress() }, e.prototype.notifyResumeProgress = function () { var r = this; this.progress = { total: this.getProgressInfoItem(xie(this.loaded.chunks) + this.loaded.mkFileProgress, this.file.size + 1), chunks: this.chunks.map(function (n, a) { var i = r.usedCacheList[a]; return r.getProgressInfoItem(r.loaded.chunks[a], n.size, i) }), uploadInfo: { id: this.uploadId, url: this.uploadHost.getUrl() } }, this.onData(this.progress) }, e }(w4), nI = globalThis && globalThis.__awaiter || function (t, e, r, n) { function a(i) { return i instanceof r ? i : new r(function (o) { o(i) }) } return new (r || (r = Promise))(function (i, o) { function s(c) { try { u(n.next(c)) } catch (f) { o(f) } } function l(c) { try { u(n.throw(c)) } catch (f) { o(f) } } function u(c) { c.done ? i(c.value) : a(c.value).then(s, l) } u((n = n.apply(t, e || [])).next()) }) }, aI = globalThis && globalThis.__generator || function (t, e) { var r = { label: 0, sent: function () { if (i[0] & 1) throw i[1]; return i[1] }, trys: [], ops: [] }, n, a, i, o; return o = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (o[Symbol.iterator] = function () { return this }), o; function s(u) { return function (c) { return l([u, c]) } } function l(u) { if (n) throw new TypeError("Generator is already executing."); for (; r;)try { if (n = 1, a && (i = u[0] & 2 ? a.return : u[0] ? a.throw || ((i = a.return) && i.call(a), 0) : a.next) && !(i = i.call(a, u[1])).done) return i; switch (a = 0, i && (u = [u[0] & 2, i.value]), u[0]) { case 0: case 1: i = u; break; case 4: return r.label++, { value: u[1], done: !1 }; case 5: r.label++, a = u[1], u = [0]; continue; case 7: u = r.ops.pop(), r.trys.pop(); continue; default: if (i = r.trys, !(i = i.length > 0 && i[i.length - 1]) && (u[0] === 6 || u[0] === 2)) { r = 0; continue } if (u[0] === 3 && (!i || u[1] > i[0] && u[1] < i[3])) { r.label = u[1]; break } if (u[0] === 6 && r.label < i[1]) { r.label = i[1], i = u; break } if (i && r.label < i[2]) { r.label = i[2], r.ops.push(u); break } i[2] && r.ops.pop(), r.trys.pop(); continue }u = e.call(t, r) } catch (c) { u = [6, c], a = 0 } finally { n = i = 0 } if (u[0] & 5) throw u[1]; return { value: u[0] ? u[1] : void 0, done: !0 } } }, Xie = function () { function t() { this.crc = -1, this.table = this.makeTable() } return t.prototype.makeTable = function () { for (var e = new Array, r = 0; r < 256; r++) { for (var n = r, a = 0; a < 8; a++)n & 1 ? n = n >>> 1 ^ 3988292384 : n >>>= 1; e[r] = n } return e }, t.prototype.append = function (e) { for (var r = this.crc, n = 0; n < e.byteLength; n++)r = r >>> 8 ^ this.table[(r ^ e[n]) & 255]; this.crc = r }, t.prototype.compute = function () { return (this.crc ^ -1) >>> 0 }, t.prototype.readAsUint8Array = function (e) { return nI(this, void 0, void 0, function () { var r; return aI(this, function (n) { switch (n.label) { case 0: return typeof e.arrayBuffer != "function" ? [3, 2] : (r = Uint8Array.bind, [4, e.arrayBuffer()]); case 1: return [2, new (r.apply(Uint8Array, [void 0, n.sent()]))]; case 2: return [2, new Promise(function (a, i) { var o = new FileReader; o.onload = function () { if (o.result == null) { i(); return } if (typeof o.result == "string") { i(); return } a(new Uint8Array(o.result)) }, o.readAsArrayBuffer(e) })] } }) }) }, t.prototype.file = function (e) { return nI(this, void 0, void 0, function () { var r, n, a, i, o, s; return aI(this, function (l) { switch (l.label) { case 0: return e.size <= Kf ? (r = this.append, [4, this.readAsUint8Array(e)]) : [3, 2]; case 1: return r.apply(this, [l.sent()]), [2, this.compute()]; case 2: n = Math.ceil(e.size / Kf), a = 0, l.label = 3; case 3: return a < n ? (i = a * Kf, o = a === n - 1 ? e.size : i + Kf, [4, this.readAsUint8Array(e.slice(i, o))]) : [3, 6]; case 4: s = l.sent(), this.append(new Uint8Array(s)), l.label = 5; case 5: return a++, [3, 3]; case 6: return [2, this.compute()] } }) }) }, t.file = function (e) { var r = new t; return r.file(e) }, t }(), Kie = globalThis && globalThis.__extends || function () { var t = function (e, r) { return t = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (n, a) { n.__proto__ = a } || function (n, a) { for (var i in a) a.hasOwnProperty(i) && (n[i] = a[i]) }, t(e, r) }; return function (e, r) { t(e, r); function n() { this.constructor = e } e.prototype = r === null ? Object.create(r) : (n.prototype = r.prototype, new n) } }(), Qie = globalThis && globalThis.__awaiter || function (t, e, r, n) { function a(i) { return i instanceof r ? i : new r(function (o) { o(i) }) } return new (r || (r = Promise))(function (i, o) { function s(c) { try { u(n.next(c)) } catch (f) { o(f) } } function l(c) { try { u(n.throw(c)) } catch (f) { o(f) } } function u(c) { c.done ? i(c.value) : a(c.value).then(s, l) } u((n = n.apply(t, e || [])).next()) }) }, Jie = globalThis && globalThis.__generator || function (t, e) { var r = { label: 0, sent: function () { if (i[0] & 1) throw i[1]; return i[1] }, trys: [], ops: [] }, n, a, i, o; return o = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (o[Symbol.iterator] = function () { return this }), o; function s(u) { return function (c) { return l([u, c]) } } function l(u) { if (n) throw new TypeError("Generator is already executing."); for (; r;)try { if (n = 1, a && (i = u[0] & 2 ? a.return : u[0] ? a.throw || ((i = a.return) && i.call(a), 0) : a.next) && !(i = i.call(a, u[1])).done) return i; switch (a = 0, i && (u = [u[0] & 2, i.value]), u[0]) { case 0: case 1: i = u; break; case 4: return r.label++, { value: u[1], done: !1 }; case 5: r.label++, a = u[1], u = [0]; continue; case 7: u = r.ops.pop(), r.trys.pop(); continue; default: if (i = r.trys, !(i = i.length > 0 && i[i.length - 1]) && (u[0] === 6 || u[0] === 2)) { r = 0; continue } if (u[0] === 3 && (!i || u[1] > i[0] && u[1] < i[3])) { r.label = u[1]; break } if (u[0] === 6 && r.label < i[1]) { r.label = i[1], i = u; break } if (i && r.label < i[2]) { r.label = i[2], r.ops.push(u); break } i[2] && r.ops.pop(), r.trys.pop(); continue }u = e.call(t, r) } catch (c) { u = [6, c], a = 0 } finally { n = i = 0 } if (u[0] & 5) throw u[1]; return { value: u[0] ? u[1] : void 0, done: !0 } } }, iI = function (t) { Kie(e, t); function e() { return t !== null && t.apply(this, arguments) || this } return e.prototype.run = function () { return Qie(this, void 0, void 0, function () { var r, n, a, i, o = this; return Jie(this, function (s) { switch (s.label) { case 0: return this.logger.info("start run Direct."), r = new FormData, r.append("file", this.file), r.append("token", this.token), this.key != null && r.append("key", this.key), r.append("fname", this.putExtra.fname), this.config.checkByServer ? [4, Xie.file(this.file)] : [3, 2]; case 1: n = s.sent(), r.append("crc32", n.toString()), s.label = 2; case 2: return this.putExtra.customVars && (this.logger.info("init customVars."), a = this.putExtra.customVars, Object.keys(a).forEach(function (l) { return r.append(l, a[l].toString()) }), this.logger.info("customVars inited.")), this.logger.info("formData inited."), [4, zie(this.uploadHost.getUrl(), r, { onProgress: function (l) { o.updateDirectProgress(l.loaded, l.total) }, onCreate: function (l) { return o.addXhr(l) } })]; case 3: return i = s.sent(), this.logger.info("Direct progress finish."), this.finishDirectProgress(), [2, i] } }) }) }, e.prototype.updateDirectProgress = function (r, n) { this.progress = { total: this.getProgressInfoItem(r, n + 1) }, this.onData(this.progress) }, e.prototype.finishDirectProgress = function () { if (!this.progress) { this.logger.warn("progress is null."), this.progress = { total: this.getProgressInfoItem(this.file.size, this.file.size) }, this.onData(this.progress); return } var r = this.progress.total; this.progress = { total: this.getProgressInfoItem(r.loaded + 1, r.size) }, this.onData(this.progress) }, e }(w4); function S4(t, e, r) { r === void 0 && (r = 3); var n = m4(); n.open("POST", "https://uplog.qbox.me/log/3"), n.setRequestHeader("Content-type", "application/x-www-form-urlencoded"), n.setRequestHeader("Authorization", B_(t).Authorization), n.onreadystatechange = function () { n.readyState === 4 && n.status !== 200 && r > 0 && S4(t, e, r - 1) }; var a = [e.code || "", e.reqId || "", e.host || "", e.remoteIp || "", e.port || "", e.duration || "", e.time || "", e.bytesSent || "", e.upType || "", e.size || ""].join(","); n.send(a) } var eoe = globalThis && globalThis.__read || function (t, e) { var r = typeof Symbol == "function" && t[Symbol.iterator]; if (!r) return t; var n = r.call(t), a, i = [], o; try { for (; (e === void 0 || e-- > 0) && !(a = n.next()).done;)i.push(a.value) } catch (s) { o = { error: s } } finally { try { a && !a.done && (r = n.return) && r.call(n) } finally { if (o) throw o.error } } return i }, Mb = globalThis && globalThis.__spread || function () { for (var t = [], e = 0; e < arguments.length; e++)t = t.concat(eoe(arguments[e])); return t }, toe = function () { function t(e, r, n, a) { r === void 0 && (r = !0), n === void 0 && (n = "OFF"), a === void 0 && (a = "UPLOAD"), this.token = e, this.disableReport = r, this.level = n, this.prefix = a, this.id = ++t.id } return t.prototype.getPrintPrefix = function (e) { return "Qiniu-JS-SDK [" + e + "][" + this.prefix + "#" + this.id + "]:" }, t.prototype.report = function (e, r) { if (!this.disableReport) try { S4(this.token, e, r) } catch (n) { this.warn(n) } }, t.prototype.info = function () { for (var e = [], r = 0; r < arguments.length; r++)e[r] = arguments[r]; var n = ["INFO"]; n.includes(this.level) && console.log.apply(console, Mb([this.getPrintPrefix("INFO")], e)) }, t.prototype.warn = function () { for (var e = [], r = 0; r < arguments.length; r++)e[r] = arguments[r]; var n = ["INFO", "WARN"]; n.includes(this.level) && console.warn.apply(console, Mb([this.getPrintPrefix("WARN")], e)) }, t.prototype.error = function () { for (var e = [], r = 0; r < arguments.length; r++)e[r] = arguments[r]; var n = ["INFO", "WARN", "ERROR"]; n.includes(this.level) && console.error.apply(console, Mb([this.getPrintPrefix("ERROR")], e)) }, t.id = 0, t }(), oI = globalThis && globalThis.__awaiter || function (t, e, r, n) { function a(i) { return i instanceof r ? i : new r(function (o) { o(i) }) } return new (r || (r = Promise))(function (i, o) { function s(c) { try { u(n.next(c)) } catch (f) { o(f) } } function l(c) { try { u(n.throw(c)) } catch (f) { o(f) } } function u(c) { c.done ? i(c.value) : a(c.value).then(s, l) } u((n = n.apply(t, e || [])).next()) }) }, sI = globalThis && globalThis.__generator || function (t, e) { var r = { label: 0, sent: function () { if (i[0] & 1) throw i[1]; return i[1] }, trys: [], ops: [] }, n, a, i, o; return o = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (o[Symbol.iterator] = function () { return this }), o; function s(u) { return function (c) { return l([u, c]) } } function l(u) { if (n) throw new TypeError("Generator is already executing."); for (; r;)try { if (n = 1, a && (i = u[0] & 2 ? a.return : u[0] ? a.throw || ((i = a.return) && i.call(a), 0) : a.next) && !(i = i.call(a, u[1])).done) return i; switch (a = 0, i && (u = [u[0] & 2, i.value]), u[0]) { case 0: case 1: i = u; break; case 4: return r.label++, { value: u[1], done: !1 }; case 5: r.label++, a = u[1], u = [0]; continue; case 7: u = r.ops.pop(), r.trys.pop(); continue; default: if (i = r.trys, !(i = i.length > 0 && i[i.length - 1]) && (u[0] === 6 || u[0] === 2)) { r = 0; continue } if (u[0] === 3 && (!i || u[1] > i[0] && u[1] < i[3])) { r.label = u[1]; break } if (u[0] === 6 && r.label < i[1]) { r.label = i[1], i = u; break } if (i && r.label < i[2]) { r.label = i[2], r.ops.push(u); break } i[2] && r.ops.pop(), r.trys.pop(); continue }u = e.call(t, r) } catch (c) { u = [6, c], a = 0 } finally { n = i = 0 } if (u[0] & 5) throw u[1]; return { value: u[0] ? u[1] : void 0, done: !0 } } }, roe = globalThis && globalThis.__read || function (t, e) { var r = typeof Symbol == "function" && t[Symbol.iterator]; if (!r) return t; var n = r.call(t), a, i = [], o; try { for (; (e === void 0 || e-- > 0) && !(a = n.next()).done;)i.push(a.value) } catch (s) { o = { error: s } } finally { try { a && !a.done && (r = n.return) && r.call(n) } finally { if (o) throw o.error } } return i }, noe = globalThis && globalThis.__spread || function () { for (var t = [], e = 0; e < arguments.length; e++)t = t.concat(roe(arguments[e])); return t }, Wg = new Map, aoe = function () { function t(e, r) { this.host = e, this.protocol = r } return t.prototype.isFrozen = function () { var e = new Date().getTime(), r = Wg.get(this.host); return r != null && r >= e }, t.prototype.freeze = function (e) { e === void 0 && (e = 20); var r = new Date().getTime() + e * 1e3; Wg.set(this.host, r) }, t.prototype.unfreeze = function () { Wg.delete(this.host) }, t.prototype.getUrl = function () { return this.protocol + "://" + this.host }, t.prototype.getUnfreezeTime = function () { return Wg.get(this.host) }, t }(), ioe = function () { function t(e) { e === void 0 && (e = []), this.initHosts = e, this.cachedHostsMap = new Map } return t.prototype.register = function (e, r, n, a) { this.cachedHostsMap.set(e + "@" + r, n.map(function (i) { return new aoe(i, a) })) }, t.prototype.refresh = function (e, r, n) { var a, i, o, s; return oI(this, void 0, void 0, function () { var l, u, c; return sI(this, function (f) { switch (f.label) { case 0: return l = this.cachedHostsMap.get(e + "@" + r) || [], l.length > 0 ? [2] : this.initHosts.length > 0 ? (this.register(e, r, this.initHosts, n), [2]) : [4, $ie(e, r, n)]; case 1: return u = f.sent(), (u == null ? void 0 : u.data) != null && (c = noe(((i = (a = u.data.up) === null || a === void 0 ? void 0 : a.acc) === null || i === void 0 ? void 0 : i.main) || [], ((s = (o = u.data.up) === null || o === void 0 ? void 0 : o.acc) === null || s === void 0 ? void 0 : s.backup) || []), this.register(e, r, c, n)), [2] } }) }) }, t.prototype.getUp = function (e, r, n) { return oI(this, void 0, void 0, function () { var a, i, o; return sI(this, function (s) { switch (s.label) { case 0: return [4, this.refresh(e, r, n)]; case 1: return s.sent(), a = this.cachedHostsMap.get(e + "@" + r) || [], a.length === 0 ? [2, null] : (i = a.filter(function (l) { return !l.isFrozen() }), i.length > 0 ? [2, i[0]] : (o = a.slice().sort(function (l, u) { return (l.getUnfreezeTime() || 0) - (u.getUnfreezeTime() || 0) }), [2, o[0]])) } }) }) }, t }(); function ooe(t, e, r, n) { return t.config && t.config.forceDirect ? (n.info("ues forceDirect mode."), new iI(t, e, r, n)) : t.file.size > 4 * Kf ? (n.info("file size over 4M, use Resume."), new qie(t, e, r, n)) : (n.info("file size less or equal than 4M, use Direct."), new iI(t, e, r, n)) } function soe(t, e, r, n, a) { var i = new toe(r, a == null ? void 0 : a.disableStatisticsReport, a == null ? void 0 : a.debugLogLevel, t.name), o = { file: t, key: e, token: r, putExtra: n, config: coe(a, i) }, s = new ioe(o.config.uphost); return new cie(function (l) { var u = ooe(o, { onData: function (c) { return l.next(c) }, onError: function (c) { return l.error(c) }, onComplete: function (c) { return l.complete(c) } }, s, i); return u.putFile(), u.stop.bind(u) }) } var Qf = globalThis && globalThis.__assign || function () { return Qf = Object.assign || function (t) { for (var e, r = 1, n = arguments.length; r < n; r++) { e = arguments[r]; for (var a in e) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]) } return t }, Qf.apply(this, arguments) }, loe = globalThis && globalThis.__rest || function (t, e) { var r = {}; for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && e.indexOf(n) < 0 && (r[n] = t[n]); if (t != null && typeof Object.getOwnPropertySymbols == "function") for (var a = 0, n = Object.getOwnPropertySymbols(t); a < n.length; a++)e.indexOf(n[a]) < 0 && Object.prototype.propertyIsEnumerable.call(t, n[a]) && (r[n[a]] = t[n[a]]); return r }, uoe = globalThis && globalThis.__read || function (t, e) { var r = typeof Symbol == "function" && t[Symbol.iterator]; if (!r) return t; var n = r.call(t), a, i = [], o; try { for (; (e === void 0 || e-- > 0) && !(a = n.next()).done;)i.push(a.value) } catch (s) { o = { error: s } } finally { try { a && !a.done && (r = n.return) && r.call(n) } finally { if (o) throw o.error } } return i }, kb = globalThis && globalThis.__spread || function () { for (var t = [], e = 0; e < arguments.length; e++)t = t.concat(uoe(arguments[e])); return t }; function coe(t, e) { var r = Qf({}, t), n = r.upprotocol, a = r.uphost, i = loe(r, ["upprotocol", "uphost"]), o = Qf({ uphost: [], retryCount: 3, checkByMD5: !1, forceDirect: !1, useCdnDomain: !0, checkByServer: !1, concurrentRequestLimit: 3, chunkSize: Uie, upprotocol: "https", debugLogLevel: "OFF", disableStatisticsReport: !1 }, i); n && (o.upprotocol = n.replace(/:$/, "")); var s = []; if (e && (t == null ? void 0 : t.uphost) != null && (t == null ? void 0 : t.region) != null && e.warn("do not use both the uphost and region config."), a) Array.isArray(a) ? s.push.apply(s, kb(a)) : s.push(a); else if (o != null && o.region) { var l = Rie[o == null ? void 0 : o.region]; o.useCdnDomain ? s.push.apply(s, kb(l.cdnUphost)) : s.push.apply(s, kb(l.srcUphost)) } return Qf(Qf({}, o), { uphost: s.filter(Boolean) }) } var lI = globalThis && globalThis.__assign || function () { return lI = Object.assign || function (t) { for (var e, r = 1, n = arguments.length; r < n; r++) { e = arguments[r]; for (var a in e) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]) } return t }, lI.apply(this, arguments) }; globalThis && globalThis.__awaiter; globalThis && globalThis.__generator; var uI = { PNG: "image/png", JPEG: "image/jpeg", WEBP: "image/webp", BMP: "image/bmp" }; Object.keys(uI).map(function (t) { return uI[t] }); const foe = { key: 0, class: "body-login" }, hoe = { class: "logo-wrapper mb-6" }, doe = { class: "logo avatar", for: "avatar" }, voe = ["src"], poe = ["src"], goe = { id: "changeProfileForm" }, moe = { class: "input-group" }, yoe = P("label", { for: "nickname" }, "昵称", -1), _oe = { class: "input-group" }, boe = P("label", { for: "phone" }, "手机号", -1), woe = { class: "input-group" }, Soe = P("label", { for: "city" }, "城市", -1), xoe = { class: "input-group" }, Toe = P("label", { for: "geolocation" }, "经纬度", -1), Doe = { class: "footer flex-start" }, Coe = Ue({ __name: "ChangeProfile", setup(t) { const e = Vt(), r = wn(), n = ne(!1); let a = null; const i = ne({ nickname: "", phone: "", avatar: "", city: "", geolocation: "" }); Lt(() => { n.value = !0, document.title = "日记 - 资料修改", i.value.nickname = qr().nickname, i.value.phone = qr().phone, i.value.avatar = qr().avatar, i.value.city = qr().city, i.value.geolocation = qr().geolocation, mt(() => i.value.city, l => { l.trim().length > 0 && (i.value.city = l, OD.get("https://geoapi.qweather.com/v2/city/lookup", { params: { key: ta.HefengWeatherKey, location: l, number: 1 } }).then(u => { u.data.code === "200" && (u.data.location.length > 0 ? i.value.geolocation = `${u.data.location[0].lon},${u.data.location[0].lat}` : i.value.geolocation = "") })) }) }); function o(l) { if (l.target.files.length > 0) { if (a = l.target.files[0], !/image\/.*/.test(a.type)) { Mt("warning", "请选择图片文件"), l.target.value = ""; return } if (a.size > 1024 * 1024 * 3) { Mt("warning", "头像文件应小于 3M", () => { }, 3), l.target.value = ""; return } aie.getUploadToken({ bucket: ta.QiniuBucketName }).then(u => { console.log("get token success"); const c = { next: h => { console.log("next: ", h) }, error: h => { console.log(h) }, complete: h => { console.log("complete: ", h), i.value.avatar = ta.QiniuImgBaseURL + h.key } }; soe(a, null, u.data, {}, {}).subscribe(c) }).catch(u => { Mt("danger", "获取上传 token 失败", () => { }, 3) }) } } function s() { Th.setProfile(i.value).then(l => { S7({ nickname: l.data.nickname, uid: l.data.uid, email: l.data.email, phone: l.data.phone, avatar: l.data.avatar, token: l.data.token, group_id: l.data.group_id, city: l.data.city, geolocation: l.data.geolocation }), Mt("success", "修改成功", () => r.go(-1), 1) }).catch(l => { Mt("danger", l.message, () => { }, 5) }) } return (l, u) => ($(), j("div", { class: "body-login-bg", style: at(`min-height: ${Y(e).insets.windowsHeight}px`) }, [de(Cr, { "enter-active-class": "animated-fast fadeIn", "leave-active-class": "animated-fast faceOut" }, { default: Me(() => [n.value ? ($(), j("div", foe, [P("div", hoe, [P("label", doe, [i.value.avatar ? ($(), j("img", { key: 0, src: i.value.avatar + "-" + Y(ta).QiniuStyleSuffix || Y(ke).logo_icons.logo_avatar, alt: "Diary Logo" }, null, 8, voe)) : ($(), j("img", { key: 1, src: Y(ke).logo_icons.logo_avatar, alt: "Avatar" }, null, 8, poe))]), P("input", { type: "file", onChange: o, id: "avatar" }, null, 32)]), P("form", goe, [P("div", moe, [yoe, Ot(P("input", { "onUpdate:modelValue": u[0] || (u[0] = c => i.value.nickname = c), type: "text", name: "nickname", id: "nickname" }, null, 512), [[fn, i.value.nickname]])]), P("div", _oe, [boe, Ot(P("input", { "onUpdate:modelValue": u[1] || (u[1] = c => i.value.phone = c), type: "text", name: "phone", id: "phone" }, null, 512), [[fn, i.value.phone, void 0, { lazy: !0 }]])]), P("div", woe, [Soe, Ot(P("input", { "onUpdate:modelValue": u[2] || (u[2] = c => i.value.city = c), type: "text", name: "city", id: "city" }, null, 512), [[fn, i.value.city]])]), P("div", xoe, [Toe, Ot(P("input", { "onUpdate:modelValue": u[3] || (u[3] = c => i.value.geolocation = c), type: "text", disabled: "", name: "geolocation", id: "geolocation" }, null, 512), [[fn, i.value.geolocation]])]), P("button", { class: "btn mt-8 btn-active", type: "button", onClick: hn(s, ["prevent"]) }, "确定修改 ")]), P("div", Doe, [P("div", { class: "link", onClick: u[4] || (u[4] = c => Y(r).go(-1)) }, "返回")])])) : ce("", !0)]), _: 1 })], 4)) } }); const Moe = { class: "page-header" }, koe = { class: "page-title" }, Aoe = { class: "page-subtitle" }, Loe = Ue({ __name: "PageHeader", props: { title: { type: String, default: "标题" }, subtitle: { type: String, default: "" } }, setup(t) { const e = wn(), r = t; return (n, a) => ($(), j("div", Moe, [P("div", { class: "page-back-btn", onClick: a[0] || (a[0] = i => Y(e).back()) }, [de(gr, { alt: "关闭" })]), P("div", koe, fe(r.title), 1), P("div", Aoe, fe(r.subtitle), 1), We(n.$slots, "default", {}, void 0, !0)])) } }); const qp = Et(Loe, [["__scopeId", "data-v-6d6bed71"]]), Ioe = { class: "statistic-container" }, Poe = { key: 0, class: "bill-container" }, Roe = { class: "bill-filter-panel" }, Ooe = { class: "input-group white" }, Eoe = P("label", { for: "invitation" }, "关键字", -1), Noe = { class: "input-group white" }, $oe = P("label", { for: "invitation" }, "年份", -1), Foe = { class: "year-selector" }, Boe = ["for"], Voe = ["onUpdate:modelValue", "id"], zoe = { class: "bill-header" }, Hoe = { class: "title" }, Yoe = { class: "subtitle" }, Uoe = { class: "bill-brief" }, Woe = { class: "brief-amount" }, Goe = { class: "number text-income" }, joe = P("span", { class: "bill-sum-label" }, "收入", -1), Zoe = { class: "number text-outcome" }, qoe = P("span", { class: "bill-sum-label" }, "支出", -1), Xoe = { class: "number sum text-black" }, Koe = P("span", { class: "bill-sum-label" }, "合计", -1), Qoe = { class: "brief-food" }, Joe = { class: "number text-outcome breakfast" }, ese = P("span", { class: "bill-sum-label" }, "早饭", -1), tse = { class: "number text-outcome launch" }, rse = P("span", { class: "bill-sum-label" }, "中饭", -1), nse = { class: "number text-outcome dinner" }, ase = P("span", { class: "bill-sum-label" }, "晚饭", -1), ise = { class: "number sum" }, ose = P("span", { class: "bill-sum-label" }, "合计", -1), sse = P("tr", null, [P("th", { class: "center" }, "日期"), P("th", null, "收入"), P("th", null, "支出"), P("th", { class: "label center" }, "具体")], -1), lse = ["onClick"], use = { class: "text-gray" }, cse = { class: "amount number" }, fse = { key: 0, class: "text-invalid" }, hse = { key: 1, class: "text-income" }, dse = { key: 2 }, vse = { class: "amount number" }, pse = { key: 0, class: "text-invalid" }, gse = { key: 1, class: "text-income" }, mse = { key: 2 }, yse = { class: "label center" }, _se = Ue({
    __name: "Bill", setup(t) {
        const e = Vt(), r = wn(), n = ne([]), a = ne(!1); let i = ne(new Map); const o = ne({ year: new Date().getFullYear(), keyword: "" }), s = ne([]); Lt(() => { let d = new Date().getFullYear(); for (let v = 0; v <= d - 2022; v++)s.value.push({ value: 2022 + v, checked: !0 }); i.value = new Map([["01", "一月"], ["02", "二月"], ["03", "三月"], ["04", "四月"], ["05", "五月"], ["06", "六月"], ["07", "七月"], ["08", "八月"], ["09", "九月"], ["10", "十月"], ["11", "十一月"], ["12", "十二月"]]), h() }); function l() { jx.keys().then(d => { x7(d.data), Mt("success", `更新成功 ${d.data.length} 个`, () => { }, 2) }).catch(d => { Mt("warning", d.message) }) } function u(d) { console.log(d), r.push({ name: "Detail", params: { id: d } }) } function c(d) { return d.map(v => `${v.item}`).join("，") } function f(d) {
            return `
                    <table class="bill-detail-list">
                    <tbody>
                    ${d.map(p => `<tr class="bill-detail-list-item"><td>${p.item}</td><td class="price">${p.price.toFixed(2)}</td><tr/>`).join("")}
                    </tbody>
                    </table>`} function h() { a.value = !0, jx.sorted({ years: s.value.filter(d => d.checked).map(d => d.value).join(","), keyword: o.value.keyword }).then(d => { a.value = !1, n.value = d.data }).catch(d => { Mt("warning", d.message), a.value = !1 }) } return (d, v) => { const p = cZ("tooltip"); return $(), j("div", Ioe, [de(qp, { title: "账单" }), P("div", { class: "bill-content", style: at(`height:${Y(e).insets.heightPanel}px`) }, [a.value ? ($(), Ie(Gi, { key: 1, loading: a.value }, null, 8, ["loading"])) : ($(), j("div", Poe, [P("div", Roe, [P("div", Ooe, [Eoe, Ot(P("textarea", { rows: "3", placeholder: "多个关键字，空格间隔", "onUpdate:modelValue": v[0] || (v[0] = g => o.value.keyword = g), name: "invitation", id: "invitation" }, null, 512), [[fn, o.value.keyword, void 0, { trim: !0 }]])]), P("div", Noe, [$oe, P("div", Foe, [($(!0), j(Ve, null, It(s.value, g => ($(), j("div", { class: Be(["year-selector-item", { checked: g.checked }]) }, [P("label", { for: g.value }, fe(g.value), 9, Boe), Ot(P("input", { "onUpdate:modelValue": m => g.checked = m, type: "checkbox", name: "year", id: g.value }, null, 8, Voe), [[Ex, g.checked]])], 2))), 256))])]), P("div", { class: "btn btn-active mb-2", onClick: h }, "筛选"), P("div", { class: "btn btn-active", onClick: l }, "获取最新账单类目")]), ($(!0), j(Ve, null, It(n.value, g => ($(), j("div", { class: "bill", key: g.id }, [P("div", zoe, [P("div", Hoe, fe(Y(i).get(g.month)), 1), P("div", Yoe, fe(g.month_id.substring(0, 4)), 1)]), P("div", Uoe, [P("div", Woe, [P("div", Goe, [Tt(" +" + fe(g.sumIncome.toFixed(Y(e).moneyAccuracy)) + " ", 1), joe]), P("div", Zoe, [Tt(fe(g.sumOutput.toFixed(Y(e).moneyAccuracy)) + " ", 1), qoe]), P("div", Xoe, [Tt(fe(g.sum.toFixed(Y(e).moneyAccuracy)) + " ", 1), Koe])]), P("div", Qoe, [P("div", Joe, [Tt(fe(g.food.breakfast.toFixed(Y(e).moneyAccuracy)) + " ", 1), ese]), P("div", tse, [Tt(fe(g.food.launch.toFixed(Y(e).moneyAccuracy)) + " ", 1), rse]), P("div", nse, [Tt(fe(g.food.dinner.toFixed(Y(e).moneyAccuracy)) + " ", 1), ase]), P("div", ise, [Tt(fe(g.food.sum.toFixed(Y(e).moneyAccuracy)) + " ", 1), ose])])]), P("table", null, [sse, ($(!0), j(Ve, null, It(g.days, m => ($(), j("tr", { key: m.date }, [P("td", { class: "center number link", onClick: y => u(m.id) }, [Tt(fe(Y(Gl)(m.date).dateShort) + " ", 1), P("span", use, fe(Y(Gl)(m.date).weekShort), 1)], 8, lse), P("td", cse, [m.sumIncome === 0 ? ($(), j("span", fse, "~")) : m.sumIncome > 0 ? ($(), j("span", hse, "+" + fe(m.sumIncome.toFixed(Y(e).moneyAccuracy) || "-"), 1)) : ($(), j("span", dse, fe(m.sumIncome.toFixed(Y(e).moneyAccuracy) || "-"), 1))]), P("td", vse, [m.sumOutput === 0 ? ($(), j("span", pse, "~")) : m.sumOutput > 0 ? ($(), j("span", gse, "+" + fe(m.sumOutput.toFixed(Y(e).moneyAccuracy) || "-"), 1)) : ($(), j("span", mse, fe(m.sumOutput.toFixed(Y(e).moneyAccuracy) || "-"), 1))]), Ot(($(), j("td", yse, [Tt(fe(c(m.items)), 1)])), [[p, { content: f(m.items), html: !0, theme: "tooltip-bill" }]])]))), 128))])]))), 128))]))], 4)]) }
    }
}); const bse = t => (ba("data-v-5bc7743c"), t = t(), wa(), t), wse = { class: "bankcard-index" }, Sse = { class: "bankcard-upper" }, xse = { class: "bankcard-logo" }, Tse = ["src"], Dse = { class: "bankcard-main-info" }, Cse = { class: "bankcard-title" }, Mse = { class: "bankcard-name" }, kse = ["data-clipboard"], Ase = { class: "bankcard-note" }, Lse = { class: "bankcard-detail-list" }, Ise = { key: 0, class: "bankcard-detail-list-item" }, Pse = bse(() => P("div", { class: "label" }, "开户行", -1)), Rse = { class: "value" }, Ose = { class: "label" }, Ese = { class: "value" }, Nse = Ue({ __name: "BankCard", props: { card: { type: Object, default: {} }, index: { type: Number, default: 0 } }, setup(t) { const e = t, r = new Map([["中信银行", { icon: ke.bank_icons.中信银行, bgColorClass: "bank-bg-white" }], ["农业银行", { icon: ke.bank_icons.农业银行, bgColorClass: "bank-bg-green" }], ["工商银行", { icon: ke.bank_icons.工商银行, bgColorClass: "bank-bg-red" }], ["中国银行", { icon: ke.bank_icons.中国银行, bgColorClass: "bank-bg-white" }], ["建设银行", { icon: ke.bank_icons.建设银行, bgColorClass: "bank-bg-blue" }], ["招商银行", { icon: ke.bank_icons.招商银行, bgColorClass: "bank-bg-zhaoshang" }], ["民生银行", { icon: ke.bank_icons.民生银行, bgColorClass: "bank-bg-white" }], ["浦发银行", { icon: ke.bank_icons.浦发银行, bgColorClass: "bank-bg-white" }], ["广发银行", { icon: ke.bank_icons.广发银行, bgColorClass: "bank-bg-white" }], ["北京银行", { icon: ke.bank_icons.北京银行, bgColorClass: "bank-bg-white" }], ["交通银行", { icon: ke.bank_icons.交通银行, bgColorClass: "bank-bg-jiaotong" }], ["银行", { icon: ke.bank_icons.银行, bgColorClass: "bank-bg-white" }]]); function n(a) { return /招商/g.test(a) ? r.get("招商银行") : /农行|农业/g.test(a) ? r.get("农业银行") : /中信/g.test(a) ? r.get("中信银行") : /工商/g.test(a) ? r.get("工商银行") : /建行|建设银行/g.test(a) ? r.get("建设银行") : /中行|中国银行/g.test(a) ? r.get("中国银行") : /招行|招商银行/g.test(a) ? r.get("招商银行") : /民生|民生银行/g.test(a) ? r.get("民生银行") : /浦发|浦发银行/g.test(a) ? r.get("浦发银行") : /广发|广发银行/g.test(a) ? r.get("广发银行") : /北京|北京银行/g.test(a) ? r.get("北京银行") : /交通|交通银行/g.test(a) ? r.get("交通银行") : r.get("银行") } return (a, i) => ($(), j("div", { class: Be(["bankcard", n(e.card.cardName).bgColorClass]) }, [P("div", wse, fe(t.index + 1), 1), P("div", Sse, [P("div", xse, [P("img", { src: n(e.card.cardName).icon, alt: "BankCard Icon" }, null, 8, Tse)]), P("div", Dse, [P("div", Cse, [P("div", Mse, fe(e.card.cardName), 1)]), P("div", { class: "bankcard-no", "data-clipboard": e.card.cardNo.replace(/ /g, "") }, fe(e.card.cardNo), 9, kse), P("div", Ase, fe(e.card.note), 1)])]), P("div", Lse, [e.card.开户行 ? ($(), j("div", Ise, [Pse, P("div", Rse, fe(e.card.开户行), 1)])) : ce("", !0), ($(!0), j(Ve, null, It(e.card.extraInfos, (o, s) => ($(), j("div", { class: "bankcard-detail-list-item", key: s }, [P("div", Ose, fe(o.key), 1), P("div", Ese, fe(o.value), 1)]))), 128))])], 2)) } }); const Ab = Et(Nse, [["__scopeId", "data-v-5bc7743c"]]), $se = { getBankCard() { return fr("get", null, null, "bank-card") } }, Vs = t => (ba("data-v-75b4d19c"), t = t(), wa(), t), Fse = { key: 0, class: "pt-8 pb-8" }, Bse = { key: 1 }, Vse = { key: 0, class: "bank-card-container" }, zse = Vs(() => P("h1", { class: "bank-card-list-header" }, "存储卡", -1)), Hse = { class: "bank-card-list" }, Yse = Vs(() => P("h1", { class: "bank-card-list-header" }, "信用卡", -1)), Use = { class: "bank-card-list" }, Wse = { key: 1, class: "bank-tip" }, Gse = Vs(() => P("p", null, "您目前没有添加任何银行卡", -1)), jse = Vs(() => P("p", null, "------------------------", -1)), Zse = Vs(() => P("p", null, '请新建名为 "我的银行卡列表" 的日记', -1)), qse = Vs(() => P("p", null, "日记内容格式如下，", -1)), Xse = Vs(() => P("p", null, "之后，将会在此显示银行卡列表", -1)), Kse = Vs(() => P("p", null, "------------------------", -1)), Qse = Vs(() => P("div", { class: "year-tip" }, "添加后，效果如下，点击卡号即可复制卡号", -1)), Jse = { class: "bank-card-list p-0" }, ele = `银行：民生银行
卡号：6226 2216 1178 4567
类别：储蓄卡
开户行：山东济南办卡
刷卡次数：5

银行：民生银行
卡号：6226 2216 1178 4567
类别：信用卡
开户行：山东济南办卡
额度：20000
验证码：123/4
到期日：2029-08-10
`, tle = Ue({
    __name: "BankCardList", setup(t) {
        Vt(); const e = [{ cardName: "建设银行", cardNo: "6226 2216 3456 0955", cardType: "信用卡", extraInfos: [{ key: "地址", value: "山东济南" }, { key: "开户行", value: "山东济南财富广场分行" }] }, { cardName: "中国银行", cardNo: "4567 2216 3456 0955", cardType: "储蓄卡", extraInfos: [{ key: "地址", value: "山东济南" }, { key: "开户行", value: "山东济南财富广场分行" }] }], r = ne(!1), n = ne([]), a = ne([]), i = ne([]), o = ne(null), s = wn(); Lt(() => { u() }), Nh(() => { o.value && o.value.destroy() }); function l() { let f = { categories: JSON.stringify(I_().map(h => h.name_en)), keywords: JSON.stringify(["我的银行卡列表"]), pageSize: 100, pageNo: 1 }; Pa.list(f).then(h => { h.data.length === 1 ? s.push({ name: "Edit", params: { id: h.data[0].id } }) : Mt("warning", "未找到名为 “我的银行卡列表” 的日记内容") }) } function u() { r.value = !0, $se.getBankCard().then(f => { r.value = !1, f.data && c(f.data.trim()) }).catch(() => { r.value = !1 }) } function c(f) {
            f.split(`

`).filter(d => d.length > 0).forEach(d => {
                let v = new Map(d.split(`
`).map(m => m.split("："))), p = {}, g = []; v.forEach((m, y) => { switch (y) { case "卡号": p.cardNo = m; break; case "银行": p.cardName = m; break; case "类别": p.cardType = m; break; default: g.push({ key: y, value: m }); break } }), p.extraInfos = g, n.value.push(p), a.value = n.value.filter(m => m.cardType.indexOf("储蓄卡") > -1), i.value = n.value.filter(m => m.cardType.indexOf("信用卡") > -1)
            }), o.value = new jp(".bankcard-no", { text: d => d.getAttribute("data-clipboard") }), o.value.on("success", () => { Mt("success", "卡号已复制到剪贴板", null) })
        } return (f, h) => ($(), j(Ve, null, [de(qp, { title: "银行卡列表", subtitle: "点击复制卡号" }, { default: Me(() => [de(gr, { onClick: l, alt: "编辑" })]), _: 1 }), de(iu, null, { default: Me(() => [r.value ? ($(), j("div", Fse, [de(Gi, { loading: r.value }, null, 8, ["loading"])])) : ($(), j("div", Bse, [n.value.length > 0 ? ($(), j("div", Vse, [zse, P("div", Hse, [($(!0), j(Ve, null, It(a.value, (d, v) => ($(), Ie(Ab, { index: v, card: d, key: v }, null, 8, ["index", "card"]))), 128))]), Yse, P("div", Use, [($(!0), j(Ve, null, It(i.value, (d, v) => ($(), Ie(Ab, { index: v, card: d, key: v }, null, 8, ["index", "card"]))), 128))])])) : ($(), j("div", Wse, [r.value ? ($(), Ie(Gi, { key: 0, loading: r.value }, null, 8, ["loading"])) : ($(), j(Ve, { key: 1 }, [Gse, jse, Zse, qse, Xse, Kse, P("div", { class: "bank-card-example" }, [P("pre", null, fe(ele))]), Qse, P("div", Jse, [($(), j(Ve, null, It(e, (d, v) => de(Ab, { index: v, card: d, key: v }, null, 8, ["index", "card"])), 64))])], 64))]))]))]), _: 1 })], 64))
    }
}); const rle = Et(tle, [["__scopeId", "data-v-75b4d19c"]]), Gg = { list() { return fr("get", null, null, "invitation/list") }, generate() { return fr("post", null, null, "invitation/generate") }, delete(t) { return fr("delete", t, null, "invitation/delete") }, markAsShared(t) { return fr("post", null, t, "invitation/mark-shared") } }, nle = { key: 1, class: "invitation-list" }, ale = { class: "index" }, ile = { class: "invitation-code-wrapper" }, ole = ["data-clipboard"], sle = { class: "create-time" }, lle = { key: 0, class: "operation-btns" }, ule = Ue({
    __name: "InvitationList", setup(t) {
        const e = Vt(), r = ne(!1), n = ne([]), a = ne(null), i = De(() => qr().group_id === 1); Lt(() => { r.value = !0, o(), a.value = new jp(".invitation-code", { text: c => c.getAttribute("data-clipboard") }), a.value.on("success", () => { Mt("success", "邀请码已复制到剪贴板", null, 2) }) }), Nh(() => { a.value && a.value.destroy() }); function o() { Gg.list().then(c => { r.value = !1, c.data && (n.value = c.data.map(f => (f.date_create = Hr(new Date(f.date_create)), f))) }).catch(() => { r.value = !1 }) } function s() { Gg.generate().then(() => o()) } function l(c) { Gg.delete({ id: c }).then(f => { Mt("success", f.message, null), o() }) } function u(c) { Gg.markAsShared({ id: c }).then(f => { Mt("success", f.message), o() }) } return (c, f) => ($(), j(Ve, null, [de(qp, { title: "邀请码", subtitle: "点击可复制" }, { default: Me(() => [i.value ? ($(), Ie(gr, { key: 0, onClick: s, alt: "添加" })) : ce("", !0)]), _: 1 }), de(iu, null, {
            default: Me(() => [r.value ? ($(), j("div", { key: 0, class: "pt-8 pb-8", style: at(`height:  ${Y(e).insets.heightPanel}px`) }, [de(Gi, { loading: r.value }, null, 8, ["loading"])], 4)) : ($(), j("div", nle, [($(!0), j(Ve, null, It(n.value, (h, d) => ($(), j("div", { class: Be(["invitation-list-item", { shared: h.is_shared === 1 }]), key: h.id }, [P("div", ale, fe(d + 1), 1), P("div", ile, [P("div", {
                class: "invitation-code", "data-clipboard": `欢迎使用：

${h.id}

邀请码有效期：3天`}, fe(h.id), 9, ole), P("div", sle, fe(h.date_create), 1)]), i.value ? ($(), j("div", lle, [de(gr, { alt: "黑色-关闭", onClick: v => l(h.id) }, null, 8, ["onClick"]), h.is_shared === 0 ? ($(), Ie(gr, { key: 0, alt: "黑色-确定", onClick: v => u(h.id) }, null, 8, ["onClick"])) : ce("", !0)])) : ce("", !0)], 2))), 128))]))]), _: 1
        })], 64))
    }
}); const cle = Et(ule, [["__scopeId", "data-v-6aad5c51"]]), fle = { class: "todo-list" }, hle = { class: "checkbox-wrapper" }, dle = ["onClick"], vle = { class: "content-wrapper" }, ple = { class: "content" }, gle = { class: "note" }, x4 = Ue({
    __name: "ToDo", props: { readonly: { type: Boolean, default: !1 }, diary: { type: Object, default: null } }, setup(t) {
        const e = t, r = ne([]), n = ne(0); Lt(() => { i(e.diary) }), mt(() => e.diary, l => { i(l) }); function a(l) { if (!e.readonly) { l.isDone && (n.value = n.value + 1, l.id = n.value), l.isDone = !l.isDone; let u = r.value.filter(f => !f.isDone).sort((f, h) => f.id - h.id), c = r.value.filter(f => f.isDone).sort((f, h) => f.id - h.id); r.value = u.concat(c), s() } } function i(l) {
            if (l.content) {
                let u = l.content.split(`
`); r.value = u.filter(c => /^[\-=]/.test(c)).map((c, f) => { let h = c.substring(0, 1) === "=", d = c.substring(2).split("#"); return { id: f, isDone: h, content: d[0].trim(), note: d[1] ? d[1].trim() : "" } }), n.value = r.value.length
            }
        } function o(l) {
            let u = ""; return l.length > 0 && l.forEach(c => {
                let f = c.isDone ? "= " : "- ", h = c.note ? ` #${c.note}` : ""; u = u.concat(`${f}${c.content}${h}
`)
            }), u
        } function s() { let l = { id: e.diary.id, title: e.diary.title, content: o(r.value), category: e.diary.category, temperature: Xf(e.diary.temperature), temperature_outside: Xf(e.diary.temperature_outside), weather: e.diary.weather, is_public: e.diary.is_public ? 1 : 0, is_markdown: e.diary.is_markdown ? 1 : 0, date: Hr(new Date(e.diary.date)) }; Pa.modify(l).then().catch(u => { Mt("danger", u.message, () => { }, 1) }) } return (l, u) => ($(), j("div", fle, [($(!0), j(Ve, null, It(r.value, (c, f) => ($(), j("div", { class: Be(["todo-list-item", { done: c.isDone }]), key: f }, [P("div", hle, [P("div", { class: Be(["checkbox", { checked: c.isDone }]), onClick: h => a(c) }, null, 10, dle)]), P("div", vle, [P("div", ple, fe(c.content), 1), P("div", gle, fe(c.note), 1)])], 2))), 128))]))
    }
}); const mle = { class: "share-container" }, yle = { key: 0 }, _le = { key: 1 }, ble = { key: 0 }, wle = { class: "share-head" }, Sle = { class: "share-title" }, xle = { class: "share-date" }, Tle = { class: "above" }, Dle = { class: "bottom" }, Cle = { class: "share-meta" }, Mle = { class: "weather" }, kle = ["src", "alt"], Ale = { key: 0, class: "temperature" }, Lle = { key: 0 }, Ile = { key: 1 }, Ple = { key: 2 }, Rle = P("span", null, "℃", -1), Ole = { key: 0, class: "divider" }, Ele = { class: "share-content" }, Nle = { key: 1 }, $le = ["innerHTML"], Fle = ["innerHTML"], Ble = { class: "share-author" }, Vle = P("div", { class: "line" }, null, -1), zle = { class: "name" }, Hle = { class: "nickname" }, Yle = { class: "username" }, Ule = { key: 1, class: "no-diary" }, Wle = P("p", null, "无此日记", -1), Gle = [Wle], jle = ["src"], Zle = Ue({
    __name: "Share", setup(t) {
        const e = Vt(), r = Ki(), n = ne(null), a = ne({}), i = ne(!1), o = De(() => e.insets.windowsWidth > 375 ? e.insets.windowsHeight - 60 - 100 : e.insets.windowsHeight), s = De(() => `background-color: ${e.categoryObjectMap.get(n.value.category).color}`), l = De(() => pt.parse(n.value.content)); Lt(() => { u(Number(r.params.id)) }); function u(f) { i.value = !0; let h = { diaryId: f }; Pa.detail(h).then(d => { const v = d.data; i.value = !1, n.value = v, a.value = Gl(v.date), document.title = "日记 - " + a.value.dateFull, n.value.content && (n.value.contentHtml = c(v.content)), n.value.temperature = bh(v.temperature), n.value.temperature_outside = bh(v.temperature_outside); let p = new Map; I_().forEach(g => { p.set(g.name_en, g.name) }), n.value.categoryString = p.get(v.category) }).catch(() => { i.value = !1, n.value = null }) } function c(f) {
            let h = /\[ ?code ?\]/i.test(f), d = f.split(`
`), v = ""; return h ? `<pre class="code">${e.isHideContent ? f.replace(/[^，。 \n]/g, "*") : f}</pre>` : (d.forEach(p => { p === "" ? v += "<br/>" : v += `<p>${e.isHideContent ? p.replace(/[^，。 \n]/g, "*") : p}</p>` }), v)
        } return mt(() => r.params.id, f => { console.log(f), u(Number(f)) }), (f, h) => { const d = In("router-link"); return $(), j("div", mle, [P("div", { class: "share", style: at(`min-height:${o.value}px`) }, [i.value ? ($(), j("div", yle, [de(Gi, { loading: i.value }, null, 8, ["loading"])])) : ($(), j("div", _le, [n.value.title ? ($(), j("div", ble, [P("div", wle, [P("div", Sle, [P("h2", null, fe(n.value.title), 1)]), P("div", xle, [P("div", Tle, [P("h3", null, fe(a.value.weekday), 1), P("div", { class: "share-category", style: at(s.value) }, [P("span", null, fe(n.value.categoryString), 1)], 4)]), P("div", Dle, fe(a.value.dateFull), 1)]), P("div", Cle, [P("div", Mle, [n.value.weather ? ($(), j("img", { key: 0, src: Y(ke).weather_icons[`${n.value.weather}_active`], alt: n.value.weather }, null, 8, kle)) : ce("", !0)]), n.value.temperature || n.value.temperature_outside ? ($(), j("div", Ale, [n.value.temperature ? ($(), j("span", Lle, fe(n.value.temperature), 1)) : ce("", !0), n.value.temperature && n.value.temperature_outside ? ($(), j("span", Ile, " / ")) : ce("", !0), n.value.temperature_outside ? ($(), j("span", Ple, fe(n.value.temperature_outside), 1)) : ce("", !0), Rle])) : ce("", !0)])]), n.value.content ? ($(), j("div", Ole)) : ce("", !0), P("div", Ele, [n.value.category === "todo" ? ($(), Ie(x4, { key: 0, readonly: !0, diary: n.value }, null, 8, ["diary"])) : ($(), j("div", Nle, [n.value.is_markdown === 1 ? ($(), j("div", { key: 0, class: "markdown", innerHTML: l.value }, null, 8, $le)) : ($(), j("div", { key: 1, class: "content", innerHTML: n.value.contentHtml }, null, 8, Fle))]))]), P("div", Ble, [Vle, P("div", zle, [P("div", Hle, fe(n.value.nickname), 1), P("div", Yle, fe(n.value.username), 1)])])])) : ($(), j("div", Ule, Gle))]))], 4), de(d, { class: "back-link", to: "/" }, { default: Me(() => [P("img", { src: Y(ke).logo_icons.logo, alt: "logo" }, null, 8, jle), Tt("标题日记")]), _: 1 })]) }
    }
}); const qle = { name: "StatisticPanel", props: { title: "" } }, Xle = { class: "statistic-panel-container" }, Kle = { key: 0 }, Qle = { class: "statistic-panel" }; function Jle(t, e, r, n, a, i) { return $(), j("div", Xle, [r.title ? ($(), j("h3", Kle, fe(r.title), 1)) : ce("", !0), P("div", Qle, [We(t.$slots, "default", {}, void 0, !0)])]) } const fs = Et(qle, [["render", Jle], ["__scopeId", "data-v-3aa78936"]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qx = function (t, e) { return qx = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (r, n) { r.__proto__ = n } || function (r, n) { for (var a in n) Object.prototype.hasOwnProperty.call(n, a) && (r[a] = n[a]) }, qx(t, e) }; function ae(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null"); qx(t, e); function r() { this.constructor = t } t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r) } var eue = function () { function t() { this.firefox = !1, this.ie = !1, this.edge = !1, this.newEdge = !1, this.weChat = !1 } return t }(), tue = function () { function t() { this.browser = new eue, this.node = !1, this.wxa = !1, this.worker = !1, this.svgSupported = !1, this.touchEventsSupported = !1, this.pointerEventsSupported = !1, this.domSupported = !1, this.transformSupported = !1, this.transform3dSupported = !1, this.hasGlobalWindow = typeof window < "u" } return t }(), Wu = new tue; typeof wx == "object" && typeof wx.getSystemInfoSync == "function" ? (Wu.wxa = !0, Wu.touchEventsSupported = !0) : typeof document > "u" && typeof self < "u" ? Wu.worker = !0 : typeof navigator > "u" ? (Wu.node = !0, Wu.svgSupported = !0) : rue(navigator.userAgent, Wu); function rue(t, e) { var r = e.browser, n = t.match(/Firefox\/([\d.]+)/), a = t.match(/MSIE\s([\d.]+)/) || t.match(/Trident\/.+?rv:(([\d.]+))/), i = t.match(/Edge?\/([\d.]+)/), o = /micromessenger/i.test(t); n && (r.firefox = !0, r.version = n[1]), a && (r.ie = !0, r.version = a[1]), i && (r.edge = !0, r.version = i[1], r.newEdge = +i[1].split(".")[0] > 18), o && (r.weChat = !0), e.svgSupported = typeof SVGRect < "u", e.touchEventsSupported = "ontouchstart" in window && !r.ie && !r.edge, e.pointerEventsSupported = "onpointerdown" in window && (r.edge || r.ie && +r.version >= 11), e.domSupported = typeof document < "u"; var s = document.documentElement.style; e.transform3dSupported = (r.ie && "transition" in s || r.edge || "WebKitCSSMatrix" in window && "m11" in new WebKitCSSMatrix || "MozPerspective" in s) && !("OTransition" in s), e.transformSupported = e.transform3dSupported || r.ie && +r.version >= 9 } const Ut = Wu; var YD = 12, T4 = "sans-serif", Zl = YD + "px " + T4, nue = 20, aue = 100, iue = "007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"; function oue(t) { var e = {}; if (typeof JSON > "u") return e; for (var r = 0; r < t.length; r++) { var n = String.fromCharCode(r + 32), a = (t.charCodeAt(r) - nue) / aue; e[n] = a } return e } var sue = oue(iue), ql = { createCanvas: function () { return typeof document < "u" && document.createElement("canvas") }, measureText: function () { var t, e; return function (r, n) { if (!t) { var a = ql.createCanvas(); t = a && a.getContext("2d") } if (t) return e !== n && (e = t.font = n || Zl), t.measureText(r); r = r || "", n = n || Zl; var i = /(\d+)px/.exec(n), o = i && +i[1] || YD, s = 0; if (n.indexOf("mono") >= 0) s = o * r.length; else for (var l = 0; l < r.length; l++) { var u = sue[r[l]]; s += u == null ? o : u * o } return { width: s } } }(), loadImage: function (t, e, r) { var n = new Image; return n.onload = e, n.onerror = r, n.src = t, n } }, D4 = Po(["Function", "RegExp", "Date", "Error", "CanvasGradient", "CanvasPattern", "Image", "Canvas"], function (t, e) { return t["[object " + e + "]"] = !0, t }, {}), C4 = Po(["Int8", "Uint8", "Uint8Clamped", "Int16", "Uint16", "Int32", "Uint32", "Float32", "Float64"], function (t, e) { return t["[object " + e + "Array]"] = !0, t }, {}), Bh = Object.prototype.toString, V_ = Array.prototype, lue = V_.forEach, uue = V_.filter, UD = V_.slice, cue = V_.map, cI = (function () { }).constructor, jg = cI ? cI.prototype : null, WD = "__proto__", fue = 2311; function M4() { return fue++ } function GD() { for (var t = [], e = 0; e < arguments.length; e++)t[e] = arguments[e]; typeof console < "u" && console.error.apply(console, t) } function rt(t) { if (t == null || typeof t != "object") return t; var e = t, r = Bh.call(t); if (r === "[object Array]") { if (!xv(t)) { e = []; for (var n = 0, a = t.length; n < a; n++)e[n] = rt(t[n]) } } else if (C4[r]) { if (!xv(t)) { var i = t.constructor; if (i.from) e = i.from(t); else { e = new i(t.length); for (var n = 0, a = t.length; n < a; n++)e[n] = t[n] } } } else if (!D4[r] && !xv(t) && !ap(t)) { e = {}; for (var o in t) t.hasOwnProperty(o) && o !== WD && (e[o] = rt(t[o])) } return e } function bt(t, e, r) { if (!Qe(e) || !Qe(t)) return r ? rt(e) : t; for (var n in e) if (e.hasOwnProperty(n) && n !== WD) { var a = t[n], i = e[n]; Qe(i) && Qe(a) && !me(i) && !me(a) && !ap(i) && !ap(a) && !fI(i) && !fI(a) && !xv(i) && !xv(a) ? bt(a, i, r) : (r || !(n in t)) && (t[n] = rt(e[n])) } return t } function jD(t, e) { for (var r = t[0], n = 1, a = t.length; n < a; n++)r = bt(r, t[n], e); return r } function he(t, e) { if (Object.assign) Object.assign(t, e); else for (var r in e) e.hasOwnProperty(r) && r !== WD && (t[r] = e[r]); return t } function Xe(t, e, r) { for (var n = Nt(e), a = 0; a < n.length; a++) { var i = n[a]; (r ? e[i] != null : t[i] == null) && (t[i] = e[i]) } return t } function Ct(t, e) { if (t) { if (t.indexOf) return t.indexOf(e); for (var r = 0, n = t.length; r < n; r++)if (t[r] === e) return r } return -1 } function hue(t, e) { var r = t.prototype; function n() { } n.prototype = e.prototype, t.prototype = new n; for (var a in r) r.hasOwnProperty(a) && (t.prototype[a] = r[a]); t.prototype.constructor = t, t.superClass = e } function mn(t, e, r) { if (t = "prototype" in t ? t.prototype : t, e = "prototype" in e ? e.prototype : e, Object.getOwnPropertyNames) for (var n = Object.getOwnPropertyNames(e), a = 0; a < n.length; a++) { var i = n[a]; i !== "constructor" && (r ? e[i] != null : t[i] == null) && (t[i] = e[i]) } else Xe(t, e, r) } function na(t) { return !t || typeof t == "string" ? !1 : typeof t.length == "number" } function E(t, e, r) { if (t && e) if (t.forEach && t.forEach === lue) t.forEach(e, r); else if (t.length === +t.length) for (var n = 0, a = t.length; n < a; n++)e.call(r, t[n], n, t); else for (var i in t) t.hasOwnProperty(i) && e.call(r, t[i], i, t) } function _e(t, e, r) { if (!t) return []; if (!e) return ZD(t); if (t.map && t.map === cue) return t.map(e, r); for (var n = [], a = 0, i = t.length; a < i; a++)n.push(e.call(r, t[a], a, t)); return n } function Po(t, e, r, n) { if (t && e) { for (var a = 0, i = t.length; a < i; a++)r = e.call(n, r, t[a], a, t); return r } } function hr(t, e, r) { if (!t) return []; if (!e) return ZD(t); if (t.filter && t.filter === uue) return t.filter(e, r); for (var n = [], a = 0, i = t.length; a < i; a++)e.call(r, t[a], a, t) && n.push(t[a]); return n } function due(t, e, r) { if (t && e) { for (var n = 0, a = t.length; n < a; n++)if (e.call(r, t[n], n, t)) return t[n] } } function Nt(t) { if (!t) return []; if (Object.keys) return Object.keys(t); var e = []; for (var r in t) t.hasOwnProperty(r) && e.push(r); return e } function vue(t, e) { for (var r = [], n = 2; n < arguments.length; n++)r[n - 2] = arguments[n]; return function () { return t.apply(e, r.concat(UD.call(arguments))) } } var $e = jg && je(jg.bind) ? jg.call.bind(jg.bind) : vue; function ut(t) { for (var e = [], r = 1; r < arguments.length; r++)e[r - 1] = arguments[r]; return function () { return t.apply(this, e.concat(UD.call(arguments))) } } function me(t) { return Array.isArray ? Array.isArray(t) : Bh.call(t) === "[object Array]" } function je(t) { return typeof t == "function" } function Oe(t) { return typeof t == "string" } function Xx(t) { return Bh.call(t) === "[object String]" } function Gt(t) { return typeof t == "number" } function Qe(t) { var e = typeof t; return e === "function" || !!t && e === "object" } function fI(t) { return !!D4[Bh.call(t)] } function Wa(t) { return !!C4[Bh.call(t)] } function ap(t) { return typeof t == "object" && typeof t.nodeType == "number" && typeof t.ownerDocument == "object" } function z_(t) { return t.colorStops != null } function pue(t) { return t.image != null } function gue(t) { return Bh.call(t) === "[object RegExp]" } function ip(t) { return t !== t } function Nn() { for (var t = [], e = 0; e < arguments.length; e++)t[e] = arguments[e]; for (var r = 0, n = t.length; r < n; r++)if (t[r] != null) return t[r] } function _t(t, e) { return t ?? e } function Co(t, e, r) { return t ?? e ?? r } function ZD(t) { for (var e = [], r = 1; r < arguments.length; r++)e[r - 1] = arguments[r]; return UD.apply(t, e) } function qD(t) { if (typeof t == "number") return [t, t, t, t]; var e = t.length; return e === 2 ? [t[0], t[1], t[0], t[1]] : e === 3 ? [t[0], t[1], t[2], t[1]] : t } function ya(t, e) { if (!t) throw new Error(e) } function Fi(t) { return t == null ? null : typeof t.trim == "function" ? t.trim() : t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "") } var k4 = "__ec_primitive__"; function Xy(t) { t[k4] = !0 } function xv(t) { return t[k4] } var mue = function () { function t() { this.data = {} } return t.prototype.delete = function (e) { var r = this.has(e); return r && delete this.data[e], r }, t.prototype.has = function (e) { return this.data.hasOwnProperty(e) }, t.prototype.get = function (e) { return this.data[e] }, t.prototype.set = function (e, r) { return this.data[e] = r, this }, t.prototype.keys = function () { return Nt(this.data) }, t.prototype.forEach = function (e) { var r = this.data; for (var n in r) r.hasOwnProperty(n) && e(r[n], n) }, t }(), A4 = typeof Map == "function"; function yue() { return A4 ? new Map : new mue } var _ue = function () { function t(e) { var r = me(e); this.data = yue(); var n = this; e instanceof t ? e.each(a) : e && E(e, a); function a(i, o) { r ? n.set(i, o) : n.set(o, i) } } return t.prototype.hasKey = function (e) { return this.data.has(e) }, t.prototype.get = function (e) { return this.data.get(e) }, t.prototype.set = function (e, r) { return this.data.set(e, r), r }, t.prototype.each = function (e, r) { this.data.forEach(function (n, a) { e.call(r, n, a) }) }, t.prototype.keys = function () { var e = this.data.keys(); return A4 ? Array.from(e) : e }, t.prototype.removeKey = function (e) { this.data.delete(e) }, t }(); function He(t) { return new _ue(t) } function Ky(t, e) { for (var r = new t.constructor(t.length + e.length), n = 0; n < t.length; n++)r[n] = t[n]; for (var a = t.length, n = 0; n < e.length; n++)r[n + a] = e[n]; return r } function H_(t, e) { var r; if (Object.create) r = Object.create(t); else { var n = function () { }; n.prototype = t, r = new n } return e && he(r, e), r } function L4(t) { var e = t.style; e.webkitUserSelect = "none", e.userSelect = "none", e.webkitTapHighlightColor = "rgba(0,0,0,0)", e["-webkit-touch-callout"] = "none" } function Fe(t, e) { return t.hasOwnProperty(e) } function nn() { } var hy = 180 / Math.PI; function jc(t, e) { return t == null && (t = 0), e == null && (e = 0), [t, e] } function ca(t, e) { return t[0] = e[0], t[1] = e[1], t } function Ss(t) { return [t[0], t[1]] } function bue(t, e, r) { return t[0] = e, t[1] = r, t } function hI(t, e, r) { return t[0] = e[0] + r[0], t[1] = e[1] + r[1], t } function Kx(t, e, r, n) { return t[0] = e[0] + r[0] * n, t[1] = e[1] + r[1] * n, t } function sc(t, e, r) { return t[0] = e[0] - r[0], t[1] = e[1] - r[1], t } function Qx(t) { return Math.sqrt(wue(t)) } function wue(t) { return t[0] * t[0] + t[1] * t[1] } function dy(t, e, r) { return t[0] = e[0] * r, t[1] = e[1] * r, t } function Vh(t, e) { var r = Qx(e); return r === 0 ? (t[0] = 0, t[1] = 0) : (t[0] = e[0] / r, t[1] = e[1] / r), t } function Jx(t, e) { return Math.sqrt((t[0] - e[0]) * (t[0] - e[0]) + (t[1] - e[1]) * (t[1] - e[1])) } var Sl = Jx; function Sue(t, e) { return (t[0] - e[0]) * (t[0] - e[0]) + (t[1] - e[1]) * (t[1] - e[1]) } var wc = Sue; function vy(t, e, r, n) { return t[0] = e[0] + n * (r[0] - e[0]), t[1] = e[1] + n * (r[1] - e[1]), t } function Hn(t, e, r) { var n = e[0], a = e[1]; return t[0] = r[0] * n + r[2] * a + r[4], t[1] = r[1] * n + r[3] * a + r[5], t } function xl(t, e, r) { return t[0] = Math.min(e[0], r[0]), t[1] = Math.min(e[1], r[1]), t } function Tl(t, e, r) { return t[0] = Math.max(e[0], r[0]), t[1] = Math.max(e[1], r[1]), t } var gf = function () { function t(e, r) { this.target = e, this.topTarget = r && r.topTarget } return t }(), xue = function () { function t(e) { this.handler = e, e.on("mousedown", this._dragStart, this), e.on("mousemove", this._drag, this), e.on("mouseup", this._dragEnd, this) } return t.prototype._dragStart = function (e) { for (var r = e.target; r && !r.draggable;)r = r.parent || r.__hostTarget; r && (this._draggingTarget = r, r.dragging = !0, this._x = e.offsetX, this._y = e.offsetY, this.handler.dispatchToElement(new gf(r, e), "dragstart", e.event)) }, t.prototype._drag = function (e) { var r = this._draggingTarget; if (r) { var n = e.offsetX, a = e.offsetY, i = n - this._x, o = a - this._y; this._x = n, this._y = a, r.drift(i, o, e), this.handler.dispatchToElement(new gf(r, e), "drag", e.event); var s = this.handler.findHover(n, a, r).target, l = this._dropTarget; this._dropTarget = s, r !== s && (l && s !== l && this.handler.dispatchToElement(new gf(l, e), "dragleave", e.event), s && s !== l && this.handler.dispatchToElement(new gf(s, e), "dragenter", e.event)) } }, t.prototype._dragEnd = function (e) { var r = this._draggingTarget; r && (r.dragging = !1), this.handler.dispatchToElement(new gf(r, e), "dragend", e.event), this._dropTarget && this.handler.dispatchToElement(new gf(this._dropTarget, e), "drop", e.event), this._draggingTarget = null, this._dropTarget = null }, t }(); const Tue = xue; var Due = function () { function t(e) { e && (this._$eventProcessor = e) } return t.prototype.on = function (e, r, n, a) { this._$handlers || (this._$handlers = {}); var i = this._$handlers; if (typeof r == "function" && (a = n, n = r, r = null), !n || !e) return this; var o = this._$eventProcessor; r != null && o && o.normalizeQuery && (r = o.normalizeQuery(r)), i[e] || (i[e] = []); for (var s = 0; s < i[e].length; s++)if (i[e][s].h === n) return this; var l = { h: n, query: r, ctx: a || this, callAtLast: n.zrEventfulCallAtLast }, u = i[e].length - 1, c = i[e][u]; return c && c.callAtLast ? i[e].splice(u, 0, l) : i[e].push(l), this }, t.prototype.isSilent = function (e) { var r = this._$handlers; return !r || !r[e] || !r[e].length }, t.prototype.off = function (e, r) { var n = this._$handlers; if (!n) return this; if (!e) return this._$handlers = {}, this; if (r) { if (n[e]) { for (var a = [], i = 0, o = n[e].length; i < o; i++)n[e][i].h !== r && a.push(n[e][i]); n[e] = a } n[e] && n[e].length === 0 && delete n[e] } else delete n[e]; return this }, t.prototype.trigger = function (e) { for (var r = [], n = 1; n < arguments.length; n++)r[n - 1] = arguments[n]; if (!this._$handlers) return this; var a = this._$handlers[e], i = this._$eventProcessor; if (a) for (var o = r.length, s = a.length, l = 0; l < s; l++) { var u = a[l]; if (!(i && i.filter && u.query != null && !i.filter(e, u.query))) switch (o) { case 0: u.h.call(u.ctx); break; case 1: u.h.call(u.ctx, r[0]); break; case 2: u.h.call(u.ctx, r[0], r[1]); break; default: u.h.apply(u.ctx, r); break } } return i && i.afterTrigger && i.afterTrigger(e), this }, t.prototype.triggerWithContext = function (e) { for (var r = [], n = 1; n < arguments.length; n++)r[n - 1] = arguments[n]; if (!this._$handlers) return this; var a = this._$handlers[e], i = this._$eventProcessor; if (a) for (var o = r.length, s = r[o - 1], l = a.length, u = 0; u < l; u++) { var c = a[u]; if (!(i && i.filter && c.query != null && !i.filter(e, c.query))) switch (o) { case 0: c.h.call(s); break; case 1: c.h.call(s, r[0]); break; case 2: c.h.call(s, r[0], r[1]); break; default: c.h.apply(s, r.slice(1, o - 1)); break } } return i && i.afterTrigger && i.afterTrigger(e), this }, t }(); const wi = Due; var Cue = Math.log(2); function eT(t, e, r, n, a, i) { var o = n + "-" + a, s = t.length; if (i.hasOwnProperty(o)) return i[o]; if (e === 1) { var l = Math.round(Math.log((1 << s) - 1 & ~a) / Cue); return t[r][l] } for (var u = n | 1 << r, c = r + 1; n & 1 << c;)c++; for (var f = 0, h = 0, d = 0; h < s; h++) { var v = 1 << h; v & a || (f += (d % 2 ? -1 : 1) * t[r][h] * eT(t, e - 1, c, u, a | v, i), d++) } return i[o] = f, f } function dI(t, e) { var r = [[t[0], t[1], 1, 0, 0, 0, -e[0] * t[0], -e[0] * t[1]], [0, 0, 0, t[0], t[1], 1, -e[1] * t[0], -e[1] * t[1]], [t[2], t[3], 1, 0, 0, 0, -e[2] * t[2], -e[2] * t[3]], [0, 0, 0, t[2], t[3], 1, -e[3] * t[2], -e[3] * t[3]], [t[4], t[5], 1, 0, 0, 0, -e[4] * t[4], -e[4] * t[5]], [0, 0, 0, t[4], t[5], 1, -e[5] * t[4], -e[5] * t[5]], [t[6], t[7], 1, 0, 0, 0, -e[6] * t[6], -e[6] * t[7]], [0, 0, 0, t[6], t[7], 1, -e[7] * t[6], -e[7] * t[7]]], n = {}, a = eT(r, 8, 0, 0, 0, n); if (a !== 0) { for (var i = [], o = 0; o < 8; o++)for (var s = 0; s < 8; s++)i[s] == null && (i[s] = 0), i[s] += ((o + s) % 2 ? -1 : 1) * eT(r, 7, o === 0 ? 1 : 0, 1 << o, 1 << s, n) / a * e[o]; return function (l, u, c) { var f = u * i[6] + c * i[7] + 1; l[0] = (u * i[0] + c * i[1] + i[2]) / f, l[1] = (u * i[3] + c * i[4] + i[5]) / f } } } var vI = "___zrEVENTSAVED", Lb = []; function Mue(t, e, r, n, a) { return tT(Lb, e, n, a, !0) && tT(t, r, Lb[0], Lb[1]) } function tT(t, e, r, n, a) { if (e.getBoundingClientRect && Ut.domSupported && !I4(e)) { var i = e[vI] || (e[vI] = {}), o = kue(e, i), s = Aue(o, i, a); if (s) return s(t, r, n), !0 } return !1 } function kue(t, e) { var r = e.markers; if (r) return r; r = e.markers = []; for (var n = ["left", "right"], a = ["top", "bottom"], i = 0; i < 4; i++) { var o = document.createElement("div"), s = o.style, l = i % 2, u = (i >> 1) % 2; s.cssText = ["position: absolute", "visibility: hidden", "padding: 0", "margin: 0", "border-width: 0", "user-select: none", "width:0", "height:0", n[l] + ":0", a[u] + ":0", n[1 - l] + ":auto", a[1 - u] + ":auto", ""].join("!important;"), t.appendChild(o), r.push(o) } return r } function Aue(t, e, r) { for (var n = r ? "invTrans" : "trans", a = e[n], i = e.srcCoords, o = [], s = [], l = !0, u = 0; u < 4; u++) { var c = t[u].getBoundingClientRect(), f = 2 * u, h = c.left, d = c.top; o.push(h, d), l = l && i && h === i[f] && d === i[f + 1], s.push(t[u].offsetLeft, t[u].offsetTop) } return l && a ? a : (e.srcCoords = o, e[n] = r ? dI(s, o) : dI(o, s)) } function I4(t) { return t.nodeName.toUpperCase() === "CANVAS" } var Lue = /([&<>"'])/g, Iue = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;" }; function Ca(t) { return t == null ? "" : (t + "").replace(Lue, function (e, r) { return Iue[r] }) } var Pue = /^(?:mouse|pointer|contextmenu|drag|drop)|click/, Ib = [], Rue = Ut.browser.firefox && +Ut.browser.version.split(".")[0] < 39; function rT(t, e, r, n) { return r = r || {}, n ? pI(t, e, r) : Rue && e.layerX != null && e.layerX !== e.offsetX ? (r.zrX = e.layerX, r.zrY = e.layerY) : e.offsetX != null ? (r.zrX = e.offsetX, r.zrY = e.offsetY) : pI(t, e, r), r } function pI(t, e, r) { if (Ut.domSupported && t.getBoundingClientRect) { var n = e.clientX, a = e.clientY; if (I4(t)) { var i = t.getBoundingClientRect(); r.zrX = n - i.left, r.zrY = a - i.top; return } else if (tT(Ib, t, n, a)) { r.zrX = Ib[0], r.zrY = Ib[1]; return } } r.zrX = r.zrY = 0 } function XD(t) { return t || window.event } function ti(t, e, r) { if (e = XD(e), e.zrX != null) return e; var n = e.type, a = n && n.indexOf("touch") >= 0; if (a) { var o = n !== "touchend" ? e.targetTouches[0] : e.changedTouches[0]; o && rT(t, o, e, r) } else { rT(t, e, e, r); var i = Oue(e); e.zrDelta = i ? i / 120 : -(e.detail || 0) / 3 } var s = e.button; return e.which == null && s !== void 0 && Pue.test(e.type) && (e.which = s & 1 ? 1 : s & 2 ? 3 : s & 4 ? 2 : 0), e } function Oue(t) { var e = t.wheelDelta; if (e) return e; var r = t.deltaX, n = t.deltaY; if (r == null || n == null) return e; var a = Math.abs(n !== 0 ? n : r), i = n > 0 ? -1 : n < 0 ? 1 : r > 0 ? -1 : 1; return 3 * a * i } function nT(t, e, r, n) { t.addEventListener(e, r, n) } function Eue(t, e, r, n) { t.removeEventListener(e, r, n) } var Ls = function (t) { t.preventDefault(), t.stopPropagation(), t.cancelBubble = !0 }; function gI(t) { return t.which === 2 || t.which === 3 } var Nue = function () { function t() { this._track = [] } return t.prototype.recognize = function (e, r, n) { return this._doTrack(e, r, n), this._recognize(e) }, t.prototype.clear = function () { return this._track.length = 0, this }, t.prototype._doTrack = function (e, r, n) { var a = e.touches; if (a) { for (var i = { points: [], touches: [], target: r, event: e }, o = 0, s = a.length; o < s; o++) { var l = a[o], u = rT(n, l, {}); i.points.push([u.zrX, u.zrY]), i.touches.push(l) } this._track.push(i) } }, t.prototype._recognize = function (e) { for (var r in Pb) if (Pb.hasOwnProperty(r)) { var n = Pb[r](this._track, e); if (n) return n } }, t }(); function mI(t) { var e = t[1][0] - t[0][0], r = t[1][1] - t[0][1]; return Math.sqrt(e * e + r * r) } function $ue(t) { return [(t[0][0] + t[1][0]) / 2, (t[0][1] + t[1][1]) / 2] } var Pb = { pinch: function (t, e) { var r = t.length; if (r) { var n = (t[r - 1] || {}).points, a = (t[r - 2] || {}).points || n; if (a && a.length > 1 && n && n.length > 1) { var i = mI(n) / mI(a); !isFinite(i) && (i = 1), e.pinchScale = i; var o = $ue(n); return e.pinchX = o[0], e.pinchY = o[1], { type: "pinch", target: t[0].target, event: e } } } } }; function yi() { return [1, 0, 0, 1, 0, 0] } function Y_(t) { return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 1, t[4] = 0, t[5] = 0, t } function KD(t, e) { return t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], t[4] = e[4], t[5] = e[5], t } function xs(t, e, r) { var n = e[0] * r[0] + e[2] * r[1], a = e[1] * r[0] + e[3] * r[1], i = e[0] * r[2] + e[2] * r[3], o = e[1] * r[2] + e[3] * r[3], s = e[0] * r[4] + e[2] * r[5] + e[4], l = e[1] * r[4] + e[3] * r[5] + e[5]; return t[0] = n, t[1] = a, t[2] = i, t[3] = o, t[4] = s, t[5] = l, t } function Ro(t, e, r) { return t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], t[4] = e[4] + r[0], t[5] = e[5] + r[1], t } function Zc(t, e, r) { var n = e[0], a = e[2], i = e[4], o = e[1], s = e[3], l = e[5], u = Math.sin(r), c = Math.cos(r); return t[0] = n * c + o * u, t[1] = -n * u + o * c, t[2] = a * c + s * u, t[3] = -a * u + c * s, t[4] = c * i + u * l, t[5] = c * l - u * i, t } function QD(t, e, r) { var n = r[0], a = r[1]; return t[0] = e[0] * n, t[1] = e[1] * a, t[2] = e[2] * n, t[3] = e[3] * a, t[4] = e[4] * n, t[5] = e[5] * a, t } function zh(t, e) { var r = e[0], n = e[2], a = e[4], i = e[1], o = e[3], s = e[5], l = r * o - i * n; return l ? (l = 1 / l, t[0] = o * l, t[1] = -i * l, t[2] = -n * l, t[3] = r * l, t[4] = (n * s - o * a) * l, t[5] = (i * a - r * s) * l, t) : null } function Fue(t) { var e = yi(); return KD(e, t), e } var Bue = function () { function t(e, r) { this.x = e || 0, this.y = r || 0 } return t.prototype.copy = function (e) { return this.x = e.x, this.y = e.y, this }, t.prototype.clone = function () { return new t(this.x, this.y) }, t.prototype.set = function (e, r) { return this.x = e, this.y = r, this }, t.prototype.equal = function (e) { return e.x === this.x && e.y === this.y }, t.prototype.add = function (e) { return this.x += e.x, this.y += e.y, this }, t.prototype.scale = function (e) { this.x *= e, this.y *= e }, t.prototype.scaleAndAdd = function (e, r) { this.x += e.x * r, this.y += e.y * r }, t.prototype.sub = function (e) { return this.x -= e.x, this.y -= e.y, this }, t.prototype.dot = function (e) { return this.x * e.x + this.y * e.y }, t.prototype.len = function () { return Math.sqrt(this.x * this.x + this.y * this.y) }, t.prototype.lenSquare = function () { return this.x * this.x + this.y * this.y }, t.prototype.normalize = function () { var e = this.len(); return this.x /= e, this.y /= e, this }, t.prototype.distance = function (e) { var r = this.x - e.x, n = this.y - e.y; return Math.sqrt(r * r + n * n) }, t.prototype.distanceSquare = function (e) { var r = this.x - e.x, n = this.y - e.y; return r * r + n * n }, t.prototype.negate = function () { return this.x = -this.x, this.y = -this.y, this }, t.prototype.transform = function (e) { if (e) { var r = this.x, n = this.y; return this.x = e[0] * r + e[2] * n + e[4], this.y = e[1] * r + e[3] * n + e[5], this } }, t.prototype.toArray = function (e) { return e[0] = this.x, e[1] = this.y, e }, t.prototype.fromArray = function (e) { this.x = e[0], this.y = e[1] }, t.set = function (e, r, n) { e.x = r, e.y = n }, t.copy = function (e, r) { e.x = r.x, e.y = r.y }, t.len = function (e) { return Math.sqrt(e.x * e.x + e.y * e.y) }, t.lenSquare = function (e) { return e.x * e.x + e.y * e.y }, t.dot = function (e, r) { return e.x * r.x + e.y * r.y }, t.add = function (e, r, n) { e.x = r.x + n.x, e.y = r.y + n.y }, t.sub = function (e, r, n) { e.x = r.x - n.x, e.y = r.y - n.y }, t.scale = function (e, r, n) { e.x = r.x * n, e.y = r.y * n }, t.scaleAndAdd = function (e, r, n, a) { e.x = r.x + n.x * a, e.y = r.y + n.y * a }, t.lerp = function (e, r, n, a) { var i = 1 - a; e.x = i * r.x + a * n.x, e.y = i * r.y + a * n.y }, t }(); const gt = Bue; var Zg = Math.min, qg = Math.max, yu = new gt, _u = new gt, bu = new gt, wu = new gt, bd = new gt, wd = new gt, Vue = function () { function t(e, r, n, a) { n < 0 && (e = e + n, n = -n), a < 0 && (r = r + a, a = -a), this.x = e, this.y = r, this.width = n, this.height = a } return t.prototype.union = function (e) { var r = Zg(e.x, this.x), n = Zg(e.y, this.y); isFinite(this.x) && isFinite(this.width) ? this.width = qg(e.x + e.width, this.x + this.width) - r : this.width = e.width, isFinite(this.y) && isFinite(this.height) ? this.height = qg(e.y + e.height, this.y + this.height) - n : this.height = e.height, this.x = r, this.y = n }, t.prototype.applyTransform = function (e) { t.applyTransform(this, this, e) }, t.prototype.calculateTransform = function (e) { var r = this, n = e.width / r.width, a = e.height / r.height, i = yi(); return Ro(i, i, [-r.x, -r.y]), QD(i, i, [n, a]), Ro(i, i, [e.x, e.y]), i }, t.prototype.intersect = function (e, r) { if (!e) return !1; e instanceof t || (e = t.create(e)); var n = this, a = n.x, i = n.x + n.width, o = n.y, s = n.y + n.height, l = e.x, u = e.x + e.width, c = e.y, f = e.y + e.height, h = !(i < l || u < a || s < c || f < o); if (r) { var d = 1 / 0, v = 0, p = Math.abs(i - l), g = Math.abs(u - a), m = Math.abs(s - c), y = Math.abs(f - o), _ = Math.min(p, g), b = Math.min(m, y); i < l || u < a ? _ > v && (v = _, p < g ? gt.set(wd, -p, 0) : gt.set(wd, g, 0)) : _ < d && (d = _, p < g ? gt.set(bd, p, 0) : gt.set(bd, -g, 0)), s < c || f < o ? b > v && (v = b, m < y ? gt.set(wd, 0, -m) : gt.set(wd, 0, y)) : _ < d && (d = _, m < y ? gt.set(bd, 0, m) : gt.set(bd, 0, -y)) } return r && gt.copy(r, h ? bd : wd), h }, t.prototype.contain = function (e, r) { var n = this; return e >= n.x && e <= n.x + n.width && r >= n.y && r <= n.y + n.height }, t.prototype.clone = function () { return new t(this.x, this.y, this.width, this.height) }, t.prototype.copy = function (e) { t.copy(this, e) }, t.prototype.plain = function () { return { x: this.x, y: this.y, width: this.width, height: this.height } }, t.prototype.isFinite = function () { return isFinite(this.x) && isFinite(this.y) && isFinite(this.width) && isFinite(this.height) }, t.prototype.isZero = function () { return this.width === 0 || this.height === 0 }, t.create = function (e) { return new t(e.x, e.y, e.width, e.height) }, t.copy = function (e, r) { e.x = r.x, e.y = r.y, e.width = r.width, e.height = r.height }, t.applyTransform = function (e, r, n) { if (!n) { e !== r && t.copy(e, r); return } if (n[1] < 1e-5 && n[1] > -1e-5 && n[2] < 1e-5 && n[2] > -1e-5) { var a = n[0], i = n[3], o = n[4], s = n[5]; e.x = r.x * a + o, e.y = r.y * i + s, e.width = r.width * a, e.height = r.height * i, e.width < 0 && (e.x += e.width, e.width = -e.width), e.height < 0 && (e.y += e.height, e.height = -e.height); return } yu.x = bu.x = r.x, yu.y = wu.y = r.y, _u.x = wu.x = r.x + r.width, _u.y = bu.y = r.y + r.height, yu.transform(n), wu.transform(n), _u.transform(n), bu.transform(n), e.x = Zg(yu.x, _u.x, bu.x, wu.x), e.y = Zg(yu.y, _u.y, bu.y, wu.y); var l = qg(yu.x, _u.x, bu.x, wu.x), u = qg(yu.y, _u.y, bu.y, wu.y); e.width = l - e.x, e.height = u - e.y }, t }(); const wt = Vue; var P4 = "silent"; function zue(t, e, r) { return { type: t, event: r, target: e.target, topTarget: e.topTarget, cancelBubble: !1, offsetX: r.zrX, offsetY: r.zrY, gestureEvent: r.gestureEvent, pinchX: r.pinchX, pinchY: r.pinchY, pinchScale: r.pinchScale, wheelDelta: r.zrDelta, zrByTouch: r.zrByTouch, which: r.which, stop: Hue } } function Hue() { Ls(this.event) } var Yue = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.handler = null, r } return e.prototype.dispose = function () { }, e.prototype.setCursor = function () { }, e }(wi), Sd = function () { function t(e, r) { this.x = e, this.y = r } return t }(), Uue = ["click", "dblclick", "mousewheel", "mouseout", "mouseup", "mousedown", "mousemove", "contextmenu"], Rb = new wt(0, 0, 0, 0), R4 = function (t) { ae(e, t); function e(r, n, a, i, o) { var s = t.call(this) || this; return s._hovered = new Sd(0, 0), s.storage = r, s.painter = n, s.painterRoot = i, s._pointerSize = o, a = a || new Yue, s.proxy = null, s.setHandlerProxy(a), s._draggingMgr = new Tue(s), s } return e.prototype.setHandlerProxy = function (r) { this.proxy && this.proxy.dispose(), r && (E(Uue, function (n) { r.on && r.on(n, this[n], this) }, this), r.handler = this), this.proxy = r }, e.prototype.mousemove = function (r) { var n = r.zrX, a = r.zrY, i = O4(this, n, a), o = this._hovered, s = o.target; s && !s.__zr && (o = this.findHover(o.x, o.y), s = o.target); var l = this._hovered = i ? new Sd(n, a) : this.findHover(n, a), u = l.target, c = this.proxy; c.setCursor && c.setCursor(u ? u.cursor : "default"), s && u !== s && this.dispatchToElement(o, "mouseout", r), this.dispatchToElement(l, "mousemove", r), u && u !== s && this.dispatchToElement(l, "mouseover", r) }, e.prototype.mouseout = function (r) { var n = r.zrEventControl; n !== "only_globalout" && this.dispatchToElement(this._hovered, "mouseout", r), n !== "no_globalout" && this.trigger("globalout", { type: "globalout", event: r }) }, e.prototype.resize = function () { this._hovered = new Sd(0, 0) }, e.prototype.dispatch = function (r, n) { var a = this[r]; a && a.call(this, n) }, e.prototype.dispose = function () { this.proxy.dispose(), this.storage = null, this.proxy = null, this.painter = null }, e.prototype.setCursorStyle = function (r) { var n = this.proxy; n.setCursor && n.setCursor(r) }, e.prototype.dispatchToElement = function (r, n, a) { r = r || {}; var i = r.target; if (!(i && i.silent)) { for (var o = "on" + n, s = zue(n, r, a); i && (i[o] && (s.cancelBubble = !!i[o].call(i, s)), i.trigger(n, s), i = i.__hostTarget ? i.__hostTarget : i.parent, !s.cancelBubble);); s.cancelBubble || (this.trigger(n, s), this.painter && this.painter.eachOtherLayer && this.painter.eachOtherLayer(function (l) { typeof l[o] == "function" && l[o].call(l, s), l.trigger && l.trigger(n, s) })) } }, e.prototype.findHover = function (r, n, a) { var i = this.storage.getDisplayList(), o = new Sd(r, n); if (yI(i, o, r, n, a), this._pointerSize && !o.target) { for (var s = [], l = this._pointerSize, u = l / 2, c = new wt(r - u, n - u, l, l), f = i.length - 1; f >= 0; f--) { var h = i[f]; h !== a && !h.ignore && !h.ignoreCoarsePointer && (!h.parent || !h.parent.ignoreCoarsePointer) && (Rb.copy(h.getBoundingRect()), h.transform && Rb.applyTransform(h.transform), Rb.intersect(c) && s.push(h)) } if (s.length) for (var d = 4, v = Math.PI / 12, p = Math.PI * 2, g = 0; g < u; g += d)for (var m = 0; m < p; m += v) { var y = r + g * Math.cos(m), _ = n + g * Math.sin(m); if (yI(s, o, y, _, a), o.target) return o } } return o }, e.prototype.processGesture = function (r, n) { this._gestureMgr || (this._gestureMgr = new Nue); var a = this._gestureMgr; n === "start" && a.clear(); var i = a.recognize(r, this.findHover(r.zrX, r.zrY, null).target, this.proxy.dom); if (n === "end" && a.clear(), i) { var o = i.type; r.gestureEvent = o; var s = new Sd; s.target = i.target, this.dispatchToElement(s, o, i.event) } }, e }(wi); E(["click", "mousedown", "mouseup", "mousewheel", "dblclick", "contextmenu"], function (t) { R4.prototype[t] = function (e) { var r = e.zrX, n = e.zrY, a = O4(this, r, n), i, o; if ((t !== "mouseup" || !a) && (i = this.findHover(r, n), o = i.target), t === "mousedown") this._downEl = o, this._downPoint = [e.zrX, e.zrY], this._upEl = o; else if (t === "mouseup") this._upEl = o; else if (t === "click") { if (this._downEl !== this._upEl || !this._downPoint || Sl(this._downPoint, [e.zrX, e.zrY]) > 4) return; this._downPoint = null } this.dispatchToElement(i, t, e) } }); function Wue(t, e, r) { if (t[t.rectHover ? "rectContain" : "contain"](e, r)) { for (var n = t, a = void 0, i = !1; n;) { if (n.ignoreClip && (i = !0), !i) { var o = n.getClipPath(); if (o && !o.contain(e, r)) return !1; n.silent && (a = !0) } var s = n.__hostTarget; n = s || n.parent } return a ? P4 : !0 } return !1 } function yI(t, e, r, n, a) { for (var i = t.length - 1; i >= 0; i--) { var o = t[i], s = void 0; if (o !== a && !o.ignore && (s = Wue(o, r, n)) && (!e.topTarget && (e.topTarget = o), s !== P4)) { e.target = o; break } } } function O4(t, e, r) { var n = t.painter; return e < 0 || e > n.getWidth() || r < 0 || r > n.getHeight() } const Gue = R4; var E4 = 32, xd = 7; function jue(t) { for (var e = 0; t >= E4;)e |= t & 1, t >>= 1; return t + e } function _I(t, e, r, n) { var a = e + 1; if (a === r) return 1; if (n(t[a++], t[e]) < 0) { for (; a < r && n(t[a], t[a - 1]) < 0;)a++; Zue(t, e, a) } else for (; a < r && n(t[a], t[a - 1]) >= 0;)a++; return a - e } function Zue(t, e, r) { for (r--; e < r;) { var n = t[e]; t[e++] = t[r], t[r--] = n } } function bI(t, e, r, n, a) { for (n === e && n++; n < r; n++) { for (var i = t[n], o = e, s = n, l; o < s;)l = o + s >>> 1, a(i, t[l]) < 0 ? s = l : o = l + 1; var u = n - o; switch (u) { case 3: t[o + 3] = t[o + 2]; case 2: t[o + 2] = t[o + 1]; case 1: t[o + 1] = t[o]; break; default: for (; u > 0;)t[o + u] = t[o + u - 1], u-- }t[o] = i } } function Ob(t, e, r, n, a, i) { var o = 0, s = 0, l = 1; if (i(t, e[r + a]) > 0) { for (s = n - a; l < s && i(t, e[r + a + l]) > 0;)o = l, l = (l << 1) + 1, l <= 0 && (l = s); l > s && (l = s), o += a, l += a } else { for (s = a + 1; l < s && i(t, e[r + a - l]) <= 0;)o = l, l = (l << 1) + 1, l <= 0 && (l = s); l > s && (l = s); var u = o; o = a - l, l = a - u } for (o++; o < l;) { var c = o + (l - o >>> 1); i(t, e[r + c]) > 0 ? o = c + 1 : l = c } return l } function Eb(t, e, r, n, a, i) { var o = 0, s = 0, l = 1; if (i(t, e[r + a]) < 0) { for (s = a + 1; l < s && i(t, e[r + a - l]) < 0;)o = l, l = (l << 1) + 1, l <= 0 && (l = s); l > s && (l = s); var u = o; o = a - l, l = a - u } else { for (s = n - a; l < s && i(t, e[r + a + l]) >= 0;)o = l, l = (l << 1) + 1, l <= 0 && (l = s); l > s && (l = s), o += a, l += a } for (o++; o < l;) { var c = o + (l - o >>> 1); i(t, e[r + c]) < 0 ? l = c : o = c + 1 } return l } function que(t, e) { var r = xd, n, a, i = 0; t.length; var o = []; n = [], a = []; function s(d, v) { n[i] = d, a[i] = v, i += 1 } function l() { for (; i > 1;) { var d = i - 2; if (d >= 1 && a[d - 1] <= a[d] + a[d + 1] || d >= 2 && a[d - 2] <= a[d] + a[d - 1]) a[d - 1] < a[d + 1] && d--; else if (a[d] > a[d + 1]) break; c(d) } } function u() { for (; i > 1;) { var d = i - 2; d > 0 && a[d - 1] < a[d + 1] && d--, c(d) } } function c(d) { var v = n[d], p = a[d], g = n[d + 1], m = a[d + 1]; a[d] = p + m, d === i - 3 && (n[d + 1] = n[d + 2], a[d + 1] = a[d + 2]), i--; var y = Eb(t[g], t, v, p, 0, e); v += y, p -= y, p !== 0 && (m = Ob(t[v + p - 1], t, g, m, m - 1, e), m !== 0 && (p <= m ? f(v, p, g, m) : h(v, p, g, m))) } function f(d, v, p, g) { var m = 0; for (m = 0; m < v; m++)o[m] = t[d + m]; var y = 0, _ = p, b = d; if (t[b++] = t[_++], --g === 0) { for (m = 0; m < v; m++)t[b + m] = o[y + m]; return } if (v === 1) { for (m = 0; m < g; m++)t[b + m] = t[_ + m]; t[b + g] = o[y]; return } for (var x = r, S, T, C; ;) { S = 0, T = 0, C = !1; do if (e(t[_], o[y]) < 0) { if (t[b++] = t[_++], T++, S = 0, --g === 0) { C = !0; break } } else if (t[b++] = o[y++], S++, T = 0, --v === 1) { C = !0; break } while ((S | T) < x); if (C) break; do { if (S = Eb(t[_], o, y, v, 0, e), S !== 0) { for (m = 0; m < S; m++)t[b + m] = o[y + m]; if (b += S, y += S, v -= S, v <= 1) { C = !0; break } } if (t[b++] = t[_++], --g === 0) { C = !0; break } if (T = Ob(o[y], t, _, g, 0, e), T !== 0) { for (m = 0; m < T; m++)t[b + m] = t[_ + m]; if (b += T, _ += T, g -= T, g === 0) { C = !0; break } } if (t[b++] = o[y++], --v === 1) { C = !0; break } x-- } while (S >= xd || T >= xd); if (C) break; x < 0 && (x = 0), x += 2 } if (r = x, r < 1 && (r = 1), v === 1) { for (m = 0; m < g; m++)t[b + m] = t[_ + m]; t[b + g] = o[y] } else { if (v === 0) throw new Error; for (m = 0; m < v; m++)t[b + m] = o[y + m] } } function h(d, v, p, g) { var m = 0; for (m = 0; m < g; m++)o[m] = t[p + m]; var y = d + v - 1, _ = g - 1, b = p + g - 1, x = 0, S = 0; if (t[b--] = t[y--], --v === 0) { for (x = b - (g - 1), m = 0; m < g; m++)t[x + m] = o[m]; return } if (g === 1) { for (b -= v, y -= v, S = b + 1, x = y + 1, m = v - 1; m >= 0; m--)t[S + m] = t[x + m]; t[b] = o[_]; return } for (var T = r; ;) { var C = 0, M = 0, k = !1; do if (e(o[_], t[y]) < 0) { if (t[b--] = t[y--], C++, M = 0, --v === 0) { k = !0; break } } else if (t[b--] = o[_--], M++, C = 0, --g === 1) { k = !0; break } while ((C | M) < T); if (k) break; do { if (C = v - Eb(o[_], t, d, v, v - 1, e), C !== 0) { for (b -= C, y -= C, v -= C, S = b + 1, x = y + 1, m = C - 1; m >= 0; m--)t[S + m] = t[x + m]; if (v === 0) { k = !0; break } } if (t[b--] = o[_--], --g === 1) { k = !0; break } if (M = g - Ob(t[y], o, 0, g, g - 1, e), M !== 0) { for (b -= M, _ -= M, g -= M, S = b + 1, x = _ + 1, m = 0; m < M; m++)t[S + m] = o[x + m]; if (g <= 1) { k = !0; break } } if (t[b--] = t[y--], --v === 0) { k = !0; break } T-- } while (C >= xd || M >= xd); if (k) break; T < 0 && (T = 0), T += 2 } if (r = T, r < 1 && (r = 1), g === 1) { for (b -= v, y -= v, S = b + 1, x = y + 1, m = v - 1; m >= 0; m--)t[S + m] = t[x + m]; t[b] = o[_] } else { if (g === 0) throw new Error; for (x = b - (g - 1), m = 0; m < g; m++)t[x + m] = o[m] } } return { mergeRuns: l, forceMergeRuns: u, pushRun: s } } function py(t, e, r, n) { r || (r = 0), n || (n = t.length); var a = n - r; if (!(a < 2)) { var i = 0; if (a < E4) { i = _I(t, r, n, e), bI(t, r, n, r + i, e); return } var o = que(t, e), s = jue(a); do { if (i = _I(t, r, n, e), i < s) { var l = a; l > s && (l = s), bI(t, r, r + l, r + i, e), i = l } o.pushRun(r, i), o.mergeRuns(), a -= i, r += i } while (a !== 0); o.forceMergeRuns() } } var Va = 1, rv = 2, Hf = 4, wI = !1; function Nb() { wI || (wI = !0, console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors")) } function SI(t, e) { return t.zlevel === e.zlevel ? t.z === e.z ? t.z2 - e.z2 : t.z - e.z : t.zlevel - e.zlevel } var Xue = function () { function t() { this._roots = [], this._displayList = [], this._displayListLen = 0, this.displayableSortFunc = SI } return t.prototype.traverse = function (e, r) { for (var n = 0; n < this._roots.length; n++)this._roots[n].traverse(e, r) }, t.prototype.getDisplayList = function (e, r) { r = r || !1; var n = this._displayList; return (e || !n.length) && this.updateDisplayList(r), n }, t.prototype.updateDisplayList = function (e) { this._displayListLen = 0; for (var r = this._roots, n = this._displayList, a = 0, i = r.length; a < i; a++)this._updateAndAddDisplayable(r[a], null, e); n.length = this._displayListLen, py(n, SI) }, t.prototype._updateAndAddDisplayable = function (e, r, n) { if (!(e.ignore && !n)) { e.beforeUpdate(), e.update(), e.afterUpdate(); var a = e.getClipPath(); if (e.ignoreClip) r = null; else if (a) { r ? r = r.slice() : r = []; for (var i = a, o = e; i;)i.parent = o, i.updateTransform(), r.push(i), o = i, i = i.getClipPath() } if (e.childrenRef) { for (var s = e.childrenRef(), l = 0; l < s.length; l++) { var u = s[l]; e.__dirty && (u.__dirty |= Va), this._updateAndAddDisplayable(u, r, n) } e.__dirty = 0 } else { var c = e; r && r.length ? c.__clipPaths = r : c.__clipPaths && c.__clipPaths.length > 0 && (c.__clipPaths = []), isNaN(c.z) && (Nb(), c.z = 0), isNaN(c.z2) && (Nb(), c.z2 = 0), isNaN(c.zlevel) && (Nb(), c.zlevel = 0), this._displayList[this._displayListLen++] = c } var f = e.getDecalElement && e.getDecalElement(); f && this._updateAndAddDisplayable(f, r, n); var h = e.getTextGuideLine(); h && this._updateAndAddDisplayable(h, r, n); var d = e.getTextContent(); d && this._updateAndAddDisplayable(d, r, n) } }, t.prototype.addRoot = function (e) { e.__zr && e.__zr.storage === this || this._roots.push(e) }, t.prototype.delRoot = function (e) { if (e instanceof Array) { for (var r = 0, n = e.length; r < n; r++)this.delRoot(e[r]); return } var a = Ct(this._roots, e); a >= 0 && this._roots.splice(a, 1) }, t.prototype.delAllRoots = function () { this._roots = [], this._displayList = [], this._displayListLen = 0 }, t.prototype.getRoots = function () { return this._roots }, t.prototype.dispose = function () { this._displayList = null, this._roots = null }, t }(); const Kue = Xue; var N4; N4 = Ut.hasGlobalWindow && (window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window) || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame) || function (t) { return setTimeout(t, 16) }; const aT = N4; var gy = { linear: function (t) { return t }, quadraticIn: function (t) { return t * t }, quadraticOut: function (t) { return t * (2 - t) }, quadraticInOut: function (t) { return (t *= 2) < 1 ? .5 * t * t : -.5 * (--t * (t - 2) - 1) }, cubicIn: function (t) { return t * t * t }, cubicOut: function (t) { return --t * t * t + 1 }, cubicInOut: function (t) { return (t *= 2) < 1 ? .5 * t * t * t : .5 * ((t -= 2) * t * t + 2) }, quarticIn: function (t) { return t * t * t * t }, quarticOut: function (t) { return 1 - --t * t * t * t }, quarticInOut: function (t) { return (t *= 2) < 1 ? .5 * t * t * t * t : -.5 * ((t -= 2) * t * t * t - 2) }, quinticIn: function (t) { return t * t * t * t * t }, quinticOut: function (t) { return --t * t * t * t * t + 1 }, quinticInOut: function (t) { return (t *= 2) < 1 ? .5 * t * t * t * t * t : .5 * ((t -= 2) * t * t * t * t + 2) }, sinusoidalIn: function (t) { return 1 - Math.cos(t * Math.PI / 2) }, sinusoidalOut: function (t) { return Math.sin(t * Math.PI / 2) }, sinusoidalInOut: function (t) { return .5 * (1 - Math.cos(Math.PI * t)) }, exponentialIn: function (t) { return t === 0 ? 0 : Math.pow(1024, t - 1) }, exponentialOut: function (t) { return t === 1 ? 1 : 1 - Math.pow(2, -10 * t) }, exponentialInOut: function (t) { return t === 0 ? 0 : t === 1 ? 1 : (t *= 2) < 1 ? .5 * Math.pow(1024, t - 1) : .5 * (-Math.pow(2, -10 * (t - 1)) + 2) }, circularIn: function (t) { return 1 - Math.sqrt(1 - t * t) }, circularOut: function (t) { return Math.sqrt(1 - --t * t) }, circularInOut: function (t) { return (t *= 2) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1) }, elasticIn: function (t) { var e, r = .1, n = .4; return t === 0 ? 0 : t === 1 ? 1 : (!r || r < 1 ? (r = 1, e = n / 4) : e = n * Math.asin(1 / r) / (2 * Math.PI), -(r * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / n))) }, elasticOut: function (t) { var e, r = .1, n = .4; return t === 0 ? 0 : t === 1 ? 1 : (!r || r < 1 ? (r = 1, e = n / 4) : e = n * Math.asin(1 / r) / (2 * Math.PI), r * Math.pow(2, -10 * t) * Math.sin((t - e) * (2 * Math.PI) / n) + 1) }, elasticInOut: function (t) { var e, r = .1, n = .4; return t === 0 ? 0 : t === 1 ? 1 : (!r || r < 1 ? (r = 1, e = n / 4) : e = n * Math.asin(1 / r) / (2 * Math.PI), (t *= 2) < 1 ? -.5 * (r * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / n)) : r * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / n) * .5 + 1) }, backIn: function (t) { var e = 1.70158; return t * t * ((e + 1) * t - e) }, backOut: function (t) { var e = 1.70158; return --t * t * ((e + 1) * t + e) + 1 }, backInOut: function (t) { var e = 2.5949095; return (t *= 2) < 1 ? .5 * (t * t * ((e + 1) * t - e)) : .5 * ((t -= 2) * t * ((e + 1) * t + e) + 2) }, bounceIn: function (t) { return 1 - gy.bounceOut(1 - t) }, bounceOut: function (t) { return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375 }, bounceInOut: function (t) { return t < .5 ? gy.bounceIn(t * 2) * .5 : gy.bounceOut(t * 2 - 1) * .5 + .5 } }; const $4 = gy; var Xg = Math.pow, El = Math.sqrt, Qy = 1e-8, F4 = 1e-4, xI = El(3), Kg = 1 / 3, po = jc(), si = jc(), lh = jc(); function Dl(t) { return t > -Qy && t < Qy } function B4(t) { return t > Qy || t < -Qy } function Tn(t, e, r, n, a) { var i = 1 - a; return i * i * (i * t + 3 * a * e) + a * a * (a * n + 3 * i * r) } function TI(t, e, r, n, a) { var i = 1 - a; return 3 * (((e - t) * i + 2 * (r - e) * a) * i + (n - r) * a * a) } function Jy(t, e, r, n, a, i) { var o = n + 3 * (e - r) - t, s = 3 * (r - e * 2 + t), l = 3 * (e - t), u = t - a, c = s * s - 3 * o * l, f = s * l - 9 * o * u, h = l * l - 3 * s * u, d = 0; if (Dl(c) && Dl(f)) if (Dl(s)) i[0] = 0; else { var v = -l / s; v >= 0 && v <= 1 && (i[d++] = v) } else { var p = f * f - 4 * c * h; if (Dl(p)) { var g = f / c, v = -s / o + g, m = -g / 2; v >= 0 && v <= 1 && (i[d++] = v), m >= 0 && m <= 1 && (i[d++] = m) } else if (p > 0) { var y = El(p), _ = c * s + 1.5 * o * (-f + y), b = c * s + 1.5 * o * (-f - y); _ < 0 ? _ = -Xg(-_, Kg) : _ = Xg(_, Kg), b < 0 ? b = -Xg(-b, Kg) : b = Xg(b, Kg); var v = (-s - (_ + b)) / (3 * o); v >= 0 && v <= 1 && (i[d++] = v) } else { var x = (2 * c * s - 3 * o * f) / (2 * El(c * c * c)), S = Math.acos(x) / 3, T = El(c), C = Math.cos(S), v = (-s - 2 * T * C) / (3 * o), m = (-s + T * (C + xI * Math.sin(S))) / (3 * o), M = (-s + T * (C - xI * Math.sin(S))) / (3 * o); v >= 0 && v <= 1 && (i[d++] = v), m >= 0 && m <= 1 && (i[d++] = m), M >= 0 && M <= 1 && (i[d++] = M) } } return d } function V4(t, e, r, n, a) { var i = 6 * r - 12 * e + 6 * t, o = 9 * e + 3 * n - 3 * t - 9 * r, s = 3 * e - 3 * t, l = 0; if (Dl(o)) { if (B4(i)) { var u = -s / i; u >= 0 && u <= 1 && (a[l++] = u) } } else { var c = i * i - 4 * o * s; if (Dl(c)) a[0] = -i / (2 * o); else if (c > 0) { var f = El(c), u = (-i + f) / (2 * o), h = (-i - f) / (2 * o); u >= 0 && u <= 1 && (a[l++] = u), h >= 0 && h <= 1 && (a[l++] = h) } } return l } function Xl(t, e, r, n, a, i) { var o = (e - t) * a + t, s = (r - e) * a + e, l = (n - r) * a + r, u = (s - o) * a + o, c = (l - s) * a + s, f = (c - u) * a + u; i[0] = t, i[1] = o, i[2] = u, i[3] = f, i[4] = f, i[5] = c, i[6] = l, i[7] = n } function z4(t, e, r, n, a, i, o, s, l, u, c) { var f, h = .005, d = 1 / 0, v, p, g, m; po[0] = l, po[1] = u; for (var y = 0; y < 1; y += .05)si[0] = Tn(t, r, a, o, y), si[1] = Tn(e, n, i, s, y), g = wc(po, si), g < d && (f = y, d = g); d = 1 / 0; for (var _ = 0; _ < 32 && !(h < F4); _++)v = f - h, p = f + h, si[0] = Tn(t, r, a, o, v), si[1] = Tn(e, n, i, s, v), g = wc(si, po), v >= 0 && g < d ? (f = v, d = g) : (lh[0] = Tn(t, r, a, o, p), lh[1] = Tn(e, n, i, s, p), m = wc(lh, po), p <= 1 && m < d ? (f = p, d = m) : h *= .5); return c && (c[0] = Tn(t, r, a, o, f), c[1] = Tn(e, n, i, s, f)), El(d) } function Que(t, e, r, n, a, i, o, s, l) { for (var u = t, c = e, f = 0, h = 1 / l, d = 1; d <= l; d++) { var v = d * h, p = Tn(t, r, a, o, v), g = Tn(e, n, i, s, v), m = p - u, y = g - c; f += Math.sqrt(m * m + y * y), u = p, c = g } return f } function On(t, e, r, n) { var a = 1 - n; return a * (a * t + 2 * n * e) + n * n * r } function iT(t, e, r, n) { return 2 * ((1 - n) * (e - t) + n * (r - e)) } function Jue(t, e, r, n, a) { var i = t - 2 * e + r, o = 2 * (e - t), s = t - n, l = 0; if (Dl(i)) { if (B4(o)) { var u = -s / o; u >= 0 && u <= 1 && (a[l++] = u) } } else { var c = o * o - 4 * i * s; if (Dl(c)) { var u = -o / (2 * i); u >= 0 && u <= 1 && (a[l++] = u) } else if (c > 0) { var f = El(c), u = (-o + f) / (2 * i), h = (-o - f) / (2 * i); u >= 0 && u <= 1 && (a[l++] = u), h >= 0 && h <= 1 && (a[l++] = h) } } return l } function H4(t, e, r) { var n = t + r - 2 * e; return n === 0 ? .5 : (t - e) / n } function op(t, e, r, n, a) { var i = (e - t) * n + t, o = (r - e) * n + e, s = (o - i) * n + i; a[0] = t, a[1] = i, a[2] = s, a[3] = s, a[4] = o, a[5] = r } function Y4(t, e, r, n, a, i, o, s, l) { var u, c = .005, f = 1 / 0; po[0] = o, po[1] = s; for (var h = 0; h < 1; h += .05) { si[0] = On(t, r, a, h), si[1] = On(e, n, i, h); var d = wc(po, si); d < f && (u = h, f = d) } f = 1 / 0; for (var v = 0; v < 32 && !(c < F4); v++) { var p = u - c, g = u + c; si[0] = On(t, r, a, p), si[1] = On(e, n, i, p); var d = wc(si, po); if (p >= 0 && d < f) u = p, f = d; else { lh[0] = On(t, r, a, g), lh[1] = On(e, n, i, g); var m = wc(lh, po); g <= 1 && m < f ? (u = g, f = m) : c *= .5 } } return l && (l[0] = On(t, r, a, u), l[1] = On(e, n, i, u)), El(f) } function ece(t, e, r, n, a, i, o) { for (var s = t, l = e, u = 0, c = 1 / o, f = 1; f <= o; f++) { var h = f * c, d = On(t, r, a, h), v = On(e, n, i, h), p = d - s, g = v - l; u += Math.sqrt(p * p + g * g), s = d, l = v } return u } var tce = /cubic-bezier\(([0-9,\.e ]+)\)/; function JD(t) { var e = t && tce.exec(t); if (e) { var r = e[1].split(","), n = +Fi(r[0]), a = +Fi(r[1]), i = +Fi(r[2]), o = +Fi(r[3]); if (isNaN(n + a + i + o)) return; var s = []; return function (l) { return l <= 0 ? 0 : l >= 1 ? 1 : Jy(0, n, i, 1, l, s) && Tn(0, a, o, 1, s[0]) } } } var rce = function () { function t(e) { this._inited = !1, this._startTime = 0, this._pausedTime = 0, this._paused = !1, this._life = e.life || 1e3, this._delay = e.delay || 0, this.loop = e.loop || !1, this.onframe = e.onframe || nn, this.ondestroy = e.ondestroy || nn, this.onrestart = e.onrestart || nn, e.easing && this.setEasing(e.easing) } return t.prototype.step = function (e, r) { if (this._inited || (this._startTime = e + this._delay, this._inited = !0), this._paused) { this._pausedTime += r; return } var n = this._life, a = e - this._startTime - this._pausedTime, i = a / n; i < 0 && (i = 0), i = Math.min(i, 1); var o = this.easingFunc, s = o ? o(i) : i; if (this.onframe(s), i === 1) if (this.loop) { var l = a % n; this._startTime = e - l, this._pausedTime = 0, this.onrestart() } else return !0; return !1 }, t.prototype.pause = function () { this._paused = !0 }, t.prototype.resume = function () { this._paused = !1 }, t.prototype.setEasing = function (e) { this.easing = e, this.easingFunc = je(e) ? e : $4[e] || JD(e) }, t }(); const nce = rce; var U4 = function () { function t(e) { this.value = e } return t }(), ace = function () { function t() { this._len = 0 } return t.prototype.insert = function (e) { var r = new U4(e); return this.insertEntry(r), r }, t.prototype.insertEntry = function (e) { this.head ? (this.tail.next = e, e.prev = this.tail, e.next = null, this.tail = e) : this.head = this.tail = e, this._len++ }, t.prototype.remove = function (e) { var r = e.prev, n = e.next; r ? r.next = n : this.head = n, n ? n.prev = r : this.tail = r, e.next = e.prev = null, this._len-- }, t.prototype.len = function () { return this._len }, t.prototype.clear = function () { this.head = this.tail = null, this._len = 0 }, t }(), ice = function () { function t(e) { this._list = new ace, this._maxSize = 10, this._map = {}, this._maxSize = e } return t.prototype.put = function (e, r) { var n = this._list, a = this._map, i = null; if (a[e] == null) { var o = n.len(), s = this._lastRemovedEntry; if (o >= this._maxSize && o > 0) { var l = n.head; n.remove(l), delete a[l.key], i = l.value, this._lastRemovedEntry = l } s ? s.value = r : s = new U4(r), s.key = e, n.insertEntry(s), a[e] = s } return i }, t.prototype.get = function (e) { var r = this._map[e], n = this._list; if (r != null) return r !== n.tail && (n.remove(r), n.insertEntry(r)), r.value }, t.prototype.clear = function () { this._list.clear(), this._map = {} }, t.prototype.len = function () { return this._list.len() }, t }(); const Xp = ice; var DI = { transparent: [0, 0, 0, 0], aliceblue: [240, 248, 255, 1], antiquewhite: [250, 235, 215, 1], aqua: [0, 255, 255, 1], aquamarine: [127, 255, 212, 1], azure: [240, 255, 255, 1], beige: [245, 245, 220, 1], bisque: [255, 228, 196, 1], black: [0, 0, 0, 1], blanchedalmond: [255, 235, 205, 1], blue: [0, 0, 255, 1], blueviolet: [138, 43, 226, 1], brown: [165, 42, 42, 1], burlywood: [222, 184, 135, 1], cadetblue: [95, 158, 160, 1], chartreuse: [127, 255, 0, 1], chocolate: [210, 105, 30, 1], coral: [255, 127, 80, 1], cornflowerblue: [100, 149, 237, 1], cornsilk: [255, 248, 220, 1], crimson: [220, 20, 60, 1], cyan: [0, 255, 255, 1], darkblue: [0, 0, 139, 1], darkcyan: [0, 139, 139, 1], darkgoldenrod: [184, 134, 11, 1], darkgray: [169, 169, 169, 1], darkgreen: [0, 100, 0, 1], darkgrey: [169, 169, 169, 1], darkkhaki: [189, 183, 107, 1], darkmagenta: [139, 0, 139, 1], darkolivegreen: [85, 107, 47, 1], darkorange: [255, 140, 0, 1], darkorchid: [153, 50, 204, 1], darkred: [139, 0, 0, 1], darksalmon: [233, 150, 122, 1], darkseagreen: [143, 188, 143, 1], darkslateblue: [72, 61, 139, 1], darkslategray: [47, 79, 79, 1], darkslategrey: [47, 79, 79, 1], darkturquoise: [0, 206, 209, 1], darkviolet: [148, 0, 211, 1], deeppink: [255, 20, 147, 1], deepskyblue: [0, 191, 255, 1], dimgray: [105, 105, 105, 1], dimgrey: [105, 105, 105, 1], dodgerblue: [30, 144, 255, 1], firebrick: [178, 34, 34, 1], floralwhite: [255, 250, 240, 1], forestgreen: [34, 139, 34, 1], fuchsia: [255, 0, 255, 1], gainsboro: [220, 220, 220, 1], ghostwhite: [248, 248, 255, 1], gold: [255, 215, 0, 1], goldenrod: [218, 165, 32, 1], gray: [128, 128, 128, 1], green: [0, 128, 0, 1], greenyellow: [173, 255, 47, 1], grey: [128, 128, 128, 1], honeydew: [240, 255, 240, 1], hotpink: [255, 105, 180, 1], indianred: [205, 92, 92, 1], indigo: [75, 0, 130, 1], ivory: [255, 255, 240, 1], khaki: [240, 230, 140, 1], lavender: [230, 230, 250, 1], lavenderblush: [255, 240, 245, 1], lawngreen: [124, 252, 0, 1], lemonchiffon: [255, 250, 205, 1], lightblue: [173, 216, 230, 1], lightcoral: [240, 128, 128, 1], lightcyan: [224, 255, 255, 1], lightgoldenrodyellow: [250, 250, 210, 1], lightgray: [211, 211, 211, 1], lightgreen: [144, 238, 144, 1], lightgrey: [211, 211, 211, 1], lightpink: [255, 182, 193, 1], lightsalmon: [255, 160, 122, 1], lightseagreen: [32, 178, 170, 1], lightskyblue: [135, 206, 250, 1], lightslategray: [119, 136, 153, 1], lightslategrey: [119, 136, 153, 1], lightsteelblue: [176, 196, 222, 1], lightyellow: [255, 255, 224, 1], lime: [0, 255, 0, 1], limegreen: [50, 205, 50, 1], linen: [250, 240, 230, 1], magenta: [255, 0, 255, 1], maroon: [128, 0, 0, 1], mediumaquamarine: [102, 205, 170, 1], mediumblue: [0, 0, 205, 1], mediumorchid: [186, 85, 211, 1], mediumpurple: [147, 112, 219, 1], mediumseagreen: [60, 179, 113, 1], mediumslateblue: [123, 104, 238, 1], mediumspringgreen: [0, 250, 154, 1], mediumturquoise: [72, 209, 204, 1], mediumvioletred: [199, 21, 133, 1], midnightblue: [25, 25, 112, 1], mintcream: [245, 255, 250, 1], mistyrose: [255, 228, 225, 1], moccasin: [255, 228, 181, 1], navajowhite: [255, 222, 173, 1], navy: [0, 0, 128, 1], oldlace: [253, 245, 230, 1], olive: [128, 128, 0, 1], olivedrab: [107, 142, 35, 1], orange: [255, 165, 0, 1], orangered: [255, 69, 0, 1], orchid: [218, 112, 214, 1], palegoldenrod: [238, 232, 170, 1], palegreen: [152, 251, 152, 1], paleturquoise: [175, 238, 238, 1], palevioletred: [219, 112, 147, 1], papayawhip: [255, 239, 213, 1], peachpuff: [255, 218, 185, 1], peru: [205, 133, 63, 1], pink: [255, 192, 203, 1], plum: [221, 160, 221, 1], powderblue: [176, 224, 230, 1], purple: [128, 0, 128, 1], red: [255, 0, 0, 1], rosybrown: [188, 143, 143, 1], royalblue: [65, 105, 225, 1], saddlebrown: [139, 69, 19, 1], salmon: [250, 128, 114, 1], sandybrown: [244, 164, 96, 1], seagreen: [46, 139, 87, 1], seashell: [255, 245, 238, 1], sienna: [160, 82, 45, 1], silver: [192, 192, 192, 1], skyblue: [135, 206, 235, 1], slateblue: [106, 90, 205, 1], slategray: [112, 128, 144, 1], slategrey: [112, 128, 144, 1], snow: [255, 250, 250, 1], springgreen: [0, 255, 127, 1], steelblue: [70, 130, 180, 1], tan: [210, 180, 140, 1], teal: [0, 128, 128, 1], thistle: [216, 191, 216, 1], tomato: [255, 99, 71, 1], turquoise: [64, 224, 208, 1], violet: [238, 130, 238, 1], wheat: [245, 222, 179, 1], white: [255, 255, 255, 1], whitesmoke: [245, 245, 245, 1], yellow: [255, 255, 0, 1], yellowgreen: [154, 205, 50, 1] }; function Hi(t) { return t = Math.round(t), t < 0 ? 0 : t > 255 ? 255 : t } function oce(t) { return t = Math.round(t), t < 0 ? 0 : t > 360 ? 360 : t } function sp(t) { return t < 0 ? 0 : t > 1 ? 1 : t } function $b(t) { var e = t; return e.length && e.charAt(e.length - 1) === "%" ? Hi(parseFloat(e) / 100 * 255) : Hi(parseInt(e, 10)) } function Sc(t) { var e = t; return e.length && e.charAt(e.length - 1) === "%" ? sp(parseFloat(e) / 100) : sp(parseFloat(e)) } function Fb(t, e, r) { return r < 0 ? r += 1 : r > 1 && (r -= 1), r * 6 < 1 ? t + (e - t) * r * 6 : r * 2 < 1 ? e : r * 3 < 2 ? t + (e - t) * (2 / 3 - r) * 6 : t } function Cl(t, e, r) { return t + (e - t) * r } function ei(t, e, r, n, a) { return t[0] = e, t[1] = r, t[2] = n, t[3] = a, t } function oT(t, e) { return t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], t } var W4 = new Xp(20), Qg = null; function mf(t, e) { Qg && oT(Qg, e), Qg = W4.put(t, Qg || e.slice()) } function Ya(t, e) { if (t) { e = e || []; var r = W4.get(t); if (r) return oT(e, r); t = t + ""; var n = t.replace(/ /g, "").toLowerCase(); if (n in DI) return oT(e, DI[n]), mf(t, e), e; var a = n.length; if (n.charAt(0) === "#") { if (a === 4 || a === 5) { var i = parseInt(n.slice(1, 4), 16); if (!(i >= 0 && i <= 4095)) { ei(e, 0, 0, 0, 1); return } return ei(e, (i & 3840) >> 4 | (i & 3840) >> 8, i & 240 | (i & 240) >> 4, i & 15 | (i & 15) << 4, a === 5 ? parseInt(n.slice(4), 16) / 15 : 1), mf(t, e), e } else if (a === 7 || a === 9) { var i = parseInt(n.slice(1, 7), 16); if (!(i >= 0 && i <= 16777215)) { ei(e, 0, 0, 0, 1); return } return ei(e, (i & 16711680) >> 16, (i & 65280) >> 8, i & 255, a === 9 ? parseInt(n.slice(7), 16) / 255 : 1), mf(t, e), e } return } var o = n.indexOf("("), s = n.indexOf(")"); if (o !== -1 && s + 1 === a) { var l = n.substr(0, o), u = n.substr(o + 1, s - (o + 1)).split(","), c = 1; switch (l) { case "rgba": if (u.length !== 4) return u.length === 3 ? ei(e, +u[0], +u[1], +u[2], 1) : ei(e, 0, 0, 0, 1); c = Sc(u.pop()); case "rgb": if (u.length >= 3) return ei(e, $b(u[0]), $b(u[1]), $b(u[2]), u.length === 3 ? c : Sc(u[3])), mf(t, e), e; ei(e, 0, 0, 0, 1); return; case "hsla": if (u.length !== 4) { ei(e, 0, 0, 0, 1); return } return u[3] = Sc(u[3]), sT(u, e), mf(t, e), e; case "hsl": if (u.length !== 3) { ei(e, 0, 0, 0, 1); return } return sT(u, e), mf(t, e), e; default: return } } ei(e, 0, 0, 0, 1) } } function sT(t, e) { var r = (parseFloat(t[0]) % 360 + 360) % 360 / 360, n = Sc(t[1]), a = Sc(t[2]), i = a <= .5 ? a * (n + 1) : a + n - a * n, o = a * 2 - i; return e = e || [], ei(e, Hi(Fb(o, i, r + 1 / 3) * 255), Hi(Fb(o, i, r) * 255), Hi(Fb(o, i, r - 1 / 3) * 255), 1), t.length === 4 && (e[3] = t[3]), e } function sce(t) { if (t) { var e = t[0] / 255, r = t[1] / 255, n = t[2] / 255, a = Math.min(e, r, n), i = Math.max(e, r, n), o = i - a, s = (i + a) / 2, l, u; if (o === 0) l = 0, u = 0; else { s < .5 ? u = o / (i + a) : u = o / (2 - i - a); var c = ((i - e) / 6 + o / 2) / o, f = ((i - r) / 6 + o / 2) / o, h = ((i - n) / 6 + o / 2) / o; e === i ? l = h - f : r === i ? l = 1 / 3 + c - h : n === i && (l = 2 / 3 + f - c), l < 0 && (l += 1), l > 1 && (l -= 1) } var d = [l * 360, u, s]; return t[3] != null && d.push(t[3]), d } } function lT(t, e) { var r = Ya(t); if (r) { for (var n = 0; n < 3; n++)e < 0 ? r[n] = r[n] * (1 - e) | 0 : r[n] = (255 - r[n]) * e + r[n] | 0, r[n] > 255 ? r[n] = 255 : r[n] < 0 && (r[n] = 0); return Ts(r, r.length === 4 ? "rgba" : "rgb") } } function Bb(t, e, r) { if (!(!(e && e.length) || !(t >= 0 && t <= 1))) { r = r || []; var n = t * (e.length - 1), a = Math.floor(n), i = Math.ceil(n), o = e[a], s = e[i], l = n - a; return r[0] = Hi(Cl(o[0], s[0], l)), r[1] = Hi(Cl(o[1], s[1], l)), r[2] = Hi(Cl(o[2], s[2], l)), r[3] = sp(Cl(o[3], s[3], l)), r } } function lce(t, e, r) { if (!(!(e && e.length) || !(t >= 0 && t <= 1))) { var n = t * (e.length - 1), a = Math.floor(n), i = Math.ceil(n), o = Ya(e[a]), s = Ya(e[i]), l = n - a, u = Ts([Hi(Cl(o[0], s[0], l)), Hi(Cl(o[1], s[1], l)), Hi(Cl(o[2], s[2], l)), sp(Cl(o[3], s[3], l))], "rgba"); return r ? { color: u, leftIndex: a, rightIndex: i, value: n } : u } } function Tv(t, e, r, n) { var a = Ya(t); if (t) return a = sce(a), e != null && (a[0] = oce(e)), r != null && (a[1] = Sc(r)), n != null && (a[2] = Sc(n)), Ts(sT(a), "rgba") } function e0(t, e) { var r = Ya(t); if (r && e != null) return r[3] = sp(e), Ts(r, "rgba") } function Ts(t, e) { if (!(!t || !t.length)) { var r = t[0] + "," + t[1] + "," + t[2]; return (e === "rgba" || e === "hsva" || e === "hsla") && (r += "," + t[3]), e + "(" + r + ")" } } function t0(t, e) { var r = Ya(t); return r ? (.299 * r[0] + .587 * r[1] + .114 * r[2]) * r[3] / 255 + (1 - r[3]) * e : 0 } var r0 = Math.round; function lp(t) { var e; if (!t || t === "transparent") t = "none"; else if (typeof t == "string" && t.indexOf("rgba") > -1) { var r = Ya(t); r && (t = "rgb(" + r[0] + "," + r[1] + "," + r[2] + ")", e = r[3]) } return { color: t, opacity: e ?? 1 } } var CI = 1e-4; function Ml(t) { return t < CI && t > -CI } function Jg(t) { return r0(t * 1e3) / 1e3 } function uT(t) { return r0(t * 1e4) / 1e4 } function uce(t) { return "matrix(" + Jg(t[0]) + "," + Jg(t[1]) + "," + Jg(t[2]) + "," + Jg(t[3]) + "," + uT(t[4]) + "," + uT(t[5]) + ")" } var cce = { left: "start", right: "end", center: "middle", middle: "middle" }; function fce(t, e, r) { return r === "top" ? t += e / 2 : r === "bottom" && (t -= e / 2), t } function hce(t) { return t && (t.shadowBlur || t.shadowOffsetX || t.shadowOffsetY) } function dce(t) { var e = t.style, r = t.getGlobalScale(); return [e.shadowColor, (e.shadowBlur || 0).toFixed(2), (e.shadowOffsetX || 0).toFixed(2), (e.shadowOffsetY || 0).toFixed(2), r[0], r[1]].join(",") } function G4(t) { return t && !!t.image } function vce(t) { return t && !!t.svgElement } function eC(t) { return G4(t) || vce(t) } function j4(t) { return t.type === "linear" } function Z4(t) { return t.type === "radial" } function q4(t) { return t && (t.type === "linear" || t.type === "radial") } function U_(t) { return "url(#" + t + ")" } function X4(t) { var e = t.getGlobalScale(), r = Math.max(e[0], e[1]); return Math.max(Math.ceil(Math.log(r) / Math.log(10)), 1) } function K4(t) { var e = t.x || 0, r = t.y || 0, n = (t.rotation || 0) * hy, a = _t(t.scaleX, 1), i = _t(t.scaleY, 1), o = t.skewX || 0, s = t.skewY || 0, l = []; return (e || r) && l.push("translate(" + e + "px," + r + "px)"), n && l.push("rotate(" + n + ")"), (a !== 1 || i !== 1) && l.push("scale(" + a + "," + i + ")"), (o || s) && l.push("skew(" + r0(o * hy) + "deg, " + r0(s * hy) + "deg)"), l.join(" ") } var pce = function () { return Ut.hasGlobalWindow && je(window.btoa) ? function (t) { return window.btoa(unescape(encodeURIComponent(t))) } : typeof Buffer < "u" ? function (t) { return Buffer.from(t).toString("base64") } : function (t) { return null } }(), cT = Array.prototype.slice; function ls(t, e, r) { return (e - t) * r + t } function Vb(t, e, r, n) { for (var a = e.length, i = 0; i < a; i++)t[i] = ls(e[i], r[i], n); return t } function gce(t, e, r, n) { for (var a = e.length, i = a && e[0].length, o = 0; o < a; o++) { t[o] || (t[o] = []); for (var s = 0; s < i; s++)t[o][s] = ls(e[o][s], r[o][s], n) } return t } function em(t, e, r, n) { for (var a = e.length, i = 0; i < a; i++)t[i] = e[i] + r[i] * n; return t } function MI(t, e, r, n) { for (var a = e.length, i = a && e[0].length, o = 0; o < a; o++) { t[o] || (t[o] = []); for (var s = 0; s < i; s++)t[o][s] = e[o][s] + r[o][s] * n } return t } function mce(t, e) { for (var r = t.length, n = e.length, a = r > n ? e : t, i = Math.min(r, n), o = a[i - 1] || { color: [0, 0, 0, 0], offset: 0 }, s = i; s < Math.max(r, n); s++)a.push({ offset: o.offset, color: o.color.slice() }) } function yce(t, e, r) { var n = t, a = e; if (!(!n.push || !a.push)) { var i = n.length, o = a.length; if (i !== o) { var s = i > o; if (s) n.length = o; else for (var l = i; l < o; l++)n.push(r === 1 ? a[l] : cT.call(a[l])) } for (var u = n[0] && n[0].length, l = 0; l < n.length; l++)if (r === 1) isNaN(n[l]) && (n[l] = a[l]); else for (var c = 0; c < u; c++)isNaN(n[l][c]) && (n[l][c] = a[l][c]) } } function Dv(t) { if (na(t)) { var e = t.length; if (na(t[0])) { for (var r = [], n = 0; n < e; n++)r.push(cT.call(t[n])); return r } return cT.call(t) } return t } function my(t) { return t[0] = Math.floor(t[0]) || 0, t[1] = Math.floor(t[1]) || 0, t[2] = Math.floor(t[2]) || 0, t[3] = t[3] == null ? 1 : t[3], "rgba(" + t.join(",") + ")" } function _ce(t) { return na(t && t[0]) ? 2 : 1 } var tm = 0, yy = 1, Q4 = 2, nv = 3, fT = 4, hT = 5, kI = 6; function AI(t) { return t === fT || t === hT } function rm(t) { return t === yy || t === Q4 } var Td = [0, 0, 0, 0], bce = function () { function t(e) { this.keyframes = [], this.discrete = !1, this._invalid = !1, this._needsSort = !1, this._lastFr = 0, this._lastFrP = 0, this.propName = e } return t.prototype.isFinished = function () { return this._finished }, t.prototype.setFinished = function () { this._finished = !0, this._additiveTrack && this._additiveTrack.setFinished() }, t.prototype.needsAnimate = function () { return this.keyframes.length >= 1 }, t.prototype.getAdditiveTrack = function () { return this._additiveTrack }, t.prototype.addKeyframe = function (e, r, n) { this._needsSort = !0; var a = this.keyframes, i = a.length, o = !1, s = kI, l = r; if (na(r)) { var u = _ce(r); s = u, (u === 1 && !Gt(r[0]) || u === 2 && !Gt(r[0][0])) && (o = !0) } else if (Gt(r) && !ip(r)) s = tm; else if (Oe(r)) if (!isNaN(+r)) s = tm; else { var c = Ya(r); c && (l = c, s = nv) } else if (z_(r)) { var f = he({}, l); f.colorStops = _e(r.colorStops, function (d) { return { offset: d.offset, color: Ya(d.color) } }), j4(r) ? s = fT : Z4(r) && (s = hT), l = f } i === 0 ? this.valType = s : (s !== this.valType || s === kI) && (o = !0), this.discrete = this.discrete || o; var h = { time: e, value: l, rawValue: r, percent: 0 }; return n && (h.easing = n, h.easingFunc = je(n) ? n : $4[n] || JD(n)), a.push(h), h }, t.prototype.prepare = function (e, r) { var n = this.keyframes; this._needsSort && n.sort(function (p, g) { return p.time - g.time }); for (var a = this.valType, i = n.length, o = n[i - 1], s = this.discrete, l = rm(a), u = AI(a), c = 0; c < i; c++) { var f = n[c], h = f.value, d = o.value; f.percent = f.time / e, s || (l && c !== i - 1 ? yce(h, d, a) : u && mce(h.colorStops, d.colorStops)) } if (!s && a !== hT && r && this.needsAnimate() && r.needsAnimate() && a === r.valType && !r._finished) { this._additiveTrack = r; for (var v = n[0].value, c = 0; c < i; c++)a === tm ? n[c].additiveValue = n[c].value - v : a === nv ? n[c].additiveValue = em([], n[c].value, v, -1) : rm(a) && (n[c].additiveValue = a === yy ? em([], n[c].value, v, -1) : MI([], n[c].value, v, -1)) } }, t.prototype.step = function (e, r) { if (!this._finished) { this._additiveTrack && this._additiveTrack._finished && (this._additiveTrack = null); var n = this._additiveTrack != null, a = n ? "additiveValue" : "value", i = this.valType, o = this.keyframes, s = o.length, l = this.propName, u = i === nv, c, f = this._lastFr, h = Math.min, d, v; if (s === 1) d = v = o[0]; else { if (r < 0) c = 0; else if (r < this._lastFrP) { var p = h(f + 1, s - 1); for (c = p; c >= 0 && !(o[c].percent <= r); c--); c = h(c, s - 2) } else { for (c = f; c < s && !(o[c].percent > r); c++); c = h(c - 1, s - 2) } v = o[c + 1], d = o[c] } if (d && v) { this._lastFr = c, this._lastFrP = r; var g = v.percent - d.percent, m = g === 0 ? 1 : h((r - d.percent) / g, 1); v.easingFunc && (m = v.easingFunc(m)); var y = n ? this._additiveValue : u ? Td : e[l]; if ((rm(i) || u) && !y && (y = this._additiveValue = []), this.discrete) e[l] = m < 1 ? d.rawValue : v.rawValue; else if (rm(i)) i === yy ? Vb(y, d[a], v[a], m) : gce(y, d[a], v[a], m); else if (AI(i)) { var _ = d[a], b = v[a], x = i === fT; e[l] = { type: x ? "linear" : "radial", x: ls(_.x, b.x, m), y: ls(_.y, b.y, m), colorStops: _e(_.colorStops, function (T, C) { var M = b.colorStops[C]; return { offset: ls(T.offset, M.offset, m), color: my(Vb([], T.color, M.color, m)) } }), global: b.global }, x ? (e[l].x2 = ls(_.x2, b.x2, m), e[l].y2 = ls(_.y2, b.y2, m)) : e[l].r = ls(_.r, b.r, m) } else if (u) Vb(y, d[a], v[a], m), n || (e[l] = my(y)); else { var S = ls(d[a], v[a], m); n ? this._additiveValue = S : e[l] = S } n && this._addToTarget(e) } } }, t.prototype._addToTarget = function (e) { var r = this.valType, n = this.propName, a = this._additiveValue; r === tm ? e[n] = e[n] + a : r === nv ? (Ya(e[n], Td), em(Td, Td, a, 1), e[n] = my(Td)) : r === yy ? em(e[n], e[n], a, 1) : r === Q4 && MI(e[n], e[n], a, 1) }, t }(), tC = function () { function t(e, r, n, a) { if (this._tracks = {}, this._trackKeys = [], this._maxTime = 0, this._started = 0, this._clip = null, this._target = e, this._loop = r, r && a) { GD("Can' use additive animation on looped animation."); return } this._additiveAnimators = a, this._allowDiscrete = n } return t.prototype.getMaxTime = function () { return this._maxTime }, t.prototype.getDelay = function () { return this._delay }, t.prototype.getLoop = function () { return this._loop }, t.prototype.getTarget = function () { return this._target }, t.prototype.changeTarget = function (e) { this._target = e }, t.prototype.when = function (e, r, n) { return this.whenWithKeys(e, r, Nt(r), n) }, t.prototype.whenWithKeys = function (e, r, n, a) { for (var i = this._tracks, o = 0; o < n.length; o++) { var s = n[o], l = i[s]; if (!l) { l = i[s] = new bce(s); var u = void 0, c = this._getAdditiveTrack(s); if (c) { var f = c.keyframes, h = f[f.length - 1]; u = h && h.value, c.valType === nv && u && (u = my(u)) } else u = this._target[s]; if (u == null) continue; e > 0 && l.addKeyframe(0, Dv(u), a), this._trackKeys.push(s) } l.addKeyframe(e, Dv(r[s]), a) } return this._maxTime = Math.max(this._maxTime, e), this }, t.prototype.pause = function () { this._clip.pause(), this._paused = !0 }, t.prototype.resume = function () { this._clip.resume(), this._paused = !1 }, t.prototype.isPaused = function () { return !!this._paused }, t.prototype.duration = function (e) { return this._maxTime = e, this._force = !0, this }, t.prototype._doneCallback = function () { this._setTracksFinished(), this._clip = null; var e = this._doneCbs; if (e) for (var r = e.length, n = 0; n < r; n++)e[n].call(this) }, t.prototype._abortedCallback = function () { this._setTracksFinished(); var e = this.animation, r = this._abortedCbs; if (e && e.removeClip(this._clip), this._clip = null, r) for (var n = 0; n < r.length; n++)r[n].call(this) }, t.prototype._setTracksFinished = function () { for (var e = this._tracks, r = this._trackKeys, n = 0; n < r.length; n++)e[r[n]].setFinished() }, t.prototype._getAdditiveTrack = function (e) { var r, n = this._additiveAnimators; if (n) for (var a = 0; a < n.length; a++) { var i = n[a].getTrack(e); i && (r = i) } return r }, t.prototype.start = function (e) { if (!(this._started > 0)) { this._started = 1; for (var r = this, n = [], a = this._maxTime || 0, i = 0; i < this._trackKeys.length; i++) { var o = this._trackKeys[i], s = this._tracks[o], l = this._getAdditiveTrack(o), u = s.keyframes, c = u.length; if (s.prepare(a, l), s.needsAnimate()) if (!this._allowDiscrete && s.discrete) { var f = u[c - 1]; f && (r._target[s.propName] = f.rawValue), s.setFinished() } else n.push(s) } if (n.length || this._force) { var h = new nce({ life: a, loop: this._loop, delay: this._delay || 0, onframe: function (d) { r._started = 2; var v = r._additiveAnimators; if (v) { for (var p = !1, g = 0; g < v.length; g++)if (v[g]._clip) { p = !0; break } p || (r._additiveAnimators = null) } for (var g = 0; g < n.length; g++)n[g].step(r._target, d); var m = r._onframeCbs; if (m) for (var g = 0; g < m.length; g++)m[g](r._target, d) }, ondestroy: function () { r._doneCallback() } }); this._clip = h, this.animation && this.animation.addClip(h), e && h.setEasing(e) } else this._doneCallback(); return this } }, t.prototype.stop = function (e) { if (this._clip) { var r = this._clip; e && r.onframe(1), this._abortedCallback() } }, t.prototype.delay = function (e) { return this._delay = e, this }, t.prototype.during = function (e) { return e && (this._onframeCbs || (this._onframeCbs = []), this._onframeCbs.push(e)), this }, t.prototype.done = function (e) { return e && (this._doneCbs || (this._doneCbs = []), this._doneCbs.push(e)), this }, t.prototype.aborted = function (e) { return e && (this._abortedCbs || (this._abortedCbs = []), this._abortedCbs.push(e)), this }, t.prototype.getClip = function () { return this._clip }, t.prototype.getTrack = function (e) { return this._tracks[e] }, t.prototype.getTracks = function () { var e = this; return _e(this._trackKeys, function (r) { return e._tracks[r] }) }, t.prototype.stopTracks = function (e, r) { if (!e.length || !this._clip) return !0; for (var n = this._tracks, a = this._trackKeys, i = 0; i < e.length; i++) { var o = n[e[i]]; o && !o.isFinished() && (r ? o.step(this._target, 1) : this._started === 1 && o.step(this._target, 0), o.setFinished()) } for (var s = !0, i = 0; i < a.length; i++)if (!n[a[i]].isFinished()) { s = !1; break } return s && this._abortedCallback(), s }, t.prototype.saveTo = function (e, r, n) { if (e) { r = r || this._trackKeys; for (var a = 0; a < r.length; a++) { var i = r[a], o = this._tracks[i]; if (!(!o || o.isFinished())) { var s = o.keyframes, l = s[n ? 0 : s.length - 1]; l && (e[i] = Dv(l.rawValue)) } } } }, t.prototype.__changeFinalValue = function (e, r) { r = r || Nt(e); for (var n = 0; n < r.length; n++) { var a = r[n], i = this._tracks[a]; if (i) { var o = i.keyframes; if (o.length > 1) { var s = o.pop(); i.addKeyframe(s.time, e[a]), i.prepare(this._maxTime, i.getAdditiveTrack()) } } } }, t }(); function Jf() { return new Date().getTime() } var wce = function (t) { ae(e, t); function e(r) { var n = t.call(this) || this; return n._running = !1, n._time = 0, n._pausedTime = 0, n._pauseStart = 0, n._paused = !1, r = r || {}, n.stage = r.stage || {}, n } return e.prototype.addClip = function (r) { r.animation && this.removeClip(r), this._head ? (this._tail.next = r, r.prev = this._tail, r.next = null, this._tail = r) : this._head = this._tail = r, r.animation = this }, e.prototype.addAnimator = function (r) { r.animation = this; var n = r.getClip(); n && this.addClip(n) }, e.prototype.removeClip = function (r) { if (r.animation) { var n = r.prev, a = r.next; n ? n.next = a : this._head = a, a ? a.prev = n : this._tail = n, r.next = r.prev = r.animation = null } }, e.prototype.removeAnimator = function (r) { var n = r.getClip(); n && this.removeClip(n), r.animation = null }, e.prototype.update = function (r) { for (var n = Jf() - this._pausedTime, a = n - this._time, i = this._head; i;) { var o = i.next, s = i.step(n, a); s && (i.ondestroy(), this.removeClip(i)), i = o } this._time = n, r || (this.trigger("frame", a), this.stage.update && this.stage.update()) }, e.prototype._startLoop = function () { var r = this; this._running = !0; function n() { r._running && (aT(n), !r._paused && r.update()) } aT(n) }, e.prototype.start = function () { this._running || (this._time = Jf(), this._pausedTime = 0, this._startLoop()) }, e.prototype.stop = function () { this._running = !1 }, e.prototype.pause = function () { this._paused || (this._pauseStart = Jf(), this._paused = !0) }, e.prototype.resume = function () { this._paused && (this._pausedTime += Jf() - this._pauseStart, this._paused = !1) }, e.prototype.clear = function () { for (var r = this._head; r;) { var n = r.next; r.prev = r.next = r.animation = null, r = n } this._head = this._tail = null }, e.prototype.isFinished = function () { return this._head == null }, e.prototype.animate = function (r, n) { n = n || {}, this.start(); var a = new tC(r, n.loop); return this.addAnimator(a), a }, e }(wi); const Sce = wce; var xce = 300, zb = Ut.domSupported, Hb = function () { var t = ["click", "dblclick", "mousewheel", "wheel", "mouseout", "mouseup", "mousedown", "mousemove", "contextmenu"], e = ["touchstart", "touchend", "touchmove"], r = { pointerdown: 1, pointerup: 1, pointermove: 1, pointerout: 1 }, n = _e(t, function (a) { var i = a.replace("mouse", "pointer"); return r.hasOwnProperty(i) ? i : a }); return { mouse: t, touch: e, pointer: n } }(), LI = { mouse: ["mousemove", "mouseup"], pointer: ["pointermove", "pointerup"] }, II = !1; function dT(t) { var e = t.pointerType; return e === "pen" || e === "touch" } function Tce(t) { t.touching = !0, t.touchTimer != null && (clearTimeout(t.touchTimer), t.touchTimer = null), t.touchTimer = setTimeout(function () { t.touching = !1, t.touchTimer = null }, 700) } function Yb(t) { t && (t.zrByTouch = !0) } function Dce(t, e) { return ti(t.dom, new Cce(t, e), !0) } function J4(t, e) { for (var r = e, n = !1; r && r.nodeType !== 9 && !(n = r.domBelongToZr || r !== e && r === t.painterRoot);)r = r.parentNode; return n } var Cce = function () { function t(e, r) { this.stopPropagation = nn, this.stopImmediatePropagation = nn, this.preventDefault = nn, this.type = r.type, this.target = this.currentTarget = e.dom, this.pointerType = r.pointerType, this.clientX = r.clientX, this.clientY = r.clientY } return t }(), Pi = { mousedown: function (t) { t = ti(this.dom, t), this.__mayPointerCapture = [t.zrX, t.zrY], this.trigger("mousedown", t) }, mousemove: function (t) { t = ti(this.dom, t); var e = this.__mayPointerCapture; e && (t.zrX !== e[0] || t.zrY !== e[1]) && this.__togglePointerCapture(!0), this.trigger("mousemove", t) }, mouseup: function (t) { t = ti(this.dom, t), this.__togglePointerCapture(!1), this.trigger("mouseup", t) }, mouseout: function (t) { t = ti(this.dom, t); var e = t.toElement || t.relatedTarget; J4(this, e) || (this.__pointerCapturing && (t.zrEventControl = "no_globalout"), this.trigger("mouseout", t)) }, wheel: function (t) { II = !0, t = ti(this.dom, t), this.trigger("mousewheel", t) }, mousewheel: function (t) { II || (t = ti(this.dom, t), this.trigger("mousewheel", t)) }, touchstart: function (t) { t = ti(this.dom, t), Yb(t), this.__lastTouchMoment = new Date, this.handler.processGesture(t, "start"), Pi.mousemove.call(this, t), Pi.mousedown.call(this, t) }, touchmove: function (t) { t = ti(this.dom, t), Yb(t), this.handler.processGesture(t, "change"), Pi.mousemove.call(this, t) }, touchend: function (t) { t = ti(this.dom, t), Yb(t), this.handler.processGesture(t, "end"), Pi.mouseup.call(this, t), +new Date - +this.__lastTouchMoment < xce && Pi.click.call(this, t) }, pointerdown: function (t) { Pi.mousedown.call(this, t) }, pointermove: function (t) { dT(t) || Pi.mousemove.call(this, t) }, pointerup: function (t) { Pi.mouseup.call(this, t) }, pointerout: function (t) { dT(t) || Pi.mouseout.call(this, t) } }; E(["click", "dblclick", "contextmenu"], function (t) { Pi[t] = function (e) { e = ti(this.dom, e), this.trigger(t, e) } }); var vT = { pointermove: function (t) { dT(t) || vT.mousemove.call(this, t) }, pointerup: function (t) { vT.mouseup.call(this, t) }, mousemove: function (t) { this.trigger("mousemove", t) }, mouseup: function (t) { var e = this.__pointerCapturing; this.__togglePointerCapture(!1), this.trigger("mouseup", t), e && (t.zrEventControl = "only_globalout", this.trigger("mouseout", t)) } }; function Mce(t, e) { var r = e.domHandlers; Ut.pointerEventsSupported ? E(Hb.pointer, function (n) { _y(e, n, function (a) { r[n].call(t, a) }) }) : (Ut.touchEventsSupported && E(Hb.touch, function (n) { _y(e, n, function (a) { r[n].call(t, a), Tce(e) }) }), E(Hb.mouse, function (n) { _y(e, n, function (a) { a = XD(a), e.touching || r[n].call(t, a) }) })) } function kce(t, e) { Ut.pointerEventsSupported ? E(LI.pointer, r) : Ut.touchEventsSupported || E(LI.mouse, r); function r(n) { function a(i) { i = XD(i), J4(t, i.target) || (i = Dce(t, i), e.domHandlers[n].call(t, i)) } _y(e, n, a, { capture: !0 }) } } function _y(t, e, r, n) { t.mounted[e] = r, t.listenerOpts[e] = n, nT(t.domTarget, e, r, n) } function Ub(t) { var e = t.mounted; for (var r in e) e.hasOwnProperty(r) && Eue(t.domTarget, r, e[r], t.listenerOpts[r]); t.mounted = {} } var PI = function () { function t(e, r) { this.mounted = {}, this.listenerOpts = {}, this.touching = !1, this.domTarget = e, this.domHandlers = r } return t }(), Ace = function (t) { ae(e, t); function e(r, n) { var a = t.call(this) || this; return a.__pointerCapturing = !1, a.dom = r, a.painterRoot = n, a._localHandlerScope = new PI(r, Pi), zb && (a._globalHandlerScope = new PI(document, vT)), Mce(a, a._localHandlerScope), a } return e.prototype.dispose = function () { Ub(this._localHandlerScope), zb && Ub(this._globalHandlerScope) }, e.prototype.setCursor = function (r) { this.dom.style && (this.dom.style.cursor = r || "default") }, e.prototype.__togglePointerCapture = function (r) { if (this.__mayPointerCapture = null, zb && +this.__pointerCapturing ^ +r) { this.__pointerCapturing = r; var n = this._globalHandlerScope; r ? kce(this, n) : Ub(n) } }, e }(wi); const Lce = Ace; var eF = 1; Ut.hasGlobalWindow && (eF = Math.max(window.devicePixelRatio || window.screen && window.screen.deviceXDPI / window.screen.logicalXDPI || 1, 1)); var n0 = eF, pT = .4, gT = "#333", mT = "#ccc", Ice = "#eee", RI = Y_, OI = 5e-5; function Su(t) { return t > OI || t < -OI } var xu = [], yf = [], Wb = yi(), Gb = Math.abs, Pce = function () { function t() { } return t.prototype.getLocalTransform = function (e) { return t.getLocalTransform(this, e) }, t.prototype.setPosition = function (e) { this.x = e[0], this.y = e[1] }, t.prototype.setScale = function (e) { this.scaleX = e[0], this.scaleY = e[1] }, t.prototype.setSkew = function (e) { this.skewX = e[0], this.skewY = e[1] }, t.prototype.setOrigin = function (e) { this.originX = e[0], this.originY = e[1] }, t.prototype.needLocalTransform = function () { return Su(this.rotation) || Su(this.x) || Su(this.y) || Su(this.scaleX - 1) || Su(this.scaleY - 1) || Su(this.skewX) || Su(this.skewY) }, t.prototype.updateTransform = function () { var e = this.parent && this.parent.transform, r = this.needLocalTransform(), n = this.transform; if (!(r || e)) { n && (RI(n), this.invTransform = null); return } n = n || yi(), r ? this.getLocalTransform(n) : RI(n), e && (r ? xs(n, e, n) : KD(n, e)), this.transform = n, this._resolveGlobalScaleRatio(n) }, t.prototype._resolveGlobalScaleRatio = function (e) { var r = this.globalScaleRatio; if (r != null && r !== 1) { this.getGlobalScale(xu); var n = xu[0] < 0 ? -1 : 1, a = xu[1] < 0 ? -1 : 1, i = ((xu[0] - n) * r + n) / xu[0] || 0, o = ((xu[1] - a) * r + a) / xu[1] || 0; e[0] *= i, e[1] *= i, e[2] *= o, e[3] *= o } this.invTransform = this.invTransform || yi(), zh(this.invTransform, e) }, t.prototype.getComputedTransform = function () { for (var e = this, r = []; e;)r.push(e), e = e.parent; for (; e = r.pop();)e.updateTransform(); return this.transform }, t.prototype.setLocalTransform = function (e) { if (e) { var r = e[0] * e[0] + e[1] * e[1], n = e[2] * e[2] + e[3] * e[3], a = Math.atan2(e[1], e[0]), i = Math.PI / 2 + a - Math.atan2(e[3], e[2]); n = Math.sqrt(n) * Math.cos(i), r = Math.sqrt(r), this.skewX = i, this.skewY = 0, this.rotation = -a, this.x = +e[4], this.y = +e[5], this.scaleX = r, this.scaleY = n, this.originX = 0, this.originY = 0 } }, t.prototype.decomposeTransform = function () { if (this.transform) { var e = this.parent, r = this.transform; e && e.transform && (xs(yf, e.invTransform, r), r = yf); var n = this.originX, a = this.originY; (n || a) && (Wb[4] = n, Wb[5] = a, xs(yf, r, Wb), yf[4] -= n, yf[5] -= a, r = yf), this.setLocalTransform(r) } }, t.prototype.getGlobalScale = function (e) { var r = this.transform; return e = e || [], r ? (e[0] = Math.sqrt(r[0] * r[0] + r[1] * r[1]), e[1] = Math.sqrt(r[2] * r[2] + r[3] * r[3]), r[0] < 0 && (e[0] = -e[0]), r[3] < 0 && (e[1] = -e[1]), e) : (e[0] = 1, e[1] = 1, e) }, t.prototype.transformCoordToLocal = function (e, r) { var n = [e, r], a = this.invTransform; return a && Hn(n, n, a), n }, t.prototype.transformCoordToGlobal = function (e, r) { var n = [e, r], a = this.transform; return a && Hn(n, n, a), n }, t.prototype.getLineScale = function () { var e = this.transform; return e && Gb(e[0] - 1) > 1e-10 && Gb(e[3] - 1) > 1e-10 ? Math.sqrt(Gb(e[0] * e[3] - e[2] * e[1])) : 1 }, t.prototype.copyTransform = function (e) { tF(this, e) }, t.getLocalTransform = function (e, r) { r = r || []; var n = e.originX || 0, a = e.originY || 0, i = e.scaleX, o = e.scaleY, s = e.anchorX, l = e.anchorY, u = e.rotation || 0, c = e.x, f = e.y, h = e.skewX ? Math.tan(e.skewX) : 0, d = e.skewY ? Math.tan(-e.skewY) : 0; if (n || a || s || l) { var v = n + s, p = a + l; r[4] = -v * i - h * p * o, r[5] = -p * o - d * v * i } else r[4] = r[5] = 0; return r[0] = i, r[3] = o, r[1] = d * i, r[2] = h * o, u && Zc(r, r, u), r[4] += n + c, r[5] += a + f, r }, t.initDefaultProps = function () { var e = t.prototype; e.scaleX = e.scaleY = e.globalScaleRatio = 1, e.x = e.y = e.originX = e.originY = e.skewX = e.skewY = e.rotation = e.anchorX = e.anchorY = 0 }(), t }(), Oo = ["x", "y", "originX", "originY", "anchorX", "anchorY", "rotation", "scaleX", "scaleY", "skewX", "skewY"]; function tF(t, e) { for (var r = 0; r < Oo.length; r++) { var n = Oo[r]; t[n] = e[n] } } const ps = Pce; var EI = {}; function Ua(t, e) { e = e || Zl; var r = EI[e]; r || (r = EI[e] = new Xp(500)); var n = r.get(t); return n == null && (n = ql.measureText(t, e).width, r.put(t, n)), n } function NI(t, e, r, n) { var a = Ua(t, e), i = W_(e), o = av(0, a, r), s = Yf(0, i, n), l = new wt(o, s, a, i); return l } function Kp(t, e, r, n) {
    var a = ((t || "") + "").split(`
`), i = a.length; if (i === 1) return NI(a[0], e, r, n); for (var o = new wt(0, 0, 0, 0), s = 0; s < a.length; s++) { var l = NI(a[s], e, r, n); s === 0 ? o.copy(l) : o.union(l) } return o
} function av(t, e, r) { return r === "right" ? t -= e : r === "center" && (t -= e / 2), t } function Yf(t, e, r) { return r === "middle" ? t -= e / 2 : r === "bottom" && (t -= e), t } function W_(t) { return Ua("国", t) } function ji(t, e) { return typeof t == "string" ? t.lastIndexOf("%") >= 0 ? parseFloat(t) / 100 * e : parseFloat(t) : t } function a0(t, e, r) { var n = e.position || "inside", a = e.distance != null ? e.distance : 5, i = r.height, o = r.width, s = i / 2, l = r.x, u = r.y, c = "left", f = "top"; if (n instanceof Array) l += ji(n[0], r.width), u += ji(n[1], r.height), c = null, f = null; else switch (n) { case "left": l -= a, u += s, c = "right", f = "middle"; break; case "right": l += a + o, u += s, f = "middle"; break; case "top": l += o / 2, u -= a, c = "center", f = "bottom"; break; case "bottom": l += o / 2, u += i + a, c = "center"; break; case "inside": l += o / 2, u += s, c = "center", f = "middle"; break; case "insideLeft": l += a, u += s, f = "middle"; break; case "insideRight": l += o - a, u += s, c = "right", f = "middle"; break; case "insideTop": l += o / 2, u += a, c = "center"; break; case "insideBottom": l += o / 2, u += i - a, c = "center", f = "bottom"; break; case "insideTopLeft": l += a, u += a; break; case "insideTopRight": l += o - a, u += a, c = "right"; break; case "insideBottomLeft": l += a, u += i - a, f = "bottom"; break; case "insideBottomRight": l += o - a, u += i - a, c = "right", f = "bottom"; break }return t = t || {}, t.x = l, t.y = u, t.align = c, t.verticalAlign = f, t } var jb = "__zr_normal__", Zb = Oo.concat(["ignore"]), Rce = Po(Oo, function (t, e) { return t[e] = !0, t }, { ignore: !1 }), _f = {}, Oce = new wt(0, 0, 0, 0), rC = function () { function t(e) { this.id = M4(), this.animators = [], this.currentStates = [], this.states = {}, this._init(e) } return t.prototype._init = function (e) { this.attr(e) }, t.prototype.drift = function (e, r, n) { switch (this.draggable) { case "horizontal": r = 0; break; case "vertical": e = 0; break }var a = this.transform; a || (a = this.transform = [1, 0, 0, 1, 0, 0]), a[4] += e, a[5] += r, this.decomposeTransform(), this.markRedraw() }, t.prototype.beforeUpdate = function () { }, t.prototype.afterUpdate = function () { }, t.prototype.update = function () { this.updateTransform(), this.__dirty && this.updateInnerText() }, t.prototype.updateInnerText = function (e) { var r = this._textContent; if (r && (!r.ignore || e)) { this.textConfig || (this.textConfig = {}); var n = this.textConfig, a = n.local, i = r.innerTransformable, o = void 0, s = void 0, l = !1; i.parent = a ? this : null; var u = !1; if (i.copyTransform(r), n.position != null) { var c = Oce; n.layoutRect ? c.copy(n.layoutRect) : c.copy(this.getBoundingRect()), a || c.applyTransform(this.transform), this.calculateTextPosition ? this.calculateTextPosition(_f, n, c) : a0(_f, n, c), i.x = _f.x, i.y = _f.y, o = _f.align, s = _f.verticalAlign; var f = n.origin; if (f && n.rotation != null) { var h = void 0, d = void 0; f === "center" ? (h = c.width * .5, d = c.height * .5) : (h = ji(f[0], c.width), d = ji(f[1], c.height)), u = !0, i.originX = -i.x + h + (a ? 0 : c.x), i.originY = -i.y + d + (a ? 0 : c.y) } } n.rotation != null && (i.rotation = n.rotation); var v = n.offset; v && (i.x += v[0], i.y += v[1], u || (i.originX = -v[0], i.originY = -v[1])); var p = n.inside == null ? typeof n.position == "string" && n.position.indexOf("inside") >= 0 : n.inside, g = this._innerTextDefaultStyle || (this._innerTextDefaultStyle = {}), m = void 0, y = void 0, _ = void 0; p && this.canBeInsideText() ? (m = n.insideFill, y = n.insideStroke, (m == null || m === "auto") && (m = this.getInsideTextFill()), (y == null || y === "auto") && (y = this.getInsideTextStroke(m), _ = !0)) : (m = n.outsideFill, y = n.outsideStroke, (m == null || m === "auto") && (m = this.getOutsideFill()), (y == null || y === "auto") && (y = this.getOutsideStroke(m), _ = !0)), m = m || "#000", (m !== g.fill || y !== g.stroke || _ !== g.autoStroke || o !== g.align || s !== g.verticalAlign) && (l = !0, g.fill = m, g.stroke = y, g.autoStroke = _, g.align = o, g.verticalAlign = s, r.setDefaultTextStyle(g)), r.__dirty |= Va, l && r.dirtyStyle(!0) } }, t.prototype.canBeInsideText = function () { return !0 }, t.prototype.getInsideTextFill = function () { return "#fff" }, t.prototype.getInsideTextStroke = function (e) { return "#000" }, t.prototype.getOutsideFill = function () { return this.__zr && this.__zr.isDarkMode() ? mT : gT }, t.prototype.getOutsideStroke = function (e) { var r = this.__zr && this.__zr.getBackgroundColor(), n = typeof r == "string" && Ya(r); n || (n = [255, 255, 255, 1]); for (var a = n[3], i = this.__zr.isDarkMode(), o = 0; o < 3; o++)n[o] = n[o] * a + (i ? 0 : 255) * (1 - a); return n[3] = 1, Ts(n, "rgba") }, t.prototype.traverse = function (e, r) { }, t.prototype.attrKV = function (e, r) { e === "textConfig" ? this.setTextConfig(r) : e === "textContent" ? this.setTextContent(r) : e === "clipPath" ? this.setClipPath(r) : e === "extra" ? (this.extra = this.extra || {}, he(this.extra, r)) : this[e] = r }, t.prototype.hide = function () { this.ignore = !0, this.markRedraw() }, t.prototype.show = function () { this.ignore = !1, this.markRedraw() }, t.prototype.attr = function (e, r) { if (typeof e == "string") this.attrKV(e, r); else if (Qe(e)) for (var n = e, a = Nt(n), i = 0; i < a.length; i++) { var o = a[i]; this.attrKV(o, e[o]) } return this.markRedraw(), this }, t.prototype.saveCurrentToNormalState = function (e) { this._innerSaveToNormal(e); for (var r = this._normalState, n = 0; n < this.animators.length; n++) { var a = this.animators[n], i = a.__fromStateTransition; if (!(a.getLoop() || i && i !== jb)) { var o = a.targetName, s = o ? r[o] : r; a.saveTo(s) } } }, t.prototype._innerSaveToNormal = function (e) { var r = this._normalState; r || (r = this._normalState = {}), e.textConfig && !r.textConfig && (r.textConfig = this.textConfig), this._savePrimaryToNormal(e, r, Zb) }, t.prototype._savePrimaryToNormal = function (e, r, n) { for (var a = 0; a < n.length; a++) { var i = n[a]; e[i] != null && !(i in r) && (r[i] = this[i]) } }, t.prototype.hasState = function () { return this.currentStates.length > 0 }, t.prototype.getState = function (e) { return this.states[e] }, t.prototype.ensureState = function (e) { var r = this.states; return r[e] || (r[e] = {}), r[e] }, t.prototype.clearStates = function (e) { this.useState(jb, !1, e) }, t.prototype.useState = function (e, r, n, a) { var i = e === jb, o = this.hasState(); if (!(!o && i)) { var s = this.currentStates, l = this.stateTransition; if (!(Ct(s, e) >= 0 && (r || s.length === 1))) { var u; if (this.stateProxy && !i && (u = this.stateProxy(e)), u || (u = this.states && this.states[e]), !u && !i) { GD("State " + e + " not exists."); return } i || this.saveCurrentToNormalState(u); var c = !!(u && u.hoverLayer || a); c && this._toggleHoverLayerFlag(!0), this._applyStateObj(e, u, this._normalState, r, !n && !this.__inHover && l && l.duration > 0, l); var f = this._textContent, h = this._textGuide; return f && f.useState(e, r, n, c), h && h.useState(e, r, n, c), i ? (this.currentStates = [], this._normalState = {}) : r ? this.currentStates.push(e) : this.currentStates = [e], this._updateAnimationTargets(), this.markRedraw(), !c && this.__inHover && (this._toggleHoverLayerFlag(!1), this.__dirty &= ~Va), u } } }, t.prototype.useStates = function (e, r, n) { if (!e.length) this.clearStates(); else { var a = [], i = this.currentStates, o = e.length, s = o === i.length; if (s) { for (var l = 0; l < o; l++)if (e[l] !== i[l]) { s = !1; break } } if (s) return; for (var l = 0; l < o; l++) { var u = e[l], c = void 0; this.stateProxy && (c = this.stateProxy(u, e)), c || (c = this.states[u]), c && a.push(c) } var f = a[o - 1], h = !!(f && f.hoverLayer || n); h && this._toggleHoverLayerFlag(!0); var d = this._mergeStates(a), v = this.stateTransition; this.saveCurrentToNormalState(d), this._applyStateObj(e.join(","), d, this._normalState, !1, !r && !this.__inHover && v && v.duration > 0, v); var p = this._textContent, g = this._textGuide; p && p.useStates(e, r, h), g && g.useStates(e, r, h), this._updateAnimationTargets(), this.currentStates = e.slice(), this.markRedraw(), !h && this.__inHover && (this._toggleHoverLayerFlag(!1), this.__dirty &= ~Va) } }, t.prototype._updateAnimationTargets = function () { for (var e = 0; e < this.animators.length; e++) { var r = this.animators[e]; r.targetName && r.changeTarget(this[r.targetName]) } }, t.prototype.removeState = function (e) { var r = Ct(this.currentStates, e); if (r >= 0) { var n = this.currentStates.slice(); n.splice(r, 1), this.useStates(n) } }, t.prototype.replaceState = function (e, r, n) { var a = this.currentStates.slice(), i = Ct(a, e), o = Ct(a, r) >= 0; i >= 0 ? o ? a.splice(i, 1) : a[i] = r : n && !o && a.push(r), this.useStates(a) }, t.prototype.toggleState = function (e, r) { r ? this.useState(e, !0) : this.removeState(e) }, t.prototype._mergeStates = function (e) { for (var r = {}, n, a = 0; a < e.length; a++) { var i = e[a]; he(r, i), i.textConfig && (n = n || {}, he(n, i.textConfig)) } return n && (r.textConfig = n), r }, t.prototype._applyStateObj = function (e, r, n, a, i, o) { var s = !(r && a); r && r.textConfig ? (this.textConfig = he({}, a ? this.textConfig : n.textConfig), he(this.textConfig, r.textConfig)) : s && n.textConfig && (this.textConfig = n.textConfig); for (var l = {}, u = !1, c = 0; c < Zb.length; c++) { var f = Zb[c], h = i && Rce[f]; r && r[f] != null ? h ? (u = !0, l[f] = r[f]) : this[f] = r[f] : s && n[f] != null && (h ? (u = !0, l[f] = n[f]) : this[f] = n[f]) } if (!i) for (var c = 0; c < this.animators.length; c++) { var d = this.animators[c], v = d.targetName; d.getLoop() || d.__changeFinalValue(v ? (r || n)[v] : r || n) } u && this._transitionState(e, l, o) }, t.prototype._attachComponent = function (e) { if (!(e.__zr && !e.__hostTarget) && e !== this) { var r = this.__zr; r && e.addSelfToZr(r), e.__zr = r, e.__hostTarget = this } }, t.prototype._detachComponent = function (e) { e.__zr && e.removeSelfFromZr(e.__zr), e.__zr = null, e.__hostTarget = null }, t.prototype.getClipPath = function () { return this._clipPath }, t.prototype.setClipPath = function (e) { this._clipPath && this._clipPath !== e && this.removeClipPath(), this._attachComponent(e), this._clipPath = e, this.markRedraw() }, t.prototype.removeClipPath = function () { var e = this._clipPath; e && (this._detachComponent(e), this._clipPath = null, this.markRedraw()) }, t.prototype.getTextContent = function () { return this._textContent }, t.prototype.setTextContent = function (e) { var r = this._textContent; r !== e && (r && r !== e && this.removeTextContent(), e.innerTransformable = new ps, this._attachComponent(e), this._textContent = e, this.markRedraw()) }, t.prototype.setTextConfig = function (e) { this.textConfig || (this.textConfig = {}), he(this.textConfig, e), this.markRedraw() }, t.prototype.removeTextConfig = function () { this.textConfig = null, this.markRedraw() }, t.prototype.removeTextContent = function () { var e = this._textContent; e && (e.innerTransformable = null, this._detachComponent(e), this._textContent = null, this._innerTextDefaultStyle = null, this.markRedraw()) }, t.prototype.getTextGuideLine = function () { return this._textGuide }, t.prototype.setTextGuideLine = function (e) { this._textGuide && this._textGuide !== e && this.removeTextGuideLine(), this._attachComponent(e), this._textGuide = e, this.markRedraw() }, t.prototype.removeTextGuideLine = function () { var e = this._textGuide; e && (this._detachComponent(e), this._textGuide = null, this.markRedraw()) }, t.prototype.markRedraw = function () { this.__dirty |= Va; var e = this.__zr; e && (this.__inHover ? e.refreshHover() : e.refresh()), this.__hostTarget && this.__hostTarget.markRedraw() }, t.prototype.dirty = function () { this.markRedraw() }, t.prototype._toggleHoverLayerFlag = function (e) { this.__inHover = e; var r = this._textContent, n = this._textGuide; r && (r.__inHover = e), n && (n.__inHover = e) }, t.prototype.addSelfToZr = function (e) { if (this.__zr !== e) { this.__zr = e; var r = this.animators; if (r) for (var n = 0; n < r.length; n++)e.animation.addAnimator(r[n]); this._clipPath && this._clipPath.addSelfToZr(e), this._textContent && this._textContent.addSelfToZr(e), this._textGuide && this._textGuide.addSelfToZr(e) } }, t.prototype.removeSelfFromZr = function (e) { if (this.__zr) { this.__zr = null; var r = this.animators; if (r) for (var n = 0; n < r.length; n++)e.animation.removeAnimator(r[n]); this._clipPath && this._clipPath.removeSelfFromZr(e), this._textContent && this._textContent.removeSelfFromZr(e), this._textGuide && this._textGuide.removeSelfFromZr(e) } }, t.prototype.animate = function (e, r, n) { var a = e ? this[e] : this, i = new tC(a, r, n); return e && (i.targetName = e), this.addAnimator(i, e), i }, t.prototype.addAnimator = function (e, r) { var n = this.__zr, a = this; e.during(function () { a.updateDuringAnimation(r) }).done(function () { var i = a.animators, o = Ct(i, e); o >= 0 && i.splice(o, 1) }), this.animators.push(e), n && n.animation.addAnimator(e), n && n.wakeUp() }, t.prototype.updateDuringAnimation = function (e) { this.markRedraw() }, t.prototype.stopAnimation = function (e, r) { for (var n = this.animators, a = n.length, i = [], o = 0; o < a; o++) { var s = n[o]; !e || e === s.scope ? s.stop(r) : i.push(s) } return this.animators = i, this }, t.prototype.animateTo = function (e, r, n) { qb(this, e, r, n) }, t.prototype.animateFrom = function (e, r, n) { qb(this, e, r, n, !0) }, t.prototype._transitionState = function (e, r, n, a) { for (var i = qb(this, r, n, a), o = 0; o < i.length; o++)i[o].__fromStateTransition = e }, t.prototype.getBoundingRect = function () { return null }, t.prototype.getPaintRect = function () { return null }, t.initDefaultProps = function () { var e = t.prototype; e.type = "element", e.name = "", e.ignore = e.silent = e.isGroup = e.draggable = e.dragging = e.ignoreClip = e.__inHover = !1, e.__dirty = Va; function r(n, a, i, o) { Object.defineProperty(e, n, { get: function () { if (!this[a]) { var l = this[a] = []; s(this, l) } return this[a] }, set: function (l) { this[i] = l[0], this[o] = l[1], this[a] = l, s(this, l) } }); function s(l, u) { Object.defineProperty(u, 0, { get: function () { return l[i] }, set: function (c) { l[i] = c } }), Object.defineProperty(u, 1, { get: function () { return l[o] }, set: function (c) { l[o] = c } }) } } Object.defineProperty && (r("position", "_legacyPos", "x", "y"), r("scale", "_legacyScale", "scaleX", "scaleY"), r("origin", "_legacyOrigin", "originX", "originY")) }(), t }(); mn(rC, wi); mn(rC, ps); function qb(t, e, r, n, a) { r = r || {}; var i = []; rF(t, "", t, e, r, n, i, a); var o = i.length, s = !1, l = r.done, u = r.aborted, c = function () { s = !0, o--, o <= 0 && (s ? l && l() : u && u()) }, f = function () { o--, o <= 0 && (s ? l && l() : u && u()) }; o || l && l(), i.length > 0 && r.during && i[0].during(function (v, p) { r.during(p) }); for (var h = 0; h < i.length; h++) { var d = i[h]; c && d.done(c), f && d.aborted(f), r.force && d.duration(r.duration), d.start(r.easing) } return i } function Xb(t, e, r) { for (var n = 0; n < r; n++)t[n] = e[n] } function Ece(t) { return na(t[0]) } function Nce(t, e, r) { if (na(e[r])) if (na(t[r]) || (t[r] = []), Wa(e[r])) { var n = e[r].length; t[r].length !== n && (t[r] = new e[r].constructor(n), Xb(t[r], e[r], n)) } else { var a = e[r], i = t[r], o = a.length; if (Ece(a)) for (var s = a[0].length, l = 0; l < o; l++)i[l] ? Xb(i[l], a[l], s) : i[l] = Array.prototype.slice.call(a[l]); else Xb(i, a, o); i.length = a.length } else t[r] = e[r] } function $ce(t, e) { return t === e || na(t) && na(e) && Fce(t, e) } function Fce(t, e) { var r = t.length; if (r !== e.length) return !1; for (var n = 0; n < r; n++)if (t[n] !== e[n]) return !1; return !0 } function rF(t, e, r, n, a, i, o, s) { for (var l = Nt(n), u = a.duration, c = a.delay, f = a.additive, h = a.setToFinal, d = !Qe(i), v = t.animators, p = [], g = 0; g < l.length; g++) { var m = l[g], y = n[m]; if (y != null && r[m] != null && (d || i[m])) if (Qe(y) && !na(y) && !z_(y)) { if (e) { s || (r[m] = y, t.updateDuringAnimation(e)); continue } rF(t, m, r[m], y, a, i && i[m], o, s) } else p.push(m); else s || (r[m] = y, t.updateDuringAnimation(e), p.push(m)) } var _ = p.length; if (!f && _) for (var b = 0; b < v.length; b++) { var x = v[b]; if (x.targetName === e) { var S = x.stopTracks(p); if (S) { var T = Ct(v, x); v.splice(T, 1) } } } if (a.force || (p = hr(p, function (A) { return !$ce(n[A], r[A]) }), _ = p.length), _ > 0 || a.force && !o.length) { var C = void 0, M = void 0, k = void 0; if (s) { M = {}, h && (C = {}); for (var b = 0; b < _; b++) { var m = p[b]; M[m] = r[m], h ? C[m] = n[m] : r[m] = n[m] } } else if (h) { k = {}; for (var b = 0; b < _; b++) { var m = p[b]; k[m] = Dv(r[m]), Nce(r, n, m) } } var x = new tC(r, !1, !1, f ? hr(v, function (R) { return R.targetName === e }) : null); x.targetName = e, a.scope && (x.scope = a.scope), h && C && x.whenWithKeys(0, C, p), k && x.whenWithKeys(0, k, p), x.whenWithKeys(u ?? 500, s ? M : n, p).delay(c || 0), t.addAnimator(x, e), o.push(x) } } const nF = rC; var aF = function (t) { ae(e, t); function e(r) { var n = t.call(this) || this; return n.isGroup = !0, n._children = [], n.attr(r), n } return e.prototype.childrenRef = function () { return this._children }, e.prototype.children = function () { return this._children.slice() }, e.prototype.childAt = function (r) { return this._children[r] }, e.prototype.childOfName = function (r) { for (var n = this._children, a = 0; a < n.length; a++)if (n[a].name === r) return n[a] }, e.prototype.childCount = function () { return this._children.length }, e.prototype.add = function (r) { return r && r !== this && r.parent !== this && (this._children.push(r), this._doAdd(r)), this }, e.prototype.addBefore = function (r, n) { if (r && r !== this && r.parent !== this && n && n.parent === this) { var a = this._children, i = a.indexOf(n); i >= 0 && (a.splice(i, 0, r), this._doAdd(r)) } return this }, e.prototype.replace = function (r, n) { var a = Ct(this._children, r); return a >= 0 && this.replaceAt(n, a), this }, e.prototype.replaceAt = function (r, n) { var a = this._children, i = a[n]; if (r && r !== this && r.parent !== this && r !== i) { a[n] = r, i.parent = null; var o = this.__zr; o && i.removeSelfFromZr(o), this._doAdd(r) } return this }, e.prototype._doAdd = function (r) { r.parent && r.parent.remove(r), r.parent = this; var n = this.__zr; n && n !== r.__zr && r.addSelfToZr(n), n && n.refresh() }, e.prototype.remove = function (r) { var n = this.__zr, a = this._children, i = Ct(a, r); return i < 0 ? this : (a.splice(i, 1), r.parent = null, n && r.removeSelfFromZr(n), n && n.refresh(), this) }, e.prototype.removeAll = function () { for (var r = this._children, n = this.__zr, a = 0; a < r.length; a++) { var i = r[a]; n && i.removeSelfFromZr(n), i.parent = null } return r.length = 0, this }, e.prototype.eachChild = function (r, n) { for (var a = this._children, i = 0; i < a.length; i++) { var o = a[i]; r.call(n, o, i) } return this }, e.prototype.traverse = function (r, n) { for (var a = 0; a < this._children.length; a++) { var i = this._children[a], o = r.call(n, i); i.isGroup && !o && i.traverse(r, n) } return this }, e.prototype.addSelfToZr = function (r) { t.prototype.addSelfToZr.call(this, r); for (var n = 0; n < this._children.length; n++) { var a = this._children[n]; a.addSelfToZr(r) } }, e.prototype.removeSelfFromZr = function (r) { t.prototype.removeSelfFromZr.call(this, r); for (var n = 0; n < this._children.length; n++) { var a = this._children[n]; a.removeSelfFromZr(r) } }, e.prototype.getBoundingRect = function (r) { for (var n = new wt(0, 0, 0, 0), a = r || this._children, i = [], o = null, s = 0; s < a.length; s++) { var l = a[s]; if (!(l.ignore || l.invisible)) { var u = l.getBoundingRect(), c = l.getLocalTransform(i); c ? (wt.applyTransform(n, u, c), o = o || n.clone(), o.union(n)) : (o = o || u.clone(), o.union(u)) } } return o || n }, e }(nF); aF.prototype.type = "group"; const it = aF;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var by = {}, iF = {}; function Bce(t) { delete iF[t] } function Vce(t) { if (!t) return !1; if (typeof t == "string") return t0(t, 1) < pT; if (t.colorStops) { for (var e = t.colorStops, r = 0, n = e.length, a = 0; a < n; a++)r += t0(e[a].color, 1); return r /= n, r < pT } return !1 } var zce = function () { function t(e, r, n) { var a = this; this._sleepAfterStill = 10, this._stillFrameAccum = 0, this._needsRefresh = !0, this._needsRefreshHover = !0, this._darkMode = !1, n = n || {}, this.dom = r, this.id = e; var i = new Kue, o = n.renderer || "canvas"; by[o] || (o = Nt(by)[0]), n.useDirtyRect = n.useDirtyRect == null ? !1 : n.useDirtyRect; var s = new by[o](r, i, n, e), l = n.ssr || s.ssrOnly; this.storage = i, this.painter = s; var u = !Ut.node && !Ut.worker && !l ? new Lce(s.getViewportRoot(), s.root) : null, c = n.useCoarsePointer, f = c == null || c === "auto" ? Ut.touchEventsSupported : !!c, h = 44, d; f && (d = _t(n.pointerSize, h)), this.handler = new Gue(i, s, u, s.root, d), this.animation = new Sce({ stage: { update: l ? null : function () { return a._flush(!0) } } }), l || this.animation.start() } return t.prototype.add = function (e) { e && (this.storage.addRoot(e), e.addSelfToZr(this), this.refresh()) }, t.prototype.remove = function (e) { e && (this.storage.delRoot(e), e.removeSelfFromZr(this), this.refresh()) }, t.prototype.configLayer = function (e, r) { this.painter.configLayer && this.painter.configLayer(e, r), this.refresh() }, t.prototype.setBackgroundColor = function (e) { this.painter.setBackgroundColor && this.painter.setBackgroundColor(e), this.refresh(), this._backgroundColor = e, this._darkMode = Vce(e) }, t.prototype.getBackgroundColor = function () { return this._backgroundColor }, t.prototype.setDarkMode = function (e) { this._darkMode = e }, t.prototype.isDarkMode = function () { return this._darkMode }, t.prototype.refreshImmediately = function (e) { e || this.animation.update(!0), this._needsRefresh = !1, this.painter.refresh(), this._needsRefresh = !1 }, t.prototype.refresh = function () { this._needsRefresh = !0, this.animation.start() }, t.prototype.flush = function () { this._flush(!1) }, t.prototype._flush = function (e) { var r, n = Jf(); this._needsRefresh && (r = !0, this.refreshImmediately(e)), this._needsRefreshHover && (r = !0, this.refreshHoverImmediately()); var a = Jf(); r ? (this._stillFrameAccum = 0, this.trigger("rendered", { elapsedTime: a - n })) : this._sleepAfterStill > 0 && (this._stillFrameAccum++, this._stillFrameAccum > this._sleepAfterStill && this.animation.stop()) }, t.prototype.setSleepAfterStill = function (e) { this._sleepAfterStill = e }, t.prototype.wakeUp = function () { this.animation.start(), this._stillFrameAccum = 0 }, t.prototype.refreshHover = function () { this._needsRefreshHover = !0 }, t.prototype.refreshHoverImmediately = function () { this._needsRefreshHover = !1, this.painter.refreshHover && this.painter.getType() === "canvas" && this.painter.refreshHover() }, t.prototype.resize = function (e) { e = e || {}, this.painter.resize(e.width, e.height), this.handler.resize() }, t.prototype.clearAnimation = function () { this.animation.clear() }, t.prototype.getWidth = function () { return this.painter.getWidth() }, t.prototype.getHeight = function () { return this.painter.getHeight() }, t.prototype.setCursorStyle = function (e) { this.handler.setCursorStyle(e) }, t.prototype.findHover = function (e, r) { return this.handler.findHover(e, r) }, t.prototype.on = function (e, r, n) { return this.handler.on(e, r, n), this }, t.prototype.off = function (e, r) { this.handler.off(e, r) }, t.prototype.trigger = function (e, r) { this.handler.trigger(e, r) }, t.prototype.clear = function () { for (var e = this.storage.getRoots(), r = 0; r < e.length; r++)e[r] instanceof it && e[r].removeSelfFromZr(this); this.storage.delAllRoots(), this.painter.clear() }, t.prototype.dispose = function () { this.animation.stop(), this.clear(), this.storage.dispose(), this.painter.dispose(), this.handler.dispose(), this.animation = this.storage = this.painter = this.handler = null, Bce(this.id) }, t }(); function $I(t, e) { var r = new zce(M4(), t, e); return iF[r.id] = r, r } function Hce(t, e) { by[t] = e } var FI = 1e-4, oF = 20; function Yce(t) { return t.replace(/^\s+|\s+$/g, "") } function sr(t, e, r, n) { var a = e[0], i = e[1], o = r[0], s = r[1], l = i - a, u = s - o; if (l === 0) return u === 0 ? o : (o + s) / 2; if (n) if (l > 0) { if (t <= a) return o; if (t >= i) return s } else { if (t >= a) return o; if (t <= i) return s } else { if (t === a) return o; if (t === i) return s } return (t - a) / l * u + o } function Ae(t, e) { switch (t) { case "center": case "middle": t = "50%"; break; case "left": case "top": t = "0%"; break; case "right": case "bottom": t = "100%"; break }return Oe(t) ? Yce(t).match(/%$/) ? parseFloat(t) / 100 * e : parseFloat(t) : t == null ? NaN : +t } function en(t, e, r) { return e == null && (e = 10), e = Math.min(Math.max(0, e), oF), t = (+t).toFixed(e), r ? t : +t } function hi(t) { return t.sort(function (e, r) { return e - r }), t } function wo(t) { if (t = +t, isNaN(t)) return 0; if (t > 1e-14) { for (var e = 1, r = 0; r < 15; r++, e *= 10)if (Math.round(t * e) / e === t) return r } return Uce(t) } function Uce(t) { var e = t.toString().toLowerCase(), r = e.indexOf("e"), n = r > 0 ? +e.slice(r + 1) : 0, a = r > 0 ? r : e.length, i = e.indexOf("."), o = i < 0 ? 0 : a - 1 - i; return Math.max(0, o - n) } function sF(t, e) { var r = Math.log, n = Math.LN10, a = Math.floor(r(t[1] - t[0]) / n), i = Math.round(r(Math.abs(e[1] - e[0])) / n), o = Math.min(Math.max(-a + i, 0), 20); return isFinite(o) ? o : 20 } function Wce(t, e) { var r = Po(t, function (d, v) { return d + (isNaN(v) ? 0 : v) }, 0); if (r === 0) return []; for (var n = Math.pow(10, e), a = _e(t, function (d) { return (isNaN(d) ? 0 : d) / r * n * 100 }), i = n * 100, o = _e(a, function (d) { return Math.floor(d) }), s = Po(o, function (d, v) { return d + v }, 0), l = _e(a, function (d, v) { return d - o[v] }); s < i;) { for (var u = Number.NEGATIVE_INFINITY, c = null, f = 0, h = l.length; f < h; ++f)l[f] > u && (u = l[f], c = f); ++o[c], l[c] = 0, ++s } return _e(o, function (d) { return d / n }) } function Gce(t, e) { var r = Math.max(wo(t), wo(e)), n = t + e; return r > oF ? n : en(n, r) } var BI = 9007199254740991; function lF(t) { var e = Math.PI * 2; return (t % e + e) % e } function i0(t) { return t > -FI && t < FI } var jce = /^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/; function Eo(t) { if (t instanceof Date) return t; if (Oe(t)) { var e = jce.exec(t); if (!e) return new Date(NaN); if (e[8]) { var r = +e[4] || 0; return e[8].toUpperCase() !== "Z" && (r -= +e[8].slice(0, 3)), new Date(Date.UTC(+e[1], +(e[2] || 1) - 1, +e[3] || 1, r, +(e[5] || 0), +e[6] || 0, e[7] ? +e[7].substring(0, 3) : 0)) } else return new Date(+e[1], +(e[2] || 1) - 1, +e[3] || 1, +e[4] || 0, +(e[5] || 0), +e[6] || 0, e[7] ? +e[7].substring(0, 3) : 0) } else if (t == null) return new Date(NaN); return new Date(Math.round(t)) } function Zce(t) { return Math.pow(10, nC(t)) } function nC(t) { if (t === 0) return 0; var e = Math.floor(Math.log(t) / Math.LN10); return t / Math.pow(10, e) >= 10 && e++, e } function uF(t, e) { var r = nC(t), n = Math.pow(10, r), a = t / n, i; return e ? a < 1.5 ? i = 1 : a < 2.5 ? i = 2 : a < 4 ? i = 3 : a < 7 ? i = 5 : i = 10 : a < 1 ? i = 1 : a < 2 ? i = 2 : a < 3 ? i = 3 : a < 5 ? i = 5 : i = 10, t = i * n, r >= -20 ? +t.toFixed(r < 0 ? -r : 0) : t } function Kb(t, e) { var r = (t.length - 1) * e + 1, n = Math.floor(r), a = +t[n - 1], i = r - n; return i ? a + i * (t[n] - a) : a } function VI(t) { t.sort(function (l, u) { return s(l, u, 0) ? -1 : 1 }); for (var e = -1 / 0, r = 1, n = 0; n < t.length;) { for (var a = t[n].interval, i = t[n].close, o = 0; o < 2; o++)a[o] <= e && (a[o] = e, i[o] = o ? 1 : 1 - r), e = a[o], r = i[o]; a[0] === a[1] && i[0] * i[1] !== 1 ? t.splice(n, 1) : n++ } return t; function s(l, u, c) { return l.interval[c] < u.interval[c] || l.interval[c] === u.interval[c] && (l.close[c] - u.close[c] === (c ? -1 : 1) || !c && s(l, u, 1)) } } function Is(t) { var e = parseFloat(t); return e == t && (e !== 0 || !Oe(t) || t.indexOf("x") <= 0) ? e : NaN } function cF(t) { return !isNaN(Is(t)) } function fF() { return Math.round(Math.random() * 9) } function hF(t, e) { return e === 0 ? t : hF(e, t % e) } function zI(t, e) { return t == null ? e : e == null ? t : t * e / hF(t, e) } function Kt(t) { throw new Error(t) } function HI(t, e, r) { return (e - t) * r + t } var dF = "series\0", vF = "\0_ec_\0"; function mr(t) { return t instanceof Array ? t : t == null ? [] : [t] } function Oc(t, e, r) { if (t) { t[e] = t[e] || {}, t.emphasis = t.emphasis || {}, t.emphasis[e] = t.emphasis[e] || {}; for (var n = 0, a = r.length; n < a; n++) { var i = r[n]; !t.emphasis[e].hasOwnProperty(i) && t[e].hasOwnProperty(i) && (t.emphasis[e][i] = t[e][i]) } } } var YI = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "rich", "tag", "color", "textBorderColor", "textBorderWidth", "width", "height", "lineHeight", "align", "verticalAlign", "baseline", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY", "textShadowColor", "textShadowBlur", "textShadowOffsetX", "textShadowOffsetY", "backgroundColor", "borderColor", "borderWidth", "borderRadius", "padding"]; function Hh(t) { return Qe(t) && !me(t) && !(t instanceof Date) ? t.value : t } function qce(t) { return Qe(t) && !(t instanceof Array) } function pF(t, e, r) { var n = r === "normalMerge", a = r === "replaceMerge", i = r === "replaceAll"; t = t || [], e = (e || []).slice(); var o = He(); E(e, function (l, u) { if (!Qe(l)) { e[u] = null; return } }); var s = Xce(t, o, r); return (n || a) && Kce(s, t, o, e), n && Qce(s, e), n || a ? Jce(s, e, a) : i && efe(s, e), tfe(s), s } function Xce(t, e, r) { var n = []; if (r === "replaceAll") return n; for (var a = 0; a < t.length; a++) { var i = t[a]; i && i.id != null && e.set(i.id, a), n.push({ existing: r === "replaceMerge" || up(i) ? null : i, newOption: null, keyInfo: null, brandNew: null }) } return n } function Kce(t, e, r, n) { E(n, function (a, i) { if (!(!a || a.id == null)) { var o = Cv(a.id), s = r.get(o); if (s != null) { var l = t[s]; ya(!l.newOption, 'Duplicated option on id "' + o + '".'), l.newOption = a, l.existing = e[s], n[i] = null } } }) } function Qce(t, e) { E(e, function (r, n) { if (!(!r || r.name == null)) for (var a = 0; a < t.length; a++) { var i = t[a].existing; if (!t[a].newOption && i && (i.id == null || r.id == null) && !up(r) && !up(i) && gF("name", i, r)) { t[a].newOption = r, e[n] = null; return } } }) } function Jce(t, e, r) { E(e, function (n) { if (n) { for (var a, i = 0; (a = t[i]) && (a.newOption || up(a.existing) || a.existing && n.id != null && !gF("id", n, a.existing));)i++; a ? (a.newOption = n, a.brandNew = r) : t.push({ newOption: n, brandNew: r, existing: null, keyInfo: null }), i++ } }) } function efe(t, e) { E(e, function (r) { t.push({ newOption: r, brandNew: !0, existing: null, keyInfo: null }) }) } function tfe(t) { var e = He(); E(t, function (r) { var n = r.existing; n && e.set(n.id, r) }), E(t, function (r) { var n = r.newOption; ya(!n || n.id == null || !e.get(n.id) || e.get(n.id) === r, "id duplicates: " + (n && n.id)), n && n.id != null && e.set(n.id, r), !r.keyInfo && (r.keyInfo = {}) }), E(t, function (r, n) { var a = r.existing, i = r.newOption, o = r.keyInfo; if (Qe(i)) { if (o.name = i.name != null ? Cv(i.name) : a ? a.name : dF + n, a) o.id = Cv(a.id); else if (i.id != null) o.id = Cv(i.id); else { var s = 0; do o.id = "\0" + o.name + "\0" + s++; while (e.get(o.id)) } e.set(o.id, r) } }) } function gF(t, e, r) { var n = yn(e[t], null), a = yn(r[t], null); return n != null && a != null && n === a } function Cv(t) { return yn(t, "") } function yn(t, e) { return t == null ? e : Oe(t) ? t : Gt(t) || Xx(t) ? t + "" : e } function aC(t) { var e = t.name; return !!(e && e.indexOf(dF)) } function up(t) { return t && t.id != null && Cv(t.id).indexOf(vF) === 0 } function rfe(t) { return vF + t } function nfe(t, e, r) { E(t, function (n) { var a = n.newOption; Qe(a) && (n.keyInfo.mainType = e, n.keyInfo.subType = afe(e, a, n.existing, r)) }) } function afe(t, e, r, n) { var a = e.type ? e.type : r ? r.subType : n.determineSubType(t, e); return a } function ife(t, e) { var r = {}, n = {}; return a(t || [], r), a(e || [], n, r), [i(r), i(n)]; function a(o, s, l) { for (var u = 0, c = o.length; u < c; u++) { var f = yn(o[u].seriesId, null); if (f == null) return; for (var h = mr(o[u].dataIndex), d = l && l[f], v = 0, p = h.length; v < p; v++) { var g = h[v]; d && d[g] ? d[g] = null : (s[f] || (s[f] = {}))[g] = 1 } } } function i(o, s) { var l = []; for (var u in o) if (o.hasOwnProperty(u) && o[u] != null) if (s) l.push(+u); else { var c = i(o[u], !0); c.length && l.push({ seriesId: u, dataIndex: c }) } return l } } function Ec(t, e) { if (e.dataIndexInside != null) return e.dataIndexInside; if (e.dataIndex != null) return me(e.dataIndex) ? _e(e.dataIndex, function (r) { return t.indexOfRawIndex(r) }) : t.indexOfRawIndex(e.dataIndex); if (e.name != null) return me(e.name) ? _e(e.name, function (r) { return t.indexOfName(r) }) : t.indexOfName(e.name) } function zt() { var t = "__ec_inner_" + ofe++; return function (e) { return e[t] || (e[t] = {}) } } var ofe = fF(); function Mv(t, e, r) { var n = iC(e, r), a = n.mainTypeSpecified, i = n.queryOptionMap, o = n.others, s = o, l = r ? r.defaultMainType : null; return !a && l && i.set(l, {}), i.each(function (u, c) { var f = Qp(t, c, u, { useDefault: l === c, enableAll: r && r.enableAll != null ? r.enableAll : !0, enableNone: r && r.enableNone != null ? r.enableNone : !0 }); s[c + "Models"] = f.models, s[c + "Model"] = f.models[0] }), s } function iC(t, e) { var r; if (Oe(t)) { var n = {}; n[t + "Index"] = 0, r = n } else r = t; var a = He(), i = {}, o = !1; return E(r, function (s, l) { if (l === "dataIndex" || l === "dataIndexInside") { i[l] = s; return } var u = l.match(/^(\w+)(Index|Id|Name)$/) || [], c = u[1], f = (u[2] || "").toLowerCase(); if (!(!c || !f || e && e.includeMainTypes && Ct(e.includeMainTypes, c) < 0)) { o = o || !!c; var h = a.get(c) || a.set(c, {}); h[f] = s } }), { mainTypeSpecified: o, queryOptionMap: a, others: i } } var dn = { useDefault: !0, enableAll: !1, enableNone: !1 }, sfe = { useDefault: !1, enableAll: !0, enableNone: !0 }; function Qp(t, e, r, n) { n = n || dn; var a = r.index, i = r.id, o = r.name, s = { models: null, specified: a != null || i != null || o != null }; if (!s.specified) { var l = void 0; return s.models = n.useDefault && (l = t.getComponent(e)) ? [l] : [], s } return a === "none" || a === !1 ? (ya(n.enableNone, '`"none"` or `false` is not a valid value on index option.'), s.models = [], s) : (a === "all" && (ya(n.enableAll, '`"all"` is not a valid value on index option.'), a = i = o = null), s.models = t.queryComponents({ mainType: e, index: a, id: i, name: o }), s) } function mF(t, e, r) { t.setAttribute ? t.setAttribute(e, r) : t[e] = r } function lfe(t, e) { return t.getAttribute ? t.getAttribute(e) : t[e] } function ufe(t) { return t === "auto" ? Ut.domSupported ? "html" : "richText" : t || "html" } function yT(t, e) { var r = He(), n = []; return E(t, function (a) { var i = e(a); (r.get(i) || (n.push(i), r.set(i, []))).push(a) }), { keys: n, buckets: r } } function yF(t, e, r, n, a) { var i = e == null || e === "auto"; if (n == null) return n; if (Gt(n)) { var o = HI(r || 0, n, a); return en(o, i ? Math.max(wo(r || 0), wo(n)) : e) } else { if (Oe(n)) return a < 1 ? r : n; for (var s = [], l = r, u = n, c = Math.max(l ? l.length : 0, u.length), f = 0; f < c; ++f) { var h = t.getDimensionInfo(f); if (h && h.type === "ordinal") s[f] = (a < 1 && l ? l : u)[f]; else { var d = l && l[f] ? l[f] : 0, v = u[f], o = HI(d, v, a); s[f] = en(o, i ? Math.max(wo(d), wo(v)) : e) } } return s } } var cfe = ".", Tu = "___EC__COMPONENT__CONTAINER___", _F = "___EC__EXTENDED_CLASS___"; function So(t) { var e = { main: "", sub: "" }; if (t) { var r = t.split(cfe); e.main = r[0] || "", e.sub = r[1] || "" } return e } function ffe(t) { ya(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t), 'componentType "' + t + '" illegal') } function hfe(t) { return !!(t && t[_F]) } function oC(t, e) { t.$constructor = t, t.extend = function (r) { var n = this, a; return dfe(n) ? a = function (i) { ae(o, i); function o() { return i.apply(this, arguments) || this } return o }(n) : (a = function () { (r.$constructor || n).apply(this, arguments) }, hue(a, this)), he(a.prototype, r), a[_F] = !0, a.extend = this.extend, a.superCall = gfe, a.superApply = mfe, a.superClass = n, a } } function dfe(t) { return je(t) && /^class\s/.test(Function.prototype.toString.call(t)) } function bF(t, e) { t.extend = e.extend } var vfe = Math.round(Math.random() * 10); function pfe(t) { var e = ["__\0is_clz", vfe++].join("_"); t.prototype[e] = !0, t.isInstance = function (r) { return !!(r && r[e]) } } function gfe(t, e) { for (var r = [], n = 2; n < arguments.length; n++)r[n - 2] = arguments[n]; return this.superClass.prototype[e].apply(t, r) } function mfe(t, e, r) { return this.superClass.prototype[e].apply(t, r) } function G_(t) { var e = {}; t.registerClass = function (n) { var a = n.type || n.prototype.type; if (a) { ffe(a), n.prototype.type = a; var i = So(a); if (!i.sub) e[i.main] = n; else if (i.sub !== Tu) { var o = r(i); o[i.sub] = n } } return n }, t.getClass = function (n, a, i) { var o = e[n]; if (o && o[Tu] && (o = a ? o[a] : null), i && !o) throw new Error(a ? "Component " + n + "." + (a || "") + " is used but not imported." : n + ".type should be specified."); return o }, t.getClassesByMainType = function (n) { var a = So(n), i = [], o = e[a.main]; return o && o[Tu] ? E(o, function (s, l) { l !== Tu && i.push(s) }) : i.push(o), i }, t.hasClass = function (n) { var a = So(n); return !!e[a.main] }, t.getAllClassMainTypes = function () { var n = []; return E(e, function (a, i) { n.push(i) }), n }, t.hasSubTypes = function (n) { var a = So(n), i = e[a.main]; return i && i[Tu] }; function r(n) { var a = e[n.main]; return (!a || !a[Tu]) && (a = e[n.main] = {}, a[Tu] = !0), a } } function Nc(t, e) { for (var r = 0; r < t.length; r++)t[r][1] || (t[r][1] = t[r][0]); return e = e || !1, function (n, a, i) { for (var o = {}, s = 0; s < t.length; s++) { var l = t[s][1]; if (!(a && Ct(a, l) >= 0 || i && Ct(i, l) < 0)) { var u = n.getShallow(l, e); u != null && (o[t[s][0]] = u) } } return o } } var yfe = [["fill", "color"], ["shadowBlur"], ["shadowOffsetX"], ["shadowOffsetY"], ["opacity"], ["shadowColor"]], _fe = Nc(yfe), bfe = function () { function t() { } return t.prototype.getAreaStyle = function (e, r) { return _fe(this, e, r) }, t }(), _T = new Xp(50); function wfe(t) { if (typeof t == "string") { var e = _T.get(t); return e && e.image } else return t } function sC(t, e, r, n, a) { if (t) if (typeof t == "string") { if (e && e.__zrImageSrc === t || !r) return e; var i = _T.get(t), o = { hostEl: r, cb: n, cbPayload: a }; return i ? (e = i.image, !j_(e) && i.pending.push(o)) : (e = ql.loadImage(t, UI, UI), e.__zrImageSrc = t, _T.put(t, e.__cachedImgObj = { image: e, pending: [o] })), e } else return t; else return e } function UI() { var t = this.__cachedImgObj; this.onload = this.onerror = this.__cachedImgObj = null; for (var e = 0; e < t.pending.length; e++) { var r = t.pending[e], n = r.cb; n && n(this, r.cbPayload), r.hostEl.dirty() } t.pending.length = 0 } function j_(t) { return t && t.width && t.height } var Qb = /\{([a-zA-Z0-9_]+)\|([^}]*)\}/g; function Sfe(t, e, r, n, a) {
    if (!e) return ""; var i = (t + "").split(`
`); a = wF(e, r, n, a); for (var o = 0, s = i.length; o < s; o++)i[o] = SF(i[o], a); return i.join(`
`)
} function wF(t, e, r, n) { n = n || {}; var a = he({}, n); a.font = e, r = _t(r, "..."), a.maxIterations = _t(n.maxIterations, 2); var i = a.minChar = _t(n.minChar, 0); a.cnCharWidth = Ua("国", e); var o = a.ascCharWidth = Ua("a", e); a.placeholder = _t(n.placeholder, ""); for (var s = t = Math.max(0, t - 1), l = 0; l < i && s >= o; l++)s -= o; var u = Ua(r, e); return u > s && (r = "", u = 0), s = t - u, a.ellipsis = r, a.ellipsisWidth = u, a.contentWidth = s, a.containerWidth = t, a } function SF(t, e) { var r = e.containerWidth, n = e.font, a = e.contentWidth; if (!r) return ""; var i = Ua(t, n); if (i <= r) return t; for (var o = 0; ; o++) { if (i <= a || o >= e.maxIterations) { t += e.ellipsis; break } var s = o === 0 ? xfe(t, a, e.ascCharWidth, e.cnCharWidth) : i > 0 ? Math.floor(t.length * a / i) : 0; t = t.substr(0, s), i = Ua(t, n) } return t === "" && (t = e.placeholder), t } function xfe(t, e, r, n) { for (var a = 0, i = 0, o = t.length; i < o && a < e; i++) { var s = t.charCodeAt(i); a += 0 <= s && s <= 127 ? r : n } return i } function Tfe(t, e) {
    t != null && (t += ""); var r = e.overflow, n = e.padding, a = e.font, i = r === "truncate", o = W_(a), s = _t(e.lineHeight, o), l = !!e.backgroundColor, u = e.lineOverflow === "truncate", c = e.width, f; c != null && (r === "break" || r === "breakAll") ? f = t ? xF(t, e.font, c, r === "breakAll", 0).lines : [] : f = t ? t.split(`
`) : []; var h = f.length * s, d = _t(e.height, h); if (h > d && u) { var v = Math.floor(d / s); f = f.slice(0, v) } if (t && i && c != null) for (var p = wF(c, a, e.ellipsis, { minChar: e.truncateMinChar, placeholder: e.placeholder }), g = 0; g < f.length; g++)f[g] = SF(f[g], p); for (var m = d, y = 0, g = 0; g < f.length; g++)y = Math.max(Ua(f[g], a), y); c == null && (c = y); var _ = y; return n && (m += n[0] + n[2], _ += n[1] + n[3], c += n[1] + n[3]), l && (_ = c), { lines: f, height: d, outerWidth: _, outerHeight: m, lineHeight: s, calculatedLineHeight: o, contentWidth: y, contentHeight: h, width: c }
} var Dfe = function () { function t() { } return t }(), WI = function () { function t(e) { this.tokens = [], e && (this.tokens = e) } return t }(), Cfe = function () { function t() { this.width = 0, this.height = 0, this.contentWidth = 0, this.contentHeight = 0, this.outerWidth = 0, this.outerHeight = 0, this.lines = [] } return t }(); function Mfe(t, e) { var r = new Cfe; if (t != null && (t += ""), !t) return r; for (var n = e.width, a = e.height, i = e.overflow, o = (i === "break" || i === "breakAll") && n != null ? { width: n, accumWidth: 0, breakAll: i === "breakAll" } : null, s = Qb.lastIndex = 0, l; (l = Qb.exec(t)) != null;) { var u = l.index; u > s && Jb(r, t.substring(s, u), e, o), Jb(r, l[2], e, o, l[1]), s = Qb.lastIndex } s < t.length && Jb(r, t.substring(s, t.length), e, o); var c = [], f = 0, h = 0, d = e.padding, v = i === "truncate", p = e.lineOverflow === "truncate"; function g(H, q, K) { H.width = q, H.lineHeight = K, f += K, h = Math.max(h, q) } e: for (var m = 0; m < r.lines.length; m++) { for (var y = r.lines[m], _ = 0, b = 0, x = 0; x < y.tokens.length; x++) { var S = y.tokens[x], T = S.styleName && e.rich[S.styleName] || {}, C = S.textPadding = T.padding, M = C ? C[1] + C[3] : 0, k = S.font = T.font || e.font; S.contentHeight = W_(k); var A = _t(T.height, S.contentHeight); if (S.innerHeight = A, C && (A += C[0] + C[2]), S.height = A, S.lineHeight = Co(T.lineHeight, e.lineHeight, A), S.align = T && T.align || e.align, S.verticalAlign = T && T.verticalAlign || "middle", p && a != null && f + S.lineHeight > a) { x > 0 ? (y.tokens = y.tokens.slice(0, x), g(y, b, _), r.lines = r.lines.slice(0, m + 1)) : r.lines = r.lines.slice(0, m); break e } var R = T.width, N = R == null || R === "auto"; if (typeof R == "string" && R.charAt(R.length - 1) === "%") S.percentWidth = R, c.push(S), S.contentWidth = Ua(S.text, k); else { if (N) { var z = T.backgroundColor, F = z && z.image; F && (F = wfe(F), j_(F) && (S.width = Math.max(S.width, F.width * A / F.height))) } var V = v && n != null ? n - b : null; V != null && V < S.width ? !N || V < M ? (S.text = "", S.width = S.contentWidth = 0) : (S.text = Sfe(S.text, V - M, k, e.ellipsis, { minChar: e.truncateMinChar }), S.width = S.contentWidth = Ua(S.text, k)) : S.contentWidth = Ua(S.text, k) } S.width += M, b += S.width, T && (_ = Math.max(_, S.lineHeight)) } g(y, b, _) } r.outerWidth = r.width = _t(n, h), r.outerHeight = r.height = _t(a, f), r.contentHeight = f, r.contentWidth = h, d && (r.outerWidth += d[1] + d[3], r.outerHeight += d[0] + d[2]); for (var m = 0; m < c.length; m++) { var S = c[m], L = S.percentWidth; S.width = parseInt(L, 10) / 100 * r.width } return r } function Jb(t, e, r, n, a) {
    var i = e === "", o = a && r.rich[a] || {}, s = t.lines, l = o.font || r.font, u = !1, c, f; if (n) {
        var h = o.padding, d = h ? h[1] + h[3] : 0; if (o.width != null && o.width !== "auto") {
            var v = ji(o.width, n.width) + d; s.length > 0 && v + n.accumWidth > n.width && (c = e.split(`
`), u = !0), n.accumWidth = v
        } else { var p = xF(e, l, n.width, n.breakAll, n.accumWidth); n.accumWidth = p.accumWidth + d, f = p.linesWidths, c = p.lines }
    } else c = e.split(`
`); for (var g = 0; g < c.length; g++) { var m = c[g], y = new Dfe; if (y.styleName = a, y.text = m, y.isLineHolder = !m && !i, typeof o.width == "number" ? y.width = o.width : y.width = f ? f[g] : Ua(m, l), !g && !u) { var _ = (s[s.length - 1] || (s[0] = new WI)).tokens, b = _.length; b === 1 && _[0].isLineHolder ? _[0] = y : (m || !b || i) && _.push(y) } else s.push(new WI([y])) }
} function kfe(t) { var e = t.charCodeAt(0); return e >= 32 && e <= 591 || e >= 880 && e <= 4351 || e >= 4608 && e <= 5119 || e >= 7680 && e <= 8303 } var Afe = Po(",&?/;] ".split(""), function (t, e) { return t[e] = !0, t }, {}); function Lfe(t) { return kfe(t) ? !!Afe[t] : !0 } function xF(t, e, r, n, a) {
    for (var i = [], o = [], s = "", l = "", u = 0, c = 0, f = 0; f < t.length; f++) {
        var h = t.charAt(f); if (h === `
`) { l && (s += l, c += u), i.push(s), o.push(c), s = "", l = "", u = 0, c = 0; continue } var d = Ua(h, e), v = n ? !1 : !Lfe(h); if (i.length ? c + d > r : a + c + d > r) { c ? (s || l) && (v ? (s || (s = l, l = "", u = 0, c = u), i.push(s), o.push(c - u), l += h, u += d, s = "", c = u) : (l && (s += l, l = "", u = 0), i.push(s), o.push(c), s = h, c = d)) : v ? (i.push(l), o.push(u), l = h, u = d) : (i.push(h), o.push(d)); continue } c += d, v ? (l += h, u += d) : (l && (s += l, l = "", u = 0), s += h)
    } return !i.length && !s && (s = t, l = "", u = 0), l && (s += l), s && (i.push(s), o.push(c)), i.length === 1 && (c += a), { accumWidth: c, lines: i, linesWidths: o }
} var bT = "__zr_style_" + Math.round(Math.random() * 10), xc = { shadowBlur: 0, shadowOffsetX: 0, shadowOffsetY: 0, shadowColor: "#000", opacity: 1, blend: "source-over" }, Z_ = { style: { shadowBlur: !0, shadowOffsetX: !0, shadowOffsetY: !0, shadowColor: !0, opacity: !0 } }; xc[bT] = !0; var GI = ["z", "z2", "invisible"], Ife = ["invisible"], Pfe = function (t) { ae(e, t); function e(r) { return t.call(this, r) || this } return e.prototype._init = function (r) { for (var n = Nt(r), a = 0; a < n.length; a++) { var i = n[a]; i === "style" ? this.useStyle(r[i]) : t.prototype.attrKV.call(this, i, r[i]) } this.style || this.useStyle({}) }, e.prototype.beforeBrush = function () { }, e.prototype.afterBrush = function () { }, e.prototype.innerBeforeBrush = function () { }, e.prototype.innerAfterBrush = function () { }, e.prototype.shouldBePainted = function (r, n, a, i) { var o = this.transform; if (this.ignore || this.invisible || this.style.opacity === 0 || this.culling && Rfe(this, r, n) || o && !o[0] && !o[3]) return !1; if (a && this.__clipPaths) { for (var s = 0; s < this.__clipPaths.length; ++s)if (this.__clipPaths[s].isZeroArea()) return !1 } if (i && this.parent) for (var l = this.parent; l;) { if (l.ignore) return !1; l = l.parent } return !0 }, e.prototype.contain = function (r, n) { return this.rectContain(r, n) }, e.prototype.traverse = function (r, n) { r.call(n, this) }, e.prototype.rectContain = function (r, n) { var a = this.transformCoordToLocal(r, n), i = this.getBoundingRect(); return i.contain(a[0], a[1]) }, e.prototype.getPaintRect = function () { var r = this._paintRect; if (!this._paintRect || this.__dirty) { var n = this.transform, a = this.getBoundingRect(), i = this.style, o = i.shadowBlur || 0, s = i.shadowOffsetX || 0, l = i.shadowOffsetY || 0; r = this._paintRect || (this._paintRect = new wt(0, 0, 0, 0)), n ? wt.applyTransform(r, a, n) : r.copy(a), (o || s || l) && (r.width += o * 2 + Math.abs(s), r.height += o * 2 + Math.abs(l), r.x = Math.min(r.x, r.x + s - o), r.y = Math.min(r.y, r.y + l - o)); var u = this.dirtyRectTolerance; r.isZero() || (r.x = Math.floor(r.x - u), r.y = Math.floor(r.y - u), r.width = Math.ceil(r.width + 1 + u * 2), r.height = Math.ceil(r.height + 1 + u * 2)) } return r }, e.prototype.setPrevPaintRect = function (r) { r ? (this._prevPaintRect = this._prevPaintRect || new wt(0, 0, 0, 0), this._prevPaintRect.copy(r)) : this._prevPaintRect = null }, e.prototype.getPrevPaintRect = function () { return this._prevPaintRect }, e.prototype.animateStyle = function (r) { return this.animate("style", r) }, e.prototype.updateDuringAnimation = function (r) { r === "style" ? this.dirtyStyle() : this.markRedraw() }, e.prototype.attrKV = function (r, n) { r !== "style" ? t.prototype.attrKV.call(this, r, n) : this.style ? this.setStyle(n) : this.useStyle(n) }, e.prototype.setStyle = function (r, n) { return typeof r == "string" ? this.style[r] = n : he(this.style, r), this.dirtyStyle(), this }, e.prototype.dirtyStyle = function (r) { r || this.markRedraw(), this.__dirty |= rv, this._rect && (this._rect = null) }, e.prototype.dirty = function () { this.dirtyStyle() }, e.prototype.styleChanged = function () { return !!(this.__dirty & rv) }, e.prototype.styleUpdated = function () { this.__dirty &= ~rv }, e.prototype.createStyle = function (r) { return H_(xc, r) }, e.prototype.useStyle = function (r) { r[bT] || (r = this.createStyle(r)), this.__inHover ? this.__hoverStyle = r : this.style = r, this.dirtyStyle() }, e.prototype.isStyleObject = function (r) { return r[bT] }, e.prototype._innerSaveToNormal = function (r) { t.prototype._innerSaveToNormal.call(this, r); var n = this._normalState; r.style && !n.style && (n.style = this._mergeStyle(this.createStyle(), this.style)), this._savePrimaryToNormal(r, n, GI) }, e.prototype._applyStateObj = function (r, n, a, i, o, s) { t.prototype._applyStateObj.call(this, r, n, a, i, o, s); var l = !(n && i), u; if (n && n.style ? o ? i ? u = n.style : (u = this._mergeStyle(this.createStyle(), a.style), this._mergeStyle(u, n.style)) : (u = this._mergeStyle(this.createStyle(), i ? this.style : a.style), this._mergeStyle(u, n.style)) : l && (u = a.style), u) if (o) { var c = this.style; if (this.style = this.createStyle(l ? {} : c), l) for (var f = Nt(c), h = 0; h < f.length; h++) { var d = f[h]; d in u && (u[d] = u[d], this.style[d] = c[d]) } for (var v = Nt(u), h = 0; h < v.length; h++) { var d = v[h]; this.style[d] = this.style[d] } this._transitionState(r, { style: u }, s, this.getAnimationStyleProps()) } else this.useStyle(u); for (var p = this.__inHover ? Ife : GI, h = 0; h < p.length; h++) { var d = p[h]; n && n[d] != null ? this[d] = n[d] : l && a[d] != null && (this[d] = a[d]) } }, e.prototype._mergeStates = function (r) { for (var n = t.prototype._mergeStates.call(this, r), a, i = 0; i < r.length; i++) { var o = r[i]; o.style && (a = a || {}, this._mergeStyle(a, o.style)) } return a && (n.style = a), n }, e.prototype._mergeStyle = function (r, n) { return he(r, n), r }, e.prototype.getAnimationStyleProps = function () { return Z_ }, e.initDefaultProps = function () { var r = e.prototype; r.type = "displayable", r.invisible = !1, r.z = 0, r.z2 = 0, r.zlevel = 0, r.culling = !1, r.cursor = "pointer", r.rectHover = !1, r.incremental = !1, r._rect = null, r.dirtyRectTolerance = 0, r.__dirty = Va | rv }(), e }(nF), ew = new wt(0, 0, 0, 0), tw = new wt(0, 0, 0, 0); function Rfe(t, e, r) { return ew.copy(t.getBoundingRect()), t.transform && ew.applyTransform(t.transform), tw.width = e, tw.height = r, !ew.intersect(tw) } const _i = Pfe; var Ma = Math.min, ka = Math.max, rw = Math.sin, nw = Math.cos, Du = Math.PI * 2, nm = jc(), am = jc(), im = jc(); function q_(t, e, r) { if (t.length !== 0) { for (var n = t[0], a = n[0], i = n[0], o = n[1], s = n[1], l = 1; l < t.length; l++)n = t[l], a = Ma(a, n[0]), i = ka(i, n[0]), o = Ma(o, n[1]), s = ka(s, n[1]); e[0] = a, e[1] = o, r[0] = i, r[1] = s } } function jI(t, e, r, n, a, i) { a[0] = Ma(t, r), a[1] = Ma(e, n), i[0] = ka(t, r), i[1] = ka(e, n) } var ZI = [], qI = []; function Ofe(t, e, r, n, a, i, o, s, l, u) { var c = V4, f = Tn, h = c(t, r, a, o, ZI); l[0] = 1 / 0, l[1] = 1 / 0, u[0] = -1 / 0, u[1] = -1 / 0; for (var d = 0; d < h; d++) { var v = f(t, r, a, o, ZI[d]); l[0] = Ma(v, l[0]), u[0] = ka(v, u[0]) } h = c(e, n, i, s, qI); for (var d = 0; d < h; d++) { var p = f(e, n, i, s, qI[d]); l[1] = Ma(p, l[1]), u[1] = ka(p, u[1]) } l[0] = Ma(t, l[0]), u[0] = ka(t, u[0]), l[0] = Ma(o, l[0]), u[0] = ka(o, u[0]), l[1] = Ma(e, l[1]), u[1] = ka(e, u[1]), l[1] = Ma(s, l[1]), u[1] = ka(s, u[1]) } function Efe(t, e, r, n, a, i, o, s) { var l = H4, u = On, c = ka(Ma(l(t, r, a), 1), 0), f = ka(Ma(l(e, n, i), 1), 0), h = u(t, r, a, c), d = u(e, n, i, f); o[0] = Ma(t, a, h), o[1] = Ma(e, i, d), s[0] = ka(t, a, h), s[1] = ka(e, i, d) } function Nfe(t, e, r, n, a, i, o, s, l) { var u = xl, c = Tl, f = Math.abs(a - i); if (f % Du < 1e-4 && f > 1e-4) { s[0] = t - r, s[1] = e - n, l[0] = t + r, l[1] = e + n; return } if (nm[0] = nw(a) * r + t, nm[1] = rw(a) * n + e, am[0] = nw(i) * r + t, am[1] = rw(i) * n + e, u(s, nm, am), c(l, nm, am), a = a % Du, a < 0 && (a = a + Du), i = i % Du, i < 0 && (i = i + Du), a > i && !o ? i += Du : a < i && o && (a += Du), o) { var h = i; i = a, a = h } for (var d = 0; d < i; d += Math.PI / 2)d > a && (im[0] = nw(d) * r + t, im[1] = rw(d) * n + e, u(s, im, s), c(l, im, l)) } var wr = { M: 1, L: 2, C: 3, Q: 4, A: 5, Z: 6, R: 7 }, Cu = [], Mu = [], no = [], tl = [], ao = [], io = [], aw = Math.min, iw = Math.max, ku = Math.cos, Au = Math.sin, ns = Math.abs, wT = Math.PI, hl = wT * 2, ow = typeof Float32Array < "u", Dd = []; function sw(t) { var e = Math.round(t / wT * 1e8) / 1e8; return e % 2 * wT } function TF(t, e) { var r = sw(t[0]); r < 0 && (r += hl); var n = r - t[0], a = t[1]; a += n, !e && a - r >= hl ? a = r + hl : e && r - a >= hl ? a = r - hl : !e && r > a ? a = r + (hl - sw(r - a)) : e && r < a && (a = r - (hl - sw(a - r))), t[0] = r, t[1] = a } var No = function () { function t(e) { this.dpr = 1, this._xi = 0, this._yi = 0, this._x0 = 0, this._y0 = 0, this._len = 0, e && (this._saveData = !1), this._saveData && (this.data = []) } return t.prototype.increaseVersion = function () { this._version++ }, t.prototype.getVersion = function () { return this._version }, t.prototype.setScale = function (e, r, n) { n = n || 0, n > 0 && (this._ux = ns(n / n0 / e) || 0, this._uy = ns(n / n0 / r) || 0) }, t.prototype.setDPR = function (e) { this.dpr = e }, t.prototype.setContext = function (e) { this._ctx = e }, t.prototype.getContext = function () { return this._ctx }, t.prototype.beginPath = function () { return this._ctx && this._ctx.beginPath(), this.reset(), this }, t.prototype.reset = function () { this._saveData && (this._len = 0), this._pathSegLen && (this._pathSegLen = null, this._pathLen = 0), this._version++ }, t.prototype.moveTo = function (e, r) { return this._drawPendingPt(), this.addData(wr.M, e, r), this._ctx && this._ctx.moveTo(e, r), this._x0 = e, this._y0 = r, this._xi = e, this._yi = r, this }, t.prototype.lineTo = function (e, r) { var n = ns(e - this._xi), a = ns(r - this._yi), i = n > this._ux || a > this._uy; if (this.addData(wr.L, e, r), this._ctx && i && this._ctx.lineTo(e, r), i) this._xi = e, this._yi = r, this._pendingPtDist = 0; else { var o = n * n + a * a; o > this._pendingPtDist && (this._pendingPtX = e, this._pendingPtY = r, this._pendingPtDist = o) } return this }, t.prototype.bezierCurveTo = function (e, r, n, a, i, o) { return this._drawPendingPt(), this.addData(wr.C, e, r, n, a, i, o), this._ctx && this._ctx.bezierCurveTo(e, r, n, a, i, o), this._xi = i, this._yi = o, this }, t.prototype.quadraticCurveTo = function (e, r, n, a) { return this._drawPendingPt(), this.addData(wr.Q, e, r, n, a), this._ctx && this._ctx.quadraticCurveTo(e, r, n, a), this._xi = n, this._yi = a, this }, t.prototype.arc = function (e, r, n, a, i, o) { this._drawPendingPt(), Dd[0] = a, Dd[1] = i, TF(Dd, o), a = Dd[0], i = Dd[1]; var s = i - a; return this.addData(wr.A, e, r, n, n, a, s, 0, o ? 0 : 1), this._ctx && this._ctx.arc(e, r, n, a, i, o), this._xi = ku(i) * n + e, this._yi = Au(i) * n + r, this }, t.prototype.arcTo = function (e, r, n, a, i) { return this._drawPendingPt(), this._ctx && this._ctx.arcTo(e, r, n, a, i), this }, t.prototype.rect = function (e, r, n, a) { return this._drawPendingPt(), this._ctx && this._ctx.rect(e, r, n, a), this.addData(wr.R, e, r, n, a), this }, t.prototype.closePath = function () { this._drawPendingPt(), this.addData(wr.Z); var e = this._ctx, r = this._x0, n = this._y0; return e && e.closePath(), this._xi = r, this._yi = n, this }, t.prototype.fill = function (e) { e && e.fill(), this.toStatic() }, t.prototype.stroke = function (e) { e && e.stroke(), this.toStatic() }, t.prototype.len = function () { return this._len }, t.prototype.setData = function (e) { var r = e.length; !(this.data && this.data.length === r) && ow && (this.data = new Float32Array(r)); for (var n = 0; n < r; n++)this.data[n] = e[n]; this._len = r }, t.prototype.appendPath = function (e) { e instanceof Array || (e = [e]); for (var r = e.length, n = 0, a = this._len, i = 0; i < r; i++)n += e[i].len(); ow && this.data instanceof Float32Array && (this.data = new Float32Array(a + n)); for (var i = 0; i < r; i++)for (var o = e[i].data, s = 0; s < o.length; s++)this.data[a++] = o[s]; this._len = a }, t.prototype.addData = function (e, r, n, a, i, o, s, l, u) { if (this._saveData) { var c = this.data; this._len + arguments.length > c.length && (this._expandData(), c = this.data); for (var f = 0; f < arguments.length; f++)c[this._len++] = arguments[f] } }, t.prototype._drawPendingPt = function () { this._pendingPtDist > 0 && (this._ctx && this._ctx.lineTo(this._pendingPtX, this._pendingPtY), this._pendingPtDist = 0) }, t.prototype._expandData = function () { if (!(this.data instanceof Array)) { for (var e = [], r = 0; r < this._len; r++)e[r] = this.data[r]; this.data = e } }, t.prototype.toStatic = function () { if (this._saveData) { this._drawPendingPt(); var e = this.data; e instanceof Array && (e.length = this._len, ow && this._len > 11 && (this.data = new Float32Array(e))) } }, t.prototype.getBoundingRect = function () { no[0] = no[1] = ao[0] = ao[1] = Number.MAX_VALUE, tl[0] = tl[1] = io[0] = io[1] = -Number.MAX_VALUE; var e = this.data, r = 0, n = 0, a = 0, i = 0, o; for (o = 0; o < this._len;) { var s = e[o++], l = o === 1; switch (l && (r = e[o], n = e[o + 1], a = r, i = n), s) { case wr.M: r = a = e[o++], n = i = e[o++], ao[0] = a, ao[1] = i, io[0] = a, io[1] = i; break; case wr.L: jI(r, n, e[o], e[o + 1], ao, io), r = e[o++], n = e[o++]; break; case wr.C: Ofe(r, n, e[o++], e[o++], e[o++], e[o++], e[o], e[o + 1], ao, io), r = e[o++], n = e[o++]; break; case wr.Q: Efe(r, n, e[o++], e[o++], e[o], e[o + 1], ao, io), r = e[o++], n = e[o++]; break; case wr.A: var u = e[o++], c = e[o++], f = e[o++], h = e[o++], d = e[o++], v = e[o++] + d; o += 1; var p = !e[o++]; l && (a = ku(d) * f + u, i = Au(d) * h + c), Nfe(u, c, f, h, d, v, p, ao, io), r = ku(v) * f + u, n = Au(v) * h + c; break; case wr.R: a = r = e[o++], i = n = e[o++]; var g = e[o++], m = e[o++]; jI(a, i, a + g, i + m, ao, io); break; case wr.Z: r = a, n = i; break }xl(no, no, ao), Tl(tl, tl, io) } return o === 0 && (no[0] = no[1] = tl[0] = tl[1] = 0), new wt(no[0], no[1], tl[0] - no[0], tl[1] - no[1]) }, t.prototype._calculateLength = function () { var e = this.data, r = this._len, n = this._ux, a = this._uy, i = 0, o = 0, s = 0, l = 0; this._pathSegLen || (this._pathSegLen = []); for (var u = this._pathSegLen, c = 0, f = 0, h = 0; h < r;) { var d = e[h++], v = h === 1; v && (i = e[h], o = e[h + 1], s = i, l = o); var p = -1; switch (d) { case wr.M: i = s = e[h++], o = l = e[h++]; break; case wr.L: { var g = e[h++], m = e[h++], y = g - i, _ = m - o; (ns(y) > n || ns(_) > a || h === r - 1) && (p = Math.sqrt(y * y + _ * _), i = g, o = m); break } case wr.C: { var b = e[h++], x = e[h++], g = e[h++], m = e[h++], S = e[h++], T = e[h++]; p = Que(i, o, b, x, g, m, S, T, 10), i = S, o = T; break } case wr.Q: { var b = e[h++], x = e[h++], g = e[h++], m = e[h++]; p = ece(i, o, b, x, g, m, 10), i = g, o = m; break } case wr.A: var C = e[h++], M = e[h++], k = e[h++], A = e[h++], R = e[h++], N = e[h++], z = N + R; h += 1, e[h++], v && (s = ku(R) * k + C, l = Au(R) * A + M), p = iw(k, A) * aw(hl, Math.abs(N)), i = ku(z) * k + C, o = Au(z) * A + M; break; case wr.R: { s = i = e[h++], l = o = e[h++]; var F = e[h++], V = e[h++]; p = F * 2 + V * 2; break } case wr.Z: { var y = s - i, _ = l - o; p = Math.sqrt(y * y + _ * _), i = s, o = l; break } }p >= 0 && (u[f++] = p, c += p) } return this._pathLen = c, c }, t.prototype.rebuildPath = function (e, r) { var n = this.data, a = this._ux, i = this._uy, o = this._len, s, l, u, c, f, h, d = r < 1, v, p, g = 0, m = 0, y, _ = 0, b, x; if (!(d && (this._pathSegLen || this._calculateLength(), v = this._pathSegLen, p = this._pathLen, y = r * p, !y))) e: for (var S = 0; S < o;) { var T = n[S++], C = S === 1; switch (C && (u = n[S], c = n[S + 1], s = u, l = c), T !== wr.L && _ > 0 && (e.lineTo(b, x), _ = 0), T) { case wr.M: s = u = n[S++], l = c = n[S++], e.moveTo(u, c); break; case wr.L: { f = n[S++], h = n[S++]; var M = ns(f - u), k = ns(h - c); if (M > a || k > i) { if (d) { var A = v[m++]; if (g + A > y) { var R = (y - g) / A; e.lineTo(u * (1 - R) + f * R, c * (1 - R) + h * R); break e } g += A } e.lineTo(f, h), u = f, c = h, _ = 0 } else { var N = M * M + k * k; N > _ && (b = f, x = h, _ = N) } break } case wr.C: { var z = n[S++], F = n[S++], V = n[S++], L = n[S++], H = n[S++], q = n[S++]; if (d) { var A = v[m++]; if (g + A > y) { var R = (y - g) / A; Xl(u, z, V, H, R, Cu), Xl(c, F, L, q, R, Mu), e.bezierCurveTo(Cu[1], Mu[1], Cu[2], Mu[2], Cu[3], Mu[3]); break e } g += A } e.bezierCurveTo(z, F, V, L, H, q), u = H, c = q; break } case wr.Q: { var z = n[S++], F = n[S++], V = n[S++], L = n[S++]; if (d) { var A = v[m++]; if (g + A > y) { var R = (y - g) / A; op(u, z, V, R, Cu), op(c, F, L, R, Mu), e.quadraticCurveTo(Cu[1], Mu[1], Cu[2], Mu[2]); break e } g += A } e.quadraticCurveTo(z, F, V, L), u = V, c = L; break } case wr.A: var K = n[S++], te = n[S++], oe = n[S++], X = n[S++], U = n[S++], B = n[S++], ee = n[S++], Q = !n[S++], se = oe > X ? oe : X, ue = ns(oe - X) > .001, pe = U + B, Se = !1; if (d) { var A = v[m++]; g + A > y && (pe = U + B * (y - g) / A, Se = !0), g += A } if (ue && e.ellipse ? e.ellipse(K, te, oe, X, ee, U, pe, Q) : e.arc(K, te, se, U, pe, Q), Se) break e; C && (s = ku(U) * oe + K, l = Au(U) * X + te), u = ku(pe) * oe + K, c = Au(pe) * X + te; break; case wr.R: s = u = n[S], l = c = n[S + 1], f = n[S++], h = n[S++]; var G = n[S++], Z = n[S++]; if (d) { var A = v[m++]; if (g + A > y) { var J = y - g; e.moveTo(f, h), e.lineTo(f + aw(J, G), h), J -= G, J > 0 && e.lineTo(f + G, h + aw(J, Z)), J -= Z, J > 0 && e.lineTo(f + iw(G - J, 0), h + Z), J -= G, J > 0 && e.lineTo(f, h + iw(Z - J, 0)); break e } g += A } e.rect(f, h, G, Z); break; case wr.Z: if (d) { var A = v[m++]; if (g + A > y) { var R = (y - g) / A; e.lineTo(u * (1 - R) + s * R, c * (1 - R) + l * R); break e } g += A } e.closePath(), u = s, c = l } } }, t.prototype.clone = function () { var e = new t, r = this.data; return e.data = r.slice ? r.slice() : Array.prototype.slice.call(r), e._len = this._len, e }, t.CMD = wr, t.initDefaultProps = function () { var e = t.prototype; e._saveData = !0, e._ux = 0, e._uy = 0, e._pendingPtDist = 0, e._version = 0 }(), t }(); function bl(t, e, r, n, a, i, o) { if (a === 0) return !1; var s = a, l = 0, u = t; if (o > e + s && o > n + s || o < e - s && o < n - s || i > t + s && i > r + s || i < t - s && i < r - s) return !1; if (t !== r) l = (e - n) / (t - r), u = (t * n - r * e) / (t - r); else return Math.abs(i - t) <= s / 2; var c = l * i - o + u, f = c * c / (l * l + 1); return f <= s / 2 * s / 2 } function $fe(t, e, r, n, a, i, o, s, l, u, c) { if (l === 0) return !1; var f = l; if (c > e + f && c > n + f && c > i + f && c > s + f || c < e - f && c < n - f && c < i - f && c < s - f || u > t + f && u > r + f && u > a + f && u > o + f || u < t - f && u < r - f && u < a - f && u < o - f) return !1; var h = z4(t, e, r, n, a, i, o, s, u, c, null); return h <= f / 2 } function DF(t, e, r, n, a, i, o, s, l) { if (o === 0) return !1; var u = o; if (l > e + u && l > n + u && l > i + u || l < e - u && l < n - u && l < i - u || s > t + u && s > r + u && s > a + u || s < t - u && s < r - u && s < a - u) return !1; var c = Y4(t, e, r, n, a, i, s, l, null); return c <= u / 2 } var XI = Math.PI * 2; function Bi(t) { return t %= XI, t < 0 && (t += XI), t } var Cd = Math.PI * 2; function Ffe(t, e, r, n, a, i, o, s, l) { if (o === 0) return !1; var u = o; s -= t, l -= e; var c = Math.sqrt(s * s + l * l); if (c - u > r || c + u < r) return !1; if (Math.abs(n - a) % Cd < 1e-4) return !0; if (i) { var f = n; n = Bi(a), a = Bi(f) } else n = Bi(n), a = Bi(a); n > a && (a += Cd); var h = Math.atan2(l, s); return h < 0 && (h += Cd), h >= n && h <= a || h + Cd >= n && h + Cd <= a } function us(t, e, r, n, a, i) { if (i > e && i > n || i < e && i < n || n === e) return 0; var o = (i - e) / (n - e), s = n < e ? 1 : -1; (o === 1 || o === 0) && (s = n < e ? .5 : -.5); var l = o * (r - t) + t; return l === a ? 1 / 0 : l > a ? s : 0 } var rl = No.CMD, Lu = Math.PI * 2, Bfe = 1e-4; function Vfe(t, e) { return Math.abs(t - e) < Bfe } var fa = [-1, -1, -1], ai = [-1, -1]; function zfe() { var t = ai[0]; ai[0] = ai[1], ai[1] = t } function Hfe(t, e, r, n, a, i, o, s, l, u) { if (u > e && u > n && u > i && u > s || u < e && u < n && u < i && u < s) return 0; var c = Jy(e, n, i, s, u, fa); if (c === 0) return 0; for (var f = 0, h = -1, d = void 0, v = void 0, p = 0; p < c; p++) { var g = fa[p], m = g === 0 || g === 1 ? .5 : 1, y = Tn(t, r, a, o, g); y < l || (h < 0 && (h = V4(e, n, i, s, ai), ai[1] < ai[0] && h > 1 && zfe(), d = Tn(e, n, i, s, ai[0]), h > 1 && (v = Tn(e, n, i, s, ai[1]))), h === 2 ? g < ai[0] ? f += d < e ? m : -m : g < ai[1] ? f += v < d ? m : -m : f += s < v ? m : -m : g < ai[0] ? f += d < e ? m : -m : f += s < d ? m : -m) } return f } function Yfe(t, e, r, n, a, i, o, s) { if (s > e && s > n && s > i || s < e && s < n && s < i) return 0; var l = Jue(e, n, i, s, fa); if (l === 0) return 0; var u = H4(e, n, i); if (u >= 0 && u <= 1) { for (var c = 0, f = On(e, n, i, u), h = 0; h < l; h++) { var d = fa[h] === 0 || fa[h] === 1 ? .5 : 1, v = On(t, r, a, fa[h]); v < o || (fa[h] < u ? c += f < e ? d : -d : c += i < f ? d : -d) } return c } else { var d = fa[0] === 0 || fa[0] === 1 ? .5 : 1, v = On(t, r, a, fa[0]); return v < o ? 0 : i < e ? d : -d } } function Ufe(t, e, r, n, a, i, o, s) { if (s -= e, s > r || s < -r) return 0; var l = Math.sqrt(r * r - s * s); fa[0] = -l, fa[1] = l; var u = Math.abs(n - a); if (u < 1e-4) return 0; if (u >= Lu - 1e-4) { n = 0, a = Lu; var c = i ? 1 : -1; return o >= fa[0] + t && o <= fa[1] + t ? c : 0 } if (n > a) { var f = n; n = a, a = f } n < 0 && (n += Lu, a += Lu); for (var h = 0, d = 0; d < 2; d++) { var v = fa[d]; if (v + t > o) { var p = Math.atan2(s, v), c = i ? 1 : -1; p < 0 && (p = Lu + p), (p >= n && p <= a || p + Lu >= n && p + Lu <= a) && (p > Math.PI / 2 && p < Math.PI * 1.5 && (c = -c), h += c) } } return h } function CF(t, e, r, n, a) { for (var i = t.data, o = t.len(), s = 0, l = 0, u = 0, c = 0, f = 0, h, d, v = 0; v < o;) { var p = i[v++], g = v === 1; switch (p === rl.M && v > 1 && (r || (s += us(l, u, c, f, n, a))), g && (l = i[v], u = i[v + 1], c = l, f = u), p) { case rl.M: c = i[v++], f = i[v++], l = c, u = f; break; case rl.L: if (r) { if (bl(l, u, i[v], i[v + 1], e, n, a)) return !0 } else s += us(l, u, i[v], i[v + 1], n, a) || 0; l = i[v++], u = i[v++]; break; case rl.C: if (r) { if ($fe(l, u, i[v++], i[v++], i[v++], i[v++], i[v], i[v + 1], e, n, a)) return !0 } else s += Hfe(l, u, i[v++], i[v++], i[v++], i[v++], i[v], i[v + 1], n, a) || 0; l = i[v++], u = i[v++]; break; case rl.Q: if (r) { if (DF(l, u, i[v++], i[v++], i[v], i[v + 1], e, n, a)) return !0 } else s += Yfe(l, u, i[v++], i[v++], i[v], i[v + 1], n, a) || 0; l = i[v++], u = i[v++]; break; case rl.A: var m = i[v++], y = i[v++], _ = i[v++], b = i[v++], x = i[v++], S = i[v++]; v += 1; var T = !!(1 - i[v++]); h = Math.cos(x) * _ + m, d = Math.sin(x) * b + y, g ? (c = h, f = d) : s += us(l, u, h, d, n, a); var C = (n - m) * b / _ + m; if (r) { if (Ffe(m, y, b, x, x + S, T, e, C, a)) return !0 } else s += Ufe(m, y, b, x, x + S, T, C, a); l = Math.cos(x + S) * _ + m, u = Math.sin(x + S) * b + y; break; case rl.R: c = l = i[v++], f = u = i[v++]; var M = i[v++], k = i[v++]; if (h = c + M, d = f + k, r) { if (bl(c, f, h, f, e, n, a) || bl(h, f, h, d, e, n, a) || bl(h, d, c, d, e, n, a) || bl(c, d, c, f, e, n, a)) return !0 } else s += us(h, f, h, d, n, a), s += us(c, d, c, f, n, a); break; case rl.Z: if (r) { if (bl(l, u, c, f, e, n, a)) return !0 } else s += us(l, u, c, f, n, a); l = c, u = f; break } } return !r && !Vfe(u, f) && (s += us(l, u, c, f, n, a) || 0), s !== 0 } function Wfe(t, e, r) { return CF(t, 0, !1, e, r) } function Gfe(t, e, r, n) { return CF(t, e, !0, r, n) } var o0 = Xe({ fill: "#000", stroke: null, strokePercent: 1, fillOpacity: 1, strokeOpacity: 1, lineDashOffset: 0, lineWidth: 1, lineCap: "butt", miterLimit: 10, strokeNoScale: !1, strokeFirst: !1 }, xc), jfe = { style: Xe({ fill: !0, stroke: !0, strokePercent: !0, fillOpacity: !0, strokeOpacity: !0, lineDashOffset: !0, lineWidth: !0, miterLimit: !0 }, Z_.style) }, lw = Oo.concat(["invisible", "culling", "z", "z2", "zlevel", "parent"]), Zfe = function (t) { ae(e, t); function e(r) { return t.call(this, r) || this } return e.prototype.update = function () { var r = this; t.prototype.update.call(this); var n = this.style; if (n.decal) { var a = this._decalEl = this._decalEl || new e; a.buildPath === e.prototype.buildPath && (a.buildPath = function (l) { r.buildPath(l, r.shape) }), a.silent = !0; var i = a.style; for (var o in n) i[o] !== n[o] && (i[o] = n[o]); i.fill = n.fill ? n.decal : null, i.decal = null, i.shadowColor = null, n.strokeFirst && (i.stroke = null); for (var s = 0; s < lw.length; ++s)a[lw[s]] = this[lw[s]]; a.__dirty |= Va } else this._decalEl && (this._decalEl = null) }, e.prototype.getDecalElement = function () { return this._decalEl }, e.prototype._init = function (r) { var n = Nt(r); this.shape = this.getDefaultShape(); var a = this.getDefaultStyle(); a && this.useStyle(a); for (var i = 0; i < n.length; i++) { var o = n[i], s = r[o]; o === "style" ? this.style ? he(this.style, s) : this.useStyle(s) : o === "shape" ? he(this.shape, s) : t.prototype.attrKV.call(this, o, s) } this.style || this.useStyle({}) }, e.prototype.getDefaultStyle = function () { return null }, e.prototype.getDefaultShape = function () { return {} }, e.prototype.canBeInsideText = function () { return this.hasFill() }, e.prototype.getInsideTextFill = function () { var r = this.style.fill; if (r !== "none") { if (Oe(r)) { var n = t0(r, 0); return n > .5 ? gT : n > .2 ? Ice : mT } else if (r) return mT } return gT }, e.prototype.getInsideTextStroke = function (r) { var n = this.style.fill; if (Oe(n)) { var a = this.__zr, i = !!(a && a.isDarkMode()), o = t0(r, 0) < pT; if (i === o) return n } }, e.prototype.buildPath = function (r, n, a) { }, e.prototype.pathUpdated = function () { this.__dirty &= ~Hf }, e.prototype.getUpdatedPathProxy = function (r) { return !this.path && this.createPathProxy(), this.path.beginPath(), this.buildPath(this.path, this.shape, r), this.path }, e.prototype.createPathProxy = function () { this.path = new No(!1) }, e.prototype.hasStroke = function () { var r = this.style, n = r.stroke; return !(n == null || n === "none" || !(r.lineWidth > 0)) }, e.prototype.hasFill = function () { var r = this.style, n = r.fill; return n != null && n !== "none" }, e.prototype.getBoundingRect = function () { var r = this._rect, n = this.style, a = !r; if (a) { var i = !1; this.path || (i = !0, this.createPathProxy()); var o = this.path; (i || this.__dirty & Hf) && (o.beginPath(), this.buildPath(o, this.shape, !1), this.pathUpdated()), r = o.getBoundingRect() } if (this._rect = r, this.hasStroke() && this.path && this.path.len() > 0) { var s = this._rectStroke || (this._rectStroke = r.clone()); if (this.__dirty || a) { s.copy(r); var l = n.strokeNoScale ? this.getLineScale() : 1, u = n.lineWidth; if (!this.hasFill()) { var c = this.strokeContainThreshold; u = Math.max(u, c ?? 4) } l > 1e-10 && (s.width += u / l, s.height += u / l, s.x -= u / l / 2, s.y -= u / l / 2) } return s } return r }, e.prototype.contain = function (r, n) { var a = this.transformCoordToLocal(r, n), i = this.getBoundingRect(), o = this.style; if (r = a[0], n = a[1], i.contain(r, n)) { var s = this.path; if (this.hasStroke()) { var l = o.lineWidth, u = o.strokeNoScale ? this.getLineScale() : 1; if (u > 1e-10 && (this.hasFill() || (l = Math.max(l, this.strokeContainThreshold)), Gfe(s, l / u, r, n))) return !0 } if (this.hasFill()) return Wfe(s, r, n) } return !1 }, e.prototype.dirtyShape = function () { this.__dirty |= Hf, this._rect && (this._rect = null), this._decalEl && this._decalEl.dirtyShape(), this.markRedraw() }, e.prototype.dirty = function () { this.dirtyStyle(), this.dirtyShape() }, e.prototype.animateShape = function (r) { return this.animate("shape", r) }, e.prototype.updateDuringAnimation = function (r) { r === "style" ? this.dirtyStyle() : r === "shape" ? this.dirtyShape() : this.markRedraw() }, e.prototype.attrKV = function (r, n) { r === "shape" ? this.setShape(n) : t.prototype.attrKV.call(this, r, n) }, e.prototype.setShape = function (r, n) { var a = this.shape; return a || (a = this.shape = {}), typeof r == "string" ? a[r] = n : he(a, r), this.dirtyShape(), this }, e.prototype.shapeChanged = function () { return !!(this.__dirty & Hf) }, e.prototype.createStyle = function (r) { return H_(o0, r) }, e.prototype._innerSaveToNormal = function (r) { t.prototype._innerSaveToNormal.call(this, r); var n = this._normalState; r.shape && !n.shape && (n.shape = he({}, this.shape)) }, e.prototype._applyStateObj = function (r, n, a, i, o, s) { t.prototype._applyStateObj.call(this, r, n, a, i, o, s); var l = !(n && i), u; if (n && n.shape ? o ? i ? u = n.shape : (u = he({}, a.shape), he(u, n.shape)) : (u = he({}, i ? this.shape : a.shape), he(u, n.shape)) : l && (u = a.shape), u) if (o) { this.shape = he({}, this.shape); for (var c = {}, f = Nt(u), h = 0; h < f.length; h++) { var d = f[h]; typeof u[d] == "object" ? this.shape[d] = u[d] : c[d] = u[d] } this._transitionState(r, { shape: c }, s) } else this.shape = u, this.dirtyShape() }, e.prototype._mergeStates = function (r) { for (var n = t.prototype._mergeStates.call(this, r), a, i = 0; i < r.length; i++) { var o = r[i]; o.shape && (a = a || {}, this._mergeStyle(a, o.shape)) } return a && (n.shape = a), n }, e.prototype.getAnimationStyleProps = function () { return jfe }, e.prototype.isZeroArea = function () { return !1 }, e.extend = function (r) { var n = function (i) { ae(o, i); function o(s) { var l = i.call(this, s) || this; return r.init && r.init.call(l, s), l } return o.prototype.getDefaultStyle = function () { return rt(r.style) }, o.prototype.getDefaultShape = function () { return rt(r.shape) }, o }(e); for (var a in r) typeof r[a] == "function" && (n.prototype[a] = r[a]); return n }, e.initDefaultProps = function () { var r = e.prototype; r.type = "path", r.strokeContainThreshold = 5, r.segmentIgnoreThreshold = 0, r.subPixelOptimize = !1, r.autoBatch = !1, r.__dirty = Va | rv | Hf }(), e }(_i); const At = Zfe; var qfe = Xe({ strokeFirst: !0, font: Zl, x: 0, y: 0, textAlign: "left", textBaseline: "top", miterLimit: 2 }, o0), MF = function (t) { ae(e, t); function e() { return t !== null && t.apply(this, arguments) || this } return e.prototype.hasStroke = function () { var r = this.style, n = r.stroke; return n != null && n !== "none" && r.lineWidth > 0 }, e.prototype.hasFill = function () { var r = this.style, n = r.fill; return n != null && n !== "none" }, e.prototype.createStyle = function (r) { return H_(qfe, r) }, e.prototype.setBoundingRect = function (r) { this._rect = r }, e.prototype.getBoundingRect = function () { var r = this.style; if (!this._rect) { var n = r.text; n != null ? n += "" : n = ""; var a = Kp(n, r.font, r.textAlign, r.textBaseline); if (a.x += r.x || 0, a.y += r.y || 0, this.hasStroke()) { var i = r.lineWidth; a.x -= i / 2, a.y -= i / 2, a.width += i, a.height += i } this._rect = a } return this._rect }, e.initDefaultProps = function () { var r = e.prototype; r.dirtyRectTolerance = 10 }(), e }(_i); MF.prototype.type = "tspan"; const cp = MF; var Xfe = Xe({ x: 0, y: 0 }, xc), Kfe = { style: Xe({ x: !0, y: !0, width: !0, height: !0, sx: !0, sy: !0, sWidth: !0, sHeight: !0 }, Z_.style) }; function Qfe(t) { return !!(t && typeof t != "string" && t.width && t.height) } var kF = function (t) { ae(e, t); function e() { return t !== null && t.apply(this, arguments) || this } return e.prototype.createStyle = function (r) { return H_(Xfe, r) }, e.prototype._getSize = function (r) { var n = this.style, a = n[r]; if (a != null) return a; var i = Qfe(n.image) ? n.image : this.__image; if (!i) return 0; var o = r === "width" ? "height" : "width", s = n[o]; return s == null ? i[r] : i[r] / i[o] * s }, e.prototype.getWidth = function () { return this._getSize("width") }, e.prototype.getHeight = function () { return this._getSize("height") }, e.prototype.getAnimationStyleProps = function () { return Kfe }, e.prototype.getBoundingRect = function () { var r = this.style; return this._rect || (this._rect = new wt(r.x || 0, r.y || 0, this.getWidth(), this.getHeight())), this._rect }, e }(_i); kF.prototype.type = "image"; const Gn = kF; function Jfe(t, e) { var r = e.x, n = e.y, a = e.width, i = e.height, o = e.r, s, l, u, c; a < 0 && (r = r + a, a = -a), i < 0 && (n = n + i, i = -i), typeof o == "number" ? s = l = u = c = o : o instanceof Array ? o.length === 1 ? s = l = u = c = o[0] : o.length === 2 ? (s = u = o[0], l = c = o[1]) : o.length === 3 ? (s = o[0], l = c = o[1], u = o[2]) : (s = o[0], l = o[1], u = o[2], c = o[3]) : s = l = u = c = 0; var f; s + l > a && (f = s + l, s *= a / f, l *= a / f), u + c > a && (f = u + c, u *= a / f, c *= a / f), l + u > i && (f = l + u, l *= i / f, u *= i / f), s + c > i && (f = s + c, s *= i / f, c *= i / f), t.moveTo(r + s, n), t.lineTo(r + a - l, n), l !== 0 && t.arc(r + a - l, n + l, l, -Math.PI / 2, 0), t.lineTo(r + a, n + i - u), u !== 0 && t.arc(r + a - u, n + i - u, u, 0, Math.PI / 2), t.lineTo(r + c, n + i), c !== 0 && t.arc(r + c, n + i - c, c, Math.PI / 2, Math.PI), t.lineTo(r, n + s), s !== 0 && t.arc(r + s, n + s, s, Math.PI, Math.PI * 1.5) } var eh = Math.round; function AF(t, e, r) { if (e) { var n = e.x1, a = e.x2, i = e.y1, o = e.y2; t.x1 = n, t.x2 = a, t.y1 = i, t.y2 = o; var s = r && r.lineWidth; return s && (eh(n * 2) === eh(a * 2) && (t.x1 = t.x2 = lc(n, s, !0)), eh(i * 2) === eh(o * 2) && (t.y1 = t.y2 = lc(i, s, !0))), t } } function LF(t, e, r) { if (e) { var n = e.x, a = e.y, i = e.width, o = e.height; t.x = n, t.y = a, t.width = i, t.height = o; var s = r && r.lineWidth; return s && (t.x = lc(n, s, !0), t.y = lc(a, s, !0), t.width = Math.max(lc(n + i, s, !1) - t.x, i === 0 ? 0 : 1), t.height = Math.max(lc(a + o, s, !1) - t.y, o === 0 ? 0 : 1)), t } } function lc(t, e, r) { if (!e) return t; var n = eh(t * 2); return (n + eh(e)) % 2 === 0 ? n / 2 : (n + (r ? 1 : -1)) / 2 } var ehe = function () { function t() { this.x = 0, this.y = 0, this.width = 0, this.height = 0 } return t }(), the = {}, IF = function (t) { ae(e, t); function e(r) { return t.call(this, r) || this } return e.prototype.getDefaultShape = function () { return new ehe }, e.prototype.buildPath = function (r, n) { var a, i, o, s; if (this.subPixelOptimize) { var l = LF(the, n, this.style); a = l.x, i = l.y, o = l.width, s = l.height, l.r = n.r, n = l } else a = n.x, i = n.y, o = n.width, s = n.height; n.r ? Jfe(r, n) : r.rect(a, i, o, s) }, e.prototype.isZeroArea = function () { return !this.shape.width || !this.shape.height }, e }(At); IF.prototype.type = "rect"; const Bt = IF; var KI = { fill: "#000" }, QI = 2, rhe = { style: Xe({ fill: !0, stroke: !0, fillOpacity: !0, strokeOpacity: !0, lineWidth: !0, fontSize: !0, lineHeight: !0, width: !0, height: !0, textShadowColor: !0, textShadowBlur: !0, textShadowOffsetX: !0, textShadowOffsetY: !0, backgroundColor: !0, padding: !0, borderColor: !0, borderWidth: !0, borderRadius: !0 }, Z_.style) }, PF = function (t) { ae(e, t); function e(r) { var n = t.call(this) || this; return n.type = "text", n._children = [], n._defaultStyle = KI, n.attr(r), n } return e.prototype.childrenRef = function () { return this._children }, e.prototype.update = function () { t.prototype.update.call(this), this.styleChanged() && this._updateSubTexts(); for (var r = 0; r < this._children.length; r++) { var n = this._children[r]; n.zlevel = this.zlevel, n.z = this.z, n.z2 = this.z2, n.culling = this.culling, n.cursor = this.cursor, n.invisible = this.invisible } }, e.prototype.updateTransform = function () { var r = this.innerTransformable; r ? (r.updateTransform(), r.transform && (this.transform = r.transform)) : t.prototype.updateTransform.call(this) }, e.prototype.getLocalTransform = function (r) { var n = this.innerTransformable; return n ? n.getLocalTransform(r) : t.prototype.getLocalTransform.call(this, r) }, e.prototype.getComputedTransform = function () { return this.__hostTarget && (this.__hostTarget.getComputedTransform(), this.__hostTarget.updateInnerText(!0)), t.prototype.getComputedTransform.call(this) }, e.prototype._updateSubTexts = function () { this._childCursor = 0, ihe(this.style), this.style.rich ? this._updateRichTexts() : this._updatePlainTexts(), this._children.length = this._childCursor, this.styleUpdated() }, e.prototype.addSelfToZr = function (r) { t.prototype.addSelfToZr.call(this, r); for (var n = 0; n < this._children.length; n++)this._children[n].__zr = r }, e.prototype.removeSelfFromZr = function (r) { t.prototype.removeSelfFromZr.call(this, r); for (var n = 0; n < this._children.length; n++)this._children[n].__zr = null }, e.prototype.getBoundingRect = function () { if (this.styleChanged() && this._updateSubTexts(), !this._rect) { for (var r = new wt(0, 0, 0, 0), n = this._children, a = [], i = null, o = 0; o < n.length; o++) { var s = n[o], l = s.getBoundingRect(), u = s.getLocalTransform(a); u ? (r.copy(l), r.applyTransform(u), i = i || r.clone(), i.union(r)) : (i = i || l.clone(), i.union(l)) } this._rect = i || r } return this._rect }, e.prototype.setDefaultTextStyle = function (r) { this._defaultStyle = r || KI }, e.prototype.setTextContent = function (r) { }, e.prototype._mergeStyle = function (r, n) { if (!n) return r; var a = n.rich, i = r.rich || a && {}; return he(r, n), a && i ? (this._mergeRich(i, a), r.rich = i) : i && (r.rich = i), r }, e.prototype._mergeRich = function (r, n) { for (var a = Nt(n), i = 0; i < a.length; i++) { var o = a[i]; r[o] = r[o] || {}, he(r[o], n[o]) } }, e.prototype.getAnimationStyleProps = function () { return rhe }, e.prototype._getOrCreateChild = function (r) { var n = this._children[this._childCursor]; return (!n || !(n instanceof r)) && (n = new r), this._children[this._childCursor++] = n, n.__zr = this.__zr, n.parent = this, n }, e.prototype._updatePlainTexts = function () { var r = this.style, n = r.font || Zl, a = r.padding, i = iP(r), o = Tfe(i, r), s = uw(r), l = !!r.backgroundColor, u = o.outerHeight, c = o.outerWidth, f = o.contentWidth, h = o.lines, d = o.lineHeight, v = this._defaultStyle, p = r.x || 0, g = r.y || 0, m = r.align || v.align || "left", y = r.verticalAlign || v.verticalAlign || "top", _ = p, b = Yf(g, o.contentHeight, y); if (s || a) { var x = av(p, c, m), S = Yf(g, u, y); s && this._renderBackground(r, r, x, S, c, u) } b += d / 2, a && (_ = aP(p, m, a), y === "top" ? b += a[0] : y === "bottom" && (b -= a[2])); for (var T = 0, C = !1, M = nP("fill" in r ? r.fill : (C = !0, v.fill)), k = rP("stroke" in r ? r.stroke : !l && (!v.autoStroke || C) ? (T = QI, v.stroke) : null), A = r.textShadowBlur > 0, R = r.width != null && (r.overflow === "truncate" || r.overflow === "break" || r.overflow === "breakAll"), N = o.calculatedLineHeight, z = 0; z < h.length; z++) { var F = this._getOrCreateChild(cp), V = F.createStyle(); F.useStyle(V), V.text = h[z], V.x = _, V.y = b, m && (V.textAlign = m), V.textBaseline = "middle", V.opacity = r.opacity, V.strokeFirst = !0, A && (V.shadowBlur = r.textShadowBlur || 0, V.shadowColor = r.textShadowColor || "transparent", V.shadowOffsetX = r.textShadowOffsetX || 0, V.shadowOffsetY = r.textShadowOffsetY || 0), V.stroke = k, V.fill = M, k && (V.lineWidth = r.lineWidth || T, V.lineDash = r.lineDash, V.lineDashOffset = r.lineDashOffset || 0), V.font = n, eP(V, r), b += d, R && F.setBoundingRect(new wt(av(V.x, r.width, V.textAlign), Yf(V.y, N, V.textBaseline), f, N)) } }, e.prototype._updateRichTexts = function () { var r = this.style, n = iP(r), a = Mfe(n, r), i = a.width, o = a.outerWidth, s = a.outerHeight, l = r.padding, u = r.x || 0, c = r.y || 0, f = this._defaultStyle, h = r.align || f.align, d = r.verticalAlign || f.verticalAlign, v = av(u, o, h), p = Yf(c, s, d), g = v, m = p; l && (g += l[3], m += l[0]); var y = g + i; uw(r) && this._renderBackground(r, r, v, p, o, s); for (var _ = !!r.backgroundColor, b = 0; b < a.lines.length; b++) { for (var x = a.lines[b], S = x.tokens, T = S.length, C = x.lineHeight, M = x.width, k = 0, A = g, R = y, N = T - 1, z = void 0; k < T && (z = S[k], !z.align || z.align === "left");)this._placeToken(z, r, C, m, A, "left", _), M -= z.width, A += z.width, k++; for (; N >= 0 && (z = S[N], z.align === "right");)this._placeToken(z, r, C, m, R, "right", _), M -= z.width, R -= z.width, N--; for (A += (i - (A - g) - (y - R) - M) / 2; k <= N;)z = S[k], this._placeToken(z, r, C, m, A + z.width / 2, "center", _), A += z.width, k++; m += C } }, e.prototype._placeToken = function (r, n, a, i, o, s, l) { var u = n.rich[r.styleName] || {}; u.text = r.text; var c = r.verticalAlign, f = i + a / 2; c === "top" ? f = i + r.height / 2 : c === "bottom" && (f = i + a - r.height / 2); var h = !r.isLineHolder && uw(u); h && this._renderBackground(u, n, s === "right" ? o - r.width : s === "center" ? o - r.width / 2 : o, f - r.height / 2, r.width, r.height); var d = !!u.backgroundColor, v = r.textPadding; v && (o = aP(o, s, v), f -= r.height / 2 - v[0] - r.innerHeight / 2); var p = this._getOrCreateChild(cp), g = p.createStyle(); p.useStyle(g); var m = this._defaultStyle, y = !1, _ = 0, b = nP("fill" in u ? u.fill : "fill" in n ? n.fill : (y = !0, m.fill)), x = rP("stroke" in u ? u.stroke : "stroke" in n ? n.stroke : !d && !l && (!m.autoStroke || y) ? (_ = QI, m.stroke) : null), S = u.textShadowBlur > 0 || n.textShadowBlur > 0; g.text = r.text, g.x = o, g.y = f, S && (g.shadowBlur = u.textShadowBlur || n.textShadowBlur || 0, g.shadowColor = u.textShadowColor || n.textShadowColor || "transparent", g.shadowOffsetX = u.textShadowOffsetX || n.textShadowOffsetX || 0, g.shadowOffsetY = u.textShadowOffsetY || n.textShadowOffsetY || 0), g.textAlign = s, g.textBaseline = "middle", g.font = r.font || Zl, g.opacity = Co(u.opacity, n.opacity, 1), eP(g, u), x && (g.lineWidth = Co(u.lineWidth, n.lineWidth, _), g.lineDash = _t(u.lineDash, n.lineDash), g.lineDashOffset = n.lineDashOffset || 0, g.stroke = x), b && (g.fill = b); var T = r.contentWidth, C = r.contentHeight; p.setBoundingRect(new wt(av(g.x, T, g.textAlign), Yf(g.y, C, g.textBaseline), T, C)) }, e.prototype._renderBackground = function (r, n, a, i, o, s) { var l = r.backgroundColor, u = r.borderWidth, c = r.borderColor, f = l && l.image, h = l && !f, d = r.borderRadius, v = this, p, g; if (h || r.lineHeight || u && c) { p = this._getOrCreateChild(Bt), p.useStyle(p.createStyle()), p.style.fill = null; var m = p.shape; m.x = a, m.y = i, m.width = o, m.height = s, m.r = d, p.dirtyShape() } if (h) { var y = p.style; y.fill = l || null, y.fillOpacity = _t(r.fillOpacity, 1) } else if (f) { g = this._getOrCreateChild(Gn), g.onload = function () { v.dirtyStyle() }; var _ = g.style; _.image = l.image, _.x = a, _.y = i, _.width = o, _.height = s } if (u && c) { var y = p.style; y.lineWidth = u, y.stroke = c, y.strokeOpacity = _t(r.strokeOpacity, 1), y.lineDash = r.borderDash, y.lineDashOffset = r.borderDashOffset || 0, p.strokeContainThreshold = 0, p.hasFill() && p.hasStroke() && (y.strokeFirst = !0, y.lineWidth *= 2) } var b = (p || g).style; b.shadowBlur = r.shadowBlur || 0, b.shadowColor = r.shadowColor || "transparent", b.shadowOffsetX = r.shadowOffsetX || 0, b.shadowOffsetY = r.shadowOffsetY || 0, b.opacity = Co(r.opacity, n.opacity, 1) }, e.makeFont = function (r) { var n = ""; return OF(r) && (n = [r.fontStyle, r.fontWeight, RF(r.fontSize), r.fontFamily || "sans-serif"].join(" ")), n && Fi(n) || r.textFont || r.font }, e }(_i), nhe = { left: !0, right: 1, center: 1 }, ahe = { top: 1, bottom: 1, middle: 1 }, JI = ["fontStyle", "fontWeight", "fontSize", "fontFamily"]; function RF(t) { return typeof t == "string" && (t.indexOf("px") !== -1 || t.indexOf("rem") !== -1 || t.indexOf("em") !== -1) ? t : isNaN(+t) ? YD + "px" : t + "px" } function eP(t, e) { for (var r = 0; r < JI.length; r++) { var n = JI[r], a = e[n]; a != null && (t[n] = a) } } function OF(t) { return t.fontSize != null || t.fontFamily || t.fontWeight } function ihe(t) { return tP(t), E(t.rich, tP), t } function tP(t) { if (t) { t.font = PF.makeFont(t); var e = t.align; e === "middle" && (e = "center"), t.align = e == null || nhe[e] ? e : "left"; var r = t.verticalAlign; r === "center" && (r = "middle"), t.verticalAlign = r == null || ahe[r] ? r : "top"; var n = t.padding; n && (t.padding = qD(t.padding)) } } function rP(t, e) { return t == null || e <= 0 || t === "transparent" || t === "none" ? null : t.image || t.colorStops ? "#000" : t } function nP(t) { return t == null || t === "none" ? null : t.image || t.colorStops ? "#000" : t } function aP(t, e, r) { return e === "right" ? t - r[1] : e === "center" ? t + r[3] / 2 - r[1] / 2 : t + r[3] } function iP(t) { var e = t.text; return e != null && (e += ""), e } function uw(t) { return !!(t.backgroundColor || t.lineHeight || t.borderWidth && t.borderColor) } const Wt = PF; var lt = zt(), ST = function (t, e, r, n) { if (n) { var a = lt(n); a.dataIndex = r, a.dataType = e, a.seriesIndex = t, n.type === "group" && n.traverse(function (i) { var o = lt(i); o.seriesIndex = t, o.dataIndex = r, o.dataType = e }) } }, oP = 1, sP = {}, EF = zt(), lC = zt(), uC = 0, Jp = 1, X_ = 2, _a = ["emphasis", "blur", "select"], fp = ["normal", "emphasis", "blur", "select"], Yh = 10, ohe = 9, Tc = "highlight", wy = "downplay", kv = "select", Sy = "unselect", Av = "toggleSelect"; function bf(t) { return t != null && t !== "none" } var lP = new Xp(100); function uP(t) { if (Oe(t)) { var e = lP.get(t); return e || (e = lT(t, -.1), lP.put(t, e)), e } else if (z_(t)) { var r = he({}, t); return r.colorStops = _e(t.colorStops, function (n) { return { offset: n.offset, color: lT(n.color, -.1) } }), r } return t } function K_(t, e, r) { t.onHoverStateChange && (t.hoverState || 0) !== r && t.onHoverStateChange(e), t.hoverState = r } function NF(t) { K_(t, "emphasis", X_) } function $F(t) { t.hoverState === X_ && K_(t, "normal", uC) } function cC(t) { K_(t, "blur", Jp) } function FF(t) { t.hoverState === Jp && K_(t, "normal", uC) } function she(t) { t.selected = !0 } function lhe(t) { t.selected = !1 } function cP(t, e, r) { e(t, r) } function zs(t, e, r) { cP(t, e, r), t.isGroup && t.traverse(function (n) { cP(n, e, r) }) } function s0(t, e) { switch (e) { case "emphasis": t.hoverState = X_; break; case "normal": t.hoverState = uC; break; case "blur": t.hoverState = Jp; break; case "select": t.selected = !0 } } function uhe(t, e, r, n) { for (var a = t.style, i = {}, o = 0; o < e.length; o++) { var s = e[o], l = a[s]; i[s] = l ?? (n && n[s]) } for (var o = 0; o < t.animators.length; o++) { var u = t.animators[o]; u.__fromStateTransition && u.__fromStateTransition.indexOf(r) < 0 && u.targetName === "style" && u.saveTo(i, e) } return i } function che(t, e, r, n) { var a = r && Ct(r, "select") >= 0, i = !1; if (t instanceof At) { var o = EF(t), s = a && o.selectFill || o.normalFill, l = a && o.selectStroke || o.normalStroke; if (bf(s) || bf(l)) { n = n || {}; var u = n.style || {}; u.fill === "inherit" ? (i = !0, n = he({}, n), u = he({}, u), u.fill = s) : !bf(u.fill) && bf(s) ? (i = !0, n = he({}, n), u = he({}, u), u.fill = uP(s)) : !bf(u.stroke) && bf(l) && (i || (n = he({}, n), u = he({}, u)), u.stroke = uP(l)), n.style = u } } if (n && n.z2 == null) { i || (n = he({}, n)); var c = t.z2EmphasisLift; n.z2 = t.z2 + (c ?? Yh) } return n } function fhe(t, e, r) { if (r && r.z2 == null) { r = he({}, r); var n = t.z2SelectLift; r.z2 = t.z2 + (n ?? ohe) } return r } function hhe(t, e, r) { var n = Ct(t.currentStates, e) >= 0, a = t.style.opacity, i = n ? null : uhe(t, ["opacity"], e, { opacity: 1 }); r = r || {}; var o = r.style || {}; return o.opacity == null && (r = he({}, r), o = he({ opacity: n ? a : i.opacity * .1 }, o), r.style = o), r } function cw(t, e) { var r = this.states[t]; if (this.style) { if (t === "emphasis") return che(this, t, e, r); if (t === "blur") return hhe(this, t, r); if (t === "select") return fhe(this, t, r) } return r } function $c(t) { t.stateProxy = cw; var e = t.getTextContent(), r = t.getTextGuideLine(); e && (e.stateProxy = cw), r && (r.stateProxy = cw) } function fP(t, e) { !HF(t, e) && !t.__highByOuter && zs(t, NF) } function hP(t, e) { !HF(t, e) && !t.__highByOuter && zs(t, $F) } function Ps(t, e) { t.__highByOuter |= 1 << (e || 0), zs(t, NF) } function Rs(t, e) { !(t.__highByOuter &= ~(1 << (e || 0))) && zs(t, $F) } function BF(t) { zs(t, cC) } function fC(t) { zs(t, FF) } function VF(t) { zs(t, she) } function zF(t) { zs(t, lhe) } function HF(t, e) { return t.__highDownSilentOnTouch && e.zrByTouch } function YF(t) { var e = t.getModel(), r = [], n = []; e.eachComponent(function (a, i) { var o = lC(i), s = a === "series", l = s ? t.getViewOfSeriesModel(i) : t.getViewOfComponentModel(i); !s && n.push(l), o.isBlured && (l.group.traverse(function (u) { FF(u) }), s && r.push(i)), o.isBlured = !1 }), E(n, function (a) { a && a.toggleBlurSeries && a.toggleBlurSeries(r, !1, e) }) } function xT(t, e, r, n) { var a = n.getModel(); r = r || "coordinateSystem"; function i(u, c) { for (var f = 0; f < c.length; f++) { var h = u.getItemGraphicEl(c[f]); h && fC(h) } } if (t != null && !(!e || e === "none")) { var o = a.getSeriesByIndex(t), s = o.coordinateSystem; s && s.master && (s = s.master); var l = []; a.eachSeries(function (u) { var c = o === u, f = u.coordinateSystem; f && f.master && (f = f.master); var h = f && s ? f === s : c; if (!(r === "series" && !c || r === "coordinateSystem" && !h || e === "series" && c)) { var d = n.getViewOfSeriesModel(u); if (d.group.traverse(function (g) { g.__highByOuter && c && e === "self" || cC(g) }), na(e)) i(u.getData(), e); else if (Qe(e)) for (var v = Nt(e), p = 0; p < v.length; p++)i(u.getData(v[p]), e[v[p]]); l.push(u), lC(u).isBlured = !0 } }), a.eachComponent(function (u, c) { if (u !== "series") { var f = n.getViewOfComponentModel(c); f && f.toggleBlurSeries && f.toggleBlurSeries(l, !0, a) } }) } } function TT(t, e, r) { if (!(t == null || e == null)) { var n = r.getModel().getComponent(t, e); if (n) { lC(n).isBlured = !0; var a = r.getViewOfComponentModel(n); !a || !a.focusBlurEnabled || a.group.traverse(function (i) { cC(i) }) } } } function dhe(t, e, r) { var n = t.seriesIndex, a = t.getData(e.dataType); if (a) { var i = Ec(a, e); i = (me(i) ? i[0] : i) || 0; var o = a.getItemGraphicEl(i); if (!o) for (var s = a.count(), l = 0; !o && l < s;)o = a.getItemGraphicEl(l++); if (o) { var u = lt(o); xT(n, u.focus, u.blurScope, r) } else { var c = t.get(["emphasis", "focus"]), f = t.get(["emphasis", "blurScope"]); c != null && xT(n, c, f, r) } } } function hC(t, e, r, n) { var a = { focusSelf: !1, dispatchers: null }; if (t == null || t === "series" || e == null || r == null) return a; var i = n.getModel().getComponent(t, e); if (!i) return a; var o = n.getViewOfComponentModel(i); if (!o || !o.findHighDownDispatchers) return a; for (var s = o.findHighDownDispatchers(r), l, u = 0; u < s.length; u++)if (lt(s[u]).focus === "self") { l = !0; break } return { focusSelf: l, dispatchers: s } } function vhe(t, e, r) { var n = lt(t), a = hC(n.componentMainType, n.componentIndex, n.componentHighDownName, r), i = a.dispatchers, o = a.focusSelf; i ? (o && TT(n.componentMainType, n.componentIndex, r), E(i, function (s) { return fP(s, e) })) : (xT(n.seriesIndex, n.focus, n.blurScope, r), n.focus === "self" && TT(n.componentMainType, n.componentIndex, r), fP(t, e)) } function phe(t, e, r) { YF(r); var n = lt(t), a = hC(n.componentMainType, n.componentIndex, n.componentHighDownName, r).dispatchers; a ? E(a, function (i) { return hP(i, e) }) : hP(t, e) } function ghe(t, e, r) { if (CT(e)) { var n = e.dataType, a = t.getData(n), i = Ec(a, e); me(i) || (i = [i]), t[e.type === Av ? "toggleSelect" : e.type === kv ? "select" : "unselect"](i, n) } } function dP(t) { var e = t.getAllData(); E(e, function (r) { var n = r.data, a = r.type; n.eachItemGraphicEl(function (i, o) { t.isSelected(o, a) ? VF(i) : zF(i) }) }) } function mhe(t) { var e = []; return t.eachSeries(function (r) { var n = r.getAllData(); E(n, function (a) { a.data; var i = a.type, o = r.getSelectedDataIndices(); if (o.length > 0) { var s = { dataIndex: o, seriesIndex: r.seriesIndex }; i != null && (s.dataType = i), e.push(s) } }) }), e } function Dc(t, e, r) { uc(t, !0), zs(t, $c), DT(t, e, r) } function yhe(t) { uc(t, !1) } function Xr(t, e, r, n) { n ? yhe(t) : Dc(t, e, r) } function DT(t, e, r) { var n = lt(t); e != null ? (n.focus = e, n.blurScope = r) : n.focus && (n.focus = null) } var vP = ["emphasis", "blur", "select"], _he = { itemStyle: "getItemStyle", lineStyle: "getLineStyle", areaStyle: "getAreaStyle" }; function Un(t, e, r, n) { r = r || "itemStyle"; for (var a = 0; a < vP.length; a++) { var i = vP[a], o = e.getModel([i, r]), s = t.ensureState(i); s.style = n ? n(o) : o[_he[r]]() } } function uc(t, e) { var r = e === !1, n = t; t.highDownSilentOnTouch && (n.__highDownSilentOnTouch = t.highDownSilentOnTouch), (!r || n.__highDownDispatcher) && (n.__highByOuter = n.__highByOuter || 0, n.__highDownDispatcher = !r) } function hp(t) { return !!(t && t.__highDownDispatcher) } function bhe(t, e, r) { var n = lt(t); n.componentMainType = e.mainType, n.componentIndex = e.componentIndex, n.componentHighDownName = r } function whe(t) { var e = sP[t]; return e == null && oP <= 32 && (e = sP[t] = oP++), e } function CT(t) { var e = t.type; return e === kv || e === Sy || e === Av } function pP(t) { var e = t.type; return e === Tc || e === wy } function She(t) { var e = EF(t); e.normalFill = t.style.fill, e.normalStroke = t.style.stroke; var r = t.states.select || {}; e.selectFill = r.style && r.style.fill || null, e.selectStroke = r.style && r.style.stroke || null } var wf = No.CMD, xhe = [[], [], []], gP = Math.sqrt, The = Math.atan2; function UF(t, e) { if (e) { var r = t.data, n = t.len(), a, i, o, s, l, u, c = wf.M, f = wf.C, h = wf.L, d = wf.R, v = wf.A, p = wf.Q; for (o = 0, s = 0; o < n;) { switch (a = r[o++], s = o, i = 0, a) { case c: i = 1; break; case h: i = 1; break; case f: i = 3; break; case p: i = 2; break; case v: var g = e[4], m = e[5], y = gP(e[0] * e[0] + e[1] * e[1]), _ = gP(e[2] * e[2] + e[3] * e[3]), b = The(-e[1] / _, e[0] / y); r[o] *= y, r[o++] += g, r[o] *= _, r[o++] += m, r[o++] *= y, r[o++] *= _, r[o++] += b, r[o++] += b, o += 2, s = o; break; case d: u[0] = r[o++], u[1] = r[o++], Hn(u, u, e), r[s++] = u[0], r[s++] = u[1], u[0] += r[o++], u[1] += r[o++], Hn(u, u, e), r[s++] = u[0], r[s++] = u[1] }for (l = 0; l < i; l++) { var x = xhe[l]; x[0] = r[o++], x[1] = r[o++], Hn(x, x, e), r[s++] = x[0], r[s++] = x[1] } } t.increaseVersion() } } var fw = Math.sqrt, om = Math.sin, sm = Math.cos, Md = Math.PI; function mP(t) { return Math.sqrt(t[0] * t[0] + t[1] * t[1]) } function MT(t, e) { return (t[0] * e[0] + t[1] * e[1]) / (mP(t) * mP(e)) } function yP(t, e) { return (t[0] * e[1] < t[1] * e[0] ? -1 : 1) * Math.acos(MT(t, e)) } function _P(t, e, r, n, a, i, o, s, l, u, c) { var f = l * (Md / 180), h = sm(f) * (t - r) / 2 + om(f) * (e - n) / 2, d = -1 * om(f) * (t - r) / 2 + sm(f) * (e - n) / 2, v = h * h / (o * o) + d * d / (s * s); v > 1 && (o *= fw(v), s *= fw(v)); var p = (a === i ? -1 : 1) * fw((o * o * (s * s) - o * o * (d * d) - s * s * (h * h)) / (o * o * (d * d) + s * s * (h * h))) || 0, g = p * o * d / s, m = p * -s * h / o, y = (t + r) / 2 + sm(f) * g - om(f) * m, _ = (e + n) / 2 + om(f) * g + sm(f) * m, b = yP([1, 0], [(h - g) / o, (d - m) / s]), x = [(h - g) / o, (d - m) / s], S = [(-1 * h - g) / o, (-1 * d - m) / s], T = yP(x, S); if (MT(x, S) <= -1 && (T = Md), MT(x, S) >= 1 && (T = 0), T < 0) { var C = Math.round(T / Md * 1e6) / 1e6; T = Md * 2 + C % 2 * Md } c.addData(u, y, _, o, s, b, T, f, i) } var Dhe = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig, Che = /-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g; function Mhe(t) { var e = new No; if (!t) return e; var r = 0, n = 0, a = r, i = n, o, s = No.CMD, l = t.match(Dhe); if (!l) return e; for (var u = 0; u < l.length; u++) { for (var c = l[u], f = c.charAt(0), h = void 0, d = c.match(Che) || [], v = d.length, p = 0; p < v; p++)d[p] = parseFloat(d[p]); for (var g = 0; g < v;) { var m = void 0, y = void 0, _ = void 0, b = void 0, x = void 0, S = void 0, T = void 0, C = r, M = n, k = void 0, A = void 0; switch (f) { case "l": r += d[g++], n += d[g++], h = s.L, e.addData(h, r, n); break; case "L": r = d[g++], n = d[g++], h = s.L, e.addData(h, r, n); break; case "m": r += d[g++], n += d[g++], h = s.M, e.addData(h, r, n), a = r, i = n, f = "l"; break; case "M": r = d[g++], n = d[g++], h = s.M, e.addData(h, r, n), a = r, i = n, f = "L"; break; case "h": r += d[g++], h = s.L, e.addData(h, r, n); break; case "H": r = d[g++], h = s.L, e.addData(h, r, n); break; case "v": n += d[g++], h = s.L, e.addData(h, r, n); break; case "V": n = d[g++], h = s.L, e.addData(h, r, n); break; case "C": h = s.C, e.addData(h, d[g++], d[g++], d[g++], d[g++], d[g++], d[g++]), r = d[g - 2], n = d[g - 1]; break; case "c": h = s.C, e.addData(h, d[g++] + r, d[g++] + n, d[g++] + r, d[g++] + n, d[g++] + r, d[g++] + n), r += d[g - 2], n += d[g - 1]; break; case "S": m = r, y = n, k = e.len(), A = e.data, o === s.C && (m += r - A[k - 4], y += n - A[k - 3]), h = s.C, C = d[g++], M = d[g++], r = d[g++], n = d[g++], e.addData(h, m, y, C, M, r, n); break; case "s": m = r, y = n, k = e.len(), A = e.data, o === s.C && (m += r - A[k - 4], y += n - A[k - 3]), h = s.C, C = r + d[g++], M = n + d[g++], r += d[g++], n += d[g++], e.addData(h, m, y, C, M, r, n); break; case "Q": C = d[g++], M = d[g++], r = d[g++], n = d[g++], h = s.Q, e.addData(h, C, M, r, n); break; case "q": C = d[g++] + r, M = d[g++] + n, r += d[g++], n += d[g++], h = s.Q, e.addData(h, C, M, r, n); break; case "T": m = r, y = n, k = e.len(), A = e.data, o === s.Q && (m += r - A[k - 4], y += n - A[k - 3]), r = d[g++], n = d[g++], h = s.Q, e.addData(h, m, y, r, n); break; case "t": m = r, y = n, k = e.len(), A = e.data, o === s.Q && (m += r - A[k - 4], y += n - A[k - 3]), r += d[g++], n += d[g++], h = s.Q, e.addData(h, m, y, r, n); break; case "A": _ = d[g++], b = d[g++], x = d[g++], S = d[g++], T = d[g++], C = r, M = n, r = d[g++], n = d[g++], h = s.A, _P(C, M, r, n, S, T, _, b, x, h, e); break; case "a": _ = d[g++], b = d[g++], x = d[g++], S = d[g++], T = d[g++], C = r, M = n, r += d[g++], n += d[g++], h = s.A, _P(C, M, r, n, S, T, _, b, x, h, e); break } } (f === "z" || f === "Z") && (h = s.Z, e.addData(h), r = a, n = i), o = h } return e.toStatic(), e } var WF = function (t) { ae(e, t); function e() { return t !== null && t.apply(this, arguments) || this } return e.prototype.applyTransform = function (r) { }, e }(At); function GF(t) { return t.setData != null } function jF(t, e) { var r = Mhe(t), n = he({}, e); return n.buildPath = function (a) { if (GF(a)) { a.setData(r.data); var i = a.getContext(); i && a.rebuildPath(i, 1) } else { var i = a; r.rebuildPath(i, 1) } }, n.applyTransform = function (a) { UF(r, a), this.dirtyShape() }, n } function ZF(t, e) { return new WF(jF(t, e)) } function khe(t, e) { var r = jF(t, e), n = function (a) { ae(i, a); function i(o) { var s = a.call(this, o) || this; return s.applyTransform = r.applyTransform, s.buildPath = r.buildPath, s } return i }(WF); return n } function Ahe(t, e) { for (var r = [], n = t.length, a = 0; a < n; a++) { var i = t[a]; r.push(i.getUpdatedPathProxy(!0)) } var o = new At(e); return o.createPathProxy(), o.buildPath = function (s) { if (GF(s)) { s.appendPath(r); var l = s.getContext(); l && s.rebuildPath(l, 1) } }, o } function dC(t, e) { e = e || {}; var r = new At; return t.shape && r.setShape(t.shape), r.setStyle(t.style), e.bakeTransform ? UF(r.path, t.getComputedTransform()) : e.toLocal ? r.setLocalTransform(t.getComputedTransform()) : r.copyTransform(t), r.buildPath = t.buildPath, r.applyTransform = r.applyTransform, r.z = t.z, r.z2 = t.z2, r.zlevel = t.zlevel, r } var Lhe = function () { function t() { this.cx = 0, this.cy = 0, this.r = 0 } return t }(), qF = function (t) { ae(e, t); function e(r) { return t.call(this, r) || this } return e.prototype.getDefaultShape = function () { return new Lhe }, e.prototype.buildPath = function (r, n) { r.moveTo(n.cx + n.r, n.cy), r.arc(n.cx, n.cy, n.r, 0, Math.PI * 2) }, e }(At); qF.prototype.type = "circle"; const $o = qF; var Ihe = function () { function t() { this.cx = 0, this.cy = 0, this.rx = 0, this.ry = 0 } return t }(), XF = function (t) { ae(e, t); function e(r) { return t.call(this, r) || this } return e.prototype.getDefaultShape = function () { return new Ihe }, e.prototype.buildPath = function (r, n) { var a = .5522848, i = n.cx, o = n.cy, s = n.rx, l = n.ry, u = s * a, c = l * a; r.moveTo(i - s, o), r.bezierCurveTo(i - s, o - c, i - u, o - l, i, o - l), r.bezierCurveTo(i + u, o - l, i + s, o - c, i + s, o), r.bezierCurveTo(i + s, o + c, i + u, o + l, i, o + l), r.bezierCurveTo(i - u, o + l, i - s, o + c, i - s, o), r.closePath() }, e }(At); XF.prototype.type = "ellipse"; const vC = XF; var KF = Math.PI, hw = KF * 2, Iu = Math.sin, Sf = Math.cos, Phe = Math.acos, Zn = Math.atan2, bP = Math.abs, Lv = Math.sqrt, iv = Math.max, oo = Math.min, Ii = 1e-4; function Rhe(t, e, r, n, a, i, o, s) { var l = r - t, u = n - e, c = o - a, f = s - i, h = f * l - c * u; if (!(h * h < Ii)) return h = (c * (e - i) - f * (t - a)) / h, [t + h * l, e + h * u] } function lm(t, e, r, n, a, i, o) { var s = t - r, l = e - n, u = (o ? i : -i) / Lv(s * s + l * l), c = u * l, f = -u * s, h = t + c, d = e + f, v = r + c, p = n + f, g = (h + v) / 2, m = (d + p) / 2, y = v - h, _ = p - d, b = y * y + _ * _, x = a - i, S = h * p - v * d, T = (_ < 0 ? -1 : 1) * Lv(iv(0, x * x * b - S * S)), C = (S * _ - y * T) / b, M = (-S * y - _ * T) / b, k = (S * _ + y * T) / b, A = (-S * y + _ * T) / b, R = C - g, N = M - m, z = k - g, F = A - m; return R * R + N * N > z * z + F * F && (C = k, M = A), { cx: C, cy: M, x0: -c, y0: -f, x1: C * (a / x - 1), y1: M * (a / x - 1) } } function Ohe(t) { var e; if (me(t)) { var r = t.length; if (!r) return t; r === 1 ? e = [t[0], t[0], 0, 0] : r === 2 ? e = [t[0], t[0], t[1], t[1]] : r === 3 ? e = t.concat(t[2]) : e = t } else e = [t, t, t, t]; return e } function Ehe(t, e) { var r, n = iv(e.r, 0), a = iv(e.r0 || 0, 0), i = n > 0, o = a > 0; if (!(!i && !o)) { if (i || (n = a, a = 0), a > n) { var s = n; n = a, a = s } var l = e.startAngle, u = e.endAngle; if (!(isNaN(l) || isNaN(u))) { var c = e.cx, f = e.cy, h = !!e.clockwise, d = bP(u - l), v = d > hw && d % hw; if (v > Ii && (d = v), !(n > Ii)) t.moveTo(c, f); else if (d > hw - Ii) t.moveTo(c + n * Sf(l), f + n * Iu(l)), t.arc(c, f, n, l, u, !h), a > Ii && (t.moveTo(c + a * Sf(u), f + a * Iu(u)), t.arc(c, f, a, u, l, h)); else { var p = void 0, g = void 0, m = void 0, y = void 0, _ = void 0, b = void 0, x = void 0, S = void 0, T = void 0, C = void 0, M = void 0, k = void 0, A = void 0, R = void 0, N = void 0, z = void 0, F = n * Sf(l), V = n * Iu(l), L = a * Sf(u), H = a * Iu(u), q = d > Ii; if (q) { var K = e.cornerRadius; K && (r = Ohe(K), p = r[0], g = r[1], m = r[2], y = r[3]); var te = bP(n - a) / 2; if (_ = oo(te, m), b = oo(te, y), x = oo(te, p), S = oo(te, g), M = T = iv(_, b), k = C = iv(x, S), (T > Ii || C > Ii) && (A = n * Sf(u), R = n * Iu(u), N = a * Sf(l), z = a * Iu(l), d < KF)) { var oe = Rhe(F, V, N, z, A, R, L, H); if (oe) { var X = F - oe[0], U = V - oe[1], B = A - oe[0], ee = R - oe[1], Q = 1 / Iu(Phe((X * B + U * ee) / (Lv(X * X + U * U) * Lv(B * B + ee * ee))) / 2), se = Lv(oe[0] * oe[0] + oe[1] * oe[1]); M = oo(T, (n - se) / (Q + 1)), k = oo(C, (a - se) / (Q - 1)) } } } if (!q) t.moveTo(c + F, f + V); else if (M > Ii) { var ue = oo(m, M), pe = oo(y, M), Se = lm(N, z, F, V, n, ue, h), G = lm(A, R, L, H, n, pe, h); t.moveTo(c + Se.cx + Se.x0, f + Se.cy + Se.y0), M < T && ue === pe ? t.arc(c + Se.cx, f + Se.cy, M, Zn(Se.y0, Se.x0), Zn(G.y0, G.x0), !h) : (ue > 0 && t.arc(c + Se.cx, f + Se.cy, ue, Zn(Se.y0, Se.x0), Zn(Se.y1, Se.x1), !h), t.arc(c, f, n, Zn(Se.cy + Se.y1, Se.cx + Se.x1), Zn(G.cy + G.y1, G.cx + G.x1), !h), pe > 0 && t.arc(c + G.cx, f + G.cy, pe, Zn(G.y1, G.x1), Zn(G.y0, G.x0), !h)) } else t.moveTo(c + F, f + V), t.arc(c, f, n, l, u, !h); if (!(a > Ii) || !q) t.lineTo(c + L, f + H); else if (k > Ii) { var ue = oo(p, k), pe = oo(g, k), Se = lm(L, H, A, R, a, -pe, h), G = lm(F, V, N, z, a, -ue, h); t.lineTo(c + Se.cx + Se.x0, f + Se.cy + Se.y0), k < C && ue === pe ? t.arc(c + Se.cx, f + Se.cy, k, Zn(Se.y0, Se.x0), Zn(G.y0, G.x0), !h) : (pe > 0 && t.arc(c + Se.cx, f + Se.cy, pe, Zn(Se.y0, Se.x0), Zn(Se.y1, Se.x1), !h), t.arc(c, f, a, Zn(Se.cy + Se.y1, Se.cx + Se.x1), Zn(G.cy + G.y1, G.cx + G.x1), h), ue > 0 && t.arc(c + G.cx, f + G.cy, ue, Zn(G.y1, G.x1), Zn(G.y0, G.x0), !h)) } else t.lineTo(c + L, f + H), t.arc(c, f, a, u, l, h) } t.closePath() } } } var Nhe = function () { function t() { this.cx = 0, this.cy = 0, this.r0 = 0, this.r = 0, this.startAngle = 0, this.endAngle = Math.PI * 2, this.clockwise = !0, this.cornerRadius = 0 } return t }(), QF = function (t) { ae(e, t); function e(r) { return t.call(this, r) || this } return e.prototype.getDefaultShape = function () { return new Nhe }, e.prototype.buildPath = function (r, n) { Ehe(r, n) }, e.prototype.isZeroArea = function () { return this.shape.startAngle === this.shape.endAngle || this.shape.r === this.shape.r0 }, e }(At); QF.prototype.type = "sector"; const Oa = QF; var $he = function () { function t() { this.cx = 0, this.cy = 0, this.r = 0, this.r0 = 0 } return t }(), JF = function (t) { ae(e, t); function e(r) { return t.call(this, r) || this } return e.prototype.getDefaultShape = function () { return new $he }, e.prototype.buildPath = function (r, n) { var a = n.cx, i = n.cy, o = Math.PI * 2; r.moveTo(a + n.r, i), r.arc(a, i, n.r, 0, o, !1), r.moveTo(a + n.r0, i), r.arc(a, i, n.r0, 0, o, !0) }, e }(At); JF.prototype.type = "ring"; const Q_ = JF; function Fhe(t, e, r, n) { var a = [], i = [], o = [], s = [], l, u, c, f; if (n) { c = [1 / 0, 1 / 0], f = [-1 / 0, -1 / 0]; for (var h = 0, d = t.length; h < d; h++)xl(c, c, t[h]), Tl(f, f, t[h]); xl(c, c, n[0]), Tl(f, f, n[1]) } for (var h = 0, d = t.length; h < d; h++) { var v = t[h]; if (r) l = t[h ? h - 1 : d - 1], u = t[(h + 1) % d]; else if (h === 0 || h === d - 1) { a.push(Ss(t[h])); continue } else l = t[h - 1], u = t[h + 1]; sc(i, u, l), dy(i, i, e); var p = Jx(v, l), g = Jx(v, u), m = p + g; m !== 0 && (p /= m, g /= m), dy(o, i, -p), dy(s, i, g); var y = hI([], v, o), _ = hI([], v, s); n && (Tl(y, y, c), xl(y, y, f), Tl(_, _, c), xl(_, _, f)), a.push(y), a.push(_) } return r && a.push(a.shift()), a } function eB(t, e, r) { var n = e.smooth, a = e.points; if (a && a.length >= 2) { if (n) { var i = Fhe(a, n, r, e.smoothConstraint); t.moveTo(a[0][0], a[0][1]); for (var o = a.length, s = 0; s < (r ? o : o - 1); s++) { var l = i[s * 2], u = i[s * 2 + 1], c = a[(s + 1) % o]; t.bezierCurveTo(l[0], l[1], u[0], u[1], c[0], c[1]) } } else { t.moveTo(a[0][0], a[0][1]); for (var s = 1, f = a.length; s < f; s++)t.lineTo(a[s][0], a[s][1]) } r && t.closePath() } } var Bhe = function () { function t() { this.points = null, this.smooth = 0, this.smoothConstraint = null } return t }(), tB = function (t) { ae(e, t); function e(r) { return t.call(this, r) || this } return e.prototype.getDefaultShape = function () { return new Bhe }, e.prototype.buildPath = function (r, n) { eB(r, n, !0) }, e }(At); tB.prototype.type = "polygon"; const Ea = tB; var Vhe = function () { function t() { this.points = null, this.percent = 1, this.smooth = 0, this.smoothConstraint = null } return t }(), rB = function (t) { ae(e, t); function e(r) { return t.call(this, r) || this } return e.prototype.getDefaultStyle = function () { return { stroke: "#000", fill: null } }, e.prototype.getDefaultShape = function () { return new Vhe }, e.prototype.buildPath = function (r, n) { eB(r, n, !1) }, e }(At); rB.prototype.type = "polyline"; const Na = rB; var zhe = {}, Hhe = function () { function t() { this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.percent = 1 } return t }(), nB = function (t) { ae(e, t); function e(r) { return t.call(this, r) || this } return e.prototype.getDefaultStyle = function () { return { stroke: "#000", fill: null } }, e.prototype.getDefaultShape = function () { return new Hhe }, e.prototype.buildPath = function (r, n) { var a, i, o, s; if (this.subPixelOptimize) { var l = AF(zhe, n, this.style); a = l.x1, i = l.y1, o = l.x2, s = l.y2 } else a = n.x1, i = n.y1, o = n.x2, s = n.y2; var u = n.percent; u !== 0 && (r.moveTo(a, i), u < 1 && (o = a * (1 - u) + o * u, s = i * (1 - u) + s * u), r.lineTo(o, s)) }, e.prototype.pointAt = function (r) { var n = this.shape; return [n.x1 * (1 - r) + n.x2 * r, n.y1 * (1 - r) + n.y2 * r] }, e }(At); nB.prototype.type = "line"; const $n = nB; var Sa = [], Yhe = function () { function t() { this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.cpx1 = 0, this.cpy1 = 0, this.percent = 1 } return t }(); function wP(t, e, r) { var n = t.cpx2, a = t.cpy2; return n != null || a != null ? [(r ? TI : Tn)(t.x1, t.cpx1, t.cpx2, t.x2, e), (r ? TI : Tn)(t.y1, t.cpy1, t.cpy2, t.y2, e)] : [(r ? iT : On)(t.x1, t.cpx1, t.x2, e), (r ? iT : On)(t.y1, t.cpy1, t.y2, e)] } var aB = function (t) { ae(e, t); function e(r) { return t.call(this, r) || this } return e.prototype.getDefaultStyle = function () { return { stroke: "#000", fill: null } }, e.prototype.getDefaultShape = function () { return new Yhe }, e.prototype.buildPath = function (r, n) { var a = n.x1, i = n.y1, o = n.x2, s = n.y2, l = n.cpx1, u = n.cpy1, c = n.cpx2, f = n.cpy2, h = n.percent; h !== 0 && (r.moveTo(a, i), c == null || f == null ? (h < 1 && (op(a, l, o, h, Sa), l = Sa[1], o = Sa[2], op(i, u, s, h, Sa), u = Sa[1], s = Sa[2]), r.quadraticCurveTo(l, u, o, s)) : (h < 1 && (Xl(a, l, c, o, h, Sa), l = Sa[1], c = Sa[2], o = Sa[3], Xl(i, u, f, s, h, Sa), u = Sa[1], f = Sa[2], s = Sa[3]), r.bezierCurveTo(l, u, c, f, o, s))) }, e.prototype.pointAt = function (r) { return wP(this.shape, r, !1) }, e.prototype.tangentAt = function (r) { var n = wP(this.shape, r, !0); return Vh(n, n) }, e }(At); aB.prototype.type = "bezier-curve"; const J_ = aB; var Uhe = function () { function t() { this.cx = 0, this.cy = 0, this.r = 0, this.startAngle = 0, this.endAngle = Math.PI * 2, this.clockwise = !0 } return t }(), iB = function (t) { ae(e, t); function e(r) { return t.call(this, r) || this } return e.prototype.getDefaultStyle = function () { return { stroke: "#000", fill: null } }, e.prototype.getDefaultShape = function () { return new Uhe }, e.prototype.buildPath = function (r, n) { var a = n.cx, i = n.cy, o = Math.max(n.r, 0), s = n.startAngle, l = n.endAngle, u = n.clockwise, c = Math.cos(s), f = Math.sin(s); r.moveTo(c * o + a, f * o + i), r.arc(a, i, o, s, l, !u) }, e }(At); iB.prototype.type = "arc"; const pC = iB; var Whe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = "compound", r } return e.prototype._updatePathDirty = function () { for (var r = this.shape.paths, n = this.shapeChanged(), a = 0; a < r.length; a++)n = n || r[a].shapeChanged(); n && this.dirtyShape() }, e.prototype.beforeBrush = function () { this._updatePathDirty(); for (var r = this.shape.paths || [], n = this.getGlobalScale(), a = 0; a < r.length; a++)r[a].path || r[a].createPathProxy(), r[a].path.setScale(n[0], n[1], r[a].segmentIgnoreThreshold) }, e.prototype.buildPath = function (r, n) { for (var a = n.paths || [], i = 0; i < a.length; i++)a[i].buildPath(r, a[i].shape, !0) }, e.prototype.afterBrush = function () { for (var r = this.shape.paths || [], n = 0; n < r.length; n++)r[n].pathUpdated() }, e.prototype.getBoundingRect = function () { return this._updatePathDirty.call(this), At.prototype.getBoundingRect.call(this) }, e }(At); const gC = Whe; var Ghe = function () { function t(e) { this.colorStops = e || [] } return t.prototype.addColorStop = function (e, r) { this.colorStops.push({ offset: e, color: r }) }, t }(); const oB = Ghe; var jhe = function (t) { ae(e, t); function e(r, n, a, i, o, s) { var l = t.call(this, o) || this; return l.x = r ?? 0, l.y = n ?? 0, l.x2 = a ?? 1, l.y2 = i ?? 0, l.type = "linear", l.global = s || !1, l } return e }(oB); const eg = jhe; var Zhe = function (t) { ae(e, t); function e(r, n, a, i, o) { var s = t.call(this, i) || this; return s.x = r ?? .5, s.y = n ?? .5, s.r = a ?? .5, s.type = "radial", s.global = o || !1, s } return e }(oB); const sB = Zhe; var Pu = [0, 0], Ru = [0, 0], um = new gt, cm = new gt, qhe = function () { function t(e, r) { this._corners = [], this._axes = [], this._origin = [0, 0]; for (var n = 0; n < 4; n++)this._corners[n] = new gt; for (var n = 0; n < 2; n++)this._axes[n] = new gt; e && this.fromBoundingRect(e, r) } return t.prototype.fromBoundingRect = function (e, r) { var n = this._corners, a = this._axes, i = e.x, o = e.y, s = i + e.width, l = o + e.height; if (n[0].set(i, o), n[1].set(s, o), n[2].set(s, l), n[3].set(i, l), r) for (var u = 0; u < 4; u++)n[u].transform(r); gt.sub(a[0], n[1], n[0]), gt.sub(a[1], n[3], n[0]), a[0].normalize(), a[1].normalize(); for (var u = 0; u < 2; u++)this._origin[u] = a[u].dot(n[0]) }, t.prototype.intersect = function (e, r) { var n = !0, a = !r; return um.set(1 / 0, 1 / 0), cm.set(0, 0), !this._intersectCheckOneSide(this, e, um, cm, a, 1) && (n = !1, a) || !this._intersectCheckOneSide(e, this, um, cm, a, -1) && (n = !1, a) || a || gt.copy(r, n ? um : cm), n }, t.prototype._intersectCheckOneSide = function (e, r, n, a, i, o) { for (var s = !0, l = 0; l < 2; l++) { var u = this._axes[l]; if (this._getProjMinMaxOnAxis(l, e._corners, Pu), this._getProjMinMaxOnAxis(l, r._corners, Ru), Pu[1] < Ru[0] || Pu[0] > Ru[1]) { if (s = !1, i) return s; var c = Math.abs(Ru[0] - Pu[1]), f = Math.abs(Pu[0] - Ru[1]); Math.min(c, f) > a.len() && (c < f ? gt.scale(a, u, -c * o) : gt.scale(a, u, f * o)) } else if (n) { var c = Math.abs(Ru[0] - Pu[1]), f = Math.abs(Pu[0] - Ru[1]); Math.min(c, f) < n.len() && (c < f ? gt.scale(n, u, c * o) : gt.scale(n, u, -f * o)) } } return s }, t.prototype._getProjMinMaxOnAxis = function (e, r, n) { for (var a = this._axes[e], i = this._origin, o = r[0].dot(a) + i[e], s = o, l = o, u = 1; u < r.length; u++) { var c = r[u].dot(a) + i[e]; s = Math.min(c, s), l = Math.max(c, l) } n[0] = s, n[1] = l }, t }(); const l0 = qhe; var Xhe = [], Khe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.notClear = !0, r.incremental = !0, r._displayables = [], r._temporaryDisplayables = [], r._cursor = 0, r } return e.prototype.traverse = function (r, n) { r.call(n, this) }, e.prototype.useStyle = function () { this.style = {} }, e.prototype.getCursor = function () { return this._cursor }, e.prototype.innerAfterBrush = function () { this._cursor = this._displayables.length }, e.prototype.clearDisplaybles = function () { this._displayables = [], this._temporaryDisplayables = [], this._cursor = 0, this.markRedraw(), this.notClear = !1 }, e.prototype.clearTemporalDisplayables = function () { this._temporaryDisplayables = [] }, e.prototype.addDisplayable = function (r, n) { n ? this._temporaryDisplayables.push(r) : this._displayables.push(r), this.markRedraw() }, e.prototype.addDisplayables = function (r, n) { n = n || !1; for (var a = 0; a < r.length; a++)this.addDisplayable(r[a], n) }, e.prototype.getDisplayables = function () { return this._displayables }, e.prototype.getTemporalDisplayables = function () { return this._temporaryDisplayables }, e.prototype.eachPendingDisplayable = function (r) { for (var n = this._cursor; n < this._displayables.length; n++)r && r(this._displayables[n]); for (var n = 0; n < this._temporaryDisplayables.length; n++)r && r(this._temporaryDisplayables[n]) }, e.prototype.update = function () { this.updateTransform(); for (var r = this._cursor; r < this._displayables.length; r++) { var n = this._displayables[r]; n.parent = this, n.update(), n.parent = null } for (var r = 0; r < this._temporaryDisplayables.length; r++) { var n = this._temporaryDisplayables[r]; n.parent = this, n.update(), n.parent = null } }, e.prototype.getBoundingRect = function () { if (!this._rect) { for (var r = new wt(1 / 0, 1 / 0, -1 / 0, -1 / 0), n = 0; n < this._displayables.length; n++) { var a = this._displayables[n], i = a.getBoundingRect().clone(); a.needLocalTransform() && i.applyTransform(a.getLocalTransform(Xhe)), r.union(i) } this._rect = r } return this._rect }, e.prototype.contain = function (r, n) { var a = this.transformCoordToLocal(r, n), i = this.getBoundingRect(); if (i.contain(a[0], a[1])) for (var o = 0; o < this._displayables.length; o++) { var s = this._displayables[o]; if (s.contain(r, n)) return !0 } return !1 }, e }(_i); const Qhe = Khe; var lB = zt(); function Uh(t, e, r, n, a) { var i; if (e && e.ecModel) { var o = e.ecModel.getUpdatePayload(); i = o && o.animation } var s = e && e.isAnimationEnabled(), l = t === "update"; if (s) { var u = void 0, c = void 0, f = void 0; n ? (u = _t(n.duration, 200), c = _t(n.easing, "cubicOut"), f = 0) : (u = e.getShallow(l ? "animationDurationUpdate" : "animationDuration"), c = e.getShallow(l ? "animationEasingUpdate" : "animationEasing"), f = e.getShallow(l ? "animationDelayUpdate" : "animationDelay")), i && (i.duration != null && (u = i.duration), i.easing != null && (c = i.easing), i.delay != null && (f = i.delay)), je(f) && (f = f(r, a)), je(u) && (u = u(r)); var h = { duration: u || 0, delay: f, easing: c }; return h } else return null } function mC(t, e, r, n, a, i, o) { var s = !1, l; je(a) ? (o = i, i = a, a = null) : Qe(a) && (i = a.cb, o = a.during, s = a.isFrom, l = a.removeOpt, a = a.dataIndex); var u = t === "leave"; u || e.stopAnimation("leave"); var c = Uh(t, n, a, u ? l || {} : null, n && n.getAnimationDelayParams ? n.getAnimationDelayParams(e, a) : null); if (c && c.duration > 0) { var f = c.duration, h = c.delay, d = c.easing, v = { duration: f, delay: h || 0, easing: d, done: i, force: !!i || !!o, setToFinal: !u, scope: t, during: o }; s ? e.animateFrom(r, v) : e.animateTo(r, v) } else e.stopAnimation(), !s && e.attr(r), o && o(1), i && i() } function jt(t, e, r, n, a, i) { mC("update", t, e, r, n, a, i) } function Or(t, e, r, n, a, i) { mC("enter", t, e, r, n, a, i) } function uh(t) { if (!t.__zr) return !0; for (var e = 0; e < t.animators.length; e++) { var r = t.animators[e]; if (r.scope === "leave") return !0 } return !1 } function Kl(t, e, r, n, a, i) { uh(t) || mC("leave", t, e, r, n, a, i) } function SP(t, e, r, n) { t.removeTextContent(), t.removeTextGuideLine(), Kl(t, { style: { opacity: 0 } }, e, r, n) } function dp(t, e, r) { function n() { t.parent && t.parent.remove(t) } t.isGroup ? t.traverse(function (a) { a.isGroup || SP(a, e, r, n) }) : SP(t, e, r, n) } function Zi(t) { lB(t).oldStyle = t.style } function Jhe(t) { return lB(t).oldStyle } var u0 = Math.max, c0 = Math.min, kT = {}; function ede(t) { return At.extend(t) } var tde = khe; function rde(t, e) { return tde(t, e) } function Qi(t, e) { kT[t] = e } function yC(t) { if (kT.hasOwnProperty(t)) return kT[t] } function e1(t, e, r, n) { var a = ZF(t, e); return r && (n === "center" && (r = cB(r, a.getBoundingRect())), fB(a, r)), a } function uB(t, e, r) { var n = new Gn({ style: { image: t, x: e.x, y: e.y, width: e.width, height: e.height }, onload: function (a) { if (r === "center") { var i = { width: a.width, height: a.height }; n.setStyle(cB(e, i)) } } }); return n } function cB(t, e) { var r = e.width / e.height, n = t.height * r, a; n <= t.width ? a = t.height : (n = t.width, a = n / r); var i = t.x + t.width / 2, o = t.y + t.height / 2; return { x: i - n / 2, y: o - a / 2, width: n, height: a } } var ci = Ahe; function fB(t, e) { if (t.applyTransform) { var r = t.getBoundingRect(), n = r.calculateTransform(e); t.applyTransform(n) } } function Dh(t, e) { return AF(t, t, { lineWidth: e }), t } function nde(t) { return LF(t.shape, t.shape, t.style), t } var xy = lc; function Cc(t, e) { for (var r = Y_([]); t && t !== e;)xs(r, t.getLocalTransform(), r), t = t.parent; return r } function Yi(t, e, r) { return e && !na(e) && (e = ps.getLocalTransform(e)), r && (e = zh([], e)), Hn([], t, e) } function t1(t, e, r) { var n = e[4] === 0 || e[5] === 0 || e[0] === 0 ? 1 : Math.abs(2 * e[4] / e[0]), a = e[4] === 0 || e[5] === 0 || e[2] === 0 ? 1 : Math.abs(2 * e[4] / e[2]), i = [t === "left" ? -n : t === "right" ? n : 0, t === "top" ? -a : t === "bottom" ? a : 0]; return i = Yi(i, e, r), Math.abs(i[0]) > Math.abs(i[1]) ? i[0] > 0 ? "right" : "left" : i[1] > 0 ? "bottom" : "top" } function xP(t) { return !t.isGroup } function ade(t) { return t.shape != null } function tg(t, e, r) { if (!t || !e) return; function n(o) { var s = {}; return o.traverse(function (l) { xP(l) && l.anid && (s[l.anid] = l) }), s } function a(o) { var s = { x: o.x, y: o.y, rotation: o.rotation }; return ade(o) && (s.shape = he({}, o.shape)), s } var i = n(t); e.traverse(function (o) { if (xP(o) && o.anid) { var s = i[o.anid]; if (s) { var l = a(o); o.attr(a(s)), jt(o, l, r, lt(o).dataIndex) } } }) } function hB(t, e) { return _e(t, function (r) { var n = r[0]; n = u0(n, e.x), n = c0(n, e.x + e.width); var a = r[1]; return a = u0(a, e.y), a = c0(a, e.y + e.height), [n, a] }) } function ide(t, e) { var r = u0(t.x, e.x), n = c0(t.x + t.width, e.x + e.width), a = u0(t.y, e.y), i = c0(t.y + t.height, e.y + e.height); if (n >= r && i >= a) return { x: r, y: a, width: n - r, height: i - a } } function rg(t, e, r) { var n = he({ rectHover: !0 }, e), a = n.style = { strokeNoScale: !0 }; if (r = r || { x: -1, y: -1, width: 2, height: 2 }, t) return t.indexOf("image://") === 0 ? (a.image = t.slice(8), Xe(a, r), new Gn(n)) : e1(t.replace("path://", ""), n, r, "center") } function ov(t, e, r, n, a) { for (var i = 0, o = a[a.length - 1]; i < a.length; i++) { var s = a[i]; if (dB(t, e, r, n, s[0], s[1], o[0], o[1])) return !0; o = s } } function dB(t, e, r, n, a, i, o, s) { var l = r - t, u = n - e, c = o - a, f = s - i, h = dw(c, f, l, u); if (ode(h)) return !1; var d = t - a, v = e - i, p = dw(d, v, l, u) / h; if (p < 0 || p > 1) return !1; var g = dw(d, v, c, f) / h; return !(g < 0 || g > 1) } function dw(t, e, r, n) { return t * n - r * e } function ode(t) { return t <= 1e-6 && t >= -1e-6 } function Wh(t) { var e = t.itemTooltipOption, r = t.componentModel, n = t.itemName, a = Oe(e) ? { formatter: e } : e, i = r.mainType, o = r.componentIndex, s = { componentType: i, name: n, $vars: ["name"] }; s[i + "Index"] = o; var l = t.formatterParamsExtra; l && E(Nt(l), function (c) { Fe(s, c) || (s[c] = l[c], s.$vars.push(c)) }); var u = lt(t.el); u.componentMainType = i, u.componentIndex = o, u.tooltipConfig = { name: n, option: Xe({ content: n, formatterParams: s }, a) } } function TP(t, e) { var r; t.isGroup && (r = e(t)), r || t.traverse(e) } function ou(t, e) { if (t) if (me(t)) for (var r = 0; r < t.length; r++)TP(t[r], e); else TP(t, e) } Qi("circle", $o); Qi("ellipse", vC); Qi("sector", Oa); Qi("ring", Q_); Qi("polygon", Ea); Qi("polyline", Na); Qi("rect", Bt); Qi("line", $n); Qi("bezierCurve", J_); Qi("arc", pC); const ng = Object.freeze(Object.defineProperty({ __proto__: null, Arc: pC, BezierCurve: J_, BoundingRect: wt, Circle: $o, CompoundPath: gC, Ellipse: vC, Group: it, Image: Gn, IncrementalDisplayable: Qhe, Line: $n, LinearGradient: eg, OrientedBoundingRect: l0, Path: At, Point: gt, Polygon: Ea, Polyline: Na, RadialGradient: sB, Rect: Bt, Ring: Q_, Sector: Oa, Text: Wt, applyTransform: Yi, clipPointsByRect: hB, clipRectByRect: ide, createIcon: rg, extendPath: rde, extendShape: ede, getShapeClass: yC, getTransform: Cc, groupTransition: tg, initProps: Or, isElementRemoved: uh, lineLineIntersect: dB, linePolygonIntersect: ov, makeImage: uB, makePath: e1, mergePath: ci, registerShape: Qi, removeElement: Kl, removeElementWithFadeOut: dp, resizePath: fB, setTooltipConfig: Wh, subPixelOptimize: xy, subPixelOptimizeLine: Dh, subPixelOptimizeRect: nde, transformDirection: t1, traverseElements: ou, updateProps: jt }, Symbol.toStringTag, { value: "Module" })); var r1 = {}; function vB(t, e) { for (var r = 0; r < _a.length; r++) { var n = _a[r], a = e[n], i = t.ensureState(n); i.style = i.style || {}, i.style.text = a } var o = t.currentStates.slice(); t.clearStates(!0), t.setStyle({ text: e.normal }), t.useStates(o, !0) } function AT(t, e, r) { var n = t.labelFetcher, a = t.labelDataIndex, i = t.labelDimIndex, o = e.normal, s; n && (s = n.getFormattedLabel(a, "normal", null, i, o && o.get("formatter"), r != null ? { interpolatedValue: r } : null)), s == null && (s = je(t.defaultText) ? t.defaultText(a, t, r) : t.defaultText); for (var l = { normal: s }, u = 0; u < _a.length; u++) { var c = _a[u], f = e[c]; l[c] = _t(n ? n.getFormattedLabel(a, c, null, i, f && f.get("formatter")) : null, s) } return l } function Wn(t, e, r, n) { r = r || r1; for (var a = t instanceof Wt, i = !1, o = 0; o < fp.length; o++) { var s = e[fp[o]]; if (s && s.getShallow("show")) { i = !0; break } } var l = a ? t : t.getTextContent(); if (i) { a || (l || (l = new Wt, t.setTextContent(l)), t.stateProxy && (l.stateProxy = t.stateProxy)); var u = AT(r, e), c = e.normal, f = !!c.getShallow("show"), h = Mr(c, n && n.normal, r, !1, !a); h.text = u.normal, a || t.setTextConfig(f0(c, r, !1)); for (var o = 0; o < _a.length; o++) { var d = _a[o], s = e[d]; if (s) { var v = l.ensureState(d), p = !!_t(s.getShallow("show"), f); if (p !== f && (v.ignore = !p), v.style = Mr(s, n && n[d], r, !0, !a), v.style.text = u[d], !a) { var g = t.ensureState(d); g.textConfig = f0(s, r, !0) } } } l.silent = !!c.getShallow("silent"), l.style.x != null && (h.x = l.style.x), l.style.y != null && (h.y = l.style.y), l.ignore = !f, l.useStyle(h), l.dirty(), r.enableTextSetter && (Gh(l).setLabelText = function (m) { var y = AT(r, e, m); vB(l, y) }) } else l && (l.ignore = !0); t.dirty() } function Pn(t, e) { e = e || "label"; for (var r = { normal: t.getModel(e) }, n = 0; n < _a.length; n++) { var a = _a[n]; r[a] = t.getModel([a, e]) } return r } function Mr(t, e, r, n, a) { var i = {}; return sde(i, t, r, n, a), e && he(i, e), i } function f0(t, e, r) { e = e || {}; var n = {}, a, i = t.getShallow("rotate"), o = _t(t.getShallow("distance"), r ? null : 5), s = t.getShallow("offset"); return a = t.getShallow("position") || (r ? null : "inside"), a === "outside" && (a = e.defaultOutsidePosition || "top"), a != null && (n.position = a), s != null && (n.offset = s), i != null && (i *= Math.PI / 180, n.rotation = i), o != null && (n.distance = o), n.outsideFill = t.get("color") === "inherit" ? e.inheritColor || null : "auto", n } function sde(t, e, r, n, a) { r = r || r1; var i = e.ecModel, o = i && i.option.textStyle, s = lde(e), l; if (s) { l = {}; for (var u in s) if (s.hasOwnProperty(u)) { var c = e.getModel(["rich", u]); kP(l[u] = {}, c, o, r, n, a, !1, !0) } } l && (t.rich = l); var f = e.get("overflow"); f && (t.overflow = f); var h = e.get("minMargin"); h != null && (t.margin = h), kP(t, e, o, r, n, a, !0, !1) } function lde(t) { for (var e; t && t !== t.ecModel;) { var r = (t.option || r1).rich; if (r) { e = e || {}; for (var n = Nt(r), a = 0; a < n.length; a++) { var i = n[a]; e[i] = 1 } } t = t.parentModel } return e } var DP = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "textShadowColor", "textShadowBlur", "textShadowOffsetX", "textShadowOffsetY"], CP = ["align", "lineHeight", "width", "height", "tag", "verticalAlign", "ellipsis"], MP = ["padding", "borderWidth", "borderRadius", "borderDashOffset", "backgroundColor", "borderColor", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"]; function kP(t, e, r, n, a, i, o, s) { r = !a && r || r1; var l = n && n.inheritColor, u = e.getShallow("color"), c = e.getShallow("textBorderColor"), f = _t(e.getShallow("opacity"), r.opacity); (u === "inherit" || u === "auto") && (l ? u = l : u = null), (c === "inherit" || c === "auto") && (l ? c = l : c = null), i || (u = u || r.color, c = c || r.textBorderColor), u != null && (t.fill = u), c != null && (t.stroke = c); var h = _t(e.getShallow("textBorderWidth"), r.textBorderWidth); h != null && (t.lineWidth = h); var d = _t(e.getShallow("textBorderType"), r.textBorderType); d != null && (t.lineDash = d); var v = _t(e.getShallow("textBorderDashOffset"), r.textBorderDashOffset); v != null && (t.lineDashOffset = v), !a && f == null && !s && (f = n && n.defaultOpacity), f != null && (t.opacity = f), !a && !i && t.fill == null && n.inheritColor && (t.fill = n.inheritColor); for (var p = 0; p < DP.length; p++) { var g = DP[p], m = _t(e.getShallow(g), r[g]); m != null && (t[g] = m) } for (var p = 0; p < CP.length; p++) { var g = CP[p], m = e.getShallow(g); m != null && (t[g] = m) } if (t.verticalAlign == null) { var y = e.getShallow("baseline"); y != null && (t.verticalAlign = y) } if (!o || !n.disableBox) { for (var p = 0; p < MP.length; p++) { var g = MP[p], m = e.getShallow(g); m != null && (t[g] = m) } var _ = e.getShallow("borderType"); _ != null && (t.borderDash = _), (t.backgroundColor === "auto" || t.backgroundColor === "inherit") && l && (t.backgroundColor = l), (t.borderColor === "auto" || t.borderColor === "inherit") && l && (t.borderColor = l) } } function pB(t, e) { var r = e && e.getModel("textStyle"); return Fi([t.fontStyle || r && r.getShallow("fontStyle") || "", t.fontWeight || r && r.getShallow("fontWeight") || "", (t.fontSize || r && r.getShallow("fontSize") || 12) + "px", t.fontFamily || r && r.getShallow("fontFamily") || "sans-serif"].join(" ")) } var Gh = zt(); function gB(t, e, r, n) { if (t) { var a = Gh(t); a.prevValue = a.value, a.value = r; var i = e.normal; a.valueAnimation = i.get("valueAnimation"), a.valueAnimation && (a.precision = i.get("precision"), a.defaultInterpolatedText = n, a.statesModels = e) } } function mB(t, e, r, n, a) { var i = Gh(t); if (!i.valueAnimation || i.prevValue === i.value) return; var o = i.defaultInterpolatedText, s = _t(i.interpolatedValue, i.prevValue), l = i.value; function u(c) { var f = yF(r, i.precision, s, l, c); i.interpolatedValue = c === 1 ? null : f; var h = AT({ labelDataIndex: e, labelFetcher: a, defaultText: o ? o(f) : f + "" }, i.statesModels, f); vB(t, h) } t.percent = 0, (i.prevValue == null ? Or : jt)(t, { percent: 1 }, n, e, null, u) } var ude = ["textStyle", "color"], vw = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "padding", "lineHeight", "rich", "width", "height", "overflow"], pw = new Wt, cde = function () { function t() { } return t.prototype.getTextColor = function (e) { var r = this.ecModel; return this.getShallow("color") || (!e && r ? r.get(ude) : null) }, t.prototype.getFont = function () { return pB({ fontStyle: this.getShallow("fontStyle"), fontWeight: this.getShallow("fontWeight"), fontSize: this.getShallow("fontSize"), fontFamily: this.getShallow("fontFamily") }, this.ecModel) }, t.prototype.getTextRect = function (e) { for (var r = { text: e, verticalAlign: this.getShallow("verticalAlign") || this.getShallow("baseline") }, n = 0; n < vw.length; n++)r[vw[n]] = this.getShallow(vw[n]); return pw.useStyle(r), pw.update(), pw.getBoundingRect() }, t }(); const fde = cde; var yB = [["lineWidth", "width"], ["stroke", "color"], ["opacity"], ["shadowBlur"], ["shadowOffsetX"], ["shadowOffsetY"], ["shadowColor"], ["lineDash", "type"], ["lineDashOffset", "dashOffset"], ["lineCap", "cap"], ["lineJoin", "join"], ["miterLimit"]], hde = Nc(yB), dde = function () { function t() { } return t.prototype.getLineStyle = function (e) { return hde(this, e) }, t }(), _B = [["fill", "color"], ["stroke", "borderColor"], ["lineWidth", "borderWidth"], ["opacity"], ["shadowBlur"], ["shadowOffsetX"], ["shadowOffsetY"], ["shadowColor"], ["lineDash", "borderType"], ["lineDashOffset", "borderDashOffset"], ["lineCap", "borderCap"], ["lineJoin", "borderJoin"], ["miterLimit", "borderMiterLimit"]], vde = Nc(_B), pde = function () { function t() { } return t.prototype.getItemStyle = function (e, r) { return vde(this, e, r) }, t }(), qc = function () { function t(e, r, n) { this.parentModel = r, this.ecModel = n, this.option = e } return t.prototype.init = function (e, r, n) { }, t.prototype.mergeOption = function (e, r) { bt(this.option, e, !0) }, t.prototype.get = function (e, r) { return e == null ? this.option : this._doGet(this.parsePath(e), !r && this.parentModel) }, t.prototype.getShallow = function (e, r) { var n = this.option, a = n == null ? n : n[e]; if (a == null && !r) { var i = this.parentModel; i && (a = i.getShallow(e)) } return a }, t.prototype.getModel = function (e, r) { var n = e != null, a = n ? this.parsePath(e) : null, i = n ? this._doGet(a) : this.option; return r = r || this.parentModel && this.parentModel.getModel(this.resolveParentPath(a)), new t(i, r, this.ecModel) }, t.prototype.isEmpty = function () { return this.option == null }, t.prototype.restoreData = function () { }, t.prototype.clone = function () { var e = this.constructor; return new e(rt(this.option)) }, t.prototype.parsePath = function (e) { return typeof e == "string" ? e.split(".") : e }, t.prototype.resolveParentPath = function (e) { return e }, t.prototype.isAnimationEnabled = function () { if (!Ut.node && this.option) { if (this.option.animation != null) return !!this.option.animation; if (this.parentModel) return this.parentModel.isAnimationEnabled() } }, t.prototype._doGet = function (e, r) { var n = this.option; if (!e) return n; for (var a = 0; a < e.length && !(e[a] && (n = n && typeof n == "object" ? n[e[a]] : null, n == null)); a++); return n == null && r && (n = r._doGet(this.resolveParentPath(e), r.parentModel)), n }, t }(); oC(qc); pfe(qc); mn(qc, dde); mn(qc, pde); mn(qc, bfe); mn(qc, fde); const kr = qc; var gde = Math.round(Math.random() * 10); function jh(t) { return [t || "", gde++].join("_") } function mde(t) { var e = {}; t.registerSubTypeDefaulter = function (r, n) { var a = So(r); e[a.main] = n }, t.determineSubType = function (r, n) { var a = n.type; if (!a) { var i = So(r).main; t.hasSubTypes(r) && e[i] && (a = e[i](n)) } return a } } function yde(t, e) { t.topologicalTravel = function (i, o, s, l) { if (!i.length) return; var u = r(o), c = u.graph, f = u.noEntryList, h = {}; for (E(i, function (y) { h[y] = !0 }); f.length;) { var d = f.pop(), v = c[d], p = !!h[d]; p && (s.call(l, d, v.originalDeps.slice()), delete h[d]), E(v.successor, p ? m : g) } E(h, function () { var y = ""; throw new Error(y) }); function g(y) { c[y].entryCount--, c[y].entryCount === 0 && f.push(y) } function m(y) { h[y] = !0, g(y) } }; function r(i) { var o = {}, s = []; return E(i, function (l) { var u = n(o, l), c = u.originalDeps = e(l), f = a(c, i); u.entryCount = f.length, u.entryCount === 0 && s.push(l), E(f, function (h) { Ct(u.predecessor, h) < 0 && u.predecessor.push(h); var d = n(o, h); Ct(d.successor, h) < 0 && d.successor.push(l) }) }), { graph: o, noEntryList: s } } function n(i, o) { return i[o] || (i[o] = { predecessor: [], successor: [] }), i[o] } function a(i, o) { var s = []; return E(i, function (l) { Ct(o, l) >= 0 && s.push(l) }), s } } function su(t, e) { return bt(bt({}, t, !0), e, !0) } const _de = { time: { month: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], monthAbbr: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], dayOfWeek: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], dayOfWeekAbbr: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"] }, legend: { selector: { all: "All", inverse: "Inv" } }, toolbox: { brush: { title: { rect: "Box Select", polygon: "Lasso Select", lineX: "Horizontally Select", lineY: "Vertically Select", keep: "Keep Selections", clear: "Clear Selections" } }, dataView: { title: "Data View", lang: ["Data View", "Close", "Refresh"] }, dataZoom: { title: { zoom: "Zoom", back: "Zoom Reset" } }, magicType: { title: { line: "Switch to Line Chart", bar: "Switch to Bar Chart", stack: "Stack", tiled: "Tile" } }, restore: { title: "Restore" }, saveAsImage: { title: "Save as Image", lang: ["Right Click to Save Image"] } }, series: { typeNames: { pie: "Pie chart", bar: "Bar chart", line: "Line chart", scatter: "Scatter plot", effectScatter: "Ripple scatter plot", radar: "Radar chart", tree: "Tree", treemap: "Treemap", boxplot: "Boxplot", candlestick: "Candlestick", k: "K line chart", heatmap: "Heat map", map: "Map", parallel: "Parallel coordinate map", lines: "Line graph", graph: "Relationship graph", sankey: "Sankey diagram", funnel: "Funnel chart", gauge: "Gauge", pictorialBar: "Pictorial bar", themeRiver: "Theme River Map", sunburst: "Sunburst" } }, aria: { general: { withTitle: 'This is a chart about "{title}"', withoutTitle: "This is a chart" }, series: { single: { prefix: "", withName: " with type {seriesType} named {seriesName}.", withoutName: " with type {seriesType}." }, multiple: { prefix: ". It consists of {seriesCount} series count.", withName: " The {seriesId} series is a {seriesType} representing {seriesName}.", withoutName: " The {seriesId} series is a {seriesType}.", separator: { middle: "", end: "" } } }, data: { allData: "The data is as follows: ", partialData: "The first {displayCnt} items are: ", withName: "the data for {name} is {value}", withoutName: "{value}", separator: { middle: ", ", end: ". " } } } }, bde = { time: { month: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"], monthAbbr: ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"], dayOfWeek: ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"], dayOfWeekAbbr: ["日", "一", "二", "三", "四", "五", "六"] }, legend: { selector: { all: "全选", inverse: "反选" } }, toolbox: { brush: { title: { rect: "矩形选择", polygon: "圈选", lineX: "横向选择", lineY: "纵向选择", keep: "保持选择", clear: "清除选择" } }, dataView: { title: "数据视图", lang: ["数据视图", "关闭", "刷新"] }, dataZoom: { title: { zoom: "区域缩放", back: "区域缩放还原" } }, magicType: { title: { line: "切换为折线图", bar: "切换为柱状图", stack: "切换为堆叠", tiled: "切换为平铺" } }, restore: { title: "还原" }, saveAsImage: { title: "保存为图片", lang: ["右键另存为图片"] } }, series: { typeNames: { pie: "饼图", bar: "柱状图", line: "折线图", scatter: "散点图", effectScatter: "涟漪散点图", radar: "雷达图", tree: "树图", treemap: "矩形树图", boxplot: "箱型图", candlestick: "K线图", k: "K线图", heatmap: "热力图", map: "地图", parallel: "平行坐标图", lines: "线图", graph: "关系图", sankey: "桑基图", funnel: "漏斗图", gauge: "仪表盘图", pictorialBar: "象形柱图", themeRiver: "主题河流图", sunburst: "旭日图" } }, aria: { general: { withTitle: "这是一个关于“{title}”的图表。", withoutTitle: "这是一个图表，" }, series: { single: { prefix: "", withName: "图表类型是{seriesType}，表示{seriesName}。", withoutName: "图表类型是{seriesType}。" }, multiple: { prefix: "它由{seriesCount}个图表系列组成。", withName: "第{seriesId}个系列是一个表示{seriesName}的{seriesType}，", withoutName: "第{seriesId}个系列是一个{seriesType}，", separator: { middle: "；", end: "。" } } }, data: { allData: "其数据是——", partialData: "其中，前{displayCnt}项是——", withName: "{name}的数据是{value}", withoutName: "{value}", separator: { middle: "，", end: "" } } } }; var h0 = "ZH", _C = "EN", vp = _C, Ty = {}, bC = {}, bB = Ut.domSupported ? function () { var t = (document.documentElement.lang || navigator.language || navigator.browserLanguage).toUpperCase(); return t.indexOf(h0) > -1 ? h0 : vp }() : vp; function wB(t, e) { t = t.toUpperCase(), bC[t] = new kr(e), Ty[t] = e } function wde(t) { if (Oe(t)) { var e = Ty[t.toUpperCase()] || {}; return t === h0 || t === _C ? rt(e) : bt(rt(e), rt(Ty[vp]), !1) } else return bt(rt(t), rt(Ty[vp]), !1) } function LT(t) { return bC[t] } function Sde() { return bC[vp] } wB(_C, _de); wB(h0, bde); var wC = 1e3, SC = wC * 60, Iv = SC * 60, fi = Iv * 24, AP = fi * 365, sv = { year: "{yyyy}", month: "{MMM}", day: "{d}", hour: "{HH}:{mm}", minute: "{HH}:{mm}", second: "{HH}:{mm}:{ss}", millisecond: "{HH}:{mm}:{ss} {SSS}", none: "{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}" }, fm = "{yyyy}-{MM}-{dd}", LP = { year: "{yyyy}", month: "{yyyy}-{MM}", day: fm, hour: fm + " " + sv.hour, minute: fm + " " + sv.minute, second: fm + " " + sv.second, millisecond: sv.none }, gw = ["year", "month", "day", "hour", "minute", "second", "millisecond"], SB = ["year", "half-year", "quarter", "month", "week", "half-week", "day", "half-day", "quarter-day", "hour", "minute", "second", "millisecond"]; function nl(t, e) { return t += "", "0000".substr(0, e - t.length) + t } function ch(t) { switch (t) { case "half-year": case "quarter": return "month"; case "week": case "half-week": return "day"; case "half-day": case "quarter-day": return "hour"; default: return t } } function xde(t) { return t === ch(t) } function Tde(t) { switch (t) { case "year": case "month": return "day"; case "millisecond": return "millisecond"; default: return "second" } } function n1(t, e, r, n) { var a = Eo(t), i = a[xC(r)](), o = a[fh(r)]() + 1, s = Math.floor((o - 1) / 3) + 1, l = a[a1(r)](), u = a["get" + (r ? "UTC" : "") + "Day"](), c = a[pp(r)](), f = (c - 1) % 12 + 1, h = a[i1(r)](), d = a[o1(r)](), v = a[s1(r)](), p = n instanceof kr ? n : LT(n || bB) || Sde(), g = p.getModel("time"), m = g.get("month"), y = g.get("monthAbbr"), _ = g.get("dayOfWeek"), b = g.get("dayOfWeekAbbr"); return (e || "").replace(/{yyyy}/g, i + "").replace(/{yy}/g, nl(i % 100 + "", 2)).replace(/{Q}/g, s + "").replace(/{MMMM}/g, m[o - 1]).replace(/{MMM}/g, y[o - 1]).replace(/{MM}/g, nl(o, 2)).replace(/{M}/g, o + "").replace(/{dd}/g, nl(l, 2)).replace(/{d}/g, l + "").replace(/{eeee}/g, _[u]).replace(/{ee}/g, b[u]).replace(/{e}/g, u + "").replace(/{HH}/g, nl(c, 2)).replace(/{H}/g, c + "").replace(/{hh}/g, nl(f + "", 2)).replace(/{h}/g, f + "").replace(/{mm}/g, nl(h, 2)).replace(/{m}/g, h + "").replace(/{ss}/g, nl(d, 2)).replace(/{s}/g, d + "").replace(/{SSS}/g, nl(v, 3)).replace(/{S}/g, v + "") } function Dde(t, e, r, n, a) { var i = null; if (Oe(r)) i = r; else if (je(r)) i = r(t.value, e, { level: t.level }); else { var o = he({}, sv); if (t.level > 0) for (var s = 0; s < gw.length; ++s)o[gw[s]] = "{primary|" + o[gw[s]] + "}"; var l = r ? r.inherit === !1 ? r : Xe(r, o) : o, u = xB(t.value, a); if (l[u]) i = l[u]; else if (l.inherit) { for (var c = SB.indexOf(u), s = c - 1; s >= 0; --s)if (l[u]) { i = l[u]; break } i = i || o.none } if (me(i)) { var f = t.level == null ? 0 : t.level >= 0 ? t.level : i.length + t.level; f = Math.min(f, i.length - 1), i = i[f] } } return n1(new Date(t.value), i, a, n) } function xB(t, e) { var r = Eo(t), n = r[fh(e)]() + 1, a = r[a1(e)](), i = r[pp(e)](), o = r[i1(e)](), s = r[o1(e)](), l = r[s1(e)](), u = l === 0, c = u && s === 0, f = c && o === 0, h = f && i === 0, d = h && a === 1, v = d && n === 1; return v ? "year" : d ? "month" : h ? "day" : f ? "hour" : c ? "minute" : u ? "second" : "millisecond" } function IP(t, e, r) { var n = Gt(t) ? Eo(t) : t; switch (e = e || xB(t, r), e) { case "year": return n[xC(r)](); case "half-year": return n[fh(r)]() >= 6 ? 1 : 0; case "quarter": return Math.floor((n[fh(r)]() + 1) / 4); case "month": return n[fh(r)](); case "day": return n[a1(r)](); case "half-day": return n[pp(r)]() / 24; case "hour": return n[pp(r)](); case "minute": return n[i1(r)](); case "second": return n[o1(r)](); case "millisecond": return n[s1(r)]() } } function xC(t) { return t ? "getUTCFullYear" : "getFullYear" } function fh(t) { return t ? "getUTCMonth" : "getMonth" } function a1(t) { return t ? "getUTCDate" : "getDate" } function pp(t) { return t ? "getUTCHours" : "getHours" } function i1(t) { return t ? "getUTCMinutes" : "getMinutes" } function o1(t) { return t ? "getUTCSeconds" : "getSeconds" } function s1(t) { return t ? "getUTCMilliseconds" : "getMilliseconds" } function Cde(t) { return t ? "setUTCFullYear" : "setFullYear" } function TB(t) { return t ? "setUTCMonth" : "setMonth" } function DB(t) { return t ? "setUTCDate" : "setDate" } function CB(t) { return t ? "setUTCHours" : "setHours" } function MB(t) { return t ? "setUTCMinutes" : "setMinutes" } function kB(t) { return t ? "setUTCSeconds" : "setSeconds" } function AB(t) { return t ? "setUTCMilliseconds" : "setMilliseconds" } function LB(t) { if (!cF(t)) return Oe(t) ? t : "-"; var e = (t + "").split("."); return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g, "$1,") + (e.length > 1 ? "." + e[1] : "") } function IB(t, e) { return t = (t || "").toLowerCase().replace(/-(.)/g, function (r, n) { return n.toUpperCase() }), e && t && (t = t.charAt(0).toUpperCase() + t.slice(1)), t } var Zh = qD; function IT(t, e, r) { var n = "{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}"; function a(c) { return c && Fi(c) ? c : "-" } function i(c) { return !!(c != null && !isNaN(c) && isFinite(c)) } var o = e === "time", s = t instanceof Date; if (o || s) { var l = o ? Eo(t) : t; if (isNaN(+l)) { if (s) return "-" } else return n1(l, n, r) } if (e === "ordinal") return Xx(t) ? a(t) : Gt(t) && i(t) ? t + "" : "-"; var u = Is(t); return i(u) ? LB(u) : Xx(t) ? a(t) : typeof t == "boolean" ? t + "" : "-" } var PP = ["a", "b", "c", "d", "e", "f", "g"], mw = function (t, e) { return "{" + t + (e ?? "") + "}" }; function PB(t, e, r) { me(e) || (e = [e]); var n = e.length; if (!n) return ""; for (var a = e[0].$vars || [], i = 0; i < a.length; i++) { var o = PP[i]; t = t.replace(mw(o), mw(o, 0)) } for (var s = 0; s < n; s++)for (var l = 0; l < a.length; l++) { var u = e[s][a[l]]; t = t.replace(mw(PP[l], s), r ? Ca(u) : u) } return t } function Mde(t, e, r) { return E(e, function (n, a) { t = t.replace("{" + a + "}", r ? Ca(n) : n) }), t } function kde(t, e) { var r = Oe(t) ? { color: t, extraCssText: e } : t || {}, n = r.color, a = r.type; e = r.extraCssText; var i = r.renderMode || "html"; if (!n) return ""; if (i === "html") return a === "subItem" ? '<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:' + Ca(n) + ";" + (e || "") + '"></span>' : '<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:' + Ca(n) + ";" + (e || "") + '"></span>'; var o = r.markerId || "markerX"; return { renderMode: i, content: "{" + o + "|}  ", style: a === "subItem" ? { width: 4, height: 4, borderRadius: 2, backgroundColor: n } : { width: 10, height: 10, borderRadius: 5, backgroundColor: n } } } function Fc(t, e) { return e = e || "transparent", Oe(t) ? t : Qe(t) && t.colorStops && (t.colorStops[0] || {}).color || e } function d0(t, e) { if (e === "_blank" || e === "blank") { var r = window.open(); r.opener = null, r.location.href = t } else window.open(t, e) } var Dy = E, RB = ["left", "right", "top", "bottom", "width", "height"], cc = [["width", "left", "right"], ["height", "top", "bottom"]]; function TC(t, e, r, n, a) { var i = 0, o = 0; n == null && (n = 1 / 0), a == null && (a = 1 / 0); var s = 0; e.eachChild(function (l, u) { var c = l.getBoundingRect(), f = e.childAt(u + 1), h = f && f.getBoundingRect(), d, v; if (t === "horizontal") { var p = c.width + (h ? -h.x + c.x : 0); d = i + p, d > n || l.newline ? (i = 0, d = p, o += s + r, s = c.height) : s = Math.max(s, c.height) } else { var g = c.height + (h ? -h.y + c.y : 0); v = o + g, v > a || l.newline ? (i += s + r, o = 0, v = g, s = c.width) : s = Math.max(s, c.width) } l.newline || (l.x = i, l.y = o, l.markRedraw(), t === "horizontal" ? i = d + r : o = v + r) }) } var Mc = TC; ut(TC, "vertical"); ut(TC, "horizontal"); function Ade(t, e, r) { var n = e.width, a = e.height, i = Ae(t.left, n), o = Ae(t.top, a), s = Ae(t.right, n), l = Ae(t.bottom, a); return (isNaN(i) || isNaN(parseFloat(t.left))) && (i = 0), (isNaN(s) || isNaN(parseFloat(t.right))) && (s = n), (isNaN(o) || isNaN(parseFloat(t.top))) && (o = 0), (isNaN(l) || isNaN(parseFloat(t.bottom))) && (l = a), r = Zh(r || 0), { width: Math.max(s - i - r[1] - r[3], 0), height: Math.max(l - o - r[0] - r[2], 0) } } function bn(t, e, r) { r = Zh(r || 0); var n = e.width, a = e.height, i = Ae(t.left, n), o = Ae(t.top, a), s = Ae(t.right, n), l = Ae(t.bottom, a), u = Ae(t.width, n), c = Ae(t.height, a), f = r[2] + r[0], h = r[1] + r[3], d = t.aspect; switch (isNaN(u) && (u = n - s - h - i), isNaN(c) && (c = a - l - f - o), d != null && (isNaN(u) && isNaN(c) && (d > n / a ? u = n * .8 : c = a * .8), isNaN(u) && (u = d * c), isNaN(c) && (c = u / d)), isNaN(i) && (i = n - s - u - h), isNaN(o) && (o = a - l - c - f), t.left || t.right) { case "center": i = n / 2 - u / 2 - r[3]; break; case "right": i = n - u - h; break }switch (t.top || t.bottom) { case "middle": case "center": o = a / 2 - c / 2 - r[0]; break; case "bottom": o = a - c - f; break }i = i || 0, o = o || 0, isNaN(u) && (u = n - h - i - (s || 0)), isNaN(c) && (c = a - f - o - (l || 0)); var v = new wt(i + r[3], o + r[0], u, c); return v.margin = r, v } function l1(t, e, r, n, a, i) { var o = !a || !a.hv || a.hv[0], s = !a || !a.hv || a.hv[1], l = a && a.boundingMode || "all"; if (i = i || t, i.x = t.x, i.y = t.y, !o && !s) return !1; var u; if (l === "raw") u = t.type === "group" ? new wt(0, 0, +e.width || 0, +e.height || 0) : t.getBoundingRect(); else if (u = t.getBoundingRect(), t.needLocalTransform()) { var c = t.getLocalTransform(); u = u.clone(), u.applyTransform(c) } var f = bn(Xe({ width: u.width, height: u.height }, e), r, n), h = o ? f.x - u.x : 0, d = s ? f.y - u.y : 0; return l === "raw" ? (i.x = h, i.y = d) : (i.x += h, i.y += d), i === t && t.markRedraw(), !0 } function Lde(t, e) { return t[cc[e][0]] != null || t[cc[e][1]] != null && t[cc[e][2]] != null } function gp(t) { var e = t.layoutMode || t.constructor.layoutMode; return Qe(e) ? e : e ? { type: e } : null } function Ql(t, e, r) { var n = r && r.ignoreSize; !me(n) && (n = [n, n]); var a = o(cc[0], 0), i = o(cc[1], 1); u(cc[0], t, a), u(cc[1], t, i); function o(c, f) { var h = {}, d = 0, v = {}, p = 0, g = 2; if (Dy(c, function (_) { v[_] = t[_] }), Dy(c, function (_) { s(e, _) && (h[_] = v[_] = e[_]), l(h, _) && d++, l(v, _) && p++ }), n[f]) return l(e, c[1]) ? v[c[2]] = null : l(e, c[2]) && (v[c[1]] = null), v; if (p === g || !d) return v; if (d >= g) return h; for (var m = 0; m < c.length; m++) { var y = c[m]; if (!s(h, y) && s(t, y)) { h[y] = t[y]; break } } return h } function s(c, f) { return c.hasOwnProperty(f) } function l(c, f) { return c[f] != null && c[f] !== "auto" } function u(c, f, h) { Dy(c, function (d) { f[d] = h[d] }) } } function qh(t) { return OB({}, t) } function OB(t, e) { return e && t && Dy(RB, function (r) { e.hasOwnProperty(r) && (t[r] = e[r]) }), t } var Ide = zt(), Xh = function (t) { ae(e, t); function e(r, n, a) { var i = t.call(this, r, n, a) || this; return i.uid = jh("ec_cpt_model"), i } return e.prototype.init = function (r, n, a) { this.mergeDefaultAndTheme(r, a) }, e.prototype.mergeDefaultAndTheme = function (r, n) { var a = gp(this), i = a ? qh(r) : {}, o = n.getTheme(); bt(r, o.get(this.mainType)), bt(r, this.getDefaultOption()), a && Ql(r, i, a) }, e.prototype.mergeOption = function (r, n) { bt(this.option, r, !0); var a = gp(this); a && Ql(this.option, r, a) }, e.prototype.optionUpdated = function (r, n) { }, e.prototype.getDefaultOption = function () { var r = this.constructor; if (!hfe(r)) return r.defaultOption; var n = Ide(this); if (!n.defaultOption) { for (var a = [], i = r; i;) { var o = i.prototype.defaultOption; o && a.push(o), i = i.superClass } for (var s = {}, l = a.length - 1; l >= 0; l--)s = bt(s, a[l], !0); n.defaultOption = s } return n.defaultOption }, e.prototype.getReferringComponents = function (r, n) { var a = r + "Index", i = r + "Id"; return Qp(this.ecModel, r, { index: this.get(a, !0), id: this.get(i, !0) }, n) }, e.prototype.getBoxLayoutParams = function () { var r = this; return { left: r.get("left"), top: r.get("top"), right: r.get("right"), bottom: r.get("bottom"), width: r.get("width"), height: r.get("height") } }, e.prototype.getZLevelKey = function () { return "" }, e.prototype.setZLevel = function (r) { this.option.zlevel = r }, e.protoInitialize = function () { var r = e.prototype; r.type = "component", r.id = "", r.name = "", r.mainType = "", r.subType = "", r.componentIndex = 0 }(), e }(kr); bF(Xh, kr); G_(Xh); mde(Xh); yde(Xh, Pde); function Pde(t) { var e = []; return E(Xh.getClassesByMainType(t), function (r) { e = e.concat(r.dependencies || r.prototype.dependencies || []) }), e = _e(e, function (r) { return So(r).main }), t !== "dataset" && Ct(e, "dataset") <= 0 && e.unshift("dataset"), e } const Yt = Xh; var EB = ""; typeof navigator < "u" && (EB = navigator.platform || ""); var xf = "rgba(0, 0, 0, 0.2)"; const Rde = { darkMode: "auto", colorBy: "series", color: ["#5470c6", "#91cc75", "#fac858", "#ee6666", "#73c0de", "#3ba272", "#fc8452", "#9a60b4", "#ea7ccc"], gradientColor: ["#f6efa6", "#d88273", "#bf444c"], aria: { decal: { decals: [{ color: xf, dashArrayX: [1, 0], dashArrayY: [2, 5], symbolSize: 1, rotation: Math.PI / 6 }, { color: xf, symbol: "circle", dashArrayX: [[8, 8], [0, 8, 8, 0]], dashArrayY: [6, 0], symbolSize: .8 }, { color: xf, dashArrayX: [1, 0], dashArrayY: [4, 3], rotation: -Math.PI / 4 }, { color: xf, dashArrayX: [[6, 6], [0, 6, 6, 0]], dashArrayY: [6, 0] }, { color: xf, dashArrayX: [[1, 0], [1, 6]], dashArrayY: [1, 0, 6, 0], rotation: Math.PI / 4 }, { color: xf, symbol: "triangle", dashArrayX: [[9, 9], [0, 9, 9, 0]], dashArrayY: [7, 2], symbolSize: .75 }] } }, textStyle: { fontFamily: EB.match(/^Win/) ? "Microsoft YaHei" : "sans-serif", fontSize: 12, fontStyle: "normal", fontWeight: "normal" }, blendMode: null, stateAnimation: { duration: 300, easing: "cubicOut" }, animation: "auto", animationDuration: 1e3, animationDurationUpdate: 500, animationEasing: "cubicInOut", animationEasingUpdate: "cubicInOut", animationThreshold: 2e3, progressiveThreshold: 3e3, progressive: 400, hoverLayerThreshold: 3e3, useUTC: !1 }; var NB = He(["tooltip", "label", "itemName", "itemId", "itemGroupId", "seriesName"]), Si = "original", aa = "arrayRows", xi = "objectRows", Yo = "keyedColumns", Nl = "typedArray", $B = "unknown", Mo = "column", Kh = "row", zn = { Must: 1, Might: 2, Not: 3 }, FB = zt(); function Ode(t) { FB(t).datasetMap = He() } function BB(t, e, r) { var n = {}, a = CC(e); if (!a || !t) return n; var i = [], o = [], s = e.ecModel, l = FB(s).datasetMap, u = a.uid + "_" + r.seriesLayoutBy, c, f; t = t.slice(), E(t, function (p, g) { var m = Qe(p) ? p : t[g] = { name: p }; m.type === "ordinal" && c == null && (c = g, f = v(m)), n[m.name] = [] }); var h = l.get(u) || l.set(u, { categoryWayDim: f, valueWayDim: 0 }); E(t, function (p, g) { var m = p.name, y = v(p); if (c == null) { var _ = h.valueWayDim; d(n[m], _, y), d(o, _, y), h.valueWayDim += y } else if (c === g) d(n[m], 0, y), d(i, 0, y); else { var _ = h.categoryWayDim; d(n[m], _, y), d(o, _, y), h.categoryWayDim += y } }); function d(p, g, m) { for (var y = 0; y < m; y++)p.push(g + y) } function v(p) { var g = p.dimsDef; return g ? g.length : 1 } return i.length && (n.itemName = i), o.length && (n.seriesName = o), n } function DC(t, e, r) { var n = {}, a = CC(t); if (!a) return n; var i = e.sourceFormat, o = e.dimensionsDefine, s; (i === xi || i === Yo) && E(o, function (c, f) { (Qe(c) ? c.name : c) === "name" && (s = f) }); var l = function () { for (var c = {}, f = {}, h = [], d = 0, v = Math.min(5, r); d < v; d++) { var p = zB(e.data, i, e.seriesLayoutBy, o, e.startIndex, d); h.push(p); var g = p === zn.Not; if (g && c.v == null && d !== s && (c.v = d), (c.n == null || c.n === c.v || !g && h[c.n] === zn.Not) && (c.n = d), m(c) && h[c.n] !== zn.Not) return c; g || (p === zn.Might && f.v == null && d !== s && (f.v = d), (f.n == null || f.n === f.v) && (f.n = d)) } function m(y) { return y.v != null && y.n != null } return m(c) ? c : m(f) ? f : null }(); if (l) { n.value = [l.v]; var u = s ?? l.n; n.itemName = [u], n.seriesName = [u] } return n } function CC(t) { var e = t.get("data", !0); if (!e) return Qp(t.ecModel, "dataset", { index: t.get("datasetIndex", !0), id: t.get("datasetId", !0) }, dn).models[0] } function Ede(t) { return !t.get("transform", !0) && !t.get("fromTransformResult", !0) ? [] : Qp(t.ecModel, "dataset", { index: t.get("fromDatasetIndex", !0), id: t.get("fromDatasetId", !0) }, dn).models } function VB(t, e) { return zB(t.data, t.sourceFormat, t.seriesLayoutBy, t.dimensionsDefine, t.startIndex, e) } function zB(t, e, r, n, a, i) { var o, s = 5; if (Wa(t)) return zn.Not; var l, u; if (n) { var c = n[i]; Qe(c) ? (l = c.name, u = c.type) : Oe(c) && (l = c) } if (u != null) return u === "ordinal" ? zn.Must : zn.Not; if (e === aa) { var f = t; if (r === Kh) { for (var h = f[i], d = 0; d < (h || []).length && d < s; d++)if ((o = b(h[a + d])) != null) return o } else for (var d = 0; d < f.length && d < s; d++) { var v = f[a + d]; if (v && (o = b(v[i])) != null) return o } } else if (e === xi) { var p = t; if (!l) return zn.Not; for (var d = 0; d < p.length && d < s; d++) { var g = p[d]; if (g && (o = b(g[l])) != null) return o } } else if (e === Yo) { var m = t; if (!l) return zn.Not; var h = m[l]; if (!h || Wa(h)) return zn.Not; for (var d = 0; d < h.length && d < s; d++)if ((o = b(h[d])) != null) return o } else if (e === Si) for (var y = t, d = 0; d < y.length && d < s; d++) { var g = y[d], _ = Hh(g); if (!me(_)) return zn.Not; if ((o = b(_[i])) != null) return o } function b(x) { var S = Oe(x); if (x != null && isFinite(x) && x !== "") return S ? zn.Might : zn.Not; if (S && x !== "-") return zn.Must } return zn.Not } var PT = He(); function Nde(t, e) { ya(PT.get(t) == null && e), PT.set(t, e) } function $de(t, e, r) { var n = PT.get(e); if (!n) return r; var a = n(t); return a ? r.concat(a) : r } var RP = zt(), Fde = zt(), MC = function () { function t() { } return t.prototype.getColorFromPalette = function (e, r, n) { var a = mr(this.get("color", !0)), i = this.get("colorLayer", !0); return HB(this, RP, a, i, e, r, n) }, t.prototype.clearColorPalette = function () { Vde(this, RP) }, t }(); function RT(t, e, r, n) { var a = mr(t.get(["aria", "decal", "decals"])); return HB(t, Fde, a, null, e, r, n) } function Bde(t, e) { for (var r = t.length, n = 0; n < r; n++)if (t[n].length > e) return t[n]; return t[r - 1] } function HB(t, e, r, n, a, i, o) { i = i || t; var s = e(i), l = s.paletteIdx || 0, u = s.paletteNameMap = s.paletteNameMap || {}; if (u.hasOwnProperty(a)) return u[a]; var c = o == null || !n ? r : Bde(n, o); if (c = c || r, !(!c || !c.length)) { var f = c[l]; return a && (u[a] = f), s.paletteIdx = (l + 1) % c.length, f } } function Vde(t, e) { e(t).paletteIdx = 0, e(t).paletteNameMap = {} } var hm, kd, OP, EP = "\0_ec_inner", zde = 1, YB = function (t) { ae(e, t); function e() { return t !== null && t.apply(this, arguments) || this } return e.prototype.init = function (r, n, a, i, o, s) { i = i || {}, this.option = null, this._theme = new kr(i), this._locale = new kr(o), this._optionManager = s }, e.prototype.setOption = function (r, n, a) { var i = FP(n); this._optionManager.setOption(r, a, i), this._resetOption(null, i) }, e.prototype.resetOption = function (r, n) { return this._resetOption(r, FP(n)) }, e.prototype._resetOption = function (r, n) { var a = !1, i = this._optionManager; if (!r || r === "recreate") { var o = i.mountOption(r === "recreate"); !this.option || r === "recreate" ? OP(this, o) : (this.restoreData(), this._mergeOption(o, n)), a = !0 } if ((r === "timeline" || r === "media") && this.restoreData(), !r || r === "recreate" || r === "timeline") { var s = i.getTimelineOption(this); s && (a = !0, this._mergeOption(s, n)) } if (!r || r === "recreate" || r === "media") { var l = i.getMediaOption(this); l.length && E(l, function (u) { a = !0, this._mergeOption(u, n) }, this) } return a }, e.prototype.mergeOption = function (r) { this._mergeOption(r, null) }, e.prototype._mergeOption = function (r, n) { var a = this.option, i = this._componentsMap, o = this._componentsCount, s = [], l = He(), u = n && n.replaceMergeMainTypeMap; Ode(this), E(r, function (f, h) { f != null && (Yt.hasClass(h) ? h && (s.push(h), l.set(h, !0)) : a[h] = a[h] == null ? rt(f) : bt(a[h], f, !0)) }), u && u.each(function (f, h) { Yt.hasClass(h) && !l.get(h) && (s.push(h), l.set(h, !0)) }), Yt.topologicalTravel(s, Yt.getAllClassMainTypes(), c, this); function c(f) { var h = $de(this, f, mr(r[f])), d = i.get(f), v = d ? u && u.get(f) ? "replaceMerge" : "normalMerge" : "replaceAll", p = pF(d, h, v); nfe(p, f, Yt), a[f] = null, i.set(f, null), o.set(f, 0); var g = [], m = [], y = 0, _; E(p, function (b, x) { var S = b.existing, T = b.newOption; if (!T) S && (S.mergeOption({}, this), S.optionUpdated({}, !1)); else { var C = f === "series", M = Yt.getClass(f, b.keyInfo.subType, !C); if (!M) return; if (f === "tooltip") { if (_) return; _ = !0 } if (S && S.constructor === M) S.name = b.keyInfo.name, S.mergeOption(T, this), S.optionUpdated(T, !1); else { var k = he({ componentIndex: x }, b.keyInfo); S = new M(T, this, this, k), he(S, k), b.brandNew && (S.__requireNewView = !0), S.init(T, this, this), S.optionUpdated(null, !0) } } S ? (g.push(S.option), m.push(S), y++) : (g.push(void 0), m.push(void 0)) }, this), a[f] = g, i.set(f, m), o.set(f, y), f === "series" && hm(this) } this._seriesIndices || hm(this) }, e.prototype.getOption = function () { var r = rt(this.option); return E(r, function (n, a) { if (Yt.hasClass(a)) { for (var i = mr(n), o = i.length, s = !1, l = o - 1; l >= 0; l--)i[l] && !up(i[l]) ? s = !0 : (i[l] = null, !s && o--); i.length = o, r[a] = i } }), delete r[EP], r }, e.prototype.getTheme = function () { return this._theme }, e.prototype.getLocaleModel = function () { return this._locale }, e.prototype.setUpdatePayload = function (r) { this._payload = r }, e.prototype.getUpdatePayload = function () { return this._payload }, e.prototype.getComponent = function (r, n) { var a = this._componentsMap.get(r); if (a) { var i = a[n || 0]; if (i) return i; if (n == null) { for (var o = 0; o < a.length; o++)if (a[o]) return a[o] } } }, e.prototype.queryComponents = function (r) { var n = r.mainType; if (!n) return []; var a = r.index, i = r.id, o = r.name, s = this._componentsMap.get(n); if (!s || !s.length) return []; var l; return a != null ? (l = [], E(mr(a), function (u) { s[u] && l.push(s[u]) })) : i != null ? l = NP("id", i, s) : o != null ? l = NP("name", o, s) : l = hr(s, function (u) { return !!u }), $P(l, r) }, e.prototype.findComponents = function (r) { var n = r.query, a = r.mainType, i = s(n), o = i ? this.queryComponents(i) : hr(this._componentsMap.get(a), function (u) { return !!u }); return l($P(o, r)); function s(u) { var c = a + "Index", f = a + "Id", h = a + "Name"; return u && (u[c] != null || u[f] != null || u[h] != null) ? { mainType: a, index: u[c], id: u[f], name: u[h] } : null } function l(u) { return r.filter ? hr(u, r.filter) : u } }, e.prototype.eachComponent = function (r, n, a) { var i = this._componentsMap; if (je(r)) { var o = n, s = r; i.each(function (f, h) { for (var d = 0; f && d < f.length; d++) { var v = f[d]; v && s.call(o, h, v, v.componentIndex) } }) } else for (var l = Oe(r) ? i.get(r) : Qe(r) ? this.findComponents(r) : null, u = 0; l && u < l.length; u++) { var c = l[u]; c && n.call(a, c, c.componentIndex) } }, e.prototype.getSeriesByName = function (r) { var n = yn(r, null); return hr(this._componentsMap.get("series"), function (a) { return !!a && n != null && a.name === n }) }, e.prototype.getSeriesByIndex = function (r) { return this._componentsMap.get("series")[r] }, e.prototype.getSeriesByType = function (r) { return hr(this._componentsMap.get("series"), function (n) { return !!n && n.subType === r }) }, e.prototype.getSeries = function () { return hr(this._componentsMap.get("series"), function (r) { return !!r }) }, e.prototype.getSeriesCount = function () { return this._componentsCount.get("series") }, e.prototype.eachSeries = function (r, n) { kd(this), E(this._seriesIndices, function (a) { var i = this._componentsMap.get("series")[a]; r.call(n, i, a) }, this) }, e.prototype.eachRawSeries = function (r, n) { E(this._componentsMap.get("series"), function (a) { a && r.call(n, a, a.componentIndex) }) }, e.prototype.eachSeriesByType = function (r, n, a) { kd(this), E(this._seriesIndices, function (i) { var o = this._componentsMap.get("series")[i]; o.subType === r && n.call(a, o, i) }, this) }, e.prototype.eachRawSeriesByType = function (r, n, a) { return E(this.getSeriesByType(r), n, a) }, e.prototype.isSeriesFiltered = function (r) { return kd(this), this._seriesIndicesMap.get(r.componentIndex) == null }, e.prototype.getCurrentSeriesIndices = function () { return (this._seriesIndices || []).slice() }, e.prototype.filterSeries = function (r, n) { kd(this); var a = []; E(this._seriesIndices, function (i) { var o = this._componentsMap.get("series")[i]; r.call(n, o, i) && a.push(i) }, this), this._seriesIndices = a, this._seriesIndicesMap = He(a) }, e.prototype.restoreData = function (r) { hm(this); var n = this._componentsMap, a = []; n.each(function (i, o) { Yt.hasClass(o) && a.push(o) }), Yt.topologicalTravel(a, Yt.getAllClassMainTypes(), function (i) { E(n.get(i), function (o) { o && (i !== "series" || !Hde(o, r)) && o.restoreData() }) }) }, e.internalField = function () { hm = function (r) { var n = r._seriesIndices = []; E(r._componentsMap.get("series"), function (a) { a && n.push(a.componentIndex) }), r._seriesIndicesMap = He(n) }, kd = function (r) { }, OP = function (r, n) { r.option = {}, r.option[EP] = zde, r._componentsMap = He({ series: [] }), r._componentsCount = He(); var a = n.aria; Qe(a) && a.enabled == null && (a.enabled = !0), Yde(n, r._theme.option), bt(n, Rde, !1), r._mergeOption(n, null) } }(), e }(kr); function Hde(t, e) { if (e) { var r = e.seriesIndex, n = e.seriesId, a = e.seriesName; return r != null && t.componentIndex !== r || n != null && t.id !== n || a != null && t.name !== a } } function Yde(t, e) { var r = t.color && !t.colorLayer; E(e, function (n, a) { a === "colorLayer" && r || Yt.hasClass(a) || (typeof n == "object" ? t[a] = t[a] ? bt(t[a], n, !1) : rt(n) : t[a] == null && (t[a] = n)) }) } function NP(t, e, r) { if (me(e)) { var n = He(); return E(e, function (i) { if (i != null) { var o = yn(i, null); o != null && n.set(i, !0) } }), hr(r, function (i) { return i && n.get(i[t]) }) } else { var a = yn(e, null); return hr(r, function (i) { return i && a != null && i[t] === a }) } } function $P(t, e) { return e.hasOwnProperty("subType") ? hr(t, function (r) { return r && r.subType === e.subType }) : t } function FP(t) { var e = He(); return t && E(mr(t.replaceMerge), function (r) { e.set(r, !0) }), { replaceMergeMainTypeMap: e } } mn(YB, MC); const UB = YB; var Ude = ["getDom", "getZr", "getWidth", "getHeight", "getDevicePixelRatio", "dispatchAction", "isSSR", "isDisposed", "on", "off", "getDataURL", "getConnectedDataURL", "getOption", "getId", "updateLabelLayout"], Wde = function () { function t(e) { E(Ude, function (r) { this[r] = $e(e[r], e) }, this) } return t }(); const WB = Wde; var yw = {}, Gde = function () { function t() { this._coordinateSystems = [] } return t.prototype.create = function (e, r) { var n = []; E(yw, function (a, i) { var o = a.create(e, r); n = n.concat(o || []) }), this._coordinateSystems = n }, t.prototype.update = function (e, r) { E(this._coordinateSystems, function (n) { n.update && n.update(e, r) }) }, t.prototype.getCoordinateSystems = function () { return this._coordinateSystems.slice() }, t.register = function (e, r) { yw[e] = r }, t.get = function (e) { return yw[e] }, t }(); const ag = Gde; var jde = /^(min|max)?(.+)$/, Zde = function () { function t(e) { this._timelineOptions = [], this._mediaList = [], this._currentMediaIndices = [], this._api = e } return t.prototype.setOption = function (e, r, n) { e && (E(mr(e.series), function (o) { o && o.data && Wa(o.data) && Xy(o.data) }), E(mr(e.dataset), function (o) { o && o.source && Wa(o.source) && Xy(o.source) })), e = rt(e); var a = this._optionBackup, i = qde(e, r, !a); this._newBaseOption = i.baseOption, a ? (i.timelineOptions.length && (a.timelineOptions = i.timelineOptions), i.mediaList.length && (a.mediaList = i.mediaList), i.mediaDefault && (a.mediaDefault = i.mediaDefault)) : this._optionBackup = i }, t.prototype.mountOption = function (e) { var r = this._optionBackup; return this._timelineOptions = r.timelineOptions, this._mediaList = r.mediaList, this._mediaDefault = r.mediaDefault, this._currentMediaIndices = [], rt(e ? r.baseOption : this._newBaseOption) }, t.prototype.getTimelineOption = function (e) { var r, n = this._timelineOptions; if (n.length) { var a = e.getComponent("timeline"); a && (r = rt(n[a.getCurrentIndex()])) } return r }, t.prototype.getMediaOption = function (e) { var r = this._api.getWidth(), n = this._api.getHeight(), a = this._mediaList, i = this._mediaDefault, o = [], s = []; if (!a.length && !i) return s; for (var l = 0, u = a.length; l < u; l++)Xde(a[l].query, r, n) && o.push(l); return !o.length && i && (o = [-1]), o.length && !Qde(o, this._currentMediaIndices) && (s = _e(o, function (c) { return rt(c === -1 ? i.option : a[c].option) })), this._currentMediaIndices = o, s }, t }(); function qde(t, e, r) { var n = [], a, i, o = t.baseOption, s = t.timeline, l = t.options, u = t.media, c = !!t.media, f = !!(l || s || o && o.timeline); o ? (i = o, i.timeline || (i.timeline = s)) : ((f || c) && (t.options = t.media = null), i = t), c && me(u) && E(u, function (d) { d && d.option && (d.query ? n.push(d) : a || (a = d)) }), h(i), E(l, function (d) { return h(d) }), E(n, function (d) { return h(d.option) }); function h(d) { E(e, function (v) { v(d, r) }) } return { baseOption: i, timelineOptions: l || [], mediaDefault: a, mediaList: n } } function Xde(t, e, r) { var n = { width: e, height: r, aspectratio: e / r }, a = !0; return E(t, function (i, o) { var s = o.match(jde); if (!(!s || !s[1] || !s[2])) { var l = s[1], u = s[2].toLowerCase(); Kde(n[u], i, l) || (a = !1) } }), a } function Kde(t, e, r) { return r === "min" ? t >= e : r === "max" ? t <= e : t === e } function Qde(t, e) { return t.join(",") === e.join(",") } const Jde = Zde; var Ai = E, mp = Qe, BP = ["areaStyle", "lineStyle", "nodeStyle", "linkStyle", "chordStyle", "label", "labelLine"]; function _w(t) { var e = t && t.itemStyle; if (e) for (var r = 0, n = BP.length; r < n; r++) { var a = BP[r], i = e.normal, o = e.emphasis; i && i[a] && (t[a] = t[a] || {}, t[a].normal ? bt(t[a].normal, i[a]) : t[a].normal = i[a], i[a] = null), o && o[a] && (t[a] = t[a] || {}, t[a].emphasis ? bt(t[a].emphasis, o[a]) : t[a].emphasis = o[a], o[a] = null) } } function Qn(t, e, r) { if (t && t[e] && (t[e].normal || t[e].emphasis)) { var n = t[e].normal, a = t[e].emphasis; n && (r ? (t[e].normal = t[e].emphasis = null, Xe(t[e], n)) : t[e] = n), a && (t.emphasis = t.emphasis || {}, t.emphasis[e] = a, a.focus && (t.emphasis.focus = a.focus), a.blurScope && (t.emphasis.blurScope = a.blurScope)) } } function lv(t) { Qn(t, "itemStyle"), Qn(t, "lineStyle"), Qn(t, "areaStyle"), Qn(t, "label"), Qn(t, "labelLine"), Qn(t, "upperLabel"), Qn(t, "edgeLabel") } function ln(t, e) { var r = mp(t) && t[e], n = mp(r) && r.textStyle; if (n) for (var a = 0, i = YI.length; a < i; a++) { var o = YI[a]; n.hasOwnProperty(o) && (r[o] = n[o]) } } function ri(t) { t && (lv(t), ln(t, "label"), t.emphasis && ln(t.emphasis, "label")) } function eve(t) { if (mp(t)) { _w(t), lv(t), ln(t, "label"), ln(t, "upperLabel"), ln(t, "edgeLabel"), t.emphasis && (ln(t.emphasis, "label"), ln(t.emphasis, "upperLabel"), ln(t.emphasis, "edgeLabel")); var e = t.markPoint; e && (_w(e), ri(e)); var r = t.markLine; r && (_w(r), ri(r)); var n = t.markArea; n && ri(n); var a = t.data; if (t.type === "graph") { a = a || t.nodes; var i = t.links || t.edges; if (i && !Wa(i)) for (var o = 0; o < i.length; o++)ri(i[o]); E(t.categories, function (u) { lv(u) }) } if (a && !Wa(a)) for (var o = 0; o < a.length; o++)ri(a[o]); if (e = t.markPoint, e && e.data) for (var s = e.data, o = 0; o < s.length; o++)ri(s[o]); if (r = t.markLine, r && r.data) for (var l = r.data, o = 0; o < l.length; o++)me(l[o]) ? (ri(l[o][0]), ri(l[o][1])) : ri(l[o]); t.type === "gauge" ? (ln(t, "axisLabel"), ln(t, "title"), ln(t, "detail")) : t.type === "treemap" ? (Qn(t.breadcrumb, "itemStyle"), E(t.levels, function (u) { lv(u) })) : t.type === "tree" && lv(t.leaves) } } function as(t) { return me(t) ? t : t ? [t] : [] } function VP(t) { return (me(t) ? t[0] : t) || {} } function tve(t, e) { Ai(as(t.series), function (n) { mp(n) && eve(n) }); var r = ["xAxis", "yAxis", "radiusAxis", "angleAxis", "singleAxis", "parallelAxis", "radar"]; e && r.push("valueAxis", "categoryAxis", "logAxis", "timeAxis"), Ai(r, function (n) { Ai(as(t[n]), function (a) { a && (ln(a, "axisLabel"), ln(a.axisPointer, "label")) }) }), Ai(as(t.parallel), function (n) { var a = n && n.parallelAxisDefault; ln(a, "axisLabel"), ln(a && a.axisPointer, "label") }), Ai(as(t.calendar), function (n) { Qn(n, "itemStyle"), ln(n, "dayLabel"), ln(n, "monthLabel"), ln(n, "yearLabel") }), Ai(as(t.radar), function (n) { ln(n, "name"), n.name && n.axisName == null && (n.axisName = n.name, delete n.name), n.nameGap != null && n.axisNameGap == null && (n.axisNameGap = n.nameGap, delete n.nameGap) }), Ai(as(t.geo), function (n) { mp(n) && (ri(n), Ai(as(n.regions), function (a) { ri(a) })) }), Ai(as(t.timeline), function (n) { ri(n), Qn(n, "label"), Qn(n, "itemStyle"), Qn(n, "controlStyle", !0); var a = n.data; me(a) && E(a, function (i) { Qe(i) && (Qn(i, "label"), Qn(i, "itemStyle")) }) }), Ai(as(t.toolbox), function (n) { Qn(n, "iconStyle"), Ai(n.feature, function (a) { Qn(a, "iconStyle") }) }), ln(VP(t.axisPointer), "label"), ln(VP(t.tooltip).axisPointer, "label") } function rve(t, e) { for (var r = e.split(","), n = t, a = 0; a < r.length && (n = n && n[r[a]], n != null); a++); return n } function nve(t, e, r, n) { for (var a = e.split(","), i = t, o, s = 0; s < a.length - 1; s++)o = a[s], i[o] == null && (i[o] = {}), i = i[o]; (n || i[a[s]] == null) && (i[a[s]] = r) } function zP(t) { t && E(ave, function (e) { e[0] in t && !(e[1] in t) && (t[e[1]] = t[e[0]]) }) } var ave = [["x", "left"], ["y", "top"], ["x2", "right"], ["y2", "bottom"]], ive = ["grid", "geo", "parallel", "legend", "toolbox", "title", "visualMap", "dataZoom", "timeline"], bw = [["borderRadius", "barBorderRadius"], ["borderColor", "barBorderColor"], ["borderWidth", "barBorderWidth"]]; function Ad(t) { var e = t && t.itemStyle; if (e) for (var r = 0; r < bw.length; r++) { var n = bw[r][1], a = bw[r][0]; e[n] != null && (e[a] = e[n]) } } function HP(t) { t && t.alignTo === "edge" && t.margin != null && t.edgeDistance == null && (t.edgeDistance = t.margin) } function YP(t) { t && t.downplay && !t.blur && (t.blur = t.downplay) } function ove(t) { t && t.focusNodeAdjacency != null && (t.emphasis = t.emphasis || {}, t.emphasis.focus == null && (t.emphasis.focus = "adjacency")) } function GB(t, e) { if (t) for (var r = 0; r < t.length; r++)e(t[r]), t[r] && GB(t[r].children, e) } function jB(t, e) { tve(t, e), t.series = mr(t.series), E(t.series, function (r) { if (Qe(r)) { var n = r.type; if (n === "line") r.clipOverflow != null && (r.clip = r.clipOverflow); else if (n === "pie" || n === "gauge") { r.clockWise != null && (r.clockwise = r.clockWise), HP(r.label); var a = r.data; if (a && !Wa(a)) for (var i = 0; i < a.length; i++)HP(a[i]); r.hoverOffset != null && (r.emphasis = r.emphasis || {}, (r.emphasis.scaleSize = null) && (r.emphasis.scaleSize = r.hoverOffset)) } else if (n === "gauge") { var o = rve(r, "pointer.color"); o != null && nve(r, "itemStyle.color", o) } else if (n === "bar") { Ad(r), Ad(r.backgroundStyle), Ad(r.emphasis); var a = r.data; if (a && !Wa(a)) for (var i = 0; i < a.length; i++)typeof a[i] == "object" && (Ad(a[i]), Ad(a[i] && a[i].emphasis)) } else if (n === "sunburst") { var s = r.highlightPolicy; s && (r.emphasis = r.emphasis || {}, r.emphasis.focus || (r.emphasis.focus = s)), YP(r), GB(r.data, YP) } else n === "graph" || n === "sankey" ? ove(r) : n === "map" && (r.mapType && !r.map && (r.map = r.mapType), r.mapLocation && Xe(r, r.mapLocation)); r.hoverAnimation != null && (r.emphasis = r.emphasis || {}, r.emphasis && r.emphasis.scale == null && (r.emphasis.scale = r.hoverAnimation)), zP(r) } }), t.dataRange && (t.visualMap = t.dataRange), E(ive, function (r) { var n = t[r]; n && (me(n) || (n = [n]), E(n, function (a) { zP(a) })) }) } function sve(t) { var e = He(); t.eachSeries(function (r) { var n = r.get("stack"); if (n) { var a = e.get(n) || e.set(n, []), i = r.getData(), o = { stackResultDimension: i.getCalculationInfo("stackResultDimension"), stackedOverDimension: i.getCalculationInfo("stackedOverDimension"), stackedDimension: i.getCalculationInfo("stackedDimension"), stackedByDimension: i.getCalculationInfo("stackedByDimension"), isStackedByIndex: i.getCalculationInfo("isStackedByIndex"), data: i, seriesModel: r }; if (!o.stackedDimension || !(o.isStackedByIndex || o.stackedByDimension)) return; a.length && i.setCalculationInfo("stackedOnSeries", a[a.length - 1].seriesModel), a.push(o) } }), e.each(lve) } function lve(t) { E(t, function (e, r) { var n = [], a = [NaN, NaN], i = [e.stackResultDimension, e.stackedOverDimension], o = e.data, s = e.isStackedByIndex, l = e.seriesModel.get("stackStrategy") || "samesign"; o.modify(i, function (u, c, f) { var h = o.get(e.stackedDimension, f); if (isNaN(h)) return a; var d, v; s ? v = o.getRawIndex(f) : d = o.get(e.stackedByDimension, f); for (var p = NaN, g = r - 1; g >= 0; g--) { var m = t[g]; if (s || (v = m.data.rawIndexOf(m.stackedByDimension, d)), v >= 0) { var y = m.data.getByRawIndex(m.stackResultDimension, v); if (l === "all" || l === "positive" && y > 0 || l === "negative" && y < 0 || l === "samesign" && h >= 0 && y > 0 || l === "samesign" && h <= 0 && y < 0) { h = Gce(h, y), p = y; break } } } return n[0] = h, n[1] = p, n }) }) } var u1 = function () { function t(e) { this.data = e.data || (e.sourceFormat === Yo ? {} : []), this.sourceFormat = e.sourceFormat || $B, this.seriesLayoutBy = e.seriesLayoutBy || Mo, this.startIndex = e.startIndex || 0, this.dimensionsDetectedCount = e.dimensionsDetectedCount, this.metaRawOption = e.metaRawOption; var r = this.dimensionsDefine = e.dimensionsDefine; if (r) for (var n = 0; n < r.length; n++) { var a = r[n]; a.type == null && VB(this, n) === zn.Must && (a.type = "ordinal") } } return t }(); function kC(t) { return t instanceof u1 } function OT(t, e, r) { r = r || ZB(t); var n = e.seriesLayoutBy, a = cve(t, r, n, e.sourceHeader, e.dimensions), i = new u1({ data: t, sourceFormat: r, seriesLayoutBy: n, dimensionsDefine: a.dimensionsDefine, startIndex: a.startIndex, dimensionsDetectedCount: a.dimensionsDetectedCount, metaRawOption: rt(e) }); return i } function AC(t) { return new u1({ data: t, sourceFormat: Wa(t) ? Nl : Si }) } function uve(t) { return new u1({ data: t.data, sourceFormat: t.sourceFormat, seriesLayoutBy: t.seriesLayoutBy, dimensionsDefine: rt(t.dimensionsDefine), startIndex: t.startIndex, dimensionsDetectedCount: t.dimensionsDetectedCount }) } function ZB(t) { var e = $B; if (Wa(t)) e = Nl; else if (me(t)) { t.length === 0 && (e = aa); for (var r = 0, n = t.length; r < n; r++) { var a = t[r]; if (a != null) { if (me(a)) { e = aa; break } else if (Qe(a)) { e = xi; break } } } } else if (Qe(t)) { for (var i in t) if (Fe(t, i) && na(t[i])) { e = Yo; break } } return e } function cve(t, e, r, n, a) { var i, o; if (!t) return { dimensionsDefine: UP(a), startIndex: o, dimensionsDetectedCount: i }; if (e === aa) { var s = t; n === "auto" || n == null ? WP(function (u) { u != null && u !== "-" && (Oe(u) ? o == null && (o = 1) : o = 0) }, r, s, 10) : o = Gt(n) ? n : n ? 1 : 0, !a && o === 1 && (a = [], WP(function (u, c) { a[c] = u != null ? u + "" : "" }, r, s, 1 / 0)), i = a ? a.length : r === Kh ? s.length : s[0] ? s[0].length : null } else if (e === xi) a || (a = fve(t)); else if (e === Yo) a || (a = [], E(t, function (u, c) { a.push(c) })); else if (e === Si) { var l = Hh(t[0]); i = me(l) && l.length || 1 } return { startIndex: o, dimensionsDefine: UP(a), dimensionsDetectedCount: i } } function fve(t) { for (var e = 0, r; e < t.length && !(r = t[e++]);); if (r) return Nt(r) } function UP(t) { if (t) { var e = He(); return _e(t, function (r, n) { r = Qe(r) ? r : { name: r }; var a = { name: r.name, displayName: r.displayName, type: r.type }; if (a.name == null) return a; a.name += "", a.displayName == null && (a.displayName = a.name); var i = e.get(a.name); return i ? a.name += "-" + i.count++ : e.set(a.name, { count: 1 }), a }) } } function WP(t, e, r, n) { if (e === Kh) for (var a = 0; a < r.length && a < n; a++)t(r[a] ? r[a][0] : null, a); else for (var i = r[0] || [], a = 0; a < i.length && a < n; a++)t(i[a], a) } function qB(t) { var e = t.sourceFormat; return e === xi || e === Yo } var Ou, Eu, Nu, GP, jP, XB = function () { function t(e, r) { var n = kC(e) ? e : AC(e); this._source = n; var a = this._data = n.data; n.sourceFormat === Nl && (this._offset = 0, this._dimSize = r, this._data = a), jP(this, a, n) } return t.prototype.getSource = function () { return this._source }, t.prototype.count = function () { return 0 }, t.prototype.getItem = function (e, r) { }, t.prototype.appendData = function (e) { }, t.prototype.clean = function () { }, t.protoInitialize = function () { var e = t.prototype; e.pure = !1, e.persistent = !0 }(), t.internalField = function () { var e; jP = function (o, s, l) { var u = l.sourceFormat, c = l.seriesLayoutBy, f = l.startIndex, h = l.dimensionsDefine, d = GP[LC(u, c)]; if (he(o, d), u === Nl) o.getItem = r, o.count = a, o.fillStorage = n; else { var v = KB(u, c); o.getItem = $e(v, null, s, f, h); var p = QB(u, c); o.count = $e(p, null, s, f, h) } }; var r = function (o, s) { o = o - this._offset, s = s || []; for (var l = this._data, u = this._dimSize, c = u * o, f = 0; f < u; f++)s[f] = l[c + f]; return s }, n = function (o, s, l, u) { for (var c = this._data, f = this._dimSize, h = 0; h < f; h++) { for (var d = u[h], v = d[0] == null ? 1 / 0 : d[0], p = d[1] == null ? -1 / 0 : d[1], g = s - o, m = l[h], y = 0; y < g; y++) { var _ = c[y * f + h]; m[o + y] = _, _ < v && (v = _), _ > p && (p = _) } d[0] = v, d[1] = p } }, a = function () { return this._data ? this._data.length / this._dimSize : 0 }; GP = (e = {}, e[aa + "_" + Mo] = { pure: !0, appendData: i }, e[aa + "_" + Kh] = { pure: !0, appendData: function () { throw new Error('Do not support appendData when set seriesLayoutBy: "row".') } }, e[xi] = { pure: !0, appendData: i }, e[Yo] = { pure: !0, appendData: function (o) { var s = this._data; E(o, function (l, u) { for (var c = s[u] || (s[u] = []), f = 0; f < (l || []).length; f++)c.push(l[f]) }) } }, e[Si] = { appendData: i }, e[Nl] = { persistent: !1, pure: !0, appendData: function (o) { this._data = o }, clean: function () { this._offset += this.count(), this._data = null } }, e); function i(o) { for (var s = 0; s < o.length; s++)this._data.push(o[s]) } }(), t }(), ZP = function (t, e, r, n) { return t[n] }, hve = (Ou = {}, Ou[aa + "_" + Mo] = function (t, e, r, n) { return t[n + e] }, Ou[aa + "_" + Kh] = function (t, e, r, n, a) { n += e; for (var i = a || [], o = t, s = 0; s < o.length; s++) { var l = o[s]; i[s] = l ? l[n] : null } return i }, Ou[xi] = ZP, Ou[Yo] = function (t, e, r, n, a) { for (var i = a || [], o = 0; o < r.length; o++) { var s = r[o].name, l = t[s]; i[o] = l ? l[n] : null } return i }, Ou[Si] = ZP, Ou); function KB(t, e) { var r = hve[LC(t, e)]; return r } var qP = function (t, e, r) { return t.length }, dve = (Eu = {}, Eu[aa + "_" + Mo] = function (t, e, r) { return Math.max(0, t.length - e) }, Eu[aa + "_" + Kh] = function (t, e, r) { var n = t[0]; return n ? Math.max(0, n.length - e) : 0 }, Eu[xi] = qP, Eu[Yo] = function (t, e, r) { var n = r[0].name, a = t[n]; return a ? a.length : 0 }, Eu[Si] = qP, Eu); function QB(t, e) { var r = dve[LC(t, e)]; return r } var ww = function (t, e, r) { return t[e] }, vve = (Nu = {}, Nu[aa] = ww, Nu[xi] = function (t, e, r) { return t[r] }, Nu[Yo] = ww, Nu[Si] = function (t, e, r) { var n = Hh(t); return n instanceof Array ? n[e] : n }, Nu[Nl] = ww, Nu); function JB(t) { var e = vve[t]; return e } function LC(t, e) { return t === aa ? t + "_" + e : t } function Ch(t, e, r) { if (t) { var n = t.getRawDataItem(e); if (n != null) { var a = t.getStore(), i = a.getSource().sourceFormat; if (r != null) { var o = t.getDimensionIndex(r), s = a.getDimensionProperty(o); return JB(i)(n, o, s) } else { var l = n; return i === Si && (l = Hh(n)), l } } } } var pve = /\{@(.+?)\}/g, IC = function () { function t() { } return t.prototype.getDataParams = function (e, r) { var n = this.getData(r), a = this.getRawValue(e, r), i = n.getRawIndex(e), o = n.getName(e), s = n.getRawDataItem(e), l = n.getItemVisual(e, "style"), u = l && l[n.getItemVisual(e, "drawType") || "fill"], c = l && l.stroke, f = this.mainType, h = f === "series", d = n.userOutput && n.userOutput.get(); return { componentType: f, componentSubType: this.subType, componentIndex: this.componentIndex, seriesType: h ? this.subType : null, seriesIndex: this.seriesIndex, seriesId: h ? this.id : null, seriesName: h ? this.name : null, name: o, dataIndex: i, data: s, dataType: r, value: a, color: u, borderColor: c, dimensionNames: d ? d.fullDimensions : null, encode: d ? d.encode : null, $vars: ["seriesName", "name", "value"] } }, t.prototype.getFormattedLabel = function (e, r, n, a, i, o) { r = r || "normal"; var s = this.getData(n), l = this.getDataParams(e, n); if (o && (l.value = o.interpolatedValue), a != null && me(l.value) && (l.value = l.value[a]), !i) { var u = s.getItemModel(e); i = u.get(r === "normal" ? ["label", "formatter"] : [r, "label", "formatter"]) } if (je(i)) return l.status = r, l.dimensionIndex = a, i(l); if (Oe(i)) { var c = PB(i, l); return c.replace(pve, function (f, h) { var d = h.length, v = h; v.charAt(0) === "[" && v.charAt(d - 1) === "]" && (v = +v.slice(1, d - 1)); var p = Ch(s, e, v); if (o && me(o.interpolatedValue)) { var g = s.getDimensionIndex(v); g >= 0 && (p = o.interpolatedValue[g]) } return p != null ? p + "" : "" }) } }, t.prototype.getRawValue = function (e, r) { return Ch(this.getData(r), e) }, t.prototype.formatTooltip = function (e, r, n) { }, t }(); function XP(t) { var e, r; return Qe(t) ? t.type && (r = t) : e = t, { text: e, frag: r } } function Pv(t) { return new gve(t) } var gve = function () { function t(e) { e = e || {}, this._reset = e.reset, this._plan = e.plan, this._count = e.count, this._onDirty = e.onDirty, this._dirty = !0 } return t.prototype.perform = function (e) { var r = this._upstream, n = e && e.skip; if (this._dirty && r) { var a = this.context; a.data = a.outputData = r.context.outputData } this.__pipeline && (this.__pipeline.currentTask = this); var i; this._plan && !n && (i = this._plan(this.context)); var o = c(this._modBy), s = this._modDataCount || 0, l = c(e && e.modBy), u = e && e.modDataCount || 0; (o !== l || s !== u) && (i = "reset"); function c(y) { return !(y >= 1) && (y = 1), y } var f; (this._dirty || i === "reset") && (this._dirty = !1, f = this._doReset(n)), this._modBy = l, this._modDataCount = u; var h = e && e.step; if (r ? this._dueEnd = r._outputDueEnd : this._dueEnd = this._count ? this._count(this.context) : 1 / 0, this._progress) { var d = this._dueIndex, v = Math.min(h != null ? this._dueIndex + h : 1 / 0, this._dueEnd); if (!n && (f || d < v)) { var p = this._progress; if (me(p)) for (var g = 0; g < p.length; g++)this._doProgress(p[g], d, v, l, u); else this._doProgress(p, d, v, l, u) } this._dueIndex = v; var m = this._settedOutputEnd != null ? this._settedOutputEnd : v; this._outputDueEnd = m } else this._dueIndex = this._outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : this._dueEnd; return this.unfinished() }, t.prototype.dirty = function () { this._dirty = !0, this._onDirty && this._onDirty(this.context) }, t.prototype._doProgress = function (e, r, n, a, i) { KP.reset(r, n, a, i), this._callingProgress = e, this._callingProgress({ start: r, end: n, count: n - r, next: KP.next }, this.context) }, t.prototype._doReset = function (e) { this._dueIndex = this._outputDueEnd = this._dueEnd = 0, this._settedOutputEnd = null; var r, n; !e && this._reset && (r = this._reset(this.context), r && r.progress && (n = r.forceFirstProgress, r = r.progress), me(r) && !r.length && (r = null)), this._progress = r, this._modBy = this._modDataCount = null; var a = this._downstream; return a && a.dirty(), n }, t.prototype.unfinished = function () { return this._progress && this._dueIndex < this._dueEnd }, t.prototype.pipe = function (e) { (this._downstream !== e || this._dirty) && (this._downstream = e, e._upstream = this, e.dirty()) }, t.prototype.dispose = function () { this._disposed || (this._upstream && (this._upstream._downstream = null), this._downstream && (this._downstream._upstream = null), this._dirty = !1, this._disposed = !0) }, t.prototype.getUpstream = function () { return this._upstream }, t.prototype.getDownstream = function () { return this._downstream }, t.prototype.setOutputEnd = function (e) { this._outputDueEnd = this._settedOutputEnd = e }, t }(), KP = function () { var t, e, r, n, a, i = { reset: function (l, u, c, f) { e = l, t = u, r = c, n = f, a = Math.ceil(n / r), i.next = r > 1 && n > 0 ? s : o } }; return i; function o() { return e < t ? e++ : null } function s() { var l = e % a * r + Math.ceil(e / a), u = e >= t ? null : l < n ? l : e; return e++, u } }(); function $l(t, e) { var r = e && e.type; return r === "ordinal" ? t : (r === "time" && !Gt(t) && t != null && t !== "-" && (t = +Eo(t)), t == null || t === "" ? NaN : +t) } var mve = He({ number: function (t) { return parseFloat(t) }, time: function (t) { return +Eo(t) }, trim: function (t) { return Oe(t) ? Fi(t) : t } }); function e6(t) { return mve.get(t) } var t6 = { lt: function (t, e) { return t < e }, lte: function (t, e) { return t <= e }, gt: function (t, e) { return t > e }, gte: function (t, e) { return t >= e } }, yve = function () { function t(e, r) { if (!Gt(r)) { var n = ""; Kt(n) } this._opFn = t6[e], this._rvalFloat = Is(r) } return t.prototype.evaluate = function (e) { return Gt(e) ? this._opFn(e, this._rvalFloat) : this._opFn(Is(e), this._rvalFloat) }, t }(), r6 = function () { function t(e, r) { var n = e === "desc"; this._resultLT = n ? 1 : -1, r == null && (r = n ? "min" : "max"), this._incomparable = r === "min" ? -1 / 0 : 1 / 0 } return t.prototype.evaluate = function (e, r) { var n = Gt(e) ? e : Is(e), a = Gt(r) ? r : Is(r), i = isNaN(n), o = isNaN(a); if (i && (n = this._incomparable), o && (a = this._incomparable), i && o) { var s = Oe(e), l = Oe(r); s && (n = l ? e : 0), l && (a = s ? r : 0) } return n < a ? this._resultLT : n > a ? -this._resultLT : 0 }, t }(), _ve = function () { function t(e, r) { this._rval = r, this._isEQ = e, this._rvalTypeof = typeof r, this._rvalFloat = Is(r) } return t.prototype.evaluate = function (e) { var r = e === this._rval; if (!r) { var n = typeof e; n !== this._rvalTypeof && (n === "number" || this._rvalTypeof === "number") && (r = Is(e) === this._rvalFloat) } return this._isEQ ? r : !r }, t }(); function bve(t, e) { return t === "eq" || t === "ne" ? new _ve(t === "eq", e) : Fe(t6, t) ? new yve(t, e) : null } var wve = function () { function t() { } return t.prototype.getRawData = function () { throw new Error("not supported") }, t.prototype.getRawDataItem = function (e) { throw new Error("not supported") }, t.prototype.cloneRawData = function () { }, t.prototype.getDimensionInfo = function (e) { }, t.prototype.cloneAllDimensionInfo = function () { }, t.prototype.count = function () { }, t.prototype.retrieveValue = function (e, r) { }, t.prototype.retrieveValueFromItem = function (e, r) { }, t.prototype.convertValue = function (e, r) { return $l(e, r) }, t }(); function Sve(t, e) { var r = new wve, n = t.data, a = r.sourceFormat = t.sourceFormat, i = t.startIndex, o = ""; t.seriesLayoutBy !== Mo && Kt(o); var s = [], l = {}, u = t.dimensionsDefine; if (u) E(u, function (p, g) { var m = p.name, y = { index: g, name: m, displayName: p.displayName }; if (s.push(y), m != null) { var _ = ""; Fe(l, m) && Kt(_), l[m] = y } }); else for (var c = 0; c < t.dimensionsDetectedCount; c++)s.push({ index: c }); var f = KB(a, Mo); e.__isBuiltIn && (r.getRawDataItem = function (p) { return f(n, i, s, p) }, r.getRawData = $e(xve, null, t)), r.cloneRawData = $e(Tve, null, t); var h = QB(a, Mo); r.count = $e(h, null, n, i, s); var d = JB(a); r.retrieveValue = function (p, g) { var m = f(n, i, s, p); return v(m, g) }; var v = r.retrieveValueFromItem = function (p, g) { if (p != null) { var m = s[g]; if (m) return d(p, g, m.name) } }; return r.getDimensionInfo = $e(Dve, null, s, l), r.cloneAllDimensionInfo = $e(Cve, null, s), r } function xve(t) { var e = t.sourceFormat; if (!PC(e)) { var r = ""; Kt(r) } return t.data } function Tve(t) { var e = t.sourceFormat, r = t.data; if (!PC(e)) { var n = ""; Kt(n) } if (e === aa) { for (var a = [], i = 0, o = r.length; i < o; i++)a.push(r[i].slice()); return a } else if (e === xi) { for (var a = [], i = 0, o = r.length; i < o; i++)a.push(he({}, r[i])); return a } } function Dve(t, e, r) { if (r != null) { if (Gt(r) || !isNaN(r) && !Fe(e, r)) return t[r]; if (Fe(e, r)) return e[r] } } function Cve(t) { return rt(t) } var n6 = He(); function Mve(t) { t = rt(t); var e = t.type, r = ""; e || Kt(r); var n = e.split(":"); n.length !== 2 && Kt(r); var a = !1; n[0] === "echarts" && (e = n[1], a = !0), t.__isBuiltIn = a, n6.set(e, t) } function kve(t, e, r) { var n = mr(t), a = n.length, i = ""; a || Kt(i); for (var o = 0, s = a; o < s; o++) { var l = n[o]; e = Ave(l, e), o !== s - 1 && (e.length = Math.max(e.length, 1)) } return e } function Ave(t, e, r, n) { var a = ""; e.length || Kt(a), Qe(t) || Kt(a); var i = t.type, o = n6.get(i); o || Kt(a); var s = _e(e, function (u) { return Sve(u, o) }), l = mr(o.transform({ upstream: s[0], upstreamList: s, config: rt(t.config) })); return _e(l, function (u, c) { var f = ""; Qe(u) || Kt(f), u.data || Kt(f); var h = ZB(u.data); PC(h) || Kt(f); var d, v = e[0]; if (v && c === 0 && !u.dimensions) { var p = v.startIndex; p && (u.data = v.data.slice(0, p).concat(u.data)), d = { seriesLayoutBy: Mo, sourceHeader: p, dimensions: v.metaRawOption.dimensions } } else d = { seriesLayoutBy: Mo, sourceHeader: 0, dimensions: u.dimensions }; return OT(u.data, d, null) }) } function PC(t) { return t === aa || t === xi } var c1 = "undefined", Lve = typeof Uint32Array === c1 ? Array : Uint32Array, Ive = typeof Uint16Array === c1 ? Array : Uint16Array, a6 = typeof Int32Array === c1 ? Array : Int32Array, QP = typeof Float64Array === c1 ? Array : Float64Array, i6 = { float: QP, int: a6, ordinal: Array, number: Array, time: QP }, Sw; function Ld(t) { return t > 65535 ? Lve : Ive } function Tf() { return [1 / 0, -1 / 0] } function Pve(t) { var e = t.constructor; return e === Array ? t.slice() : new e(t) } function JP(t, e, r, n, a) { var i = i6[r || "float"]; if (a) { var o = t[e], s = o && o.length; if (s !== n) { for (var l = new i(n), u = 0; u < s; u++)l[u] = o[u]; t[e] = l } } else t[e] = new i(n) } var ET = function () { function t() { this._chunks = [], this._rawExtent = [], this._extent = [], this._count = 0, this._rawCount = 0, this._calcDimNameToIdx = He() } return t.prototype.initData = function (e, r, n) { this._provider = e, this._chunks = [], this._indices = null, this.getRawIndex = this._getRawIdxIdentity; var a = e.getSource(), i = this.defaultDimValueGetter = Sw[a.sourceFormat]; this._dimValueGetter = n || i, this._rawExtent = [], qB(a), this._dimensions = _e(r, function (o) { return { type: o.type, property: o.property } }), this._initDataFromProvider(0, e.count()) }, t.prototype.getProvider = function () { return this._provider }, t.prototype.getSource = function () { return this._provider.getSource() }, t.prototype.ensureCalculationDimension = function (e, r) { var n = this._calcDimNameToIdx, a = this._dimensions, i = n.get(e); if (i != null) { if (a[i].type === r) return i } else i = a.length; return a[i] = { type: r }, n.set(e, i), this._chunks[i] = new i6[r || "float"](this._rawCount), this._rawExtent[i] = Tf(), i }, t.prototype.collectOrdinalMeta = function (e, r) { var n = this._chunks[e], a = this._dimensions[e], i = this._rawExtent, o = a.ordinalOffset || 0, s = n.length; o === 0 && (i[e] = Tf()); for (var l = i[e], u = o; u < s; u++) { var c = n[u] = r.parseAndCollect(n[u]); isNaN(c) || (l[0] = Math.min(c, l[0]), l[1] = Math.max(c, l[1])) } a.ordinalMeta = r, a.ordinalOffset = s, a.type = "ordinal" }, t.prototype.getOrdinalMeta = function (e) { var r = this._dimensions[e], n = r.ordinalMeta; return n }, t.prototype.getDimensionProperty = function (e) { var r = this._dimensions[e]; return r && r.property }, t.prototype.appendData = function (e) { var r = this._provider, n = this.count(); r.appendData(e); var a = r.count(); return r.persistent || (a += n), n < a && this._initDataFromProvider(n, a, !0), [n, a] }, t.prototype.appendValues = function (e, r) { for (var n = this._chunks, a = this._dimensions, i = a.length, o = this._rawExtent, s = this.count(), l = s + Math.max(e.length, r || 0), u = 0; u < i; u++) { var c = a[u]; JP(n, u, c.type, l, !0) } for (var f = [], h = s; h < l; h++)for (var d = h - s, v = 0; v < i; v++) { var c = a[v], p = Sw.arrayRows.call(this, e[d] || f, c.property, d, v); n[v][h] = p; var g = o[v]; p < g[0] && (g[0] = p), p > g[1] && (g[1] = p) } return this._rawCount = this._count = l, { start: s, end: l } }, t.prototype._initDataFromProvider = function (e, r, n) { for (var a = this._provider, i = this._chunks, o = this._dimensions, s = o.length, l = this._rawExtent, u = _e(o, function (y) { return y.property }), c = 0; c < s; c++) { var f = o[c]; l[c] || (l[c] = Tf()), JP(i, c, f.type, r, n) } if (a.fillStorage) a.fillStorage(e, r, i, l); else for (var h = [], d = e; d < r; d++) { h = a.getItem(d, h); for (var v = 0; v < s; v++) { var p = i[v], g = this._dimValueGetter(h, u[v], d, v); p[d] = g; var m = l[v]; g < m[0] && (m[0] = g), g > m[1] && (m[1] = g) } } !a.persistent && a.clean && a.clean(), this._rawCount = this._count = r, this._extent = [] }, t.prototype.count = function () { return this._count }, t.prototype.get = function (e, r) { if (!(r >= 0 && r < this._count)) return NaN; var n = this._chunks[e]; return n ? n[this.getRawIndex(r)] : NaN }, t.prototype.getValues = function (e, r) { var n = [], a = []; if (r == null) { r = e, e = []; for (var i = 0; i < this._dimensions.length; i++)a.push(i) } else a = e; for (var i = 0, o = a.length; i < o; i++)n.push(this.get(a[i], r)); return n }, t.prototype.getByRawIndex = function (e, r) { if (!(r >= 0 && r < this._rawCount)) return NaN; var n = this._chunks[e]; return n ? n[r] : NaN }, t.prototype.getSum = function (e) { var r = this._chunks[e], n = 0; if (r) for (var a = 0, i = this.count(); a < i; a++) { var o = this.get(e, a); isNaN(o) || (n += o) } return n }, t.prototype.getMedian = function (e) { var r = []; this.each([e], function (i) { isNaN(i) || r.push(i) }); var n = r.sort(function (i, o) { return i - o }), a = this.count(); return a === 0 ? 0 : a % 2 === 1 ? n[(a - 1) / 2] : (n[a / 2] + n[a / 2 - 1]) / 2 }, t.prototype.indexOfRawIndex = function (e) { if (e >= this._rawCount || e < 0) return -1; if (!this._indices) return e; var r = this._indices, n = r[e]; if (n != null && n < this._count && n === e) return e; for (var a = 0, i = this._count - 1; a <= i;) { var o = (a + i) / 2 | 0; if (r[o] < e) a = o + 1; else if (r[o] > e) i = o - 1; else return o } return -1 }, t.prototype.indicesOfNearest = function (e, r, n) { var a = this._chunks, i = a[e], o = []; if (!i) return o; n == null && (n = 1 / 0); for (var s = 1 / 0, l = -1, u = 0, c = 0, f = this.count(); c < f; c++) { var h = this.getRawIndex(c), d = r - i[h], v = Math.abs(d); v <= n && ((v < s || v === s && d >= 0 && l < 0) && (s = v, l = d, u = 0), d === l && (o[u++] = c)) } return o.length = u, o }, t.prototype.getIndices = function () { var e, r = this._indices; if (r) { var n = r.constructor, a = this._count; if (n === Array) { e = new n(a); for (var i = 0; i < a; i++)e[i] = r[i] } else e = new n(r.buffer, 0, a) } else { var n = Ld(this._rawCount); e = new n(this.count()); for (var i = 0; i < e.length; i++)e[i] = i } return e }, t.prototype.filter = function (e, r) { if (!this._count) return this; for (var n = this.clone(), a = n.count(), i = Ld(n._rawCount), o = new i(a), s = [], l = e.length, u = 0, c = e[0], f = n._chunks, h = 0; h < a; h++) { var d = void 0, v = n.getRawIndex(h); if (l === 0) d = r(h); else if (l === 1) { var p = f[c][v]; d = r(p, h) } else { for (var g = 0; g < l; g++)s[g] = f[e[g]][v]; s[g] = h, d = r.apply(null, s) } d && (o[u++] = v) } return u < a && (n._indices = o), n._count = u, n._extent = [], n._updateGetRawIdx(), n }, t.prototype.selectRange = function (e) { var r = this.clone(), n = r._count; if (!n) return this; var a = Nt(e), i = a.length; if (!i) return this; var o = r.count(), s = Ld(r._rawCount), l = new s(o), u = 0, c = a[0], f = e[c][0], h = e[c][1], d = r._chunks, v = !1; if (!r._indices) { var p = 0; if (i === 1) { for (var g = d[a[0]], m = 0; m < n; m++) { var y = g[m]; (y >= f && y <= h || isNaN(y)) && (l[u++] = p), p++ } v = !0 } else if (i === 2) { for (var g = d[a[0]], _ = d[a[1]], b = e[a[1]][0], x = e[a[1]][1], m = 0; m < n; m++) { var y = g[m], S = _[m]; (y >= f && y <= h || isNaN(y)) && (S >= b && S <= x || isNaN(S)) && (l[u++] = p), p++ } v = !0 } } if (!v) if (i === 1) for (var m = 0; m < o; m++) { var T = r.getRawIndex(m), y = d[a[0]][T]; (y >= f && y <= h || isNaN(y)) && (l[u++] = T) } else for (var m = 0; m < o; m++) { for (var C = !0, T = r.getRawIndex(m), M = 0; M < i; M++) { var k = a[M], y = d[k][T]; (y < e[k][0] || y > e[k][1]) && (C = !1) } C && (l[u++] = r.getRawIndex(m)) } return u < o && (r._indices = l), r._count = u, r._extent = [], r._updateGetRawIdx(), r }, t.prototype.map = function (e, r) { var n = this.clone(e); return this._updateDims(n, e, r), n }, t.prototype.modify = function (e, r) { this._updateDims(this, e, r) }, t.prototype._updateDims = function (e, r, n) { for (var a = e._chunks, i = [], o = r.length, s = e.count(), l = [], u = e._rawExtent, c = 0; c < r.length; c++)u[r[c]] = Tf(); for (var f = 0; f < s; f++) { for (var h = e.getRawIndex(f), d = 0; d < o; d++)l[d] = a[r[d]][h]; l[o] = f; var v = n && n.apply(null, l); if (v != null) { typeof v != "object" && (i[0] = v, v = i); for (var c = 0; c < v.length; c++) { var p = r[c], g = v[c], m = u[p], y = a[p]; y && (y[h] = g), g < m[0] && (m[0] = g), g > m[1] && (m[1] = g) } } } }, t.prototype.lttbDownSample = function (e, r) { var n = this.clone([e], !0), a = n._chunks, i = a[e], o = this.count(), s = 0, l = Math.floor(1 / r), u = this.getRawIndex(0), c, f, h, d = new (Ld(this._rawCount))(Math.min((Math.ceil(o / l) + 2) * 2, o)); d[s++] = u; for (var v = 1; v < o - 1; v += l) { for (var p = Math.min(v + l, o - 1), g = Math.min(v + l * 2, o), m = (g + p) / 2, y = 0, _ = p; _ < g; _++) { var b = this.getRawIndex(_), x = i[b]; isNaN(x) || (y += x) } y /= g - p; var S = v, T = Math.min(v + l, o), C = v - 1, M = i[u]; c = -1, h = S; for (var k = -1, A = 0, _ = S; _ < T; _++) { var b = this.getRawIndex(_), x = i[b]; if (isNaN(x)) { A++, k < 0 && (k = b); continue } f = Math.abs((C - m) * (x - M) - (C - _) * (y - M)), f > c && (c = f, h = b) } A > 0 && A < T - S && (d[s++] = Math.min(k, h), h = Math.max(k, h)), d[s++] = h, u = h } return d[s++] = this.getRawIndex(o - 1), n._count = s, n._indices = d, n.getRawIndex = this._getRawIdx, n }, t.prototype.downSample = function (e, r, n, a) { for (var i = this.clone([e], !0), o = i._chunks, s = [], l = Math.floor(1 / r), u = o[e], c = this.count(), f = i._rawExtent[e] = Tf(), h = new (Ld(this._rawCount))(Math.ceil(c / l)), d = 0, v = 0; v < c; v += l) { l > c - v && (l = c - v, s.length = l); for (var p = 0; p < l; p++) { var g = this.getRawIndex(v + p); s[p] = u[g] } var m = n(s), y = this.getRawIndex(Math.min(v + a(s, m) || 0, c - 1)); u[y] = m, m < f[0] && (f[0] = m), m > f[1] && (f[1] = m), h[d++] = y } return i._count = d, i._indices = h, i._updateGetRawIdx(), i }, t.prototype.each = function (e, r) { if (this._count) for (var n = e.length, a = this._chunks, i = 0, o = this.count(); i < o; i++) { var s = this.getRawIndex(i); switch (n) { case 0: r(i); break; case 1: r(a[e[0]][s], i); break; case 2: r(a[e[0]][s], a[e[1]][s], i); break; default: for (var l = 0, u = []; l < n; l++)u[l] = a[e[l]][s]; u[l] = i, r.apply(null, u) } } }, t.prototype.getDataExtent = function (e) { var r = this._chunks[e], n = Tf(); if (!r) return n; var a = this.count(), i = !this._indices, o; if (i) return this._rawExtent[e].slice(); if (o = this._extent[e], o) return o.slice(); o = n; for (var s = o[0], l = o[1], u = 0; u < a; u++) { var c = this.getRawIndex(u), f = r[c]; f < s && (s = f), f > l && (l = f) } return o = [s, l], this._extent[e] = o, o }, t.prototype.getRawDataItem = function (e) { var r = this.getRawIndex(e); if (this._provider.persistent) return this._provider.getItem(r); for (var n = [], a = this._chunks, i = 0; i < a.length; i++)n.push(a[i][r]); return n }, t.prototype.clone = function (e, r) { var n = new t, a = this._chunks, i = e && Po(e, function (s, l) { return s[l] = !0, s }, {}); if (i) for (var o = 0; o < a.length; o++)n._chunks[o] = i[o] ? Pve(a[o]) : a[o]; else n._chunks = a; return this._copyCommonProps(n), r || (n._indices = this._cloneIndices()), n._updateGetRawIdx(), n }, t.prototype._copyCommonProps = function (e) { e._count = this._count, e._rawCount = this._rawCount, e._provider = this._provider, e._dimensions = this._dimensions, e._extent = rt(this._extent), e._rawExtent = rt(this._rawExtent) }, t.prototype._cloneIndices = function () { if (this._indices) { var e = this._indices.constructor, r = void 0; if (e === Array) { var n = this._indices.length; r = new e(n); for (var a = 0; a < n; a++)r[a] = this._indices[a] } else r = new e(this._indices); return r } return null }, t.prototype._getRawIdxIdentity = function (e) { return e }, t.prototype._getRawIdx = function (e) { return e < this._count && e >= 0 ? this._indices[e] : -1 }, t.prototype._updateGetRawIdx = function () { this.getRawIndex = this._indices ? this._getRawIdx : this._getRawIdxIdentity }, t.internalField = function () { function e(r, n, a, i) { return $l(r[i], this._dimensions[i]) } Sw = { arrayRows: e, objectRows: function (r, n, a, i) { return $l(r[n], this._dimensions[i]) }, keyedColumns: e, original: function (r, n, a, i) { var o = r && (r.value == null ? r : r.value); return $l(o instanceof Array ? o[i] : o, this._dimensions[i]) }, typedArray: function (r, n, a, i) { return r[i] } } }(), t }(), o6 = function () { function t(e) { this._sourceList = [], this._storeList = [], this._upstreamSignList = [], this._versionSignBase = 0, this._dirty = !0, this._sourceHost = e } return t.prototype.dirty = function () { this._setLocalSource([], []), this._storeList = [], this._dirty = !0 }, t.prototype._setLocalSource = function (e, r) { this._sourceList = e, this._upstreamSignList = r, this._versionSignBase++, this._versionSignBase > 9e10 && (this._versionSignBase = 0) }, t.prototype._getVersionSign = function () { return this._sourceHost.uid + "_" + this._versionSignBase }, t.prototype.prepareSource = function () { this._isDirty() && (this._createSource(), this._dirty = !1) }, t.prototype._createSource = function () { this._setLocalSource([], []); var e = this._sourceHost, r = this._getUpstreamSourceManagers(), n = !!r.length, a, i; if (dm(e)) { var o = e, s = void 0, l = void 0, u = void 0; if (n) { var c = r[0]; c.prepareSource(), u = c.getSource(), s = u.data, l = u.sourceFormat, i = [c._getVersionSign()] } else s = o.get("data", !0), l = Wa(s) ? Nl : Si, i = []; var f = this._getSourceMetaRawOption() || {}, h = u && u.metaRawOption || {}, d = _t(f.seriesLayoutBy, h.seriesLayoutBy) || null, v = _t(f.sourceHeader, h.sourceHeader), p = _t(f.dimensions, h.dimensions), g = d !== h.seriesLayoutBy || !!v != !!h.sourceHeader || p; a = g ? [OT(s, { seriesLayoutBy: d, sourceHeader: v, dimensions: p }, l)] : [] } else { var m = e; if (n) { var y = this._applyTransform(r); a = y.sourceList, i = y.upstreamSignList } else { var _ = m.get("source", !0); a = [OT(_, this._getSourceMetaRawOption(), null)], i = [] } } this._setLocalSource(a, i) }, t.prototype._applyTransform = function (e) { var r = this._sourceHost, n = r.get("transform", !0), a = r.get("fromTransformResult", !0); if (a != null) { var i = ""; e.length !== 1 && tR(i) } var o, s = [], l = []; return E(e, function (u) { u.prepareSource(); var c = u.getSource(a || 0), f = ""; a != null && !c && tR(f), s.push(c), l.push(u._getVersionSign()) }), n ? o = kve(n, s, { datasetIndex: r.componentIndex }) : a != null && (o = [uve(s[0])]), { sourceList: o, upstreamSignList: l } }, t.prototype._isDirty = function () { if (this._dirty) return !0; for (var e = this._getUpstreamSourceManagers(), r = 0; r < e.length; r++) { var n = e[r]; if (n._isDirty() || this._upstreamSignList[r] !== n._getVersionSign()) return !0 } }, t.prototype.getSource = function (e) { e = e || 0; var r = this._sourceList[e]; if (!r) { var n = this._getUpstreamSourceManagers(); return n[0] && n[0].getSource(e) } return r }, t.prototype.getSharedDataStore = function (e) { var r = e.makeStoreSchema(); return this._innerGetDataStore(r.dimensions, e.source, r.hash) }, t.prototype._innerGetDataStore = function (e, r, n) { var a = 0, i = this._storeList, o = i[a]; o || (o = i[a] = {}); var s = o[n]; if (!s) { var l = this._getUpstreamSourceManagers()[0]; dm(this._sourceHost) && l ? s = l._innerGetDataStore(e, r, n) : (s = new ET, s.initData(new XB(r, e.length), e)), o[n] = s } return s }, t.prototype._getUpstreamSourceManagers = function () { var e = this._sourceHost; if (dm(e)) { var r = CC(e); return r ? [r.getSourceManager()] : [] } else return _e(Ede(e), function (n) { return n.getSourceManager() }) }, t.prototype._getSourceMetaRawOption = function () { var e = this._sourceHost, r, n, a; if (dm(e)) r = e.get("seriesLayoutBy", !0), n = e.get("sourceHeader", !0), a = e.get("dimensions", !0); else if (!this._getUpstreamSourceManagers().length) { var i = e; r = i.get("seriesLayoutBy", !0), n = i.get("sourceHeader", !0), a = i.get("dimensions", !0) } return { seriesLayoutBy: r, sourceHeader: n, dimensions: a } }, t }(); function eR(t) { var e = t.option.transform; e && Xy(t.option.transform) } function dm(t) { return t.mainType === "series" } function tR(t) { throw new Error(t) } var s6 = "line-height:1"; function l6(t, e) { var r = t.color || "#6e7079", n = t.fontSize || 12, a = t.fontWeight || "400", i = t.color || "#464646", o = t.fontSize || 14, s = t.fontWeight || "900"; return e === "html" ? { nameStyle: "font-size:" + Ca(n + "") + "px;color:" + Ca(r) + ";font-weight:" + Ca(a + ""), valueStyle: "font-size:" + Ca(o + "") + "px;color:" + Ca(i) + ";font-weight:" + Ca(s + "") } : { nameStyle: { fontSize: n, fill: r, fontWeight: a }, valueStyle: { fontSize: o, fill: i, fontWeight: s } } } var Rve = [0, 10, 20, 30], Ove = ["", `
`, `

`, `


`]; function Rn(t, e) { return e.type = t, e } function NT(t) { return t.type === "section" } function u6(t) { return NT(t) ? Eve : Nve } function c6(t) { if (NT(t)) { var e = 0, r = t.blocks.length, n = r > 1 || r > 0 && !t.noHeader; return E(t.blocks, function (a) { var i = c6(a); i >= e && (e = i + +(n && (!i || NT(a) && !a.noHeader))) }), e } return 0 } function Eve(t, e, r, n) { var a = e.noHeader, i = $ve(c6(e)), o = [], s = e.blocks || []; ya(!s || me(s)), s = s || []; var l = t.orderMode; if (e.sortBlocks && l) { s = s.slice(); var u = { valueAsc: "asc", valueDesc: "desc" }; if (Fe(u, l)) { var c = new r6(u[l], null); s.sort(function (v, p) { return c.evaluate(v.sortParam, p.sortParam) }) } else l === "seriesDesc" && s.reverse() } E(s, function (v, p) { var g = e.valueFormatter, m = u6(v)(g ? he(he({}, t), { valueFormatter: g }) : t, v, p > 0 ? i.html : 0, n); m != null && o.push(m) }); var f = t.renderMode === "richText" ? o.join(i.richText) : $T(o.join(""), a ? r : i.html); if (a) return f; var h = IT(e.header, "ordinal", t.useUTC), d = l6(n, t.renderMode).nameStyle; return t.renderMode === "richText" ? f6(t, h, d) + i.richText + f : $T('<div style="' + d + ";" + s6 + ';">' + Ca(h) + "</div>" + f, r) } function Nve(t, e, r, n) { var a = t.renderMode, i = e.noName, o = e.noValue, s = !e.markerType, l = e.name, u = t.useUTC, c = e.valueFormatter || t.valueFormatter || function (b) { return b = me(b) ? b : [b], _e(b, function (x, S) { return IT(x, me(d) ? d[S] : d, u) }) }; if (!(i && o)) { var f = s ? "" : t.markupStyleCreator.makeTooltipMarker(e.markerType, e.markerColor || "#333", a), h = i ? "" : IT(l, "ordinal", u), d = e.valueType, v = o ? [] : c(e.value), p = !s || !i, g = !s && i, m = l6(n, a), y = m.nameStyle, _ = m.valueStyle; return a === "richText" ? (s ? "" : f) + (i ? "" : f6(t, h, y)) + (o ? "" : Vve(t, v, p, g, _)) : $T((s ? "" : f) + (i ? "" : Fve(h, !s, y)) + (o ? "" : Bve(v, p, g, _)), r) } } function rR(t, e, r, n, a, i) { if (t) { var o = u6(t), s = { useUTC: a, renderMode: r, orderMode: n, markupStyleCreator: e, valueFormatter: t.valueFormatter }; return o(s, t, 0, i) } } function $ve(t) { return { html: Rve[t], richText: Ove[t] } } function $T(t, e) { var r = '<div style="clear:both"></div>', n = "margin: " + e + "px 0 0"; return '<div style="' + n + ";" + s6 + ';">' + t + r + "</div>" } function Fve(t, e, r) { var n = e ? "margin-left:2px" : ""; return '<span style="' + r + ";" + n + '">' + Ca(t) + "</span>" } function Bve(t, e, r, n) { var a = r ? "10px" : "20px", i = e ? "float:right;margin-left:" + a : ""; return t = me(t) ? t : [t], '<span style="' + i + ";" + n + '">' + _e(t, function (o) { return Ca(o) }).join("&nbsp;&nbsp;") + "</span>" } function f6(t, e, r) { return t.markupStyleCreator.wrapRichTextStyle(e, r) } function Vve(t, e, r, n, a) { var i = [a], o = n ? 10 : 20; return r && i.push({ padding: [0, 0, 0, o], align: "right" }), t.markupStyleCreator.wrapRichTextStyle(me(e) ? e.join("  ") : e, i) } function h6(t, e) { var r = t.getData().getItemVisual(e, "style"), n = r[t.visualDrawType]; return Fc(n) } function d6(t, e) { var r = t.get("padding"); return r ?? (e === "richText" ? [8, 10] : 10) } var xw = function () { function t() { this.richTextStyles = {}, this._nextStyleNameId = fF() } return t.prototype._generateStyleName = function () { return "__EC_aUTo_" + this._nextStyleNameId++ }, t.prototype.makeTooltipMarker = function (e, r, n) { var a = n === "richText" ? this._generateStyleName() : null, i = kde({ color: r, type: e, renderMode: n, markerId: a }); return Oe(i) ? i : (this.richTextStyles[a] = i.style, i.content) }, t.prototype.wrapRichTextStyle = function (e, r) { var n = {}; me(r) ? E(r, function (i) { return he(n, i) }) : he(n, r); var a = this._generateStyleName(); return this.richTextStyles[a] = n, "{" + a + "|" + e + "}" }, t }(); function v6(t) { var e = t.series, r = t.dataIndex, n = t.multipleSeries, a = e.getData(), i = a.mapDimensionsAll("defaultedTooltip"), o = i.length, s = e.getRawValue(r), l = me(s), u = h6(e, r), c, f, h, d; if (o > 1 || l && !o) { var v = zve(s, e, r, i, u); c = v.inlineValues, f = v.inlineValueTypes, h = v.blocks, d = v.inlineValues[0] } else if (o) { var p = a.getDimensionInfo(i[0]); d = c = Ch(a, r, i[0]), f = p.type } else d = c = l ? s[0] : s; var g = aC(e), m = g && e.name || "", y = a.getName(r), _ = n ? m : y; return Rn("section", { header: m, noHeader: n || !g, sortParam: d, blocks: [Rn("nameValue", { markerType: "item", markerColor: u, name: _, noName: !Fi(_), value: c, valueType: f })].concat(h || []) }) } function zve(t, e, r, n, a) { var i = e.getData(), o = Po(t, function (f, h, d) { var v = i.getDimensionInfo(d); return f = f || v && v.tooltip !== !1 && v.displayName != null }, !1), s = [], l = [], u = []; n.length ? E(n, function (f) { c(Ch(i, r, f), f) }) : E(t, c); function c(f, h) { var d = i.getDimensionInfo(h); !d || d.otherDims.tooltip === !1 || (o ? u.push(Rn("nameValue", { markerType: "subItem", markerColor: a, name: d.displayName, value: f, valueType: d.type })) : (s.push(f), l.push(d.type))) } return { inlineValues: s, inlineValueTypes: l, blocks: u } } var al = zt(); function vm(t, e) { return t.getName(e) || t.getId(e) } var Cy = "__universalTransitionEnabled", f1 = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r._selectedDataIndicesMap = {}, r } return e.prototype.init = function (r, n, a) { this.seriesIndex = this.componentIndex, this.dataTask = Pv({ count: Yve, reset: Uve }), this.dataTask.context = { model: this }, this.mergeDefaultAndTheme(r, a); var i = al(this).sourceManager = new o6(this); i.prepareSource(); var o = this.getInitialData(r, a); aR(o, this), this.dataTask.context.data = o, al(this).dataBeforeProcessed = o, nR(this), this._initSelectedMapFromData(o) }, e.prototype.mergeDefaultAndTheme = function (r, n) { var a = gp(this), i = a ? qh(r) : {}, o = this.subType; Yt.hasClass(o) && (o += "Series"), bt(r, n.getTheme().get(this.subType)), bt(r, this.getDefaultOption()), Oc(r, "label", ["show"]), this.fillDataTextStyle(r.data), a && Ql(r, i, a) }, e.prototype.mergeOption = function (r, n) { r = bt(this.option, r, !0), this.fillDataTextStyle(r.data); var a = gp(this); a && Ql(this.option, r, a); var i = al(this).sourceManager; i.dirty(), i.prepareSource(); var o = this.getInitialData(r, n); aR(o, this), this.dataTask.dirty(), this.dataTask.context.data = o, al(this).dataBeforeProcessed = o, nR(this), this._initSelectedMapFromData(o) }, e.prototype.fillDataTextStyle = function (r) { if (r && !Wa(r)) for (var n = ["show"], a = 0; a < r.length; a++)r[a] && r[a].label && Oc(r[a], "label", n) }, e.prototype.getInitialData = function (r, n) { }, e.prototype.appendData = function (r) { var n = this.getRawData(); n.appendData(r.data) }, e.prototype.getData = function (r) { var n = FT(this); if (n) { var a = n.context.data; return r == null ? a : a.getLinkedData(r) } else return al(this).data }, e.prototype.getAllData = function () { var r = this.getData(); return r && r.getLinkedDataAll ? r.getLinkedDataAll() : [{ data: r }] }, e.prototype.setData = function (r) { var n = FT(this); if (n) { var a = n.context; a.outputData = r, n !== this.dataTask && (a.data = r) } al(this).data = r }, e.prototype.getEncode = function () { var r = this.get("encode", !0); if (r) return He(r) }, e.prototype.getSourceManager = function () { return al(this).sourceManager }, e.prototype.getSource = function () { return this.getSourceManager().getSource() }, e.prototype.getRawData = function () { return al(this).dataBeforeProcessed }, e.prototype.getColorBy = function () { var r = this.get("colorBy"); return r || "series" }, e.prototype.isColorBySeries = function () { return this.getColorBy() === "series" }, e.prototype.getBaseAxis = function () { var r = this.coordinateSystem; return r && r.getBaseAxis && r.getBaseAxis() }, e.prototype.formatTooltip = function (r, n, a) { return v6({ series: this, dataIndex: r, multipleSeries: n }) }, e.prototype.isAnimationEnabled = function () { var r = this.ecModel; if (Ut.node && !(r && r.ssr)) return !1; var n = this.getShallow("animation"); return n && this.getData().count() > this.getShallow("animationThreshold") && (n = !1), !!n }, e.prototype.restoreData = function () { this.dataTask.dirty() }, e.prototype.getColorFromPalette = function (r, n, a) { var i = this.ecModel, o = MC.prototype.getColorFromPalette.call(this, r, n, a); return o || (o = i.getColorFromPalette(r, n, a)), o }, e.prototype.coordDimToDataDim = function (r) { return this.getRawData().mapDimensionsAll(r) }, e.prototype.getProgressive = function () { return this.get("progressive") }, e.prototype.getProgressiveThreshold = function () { return this.get("progressiveThreshold") }, e.prototype.select = function (r, n) { this._innerSelect(this.getData(n), r) }, e.prototype.unselect = function (r, n) { var a = this.option.selectedMap; if (a) { var i = this.option.selectedMode, o = this.getData(n); if (i === "series" || a === "all") { this.option.selectedMap = {}, this._selectedDataIndicesMap = {}; return } for (var s = 0; s < r.length; s++) { var l = r[s], u = vm(o, l); a[u] = !1, this._selectedDataIndicesMap[u] = -1 } } }, e.prototype.toggleSelect = function (r, n) { for (var a = [], i = 0; i < r.length; i++)a[0] = r[i], this.isSelected(r[i], n) ? this.unselect(a, n) : this.select(a, n) }, e.prototype.getSelectedDataIndices = function () { if (this.option.selectedMap === "all") return [].slice.call(this.getData().getIndices()); for (var r = this._selectedDataIndicesMap, n = Nt(r), a = [], i = 0; i < n.length; i++) { var o = r[n[i]]; o >= 0 && a.push(o) } return a }, e.prototype.isSelected = function (r, n) { var a = this.option.selectedMap; if (!a) return !1; var i = this.getData(n); return (a === "all" || a[vm(i, r)]) && !i.getItemModel(r).get(["select", "disabled"]) }, e.prototype.isUniversalTransitionEnabled = function () { if (this[Cy]) return !0; var r = this.option.universalTransition; return r ? r === !0 ? !0 : r && r.enabled : !1 }, e.prototype._innerSelect = function (r, n) { var a, i, o = this.option, s = o.selectedMode, l = n.length; if (!(!s || !l)) { if (s === "series") o.selectedMap = "all"; else if (s === "multiple") { Qe(o.selectedMap) || (o.selectedMap = {}); for (var u = o.selectedMap, c = 0; c < l; c++) { var f = n[c], h = vm(r, f); u[h] = !0, this._selectedDataIndicesMap[h] = r.getRawIndex(f) } } else if (s === "single" || s === !0) { var d = n[l - 1], h = vm(r, d); o.selectedMap = (a = {}, a[h] = !0, a), this._selectedDataIndicesMap = (i = {}, i[h] = r.getRawIndex(d), i) } } }, e.prototype._initSelectedMapFromData = function (r) { if (!this.option.selectedMap) { var n = []; r.hasItemOption && r.each(function (a) { var i = r.getRawDataItem(a); i && i.selected && n.push(a) }), n.length > 0 && this._innerSelect(r, n) } }, e.registerClass = function (r) { return Yt.registerClass(r) }, e.protoInitialize = function () { var r = e.prototype; r.type = "series.__base__", r.seriesIndex = 0, r.ignoreStyleOnData = !1, r.hasSymbolVisual = !1, r.defaultSymbol = "circle", r.visualStyleAccessPath = "itemStyle", r.visualDrawType = "fill" }(), e }(Yt); mn(f1, IC); mn(f1, MC); bF(f1, Yt); function nR(t) { var e = t.name; aC(t) || (t.name = Hve(t) || e) } function Hve(t) { var e = t.getRawData(), r = e.mapDimensionsAll("seriesName"), n = []; return E(r, function (a) { var i = e.getDimensionInfo(a); i.displayName && n.push(i.displayName) }), n.join(" ") } function Yve(t) { return t.model.getRawData().count() } function Uve(t) { var e = t.model; return e.setData(e.getRawData().cloneShallow()), Wve } function Wve(t, e) { e.outputData && t.end > e.outputData.count() && e.model.getRawData().cloneShallow(e.outputData) } function aR(t, e) { E(Ky(t.CHANGABLE_METHODS, t.DOWNSAMPLE_METHODS), function (r) { t.wrapMethod(r, ut(Gve, e)) }) } function Gve(t, e) { var r = FT(t); return r && r.setOutputEnd((e || this).count()), e } function FT(t) { var e = (t.ecModel || {}).scheduler, r = e && e.getPipeline(t.uid); if (r) { var n = r.currentTask; if (n) { var a = n.agentStubMap; a && (n = a.get(t.uid)) } return n } } const $r = f1; var RC = function () { function t() { this.group = new it, this.uid = jh("viewComponent") } return t.prototype.init = function (e, r) { }, t.prototype.render = function (e, r, n, a) { }, t.prototype.dispose = function (e, r) { }, t.prototype.updateView = function (e, r, n, a) { }, t.prototype.updateLayout = function (e, r, n, a) { }, t.prototype.updateVisual = function (e, r, n, a) { }, t.prototype.toggleBlurSeries = function (e, r, n) { }, t.prototype.eachRendered = function (e) { var r = this.group; r && r.traverse(e) }, t }(); oC(RC); G_(RC); const Kr = RC; function Qh() { var t = zt(); return function (e) { var r = t(e), n = e.pipelineContext, a = !!r.large, i = !!r.progressiveRender, o = r.large = !!(n && n.large), s = r.progressiveRender = !!(n && n.progressiveRender); return (a !== o || i !== s) && "reset" } } var p6 = zt(), jve = Qh(), OC = function () { function t() { this.group = new it, this.uid = jh("viewChart"), this.renderTask = Pv({ plan: Zve, reset: qve }), this.renderTask.context = { view: this } } return t.prototype.init = function (e, r) { }, t.prototype.render = function (e, r, n, a) { }, t.prototype.highlight = function (e, r, n, a) { var i = e.getData(a && a.dataType); i && oR(i, a, "emphasis") }, t.prototype.downplay = function (e, r, n, a) { var i = e.getData(a && a.dataType); i && oR(i, a, "normal") }, t.prototype.remove = function (e, r) { this.group.removeAll() }, t.prototype.dispose = function (e, r) { }, t.prototype.updateView = function (e, r, n, a) { this.render(e, r, n, a) }, t.prototype.updateLayout = function (e, r, n, a) { this.render(e, r, n, a) }, t.prototype.updateVisual = function (e, r, n, a) { this.render(e, r, n, a) }, t.prototype.eachRendered = function (e) { ou(this.group, e) }, t.markUpdateMethod = function (e, r) { p6(e).updateMethod = r }, t.protoInitialize = function () { var e = t.prototype; e.type = "chart" }(), t }(); function iR(t, e, r) { t && hp(t) && (e === "emphasis" ? Ps : Rs)(t, r) } function oR(t, e, r) { var n = Ec(t, e), a = e && e.highlightKey != null ? whe(e.highlightKey) : null; n != null ? E(mr(n), function (i) { iR(t.getItemGraphicEl(i), r, a) }) : t.eachItemGraphicEl(function (i) { iR(i, r, a) }) } oC(OC); G_(OC); function Zve(t) { return jve(t.model) } function qve(t) { var e = t.model, r = t.ecModel, n = t.api, a = t.payload, i = e.pipelineContext.progressiveRender, o = t.view, s = a && p6(a).updateMethod, l = i ? "incrementalPrepareRender" : s && o[s] ? s : "render"; return l !== "render" && o[l](e, r, n, a), Xve[l] } var Xve = { incrementalPrepareRender: { progress: function (t, e) { e.view.incrementalRender(t, e.model, e.ecModel, e.api, e.payload) } }, render: { forceFirstProgress: !0, progress: function (t, e) { e.view.render(e.model, e.ecModel, e.api, e.payload) } } }; const Ar = OC; var v0 = "\0__throttleOriginMethod", sR = "\0__throttleRate", lR = "\0__throttleType"; function EC(t, e, r) { var n, a = 0, i = 0, o = null, s, l, u, c; e = e || 0; function f() { i = new Date().getTime(), o = null, t.apply(l, u || []) } var h = function () { for (var d = [], v = 0; v < arguments.length; v++)d[v] = arguments[v]; n = new Date().getTime(), l = this, u = d; var p = c || e, g = c || r; c = null, s = n - (g ? a : i) - p, clearTimeout(o), g ? o = setTimeout(f, p) : s >= 0 ? f() : o = setTimeout(f, -s), a = n }; return h.clear = function () { o && (clearTimeout(o), o = null) }, h.debounceNextCall = function (d) { c = d }, h } function Jh(t, e, r, n) { var a = t[e]; if (a) { var i = a[v0] || a, o = a[lR], s = a[sR]; if (s !== r || o !== n) { if (r == null || !n) return t[e] = i; a = t[e] = EC(i, r, n === "debounce"), a[v0] = i, a[lR] = n, a[sR] = r } return a } } function yp(t, e) { var r = t[e]; r && r[v0] && (r.clear && r.clear(), t[e] = r[v0]) } var uR = zt(), cR = { itemStyle: Nc(_B, !0), lineStyle: Nc(yB, !0) }, Kve = { lineStyle: "stroke", itemStyle: "fill" }; function g6(t, e) { var r = t.visualStyleMapper || cR[e]; return r || (console.warn("Unknown style type '" + e + "'."), cR.itemStyle) } function m6(t, e) { var r = t.visualDrawType || Kve[e]; return r || (console.warn("Unknown style type '" + e + "'."), "fill") } var Qve = { createOnAllSeries: !0, performRawSeries: !0, reset: function (t, e) { var r = t.getData(), n = t.visualStyleAccessPath || "itemStyle", a = t.getModel(n), i = g6(t, n), o = i(a), s = a.getShallow("decal"); s && (r.setVisual("decal", s), s.dirty = !0); var l = m6(t, n), u = o[l], c = je(u) ? u : null, f = o.fill === "auto" || o.stroke === "auto"; if (!o[l] || c || f) { var h = t.getColorFromPalette(t.name, null, e.getSeriesCount()); o[l] || (o[l] = h, r.setVisual("colorFromPalette", !0)), o.fill = o.fill === "auto" || je(o.fill) ? h : o.fill, o.stroke = o.stroke === "auto" || je(o.stroke) ? h : o.stroke } if (r.setVisual("style", o), r.setVisual("drawType", l), !e.isSeriesFiltered(t) && c) return r.setVisual("colorFromPalette", !1), { dataEach: function (d, v) { var p = t.getDataParams(v), g = he({}, o); g[l] = c(p), d.setItemVisual(v, "style", g) } } } }, Id = new kr, Jve = { createOnAllSeries: !0, performRawSeries: !0, reset: function (t, e) { if (!(t.ignoreStyleOnData || e.isSeriesFiltered(t))) { var r = t.getData(), n = t.visualStyleAccessPath || "itemStyle", a = g6(t, n), i = r.getVisual("drawType"); return { dataEach: r.hasItemOption ? function (o, s) { var l = o.getRawDataItem(s); if (l && l[n]) { Id.option = l[n]; var u = a(Id), c = o.ensureUniqueItemVisual(s, "style"); he(c, u), Id.option.decal && (o.setItemVisual(s, "decal", Id.option.decal), Id.option.decal.dirty = !0), i in u && o.setItemVisual(s, "colorFromPalette", !1) } } : null } } } }, epe = { performRawSeries: !0, overallReset: function (t) { var e = He(); t.eachSeries(function (r) { var n = r.getColorBy(); if (!r.isColorBySeries()) { var a = r.type + "-" + n, i = e.get(a); i || (i = {}, e.set(a, i)), uR(r).scope = i } }), t.eachSeries(function (r) { if (!(r.isColorBySeries() || t.isSeriesFiltered(r))) { var n = r.getRawData(), a = {}, i = r.getData(), o = uR(r).scope, s = r.visualStyleAccessPath || "itemStyle", l = m6(r, s); i.each(function (u) { var c = i.getRawIndex(u); a[c] = u }), n.each(function (u) { var c = a[u], f = i.getItemVisual(c, "colorFromPalette"); if (f) { var h = i.ensureUniqueItemVisual(c, "style"), d = n.getName(u) || u + "", v = n.count(); h[l] = r.getColorFromPalette(d, o, v) } }) } }) } }, pm = Math.PI; function tpe(t, e) { e = e || {}, Xe(e, { text: "loading", textColor: "#000", fontSize: 12, fontWeight: "normal", fontStyle: "normal", fontFamily: "sans-serif", maskColor: "rgba(255, 255, 255, 0.8)", showSpinner: !0, color: "#5470c6", spinnerRadius: 10, lineWidth: 5, zlevel: 0 }); var r = new it, n = new Bt({ style: { fill: e.maskColor }, zlevel: e.zlevel, z: 1e4 }); r.add(n); var a = new Wt({ style: { text: e.text, fill: e.textColor, fontSize: e.fontSize, fontWeight: e.fontWeight, fontStyle: e.fontStyle, fontFamily: e.fontFamily }, zlevel: e.zlevel, z: 10001 }), i = new Bt({ style: { fill: "none" }, textContent: a, textConfig: { position: "right", distance: 10 }, zlevel: e.zlevel, z: 10001 }); r.add(i); var o; return e.showSpinner && (o = new pC({ shape: { startAngle: -pm / 2, endAngle: -pm / 2 + .1, r: e.spinnerRadius }, style: { stroke: e.color, lineCap: "round", lineWidth: e.lineWidth }, zlevel: e.zlevel, z: 10001 }), o.animateShape(!0).when(1e3, { endAngle: pm * 3 / 2 }).start("circularInOut"), o.animateShape(!0).when(1e3, { startAngle: pm * 3 / 2 }).delay(300).start("circularInOut"), r.add(o)), r.resize = function () { var s = a.getBoundingRect().width, l = e.showSpinner ? e.spinnerRadius : 0, u = (t.getWidth() - l * 2 - (e.showSpinner && s ? 10 : 0) - s) / 2 - (e.showSpinner && s ? 0 : 5 + s / 2) + (e.showSpinner ? 0 : s / 2) + (s ? 0 : l), c = t.getHeight() / 2; e.showSpinner && o.setShape({ cx: u, cy: c }), i.setShape({ x: u - l, y: c - l, width: l * 2, height: l * 2 }), n.setShape({ x: 0, y: 0, width: t.getWidth(), height: t.getHeight() }) }, r.resize(), r } var rpe = function () { function t(e, r, n, a) { this._stageTaskMap = He(), this.ecInstance = e, this.api = r, n = this._dataProcessorHandlers = n.slice(), a = this._visualHandlers = a.slice(), this._allHandlers = n.concat(a) } return t.prototype.restoreData = function (e, r) { e.restoreData(r), this._stageTaskMap.each(function (n) { var a = n.overallTask; a && a.dirty() }) }, t.prototype.getPerformArgs = function (e, r) { if (e.__pipeline) { var n = this._pipelineMap.get(e.__pipeline.id), a = n.context, i = !r && n.progressiveEnabled && (!a || a.progressiveRender) && e.__idxInPipeline > n.blockIndex, o = i ? n.step : null, s = a && a.modDataCount, l = s != null ? Math.ceil(s / o) : null; return { step: o, modBy: l, modDataCount: s } } }, t.prototype.getPipeline = function (e) { return this._pipelineMap.get(e) }, t.prototype.updateStreamModes = function (e, r) { var n = this._pipelineMap.get(e.uid), a = e.getData(), i = a.count(), o = n.progressiveEnabled && r.incrementalPrepareRender && i >= n.threshold, s = e.get("large") && i >= e.get("largeThreshold"), l = e.get("progressiveChunkMode") === "mod" ? i : null; e.pipelineContext = n.context = { progressiveRender: o, modDataCount: l, large: s } }, t.prototype.restorePipelines = function (e) { var r = this, n = r._pipelineMap = He(); e.eachSeries(function (a) { var i = a.getProgressive(), o = a.uid; n.set(o, { id: o, head: null, tail: null, threshold: a.getProgressiveThreshold(), progressiveEnabled: i && !(a.preventIncremental && a.preventIncremental()), blockIndex: -1, step: Math.round(i || 700), count: 0 }), r._pipe(a, a.dataTask) }) }, t.prototype.prepareStageTasks = function () { var e = this._stageTaskMap, r = this.api.getModel(), n = this.api; E(this._allHandlers, function (a) { var i = e.get(a.uid) || e.set(a.uid, {}), o = ""; ya(!(a.reset && a.overallReset), o), a.reset && this._createSeriesStageTask(a, i, r, n), a.overallReset && this._createOverallStageTask(a, i, r, n) }, this) }, t.prototype.prepareView = function (e, r, n, a) { var i = e.renderTask, o = i.context; o.model = r, o.ecModel = n, o.api = a, i.__block = !e.incrementalPrepareRender, this._pipe(r, i) }, t.prototype.performDataProcessorTasks = function (e, r) { this._performStageTasks(this._dataProcessorHandlers, e, r, { block: !0 }) }, t.prototype.performVisualTasks = function (e, r, n) { this._performStageTasks(this._visualHandlers, e, r, n) }, t.prototype._performStageTasks = function (e, r, n, a) { a = a || {}; var i = !1, o = this; E(e, function (l, u) { if (!(a.visualType && a.visualType !== l.visualType)) { var c = o._stageTaskMap.get(l.uid), f = c.seriesTaskMap, h = c.overallTask; if (h) { var d, v = h.agentStubMap; v.each(function (g) { s(a, g) && (g.dirty(), d = !0) }), d && h.dirty(), o.updatePayload(h, n); var p = o.getPerformArgs(h, a.block); v.each(function (g) { g.perform(p) }), h.perform(p) && (i = !0) } else f && f.each(function (g, m) { s(a, g) && g.dirty(); var y = o.getPerformArgs(g, a.block); y.skip = !l.performRawSeries && r.isSeriesFiltered(g.context.model), o.updatePayload(g, n), g.perform(y) && (i = !0) }) } }); function s(l, u) { return l.setDirty && (!l.dirtyMap || l.dirtyMap.get(u.__pipeline.id)) } this.unfinished = i || this.unfinished }, t.prototype.performSeriesTasks = function (e) { var r; e.eachSeries(function (n) { r = n.dataTask.perform() || r }), this.unfinished = r || this.unfinished }, t.prototype.plan = function () { this._pipelineMap.each(function (e) { var r = e.tail; do { if (r.__block) { e.blockIndex = r.__idxInPipeline; break } r = r.getUpstream() } while (r) }) }, t.prototype.updatePayload = function (e, r) { r !== "remain" && (e.context.payload = r) }, t.prototype._createSeriesStageTask = function (e, r, n, a) { var i = this, o = r.seriesTaskMap, s = r.seriesTaskMap = He(), l = e.seriesType, u = e.getTargetSeries; e.createOnAllSeries ? n.eachRawSeries(c) : l ? n.eachRawSeriesByType(l, c) : u && u(n, a).each(c); function c(f) { var h = f.uid, d = s.set(h, o && o.get(h) || Pv({ plan: spe, reset: lpe, count: cpe })); d.context = { model: f, ecModel: n, api: a, useClearVisual: e.isVisual && !e.isLayout, plan: e.plan, reset: e.reset, scheduler: i }, i._pipe(f, d) } }, t.prototype._createOverallStageTask = function (e, r, n, a) { var i = this, o = r.overallTask = r.overallTask || Pv({ reset: npe }); o.context = { ecModel: n, api: a, overallReset: e.overallReset, scheduler: i }; var s = o.agentStubMap, l = o.agentStubMap = He(), u = e.seriesType, c = e.getTargetSeries, f = !0, h = !1, d = ""; ya(!e.createOnAllSeries, d), u ? n.eachRawSeriesByType(u, v) : c ? c(n, a).each(v) : (f = !1, E(n.getSeries(), v)); function v(p) { var g = p.uid, m = l.set(g, s && s.get(g) || (h = !0, Pv({ reset: ape, onDirty: ope }))); m.context = { model: p, overallProgress: f }, m.agent = o, m.__block = f, i._pipe(p, m) } h && o.dirty() }, t.prototype._pipe = function (e, r) { var n = e.uid, a = this._pipelineMap.get(n); !a.head && (a.head = r), a.tail && a.tail.pipe(r), a.tail = r, r.__idxInPipeline = a.count++, r.__pipeline = a }, t.wrapStageHandler = function (e, r) { return je(e) && (e = { overallReset: e, seriesType: fpe(e) }), e.uid = jh("stageHandler"), r && (e.visualType = r), e }, t }(); function npe(t) { t.overallReset(t.ecModel, t.api, t.payload) } function ape(t) { return t.overallProgress && ipe } function ipe() { this.agent.dirty(), this.getDownstream().dirty() } function ope() { this.agent && this.agent.dirty() } function spe(t) { return t.plan ? t.plan(t.model, t.ecModel, t.api, t.payload) : null } function lpe(t) { t.useClearVisual && t.data.clearAllVisual(); var e = t.resetDefines = mr(t.reset(t.model, t.ecModel, t.api, t.payload)); return e.length > 1 ? _e(e, function (r, n) { return y6(n) }) : upe } var upe = y6(0); function y6(t) { return function (e, r) { var n = r.data, a = r.resetDefines[t]; if (a && a.dataEach) for (var i = e.start; i < e.end; i++)a.dataEach(n, i); else a && a.progress && a.progress(e, n) } } function cpe(t) { return t.data.count() } function fpe(t) { p0 = null; try { t(_p, _6) } catch { } return p0 } var _p = {}, _6 = {}, p0; b6(_p, UB); b6(_6, WB); _p.eachSeriesByType = _p.eachRawSeriesByType = function (t) { p0 = t }; _p.eachComponent = function (t) { t.mainType === "series" && t.subType && (p0 = t.subType) }; function b6(t, e) { for (var r in e.prototype) t[r] = nn } const w6 = rpe; var fR = ["#37A2DA", "#32C5E9", "#67E0E3", "#9FE6B8", "#FFDB5C", "#ff9f7f", "#fb7293", "#E062AE", "#E690D1", "#e7bcf3", "#9d96f5", "#8378EA", "#96BFFF"]; const hpe = { color: fR, colorLayer: [["#37A2DA", "#ffd85c", "#fd7b5f"], ["#37A2DA", "#67E0E3", "#FFDB5C", "#ff9f7f", "#E062AE", "#9d96f5"], ["#37A2DA", "#32C5E9", "#9FE6B8", "#FFDB5C", "#ff9f7f", "#fb7293", "#e7bcf3", "#8378EA", "#96BFFF"], fR] }; var ua = "#B9B8CE", hR = "#100C2A", gm = function () { return { axisLine: { lineStyle: { color: ua } }, splitLine: { lineStyle: { color: "#484753" } }, splitArea: { areaStyle: { color: ["rgba(255,255,255,0.02)", "rgba(255,255,255,0.05)"] } }, minorSplitLine: { lineStyle: { color: "#20203B" } } } }, dR = ["#4992ff", "#7cffb2", "#fddd60", "#ff6e76", "#58d9f9", "#05c091", "#ff8a45", "#8d48e3", "#dd79ff"], S6 = { darkMode: !0, color: dR, backgroundColor: hR, axisPointer: { lineStyle: { color: "#817f91" }, crossStyle: { color: "#817f91" }, label: { color: "#fff" } }, legend: { textStyle: { color: ua } }, textStyle: { color: ua }, title: { textStyle: { color: "#EEF1FA" }, subtextStyle: { color: "#B9B8CE" } }, toolbox: { iconStyle: { borderColor: ua } }, dataZoom: { borderColor: "#71708A", textStyle: { color: ua }, brushStyle: { color: "rgba(135,163,206,0.3)" }, handleStyle: { color: "#353450", borderColor: "#C5CBE3" }, moveHandleStyle: { color: "#B0B6C3", opacity: .3 }, fillerColor: "rgba(135,163,206,0.2)", emphasis: { handleStyle: { borderColor: "#91B7F2", color: "#4D587D" }, moveHandleStyle: { color: "#636D9A", opacity: .7 } }, dataBackground: { lineStyle: { color: "#71708A", width: 1 }, areaStyle: { color: "#71708A" } }, selectedDataBackground: { lineStyle: { color: "#87A3CE" }, areaStyle: { color: "#87A3CE" } } }, visualMap: { textStyle: { color: ua } }, timeline: { lineStyle: { color: ua }, label: { color: ua }, controlStyle: { color: ua, borderColor: ua } }, calendar: { itemStyle: { color: hR }, dayLabel: { color: ua }, monthLabel: { color: ua }, yearLabel: { color: ua } }, timeAxis: gm(), logAxis: gm(), valueAxis: gm(), categoryAxis: gm(), line: { symbol: "circle" }, graph: { color: dR }, gauge: { title: { color: ua }, axisLine: { lineStyle: { color: [[1, "rgba(207,212,219,0.2)"]] } }, axisLabel: { color: ua }, detail: { color: "#EEF1FA" } }, candlestick: { itemStyle: { color: "#f64e56", color0: "#54ea92", borderColor: "#f64e56", borderColor0: "#54ea92" } } }; S6.categoryAxis.splitLine.show = !1; const dpe = S6; var vpe = function () { function t() { } return t.prototype.normalizeQuery = function (e) { var r = {}, n = {}, a = {}; if (Oe(e)) { var i = So(e); r.mainType = i.main || null, r.subType = i.sub || null } else { var o = ["Index", "Name", "Id"], s = { name: 1, dataIndex: 1, dataType: 1 }; E(e, function (l, u) { for (var c = !1, f = 0; f < o.length; f++) { var h = o[f], d = u.lastIndexOf(h); if (d > 0 && d === u.length - h.length) { var v = u.slice(0, d); v !== "data" && (r.mainType = v, r[h.toLowerCase()] = l, c = !0) } } s.hasOwnProperty(u) && (n[u] = l, c = !0), c || (a[u] = l) }) } return { cptQuery: r, dataQuery: n, otherQuery: a } }, t.prototype.filter = function (e, r) { var n = this.eventInfo; if (!n) return !0; var a = n.targetEl, i = n.packedEvent, o = n.model, s = n.view; if (!o || !s) return !0; var l = r.cptQuery, u = r.dataQuery; return c(l, o, "mainType") && c(l, o, "subType") && c(l, o, "index", "componentIndex") && c(l, o, "name") && c(l, o, "id") && c(u, i, "name") && c(u, i, "dataIndex") && c(u, i, "dataType") && (!s.filterForExposedEvent || s.filterForExposedEvent(e, r.otherQuery, a, i)); function c(f, h, d, v) { return f[d] == null || h[v || d] === f[d] } }, t.prototype.afterTrigger = function () { this.eventInfo = null }, t }(), BT = ["symbol", "symbolSize", "symbolRotate", "symbolOffset"], vR = BT.concat(["symbolKeepAspect"]), ppe = { createOnAllSeries: !0, performRawSeries: !0, reset: function (t, e) { var r = t.getData(); if (t.legendIcon && r.setVisual("legendIcon", t.legendIcon), !t.hasSymbolVisual) return; for (var n = {}, a = {}, i = !1, o = 0; o < BT.length; o++) { var s = BT[o], l = t.get(s); je(l) ? (i = !0, a[s] = l) : n[s] = l } if (n.symbol = n.symbol || t.defaultSymbol, r.setVisual(he({ legendIcon: t.legendIcon || n.symbol, symbolKeepAspect: t.get("symbolKeepAspect") }, n)), e.isSeriesFiltered(t)) return; var u = Nt(a); function c(f, h) { for (var d = t.getRawValue(h), v = t.getDataParams(h), p = 0; p < u.length; p++) { var g = u[p]; f.setItemVisual(h, g, a[g](d, v)) } } return { dataEach: i ? c : null } } }, gpe = { createOnAllSeries: !0, performRawSeries: !0, reset: function (t, e) { if (!t.hasSymbolVisual || e.isSeriesFiltered(t)) return; var r = t.getData(); function n(a, i) { for (var o = a.getItemModel(i), s = 0; s < vR.length; s++) { var l = vR[s], u = o.getShallow(l, !0); u != null && a.setItemVisual(i, l, u) } } return { dataEach: r.hasItemOption ? n : null } } }; function NC(t, e, r) { switch (r) { case "color": var n = t.getItemVisual(e, "style"); return n[t.getVisual("drawType")]; case "opacity": return t.getItemVisual(e, "style").opacity; case "symbol": case "symbolSize": case "liftZ": return t.getItemVisual(e, r) } } function ig(t, e) { switch (e) { case "color": var r = t.getVisual("style"); return r[t.getVisual("drawType")]; case "opacity": return t.getVisual("style").opacity; case "symbol": case "symbolSize": case "liftZ": return t.getVisual(e) } } function x6(t, e, r, n) { switch (r) { case "color": var a = t.ensureUniqueItemVisual(e, "style"); a[t.getVisual("drawType")] = n, t.setItemVisual(e, "colorFromPalette", !1); break; case "opacity": t.ensureUniqueItemVisual(e, "style").opacity = n; break; case "symbol": case "symbolSize": case "liftZ": t.setItemVisual(e, r, n); break } } function T6(t, e) { function r(n, a) { var i = []; return n.eachComponent({ mainType: "series", subType: t, query: a }, function (o) { i.push(o.seriesIndex) }), i } E([[t + "ToggleSelect", "toggleSelect"], [t + "Select", "select"], [t + "UnSelect", "unselect"]], function (n) { e(n[0], function (a, i, o) { a = he({}, a), o.dispatchAction(he(a, { type: n[1], seriesIndex: r(i, a) })) }) }) } function Df(t, e, r, n, a) { var i = t + e; r.isSilent(i) || n.eachComponent({ mainType: "series", subType: "pie" }, function (o) { for (var s = o.seriesIndex, l = o.option.selectedMap, u = a.selected, c = 0; c < u.length; c++)if (u[c].seriesIndex === s) { var f = o.getData(), h = Ec(f, a.fromActionPayload); r.trigger(i, { type: i, seriesId: o.id, name: me(h) ? f.getName(h[0]) : f.getName(h), selected: Oe(l) ? l : he({}, l) }) } }) } function mpe(t, e, r) { t.on("selectchanged", function (n) { var a = r.getModel(); n.isFromClick ? (Df("map", "selectchanged", e, a, n), Df("pie", "selectchanged", e, a, n)) : n.fromAction === "select" ? (Df("map", "selected", e, a, n), Df("pie", "selected", e, a, n)) : n.fromAction === "unselect" && (Df("map", "unselected", e, a, n), Df("pie", "unselected", e, a, n)) }) } function fc(t, e, r) { for (var n; t && !(e(t) && (n = t, r));)t = t.__hostTarget || t.parent; return n } var ype = Math.round(Math.random() * 9), _pe = typeof Object.defineProperty == "function", bpe = function () { function t() { this._id = "__ec_inner_" + ype++ } return t.prototype.get = function (e) { return this._guard(e)[this._id] }, t.prototype.set = function (e, r) { var n = this._guard(e); return _pe ? Object.defineProperty(n, this._id, { value: r, enumerable: !1, configurable: !0 }) : n[this._id] = r, this }, t.prototype.delete = function (e) { return this.has(e) ? (delete this._guard(e)[this._id], !0) : !1 }, t.prototype.has = function (e) { return !!this._guard(e)[this._id] }, t.prototype._guard = function (e) { if (e !== Object(e)) throw TypeError("Value of WeakMap is not a non-null object."); return e }, t }(); const wpe = bpe; var Spe = At.extend({ type: "triangle", shape: { cx: 0, cy: 0, width: 0, height: 0 }, buildPath: function (t, e) { var r = e.cx, n = e.cy, a = e.width / 2, i = e.height / 2; t.moveTo(r, n - i), t.lineTo(r + a, n + i), t.lineTo(r - a, n + i), t.closePath() } }), xpe = At.extend({ type: "diamond", shape: { cx: 0, cy: 0, width: 0, height: 0 }, buildPath: function (t, e) { var r = e.cx, n = e.cy, a = e.width / 2, i = e.height / 2; t.moveTo(r, n - i), t.lineTo(r + a, n), t.lineTo(r, n + i), t.lineTo(r - a, n), t.closePath() } }), Tpe = At.extend({ type: "pin", shape: { x: 0, y: 0, width: 0, height: 0 }, buildPath: function (t, e) { var r = e.x, n = e.y, a = e.width / 5 * 3, i = Math.max(a, e.height), o = a / 2, s = o * o / (i - o), l = n - i + o + s, u = Math.asin(s / o), c = Math.cos(u) * o, f = Math.sin(u), h = Math.cos(u), d = o * .6, v = o * .7; t.moveTo(r - c, l + s), t.arc(r, l, o, Math.PI - u, Math.PI * 2 + u), t.bezierCurveTo(r + c - f * d, l + s + h * d, r, n - v, r, n), t.bezierCurveTo(r, n - v, r - c + f * d, l + s + h * d, r - c, l + s), t.closePath() } }), Dpe = At.extend({ type: "arrow", shape: { x: 0, y: 0, width: 0, height: 0 }, buildPath: function (t, e) { var r = e.height, n = e.width, a = e.x, i = e.y, o = n / 3 * 2; t.moveTo(a, i), t.lineTo(a + o, i + r), t.lineTo(a, i + r / 4 * 3), t.lineTo(a - o, i + r), t.lineTo(a, i), t.closePath() } }), Cpe = { line: $n, rect: Bt, roundRect: Bt, square: Bt, circle: $o, diamond: xpe, pin: Tpe, arrow: Dpe, triangle: Spe }, Mpe = { line: function (t, e, r, n, a) { a.x1 = t, a.y1 = e + n / 2, a.x2 = t + r, a.y2 = e + n / 2 }, rect: function (t, e, r, n, a) { a.x = t, a.y = e, a.width = r, a.height = n }, roundRect: function (t, e, r, n, a) { a.x = t, a.y = e, a.width = r, a.height = n, a.r = Math.min(r, n) / 4 }, square: function (t, e, r, n, a) { var i = Math.min(r, n); a.x = t, a.y = e, a.width = i, a.height = i }, circle: function (t, e, r, n, a) { a.cx = t + r / 2, a.cy = e + n / 2, a.r = Math.min(r, n) / 2 }, diamond: function (t, e, r, n, a) { a.cx = t + r / 2, a.cy = e + n / 2, a.width = r, a.height = n }, pin: function (t, e, r, n, a) { a.x = t + r / 2, a.y = e + n / 2, a.width = r, a.height = n }, arrow: function (t, e, r, n, a) { a.x = t + r / 2, a.y = e + n / 2, a.width = r, a.height = n }, triangle: function (t, e, r, n, a) { a.cx = t + r / 2, a.cy = e + n / 2, a.width = r, a.height = n } }, g0 = {}; E(Cpe, function (t, e) { g0[e] = new t }); var kpe = At.extend({ type: "symbol", shape: { symbolType: "", x: 0, y: 0, width: 0, height: 0 }, calculateTextPosition: function (t, e, r) { var n = a0(t, e, r), a = this.shape; return a && a.symbolType === "pin" && e.position === "inside" && (n.y = r.y + r.height * .4), n }, buildPath: function (t, e, r) { var n = e.symbolType; if (n !== "none") { var a = g0[n]; a || (n = "rect", a = g0[n]), Mpe[n](e.x, e.y, e.width, e.height, a.shape), a.buildPath(t, a.shape, r) } } }); function Ape(t, e) { if (this.type !== "image") { var r = this.style; this.__isEmptyBrush ? (r.stroke = t, r.fill = e || "#fff", r.lineWidth = 2) : this.shape.symbolType === "line" ? r.stroke = t : r.fill = t, this.markRedraw() } } function gn(t, e, r, n, a, i, o) { var s = t.indexOf("empty") === 0; s && (t = t.substr(5, 1).toLowerCase() + t.substr(6)); var l; return t.indexOf("image://") === 0 ? l = uB(t.slice(8), new wt(e, r, n, a), o ? "center" : "cover") : t.indexOf("path://") === 0 ? l = e1(t.slice(7), {}, new wt(e, r, n, a), o ? "center" : "cover") : l = new kpe({ shape: { symbolType: t, x: e, y: r, width: n, height: a } }), l.__isEmptyBrush = s, l.setColor = Ape, i && l.setColor(i), l } function ed(t) { return me(t) || (t = [+t, +t]), [t[0] || 0, t[1] || 0] } function Xc(t, e) { if (t != null) return me(t) || (t = [t, t]), [Ae(t[0], e[0]) || 0, Ae(_t(t[1], t[0]), e[1]) || 0] } function hc(t) { return isFinite(t) } function Lpe(t, e, r) { var n = e.x == null ? 0 : e.x, a = e.x2 == null ? 1 : e.x2, i = e.y == null ? 0 : e.y, o = e.y2 == null ? 0 : e.y2; e.global || (n = n * r.width + r.x, a = a * r.width + r.x, i = i * r.height + r.y, o = o * r.height + r.y), n = hc(n) ? n : 0, a = hc(a) ? a : 1, i = hc(i) ? i : 0, o = hc(o) ? o : 0; var s = t.createLinearGradient(n, i, a, o); return s } function Ipe(t, e, r) { var n = r.width, a = r.height, i = Math.min(n, a), o = e.x == null ? .5 : e.x, s = e.y == null ? .5 : e.y, l = e.r == null ? .5 : e.r; e.global || (o = o * n + r.x, s = s * a + r.y, l = l * i), o = hc(o) ? o : .5, s = hc(s) ? s : .5, l = l >= 0 && hc(l) ? l : .5; var u = t.createRadialGradient(o, s, 0, o, s, l); return u } function VT(t, e, r) { for (var n = e.type === "radial" ? Ipe(t, e, r) : Lpe(t, e, r), a = e.colorStops, i = 0; i < a.length; i++)n.addColorStop(a[i].offset, a[i].color); return n } function Ppe(t, e) { if (t === e || !t && !e) return !1; if (!t || !e || t.length !== e.length) return !0; for (var r = 0; r < t.length; r++)if (t[r] !== e[r]) return !0; return !1 } function mm(t) { return parseInt(t, 10) } function th(t, e, r) { var n = ["width", "height"][e], a = ["clientWidth", "clientHeight"][e], i = ["paddingLeft", "paddingTop"][e], o = ["paddingRight", "paddingBottom"][e]; if (r[n] != null && r[n] !== "auto") return parseFloat(r[n]); var s = document.defaultView.getComputedStyle(t); return (t[a] || mm(s[n]) || mm(t.style[n])) - (mm(s[i]) || 0) - (mm(s[o]) || 0) | 0 } function Rpe(t, e) { return !t || t === "solid" || !(e > 0) ? null : t === "dashed" ? [4 * e, 2 * e] : t === "dotted" ? [e] : Gt(t) ? [t] : me(t) ? t : null } function $C(t) { var e = t.style, r = e.lineDash && e.lineWidth > 0 && Rpe(e.lineDash, e.lineWidth), n = e.lineDashOffset; if (r) { var a = e.strokeNoScale && t.getLineScale ? t.getLineScale() : 1; a && a !== 1 && (r = _e(r, function (i) { return i / a }), n /= a) } return [r, n] } var Ope = new No(!0); function m0(t) { var e = t.stroke; return !(e == null || e === "none" || !(t.lineWidth > 0)) } function pR(t) { return typeof t == "string" && t !== "none" } function y0(t) { var e = t.fill; return e != null && e !== "none" } function gR(t, e) { if (e.fillOpacity != null && e.fillOpacity !== 1) { var r = t.globalAlpha; t.globalAlpha = e.fillOpacity * e.opacity, t.fill(), t.globalAlpha = r } else t.fill() } function mR(t, e) { if (e.strokeOpacity != null && e.strokeOpacity !== 1) { var r = t.globalAlpha; t.globalAlpha = e.strokeOpacity * e.opacity, t.stroke(), t.globalAlpha = r } else t.stroke() } function zT(t, e, r) { var n = sC(e.image, e.__image, r); if (j_(n)) { var a = t.createPattern(n, e.repeat || "repeat"); if (typeof DOMMatrix == "function" && a && a.setTransform) { var i = new DOMMatrix; i.translateSelf(e.x || 0, e.y || 0), i.rotateSelf(0, 0, (e.rotation || 0) * hy), i.scaleSelf(e.scaleX || 1, e.scaleY || 1), a.setTransform(i) } return a } } function Epe(t, e, r, n) { var a, i = m0(r), o = y0(r), s = r.strokePercent, l = s < 1, u = !e.path; (!e.silent || l) && u && e.createPathProxy(); var c = e.path || Ope, f = e.__dirty; if (!n) { var h = r.fill, d = r.stroke, v = o && !!h.colorStops, p = i && !!d.colorStops, g = o && !!h.image, m = i && !!d.image, y = void 0, _ = void 0, b = void 0, x = void 0, S = void 0; (v || p) && (S = e.getBoundingRect()), v && (y = f ? VT(t, h, S) : e.__canvasFillGradient, e.__canvasFillGradient = y), p && (_ = f ? VT(t, d, S) : e.__canvasStrokeGradient, e.__canvasStrokeGradient = _), g && (b = f || !e.__canvasFillPattern ? zT(t, h, e) : e.__canvasFillPattern, e.__canvasFillPattern = b), m && (x = f || !e.__canvasStrokePattern ? zT(t, d, e) : e.__canvasStrokePattern, e.__canvasStrokePattern = b), v ? t.fillStyle = y : g && (b ? t.fillStyle = b : o = !1), p ? t.strokeStyle = _ : m && (x ? t.strokeStyle = x : i = !1) } var T = e.getGlobalScale(); c.setScale(T[0], T[1], e.segmentIgnoreThreshold); var C, M; t.setLineDash && r.lineDash && (a = $C(e), C = a[0], M = a[1]); var k = !0; (u || f & Hf) && (c.setDPR(t.dpr), l ? c.setContext(null) : (c.setContext(t), k = !1), c.reset(), e.buildPath(c, e.shape, n), c.toStatic(), e.pathUpdated()), k && c.rebuildPath(t, l ? s : 1), C && (t.setLineDash(C), t.lineDashOffset = M), n || (r.strokeFirst ? (i && mR(t, r), o && gR(t, r)) : (o && gR(t, r), i && mR(t, r))), C && t.setLineDash([]) } function Npe(t, e, r) { var n = e.__image = sC(r.image, e.__image, e, e.onload); if (!(!n || !j_(n))) { var a = r.x || 0, i = r.y || 0, o = e.getWidth(), s = e.getHeight(), l = n.width / n.height; if (o == null && s != null ? o = s * l : s == null && o != null ? s = o / l : o == null && s == null && (o = n.width, s = n.height), r.sWidth && r.sHeight) { var u = r.sx || 0, c = r.sy || 0; t.drawImage(n, u, c, r.sWidth, r.sHeight, a, i, o, s) } else if (r.sx && r.sy) { var u = r.sx, c = r.sy, f = o - u, h = s - c; t.drawImage(n, u, c, f, h, a, i, o, s) } else t.drawImage(n, a, i, o, s) } } function $pe(t, e, r) { var n, a = r.text; if (a != null && (a += ""), a) { t.font = r.font || Zl, t.textAlign = r.textAlign, t.textBaseline = r.textBaseline; var i = void 0, o = void 0; t.setLineDash && r.lineDash && (n = $C(e), i = n[0], o = n[1]), i && (t.setLineDash(i), t.lineDashOffset = o), r.strokeFirst ? (m0(r) && t.strokeText(a, r.x, r.y), y0(r) && t.fillText(a, r.x, r.y)) : (y0(r) && t.fillText(a, r.x, r.y), m0(r) && t.strokeText(a, r.x, r.y)), i && t.setLineDash([]) } } var yR = ["shadowBlur", "shadowOffsetX", "shadowOffsetY"], _R = [["lineCap", "butt"], ["lineJoin", "miter"], ["miterLimit", 10]]; function D6(t, e, r, n, a) { var i = !1; if (!n && (r = r || {}, e === r)) return !1; if (n || e.opacity !== r.opacity) { Ia(t, a), i = !0; var o = Math.max(Math.min(e.opacity, 1), 0); t.globalAlpha = isNaN(o) ? xc.opacity : o } (n || e.blend !== r.blend) && (i || (Ia(t, a), i = !0), t.globalCompositeOperation = e.blend || xc.blend); for (var s = 0; s < yR.length; s++) { var l = yR[s]; (n || e[l] !== r[l]) && (i || (Ia(t, a), i = !0), t[l] = t.dpr * (e[l] || 0)) } return (n || e.shadowColor !== r.shadowColor) && (i || (Ia(t, a), i = !0), t.shadowColor = e.shadowColor || xc.shadowColor), i } function bR(t, e, r, n, a) { var i = bp(e, a.inHover), o = n ? null : r && bp(r, a.inHover) || {}; if (i === o) return !1; var s = D6(t, i, o, n, a); if ((n || i.fill !== o.fill) && (s || (Ia(t, a), s = !0), pR(i.fill) && (t.fillStyle = i.fill)), (n || i.stroke !== o.stroke) && (s || (Ia(t, a), s = !0), pR(i.stroke) && (t.strokeStyle = i.stroke)), (n || i.opacity !== o.opacity) && (s || (Ia(t, a), s = !0), t.globalAlpha = i.opacity == null ? 1 : i.opacity), e.hasStroke()) { var l = i.lineWidth, u = l / (i.strokeNoScale && e.getLineScale ? e.getLineScale() : 1); t.lineWidth !== u && (s || (Ia(t, a), s = !0), t.lineWidth = u) } for (var c = 0; c < _R.length; c++) { var f = _R[c], h = f[0]; (n || i[h] !== o[h]) && (s || (Ia(t, a), s = !0), t[h] = i[h] || f[1]) } return s } function Fpe(t, e, r, n, a) { return D6(t, bp(e, a.inHover), r && bp(r, a.inHover), n, a) } function C6(t, e) { var r = e.transform, n = t.dpr || 1; r ? t.setTransform(n * r[0], n * r[1], n * r[2], n * r[3], n * r[4], n * r[5]) : t.setTransform(n, 0, 0, n, 0, 0) } function Bpe(t, e, r) { for (var n = !1, a = 0; a < t.length; a++) { var i = t[a]; n = n || i.isZeroArea(), C6(e, i), e.beginPath(), i.buildPath(e, i.shape), e.clip() } r.allClipped = n } function Vpe(t, e) { return t && e ? t[0] !== e[0] || t[1] !== e[1] || t[2] !== e[2] || t[3] !== e[3] || t[4] !== e[4] || t[5] !== e[5] : !(!t && !e) } var wR = 1, SR = 2, xR = 3, TR = 4; function zpe(t) { var e = y0(t), r = m0(t); return !(t.lineDash || !(+e ^ +r) || e && typeof t.fill != "string" || r && typeof t.stroke != "string" || t.strokePercent < 1 || t.strokeOpacity < 1 || t.fillOpacity < 1) } function Ia(t, e) { e.batchFill && t.fill(), e.batchStroke && t.stroke(), e.batchFill = "", e.batchStroke = "" } function bp(t, e) { return e && t.__hoverStyle || t.style } function M6(t, e) { dc(t, e, { inHover: !1, viewWidth: 0, viewHeight: 0 }, !0) } function dc(t, e, r, n) { var a = e.transform; if (!e.shouldBePainted(r.viewWidth, r.viewHeight, !1, !1)) { e.__dirty &= ~Va, e.__isRendered = !1; return } var i = e.__clipPaths, o = r.prevElClipPaths, s = !1, l = !1; if ((!o || Ppe(i, o)) && (o && o.length && (Ia(t, r), t.restore(), l = s = !0, r.prevElClipPaths = null, r.allClipped = !1, r.prevEl = null), i && i.length && (Ia(t, r), t.save(), Bpe(i, t, r), s = !0), r.prevElClipPaths = i), r.allClipped) { e.__isRendered = !1; return } e.beforeBrush && e.beforeBrush(), e.innerBeforeBrush(); var u = r.prevEl; u || (l = s = !0); var c = e instanceof At && e.autoBatch && zpe(e.style); s || Vpe(a, u.transform) ? (Ia(t, r), C6(t, e)) : c || Ia(t, r); var f = bp(e, r.inHover); e instanceof At ? (r.lastDrawType !== wR && (l = !0, r.lastDrawType = wR), bR(t, e, u, l, r), (!c || !r.batchFill && !r.batchStroke) && t.beginPath(), Epe(t, e, f, c), c && (r.batchFill = f.fill || "", r.batchStroke = f.stroke || "")) : e instanceof cp ? (r.lastDrawType !== xR && (l = !0, r.lastDrawType = xR), bR(t, e, u, l, r), $pe(t, e, f)) : e instanceof Gn ? (r.lastDrawType !== SR && (l = !0, r.lastDrawType = SR), Fpe(t, e, u, l, r), Npe(t, e, f)) : e.getTemporalDisplayables && (r.lastDrawType !== TR && (l = !0, r.lastDrawType = TR), Hpe(t, e, r)), c && n && Ia(t, r), e.innerAfterBrush(), e.afterBrush && e.afterBrush(), r.prevEl = e, e.__dirty = 0, e.__isRendered = !0 } function Hpe(t, e, r) { var n = e.getDisplayables(), a = e.getTemporalDisplayables(); t.save(); var i = { prevElClipPaths: null, prevEl: null, allClipped: !1, viewWidth: r.viewWidth, viewHeight: r.viewHeight, inHover: r.inHover }, o, s; for (o = e.getCursor(), s = n.length; o < s; o++) { var l = n[o]; l.beforeBrush && l.beforeBrush(), l.innerBeforeBrush(), dc(t, l, i, o === s - 1), l.innerAfterBrush(), l.afterBrush && l.afterBrush(), i.prevEl = l } for (var u = 0, c = a.length; u < c; u++) { var l = a[u]; l.beforeBrush && l.beforeBrush(), l.innerBeforeBrush(), dc(t, l, i, u === c - 1), l.innerAfterBrush(), l.afterBrush && l.afterBrush(), i.prevEl = l } e.clearTemporalDisplayables(), e.notClear = !0, t.restore() } var Tw = new wpe, DR = new Xp(100), CR = ["symbol", "symbolSize", "symbolKeepAspect", "color", "backgroundColor", "dashArrayX", "dashArrayY", "maxTileWidth", "maxTileHeight"]; function Mh(t, e) { if (t === "none") return null; var r = e.getDevicePixelRatio(), n = e.getZr(), a = n.painter.type === "svg"; t.dirty && Tw.delete(t); var i = Tw.get(t); if (i) return i; var o = Xe(t, { symbol: "rect", symbolSize: 1, symbolKeepAspect: !0, color: "rgba(0, 0, 0, 0.2)", backgroundColor: null, dashArrayX: 5, dashArrayY: 5, rotation: 0, maxTileWidth: 512, maxTileHeight: 512 }); o.backgroundColor === "none" && (o.backgroundColor = null); var s = { repeat: "repeat" }; return l(s), s.rotation = o.rotation, s.scaleX = s.scaleY = a ? 1 : 1 / r, Tw.set(t, s), t.dirty = !1, s; function l(u) { for (var c = [r], f = !0, h = 0; h < CR.length; ++h) { var d = o[CR[h]]; if (d != null && !me(d) && !Oe(d) && !Gt(d) && typeof d != "boolean") { f = !1; break } c.push(d) } var v; if (f) { v = c.join(",") + (a ? "-svg" : ""); var p = DR.get(v); p && (a ? u.svgElement = p : u.image = p) } var g = A6(o.dashArrayX), m = Ype(o.dashArrayY), y = k6(o.symbol), _ = Upe(g), b = L6(m), x = !a && ql.createCanvas(), S = a && { tag: "g", attrs: {}, key: "dcl", children: [] }, T = M(), C; x && (x.width = T.width * r, x.height = T.height * r, C = x.getContext("2d")), k(), f && DR.put(v, x || S), u.image = x, u.svgElement = S, u.svgWidth = T.width, u.svgHeight = T.height; function M() { for (var A = 1, R = 0, N = _.length; R < N; ++R)A = zI(A, _[R]); for (var z = 1, R = 0, N = y.length; R < N; ++R)z = zI(z, y[R].length); A *= z; var F = b * _.length * y.length; return { width: Math.max(1, Math.min(A, o.maxTileWidth)), height: Math.max(1, Math.min(F, o.maxTileHeight)) } } function k() { C && (C.clearRect(0, 0, x.width, x.height), o.backgroundColor && (C.fillStyle = o.backgroundColor, C.fillRect(0, 0, x.width, x.height))); for (var A = 0, R = 0; R < m.length; ++R)A += m[R]; if (A <= 0) return; for (var N = -b, z = 0, F = 0, V = 0; N < T.height;) { if (z % 2 === 0) { for (var L = F / 2 % y.length, H = 0, q = 0, K = 0; H < T.width * 2;) { for (var te = 0, R = 0; R < g[V].length; ++R)te += g[V][R]; if (te <= 0) break; if (q % 2 === 0) { var oe = (1 - o.symbolSize) * .5, X = H + g[V][q] * oe, U = N + m[z] * oe, B = g[V][q] * o.symbolSize, ee = m[z] * o.symbolSize, Q = K / 2 % y[L].length; se(X, U, B, ee, y[L][Q]) } H += g[V][q], ++K, ++q, q === g[V].length && (q = 0) } ++V, V === g.length && (V = 0) } N += m[z], ++F, ++z, z === m.length && (z = 0) } function se(ue, pe, Se, G, Z) { var J = a ? 1 : r, le = gn(Z, ue * J, pe * J, Se * J, G * J, o.color, o.symbolKeepAspect); if (a) { var ve = n.painter.renderOneToVNode(le); ve && S.children.push(ve) } else M6(C, le) } } } } function k6(t) { if (!t || t.length === 0) return [["rect"]]; if (Oe(t)) return [[t]]; for (var e = !0, r = 0; r < t.length; ++r)if (!Oe(t[r])) { e = !1; break } if (e) return k6([t]); for (var n = [], r = 0; r < t.length; ++r)Oe(t[r]) ? n.push([t[r]]) : n.push(t[r]); return n } function A6(t) { if (!t || t.length === 0) return [[0, 0]]; if (Gt(t)) { var e = Math.ceil(t); return [[e, e]] } for (var r = !0, n = 0; n < t.length; ++n)if (!Gt(t[n])) { r = !1; break } if (r) return A6([t]); for (var a = [], n = 0; n < t.length; ++n)if (Gt(t[n])) { var e = Math.ceil(t[n]); a.push([e, e]) } else { var e = _e(t[n], function (s) { return Math.ceil(s) }); e.length % 2 === 1 ? a.push(e.concat(e)) : a.push(e) } return a } function Ype(t) { if (!t || typeof t == "object" && t.length === 0) return [0, 0]; if (Gt(t)) { var e = Math.ceil(t); return [e, e] } var r = _e(t, function (n) { return Math.ceil(n) }); return t.length % 2 ? r.concat(r) : r } function Upe(t) { return _e(t, function (e) { return L6(e) }) } function L6(t) { for (var e = 0, r = 0; r < t.length; ++r)e += t[r]; return t.length % 2 === 1 ? e * 2 : e } function Wpe(t, e) { t.eachRawSeries(function (r) { if (!t.isSeriesFiltered(r)) { var n = r.getData(); n.hasItemVisual() && n.each(function (o) { var s = n.getItemVisual(o, "decal"); if (s) { var l = n.ensureUniqueItemVisual(o, "style"); l.decal = Mh(s, e) } }); var a = n.getVisual("decal"); if (a) { var i = n.getVisual("style"); i.decal = Mh(a, e) } } }) } var Gpe = new wi; const Ri = Gpe; var I6 = {}; function jpe(t, e) { I6[t] = e } function Zpe(t) { return I6[t] } var qpe = 1, Xpe = 800, Kpe = 900, Qpe = 1e3, Jpe = 2e3, ege = 5e3, P6 = 1e3, tge = 1100, FC = 2e3, R6 = 3e3, rge = 4e3, h1 = 4500, nge = 4600, age = 5e3, ige = 6e3, O6 = 7e3, oge = { PROCESSOR: { FILTER: Qpe, SERIES_FILTER: Xpe, STATISTIC: ege }, VISUAL: { LAYOUT: P6, PROGRESSIVE_LAYOUT: tge, GLOBAL: FC, CHART: R6, POST_CHART_LAYOUT: nge, COMPONENT: rge, BRUSH: age, CHART_ITEM: h1, ARIA: ige, DECAL: O6 } }, qn = "__flagInMainProcess", xa = "__pendingUpdate", Dw = "__needsUpdateStatus", MR = /^[a-zA-Z0-9_]+$/, Cw = "__connectUpdateStatus", kR = 0, sge = 1, lge = 2; function E6(t) { return function () { for (var e = [], r = 0; r < arguments.length; r++)e[r] = arguments[r]; if (this.isDisposed()) { this.id; return } return $6(this, t, e) } } function N6(t) { return function () { for (var e = [], r = 0; r < arguments.length; r++)e[r] = arguments[r]; return $6(this, t, e) } } function $6(t, e, r) { return r[0] = r[0] && r[0].toLowerCase(), wi.prototype[e].apply(t, r) } var F6 = function (t) { ae(e, t); function e() { return t !== null && t.apply(this, arguments) || this } return e }(wi), B6 = F6.prototype; B6.on = N6("on"); B6.off = N6("off"); var Cf, Mw, ym, il, kw, Aw, Lw, Pd, Rd, AR, LR, Iw, IR, _m, PR, V6, Xa, RR, z6 = function (t) { ae(e, t); function e(r, n, a) { var i = t.call(this, new vpe) || this; i._chartsViews = [], i._chartsMap = {}, i._componentsViews = [], i._componentsMap = {}, i._pendingActions = [], a = a || {}, Oe(n) && (n = H6[n]), i._dom = r; var o = "canvas", s = "auto", l = !1, u = i._zr = $I(r, { renderer: a.renderer || o, devicePixelRatio: a.devicePixelRatio, width: a.width, height: a.height, ssr: a.ssr, useDirtyRect: _t(a.useDirtyRect, l), useCoarsePointer: _t(a.useCoarsePointer, s), pointerSize: a.pointerSize }); i._ssr = a.ssr, i._throttledZrFlush = EC($e(u.flush, u), 17), n = rt(n), n && jB(n, !0), i._theme = n, i._locale = wde(a.locale || bB), i._coordSysMgr = new ag; var c = i._api = PR(i); function f(h, d) { return h.__prio - d.__prio } return py(b0, f), py(HT, f), i._scheduler = new w6(i, c, HT, b0), i._messageCenter = new F6, i._initEvents(), i.resize = $e(i.resize, i), u.animation.on("frame", i._onframe, i), AR(u, i), LR(u, i), Xy(i), i } return e.prototype._onframe = function () { if (!this._disposed) { RR(this); var r = this._scheduler; if (this[xa]) { var n = this[xa].silent; this[qn] = !0; try { Cf(this), il.update.call(this, null, this[xa].updateParams) } catch (l) { throw this[qn] = !1, this[xa] = null, l } this._zr.flush(), this[qn] = !1, this[xa] = null, Pd.call(this, n), Rd.call(this, n) } else if (r.unfinished) { var a = qpe, i = this._model, o = this._api; r.unfinished = !1; do { var s = +new Date; r.performSeriesTasks(i), r.performDataProcessorTasks(i), Aw(this, i), r.performVisualTasks(i), _m(this, this._model, o, "remain", {}), a -= +new Date - s } while (a > 0 && r.unfinished); r.unfinished || this._zr.flush() } } }, e.prototype.getDom = function () { return this._dom }, e.prototype.getId = function () { return this.id }, e.prototype.getZr = function () { return this._zr }, e.prototype.isSSR = function () { return this._ssr }, e.prototype.setOption = function (r, n, a) { if (!this[qn]) { if (this._disposed) { this.id; return } var i, o, s; if (Qe(n) && (a = n.lazyUpdate, i = n.silent, o = n.replaceMerge, s = n.transition, n = n.notMerge), this[qn] = !0, !this._model || n) { var l = new Jde(this._api), u = this._theme, c = this._model = new UB; c.scheduler = this._scheduler, c.ssr = this._ssr, c.init(null, null, null, u, this._locale, l) } this._model.setOption(r, { replaceMerge: o }, YT); var f = { seriesTransition: s, optionChanged: !0 }; if (a) this[xa] = { silent: i, updateParams: f }, this[qn] = !1, this.getZr().wakeUp(); else { try { Cf(this), il.update.call(this, null, f) } catch (h) { throw this[xa] = null, this[qn] = !1, h } this._ssr || this._zr.flush(), this[xa] = null, this[qn] = !1, Pd.call(this, i), Rd.call(this, i) } } }, e.prototype.setTheme = function () { }, e.prototype.getModel = function () { return this._model }, e.prototype.getOption = function () { return this._model && this._model.getOption() }, e.prototype.getWidth = function () { return this._zr.getWidth() }, e.prototype.getHeight = function () { return this._zr.getHeight() }, e.prototype.getDevicePixelRatio = function () { return this._zr.painter.dpr || Ut.hasGlobalWindow && window.devicePixelRatio || 1 }, e.prototype.getRenderedCanvas = function (r) { return this.renderToCanvas(r) }, e.prototype.renderToCanvas = function (r) { r = r || {}; var n = this._zr.painter; return n.getRenderedCanvas({ backgroundColor: r.backgroundColor || this._model.get("backgroundColor"), pixelRatio: r.pixelRatio || this.getDevicePixelRatio() }) }, e.prototype.renderToSVGString = function (r) { r = r || {}; var n = this._zr.painter; return n.renderToString({ useViewBox: r.useViewBox }) }, e.prototype.getSvgDataURL = function () { if (Ut.svgSupported) { var r = this._zr, n = r.storage.getDisplayList(); return E(n, function (a) { a.stopAnimation(null, !0) }), r.painter.toDataURL() } }, e.prototype.getDataURL = function (r) { if (this._disposed) { this.id; return } r = r || {}; var n = r.excludeComponents, a = this._model, i = [], o = this; E(n, function (l) { a.eachComponent({ mainType: l }, function (u) { var c = o._componentsMap[u.__viewId]; c.group.ignore || (i.push(c), c.group.ignore = !0) }) }); var s = this._zr.painter.getType() === "svg" ? this.getSvgDataURL() : this.renderToCanvas(r).toDataURL("image/" + (r && r.type || "png")); return E(i, function (l) { l.group.ignore = !1 }), s }, e.prototype.getConnectedDataURL = function (r) { if (this._disposed) { this.id; return } var n = r.type === "svg", a = this.group, i = Math.min, o = Math.max, s = 1 / 0; if (OR[a]) { var l = s, u = s, c = -s, f = -s, h = [], d = r && r.pixelRatio || this.getDevicePixelRatio(); E(Ov, function (_, b) { if (_.group === a) { var x = n ? _.getZr().painter.getSvgDom().innerHTML : _.renderToCanvas(rt(r)), S = _.getDom().getBoundingClientRect(); l = i(S.left, l), u = i(S.top, u), c = o(S.right, c), f = o(S.bottom, f), h.push({ dom: x, left: S.left, top: S.top }) } }), l *= d, u *= d, c *= d, f *= d; var v = c - l, p = f - u, g = ql.createCanvas(), m = $I(g, { renderer: n ? "svg" : "canvas" }); if (m.resize({ width: v, height: p }), n) { var y = ""; return E(h, function (_) { var b = _.left - l, x = _.top - u; y += '<g transform="translate(' + b + "," + x + ')">' + _.dom + "</g>" }), m.painter.getSvgRoot().innerHTML = y, r.connectedBackgroundColor && m.painter.setBackgroundColor(r.connectedBackgroundColor), m.refreshImmediately(), m.painter.toDataURL() } else return r.connectedBackgroundColor && m.add(new Bt({ shape: { x: 0, y: 0, width: v, height: p }, style: { fill: r.connectedBackgroundColor } })), E(h, function (_) { var b = new Gn({ style: { x: _.left * d - l, y: _.top * d - u, image: _.dom } }); m.add(b) }), m.refreshImmediately(), g.toDataURL("image/" + (r && r.type || "png")) } else return this.getDataURL(r) }, e.prototype.convertToPixel = function (r, n) { return kw(this, "convertToPixel", r, n) }, e.prototype.convertFromPixel = function (r, n) { return kw(this, "convertFromPixel", r, n) }, e.prototype.containPixel = function (r, n) { if (this._disposed) { this.id; return } var a = this._model, i, o = Mv(a, r); return E(o, function (s, l) { l.indexOf("Models") >= 0 && E(s, function (u) { var c = u.coordinateSystem; if (c && c.containPoint) i = i || !!c.containPoint(n); else if (l === "seriesModels") { var f = this._chartsMap[u.__viewId]; f && f.containPoint && (i = i || f.containPoint(n, u)) } }, this) }, this), !!i }, e.prototype.getVisual = function (r, n) { var a = this._model, i = Mv(a, r, { defaultMainType: "series" }), o = i.seriesModel, s = o.getData(), l = i.hasOwnProperty("dataIndexInside") ? i.dataIndexInside : i.hasOwnProperty("dataIndex") ? s.indexOfRawIndex(i.dataIndex) : null; return l != null ? NC(s, l, n) : ig(s, n) }, e.prototype.getViewOfComponentModel = function (r) { return this._componentsMap[r.__viewId] }, e.prototype.getViewOfSeriesModel = function (r) { return this._chartsMap[r.__viewId] }, e.prototype._initEvents = function () { var r = this; E(uge, function (n) { var a = function (i) { var o = r.getModel(), s = i.target, l, u = n === "globalout"; if (u ? l = {} : s && fc(s, function (v) { var p = lt(v); if (p && p.dataIndex != null) { var g = p.dataModel || o.getSeriesByIndex(p.seriesIndex); return l = g && g.getDataParams(p.dataIndex, p.dataType, s) || {}, !0 } else if (p.eventData) return l = he({}, p.eventData), !0 }, !0), l) { var c = l.componentType, f = l.componentIndex; (c === "markLine" || c === "markPoint" || c === "markArea") && (c = "series", f = l.seriesIndex); var h = c && f != null && o.getComponent(c, f), d = h && r[h.mainType === "series" ? "_chartsMap" : "_componentsMap"][h.__viewId]; l.event = i, l.type = n, r._$eventProcessor.eventInfo = { targetEl: s, packedEvent: l, model: h, view: d }, r.trigger(n, l) } }; a.zrEventfulCallAtLast = !0, r._zr.on(n, a, r) }), E(Rv, function (n, a) { r._messageCenter.on(a, function (i) { this.trigger(a, i) }, r) }), E(["selectchanged"], function (n) { r._messageCenter.on(n, function (a) { this.trigger(n, a) }, r) }), mpe(this._messageCenter, this, this._api) }, e.prototype.isDisposed = function () { return this._disposed }, e.prototype.clear = function () { if (this._disposed) { this.id; return } this.setOption({ series: [] }, !0) }, e.prototype.dispose = function () { if (this._disposed) { this.id; return } this._disposed = !0; var r = this.getDom(); r && mF(this.getDom(), VC, ""); var n = this, a = n._api, i = n._model; E(n._componentsViews, function (o) { o.dispose(i, a) }), E(n._chartsViews, function (o) { o.dispose(i, a) }), n._zr.dispose(), n._dom = n._model = n._chartsMap = n._componentsMap = n._chartsViews = n._componentsViews = n._scheduler = n._api = n._zr = n._throttledZrFlush = n._theme = n._coordSysMgr = n._messageCenter = null, delete Ov[n.id] }, e.prototype.resize = function (r) { if (!this[qn]) { if (this._disposed) { this.id; return } this._zr.resize(r); var n = this._model; if (this._loadingFX && this._loadingFX.resize(), !!n) { var a = n.resetOption("media"), i = r && r.silent; this[xa] && (i == null && (i = this[xa].silent), a = !0, this[xa] = null), this[qn] = !0; try { a && Cf(this), il.update.call(this, { type: "resize", animation: he({ duration: 0 }, r && r.animation) }) } catch (o) { throw this[qn] = !1, o } this[qn] = !1, Pd.call(this, i), Rd.call(this, i) } } }, e.prototype.showLoading = function (r, n) { if (this._disposed) { this.id; return } if (Qe(r) && (n = r, r = ""), r = r || "default", this.hideLoading(), !!UT[r]) { var a = UT[r](this._api, n), i = this._zr; this._loadingFX = a, i.add(a) } }, e.prototype.hideLoading = function () { if (this._disposed) { this.id; return } this._loadingFX && this._zr.remove(this._loadingFX), this._loadingFX = null }, e.prototype.makeActionFromEvent = function (r) { var n = he({}, r); return n.type = Rv[r.type], n }, e.prototype.dispatchAction = function (r, n) { if (this._disposed) { this.id; return } if (Qe(n) || (n = { silent: !!n }), !!_0[r.type] && this._model) { if (this[qn]) { this._pendingActions.push(r); return } var a = n.silent; Lw.call(this, r, a); var i = n.flush; i ? this._zr.flush() : i !== !1 && Ut.browser.weChat && this._throttledZrFlush(), Pd.call(this, a), Rd.call(this, a) } }, e.prototype.updateLabelLayout = function () { Ri.trigger("series:layoutlabels", this._model, this._api, { updatedSeries: [] }) }, e.prototype.appendData = function (r) { if (this._disposed) { this.id; return } var n = r.seriesIndex, a = this.getModel(), i = a.getSeriesByIndex(n); i.appendData(r), this._scheduler.unfinished = !0, this.getZr().wakeUp() }, e.internalField = function () { Cf = function (f) { var h = f._scheduler; h.restorePipelines(f._model), h.prepareStageTasks(), Mw(f, !0), Mw(f, !1), h.plan() }, Mw = function (f, h) { for (var d = f._model, v = f._scheduler, p = h ? f._componentsViews : f._chartsViews, g = h ? f._componentsMap : f._chartsMap, m = f._zr, y = f._api, _ = 0; _ < p.length; _++)p[_].__alive = !1; h ? d.eachComponent(function (S, T) { S !== "series" && b(T) }) : d.eachSeries(b); function b(S) { var T = S.__requireNewView; S.__requireNewView = !1; var C = "_ec_" + S.id + "_" + S.type, M = !T && g[C]; if (!M) { var k = So(S.type), A = h ? Kr.getClass(k.main, k.sub) : Ar.getClass(k.sub); M = new A, M.init(d, y), g[C] = M, p.push(M), m.add(M.group) } S.__viewId = M.__id = C, M.__alive = !0, M.__model = S, M.group.__ecComponentInfo = { mainType: S.mainType, index: S.componentIndex }, !h && v.prepareView(M, S, d, y) } for (var _ = 0; _ < p.length;) { var x = p[_]; x.__alive ? _++ : (!h && x.renderTask.dispose(), m.remove(x.group), x.dispose(d, y), p.splice(_, 1), g[x.__id] === x && delete g[x.__id], x.__id = x.group.__ecComponentInfo = null) } }, ym = function (f, h, d, v, p) { var g = f._model; if (g.setUpdatePayload(d), !v) { E([].concat(f._componentsViews).concat(f._chartsViews), x); return } var m = {}; m[v + "Id"] = d[v + "Id"], m[v + "Index"] = d[v + "Index"], m[v + "Name"] = d[v + "Name"]; var y = { mainType: v, query: m }; p && (y.subType = p); var _ = d.excludeSeriesId, b; _ != null && (b = He(), E(mr(_), function (S) { var T = yn(S, null); T != null && b.set(T, !0) })), g && g.eachComponent(y, function (S) { var T = b && b.get(S.id) != null; if (!T) if (pP(d)) if (S instanceof $r) d.type === Tc && !d.notBlur && !S.get(["emphasis", "disabled"]) && dhe(S, d, f._api); else { var C = hC(S.mainType, S.componentIndex, d.name, f._api), M = C.focusSelf, k = C.dispatchers; d.type === Tc && M && !d.notBlur && TT(S.mainType, S.componentIndex, f._api), k && E(k, function (A) { d.type === Tc ? Ps(A) : Rs(A) }) } else CT(d) && S instanceof $r && (ghe(S, d, f._api), dP(S), Xa(f)) }, f), g && g.eachComponent(y, function (S) { var T = b && b.get(S.id) != null; T || x(f[v === "series" ? "_chartsMap" : "_componentsMap"][S.__viewId]) }, f); function x(S) { S && S.__alive && S[h] && S[h](S.__model, g, f._api, d) } }, il = { prepareAndUpdate: function (f) { Cf(this), il.update.call(this, f, { optionChanged: f.newOption != null }) }, update: function (f, h) { var d = this._model, v = this._api, p = this._zr, g = this._coordSysMgr, m = this._scheduler; if (d) { d.setUpdatePayload(f), m.restoreData(d, f), m.performSeriesTasks(d), g.create(d, v), m.performDataProcessorTasks(d, f), Aw(this, d), g.update(d, v), r(d), m.performVisualTasks(d, f), Iw(this, d, v, f, h); var y = d.get("backgroundColor") || "transparent", _ = d.get("darkMode"); p.setBackgroundColor(y), _ != null && _ !== "auto" && p.setDarkMode(_), Ri.trigger("afterupdate", d, v) } }, updateTransform: function (f) { var h = this, d = this._model, v = this._api; if (d) { d.setUpdatePayload(f); var p = []; d.eachComponent(function (m, y) { if (m !== "series") { var _ = h.getViewOfComponentModel(y); if (_ && _.__alive) if (_.updateTransform) { var b = _.updateTransform(y, d, v, f); b && b.update && p.push(_) } else p.push(_) } }); var g = He(); d.eachSeries(function (m) { var y = h._chartsMap[m.__viewId]; if (y.updateTransform) { var _ = y.updateTransform(m, d, v, f); _ && _.update && g.set(m.uid, 1) } else g.set(m.uid, 1) }), r(d), this._scheduler.performVisualTasks(d, f, { setDirty: !0, dirtyMap: g }), _m(this, d, v, f, {}, g), Ri.trigger("afterupdate", d, v) } }, updateView: function (f) { var h = this._model; h && (h.setUpdatePayload(f), Ar.markUpdateMethod(f, "updateView"), r(h), this._scheduler.performVisualTasks(h, f, { setDirty: !0 }), Iw(this, h, this._api, f, {}), Ri.trigger("afterupdate", h, this._api)) }, updateVisual: function (f) { var h = this, d = this._model; d && (d.setUpdatePayload(f), d.eachSeries(function (v) { v.getData().clearAllVisual() }), Ar.markUpdateMethod(f, "updateVisual"), r(d), this._scheduler.performVisualTasks(d, f, { visualType: "visual", setDirty: !0 }), d.eachComponent(function (v, p) { if (v !== "series") { var g = h.getViewOfComponentModel(p); g && g.__alive && g.updateVisual(p, d, h._api, f) } }), d.eachSeries(function (v) { var p = h._chartsMap[v.__viewId]; p.updateVisual(v, d, h._api, f) }), Ri.trigger("afterupdate", d, this._api)) }, updateLayout: function (f) { il.update.call(this, f) } }, kw = function (f, h, d, v) { if (f._disposed) { f.id; return } for (var p = f._model, g = f._coordSysMgr.getCoordinateSystems(), m, y = Mv(p, d), _ = 0; _ < g.length; _++) { var b = g[_]; if (b[h] && (m = b[h](p, y, v)) != null) return m } }, Aw = function (f, h) { var d = f._chartsMap, v = f._scheduler; h.eachSeries(function (p) { v.updateStreamModes(p, d[p.__viewId]) }) }, Lw = function (f, h) { var d = this, v = this.getModel(), p = f.type, g = f.escapeConnect, m = _0[p], y = m.actionInfo, _ = (y.update || "update").split(":"), b = _.pop(), x = _[0] != null && So(_[0]); this[qn] = !0; var S = [f], T = !1; f.batch && (T = !0, S = _e(f.batch, function (z) { return z = Xe(he({}, z), f), z.batch = null, z })); var C = [], M, k = CT(f), A = pP(f); if (A && YF(this._api), E(S, function (z) { if (M = m.action(z, d._model, d._api), M = M || he({}, z), M.type = y.event || M.type, C.push(M), A) { var F = iC(f), V = F.queryOptionMap, L = F.mainTypeSpecified, H = L ? V.keys()[0] : "series"; ym(d, b, z, H), Xa(d) } else k ? (ym(d, b, z, "series"), Xa(d)) : x && ym(d, b, z, x.main, x.sub) }), b !== "none" && !A && !k && !x) try { this[xa] ? (Cf(this), il.update.call(this, f), this[xa] = null) : il[b].call(this, f) } catch (z) { throw this[qn] = !1, z } if (T ? M = { type: y.event || p, escapeConnect: g, batch: C } : M = C[0], this[qn] = !1, !h) { var R = this._messageCenter; if (R.trigger(M.type, M), k) { var N = { type: "selectchanged", escapeConnect: g, selected: mhe(v), isFromClick: f.isFromClick || !1, fromAction: f.type, fromActionPayload: f }; R.trigger(N.type, N) } } }, Pd = function (f) { for (var h = this._pendingActions; h.length;) { var d = h.shift(); Lw.call(this, d, f) } }, Rd = function (f) { !f && this.trigger("updated") }, AR = function (f, h) { f.on("rendered", function (d) { h.trigger("rendered", d), f.animation.isFinished() && !h[xa] && !h._scheduler.unfinished && !h._pendingActions.length && h.trigger("finished") }) }, LR = function (f, h) { f.on("mouseover", function (d) { var v = d.target, p = fc(v, hp); p && (vhe(p, d, h._api), Xa(h)) }).on("mouseout", function (d) { var v = d.target, p = fc(v, hp); p && (phe(p, d, h._api), Xa(h)) }).on("click", function (d) { var v = d.target, p = fc(v, function (y) { return lt(y).dataIndex != null }, !0); if (p) { var g = p.selected ? "unselect" : "select", m = lt(p); h._api.dispatchAction({ type: g, dataType: m.dataType, dataIndexInside: m.dataIndex, seriesIndex: m.seriesIndex, isFromClick: !0 }) } }) }; function r(f) { f.clearColorPalette(), f.eachSeries(function (h) { h.clearColorPalette() }) } function n(f) { var h = [], d = [], v = !1; if (f.eachComponent(function (y, _) { var b = _.get("zlevel") || 0, x = _.get("z") || 0, S = _.getZLevelKey(); v = v || !!S, (y === "series" ? d : h).push({ zlevel: b, z: x, idx: _.componentIndex, type: y, key: S }) }), v) { var p = h.concat(d), g, m; py(p, function (y, _) { return y.zlevel === _.zlevel ? y.z - _.z : y.zlevel - _.zlevel }), E(p, function (y) { var _ = f.getComponent(y.type, y.idx), b = y.zlevel, x = y.key; g != null && (b = Math.max(g, b)), x ? (b === g && x !== m && b++, m = x) : m && (b === g && b++, m = ""), g = b, _.setZLevel(b) }) } } Iw = function (f, h, d, v, p) { n(h), IR(f, h, d, v, p), E(f._chartsViews, function (g) { g.__alive = !1 }), _m(f, h, d, v, p), E(f._chartsViews, function (g) { g.__alive || g.remove(h, d) }) }, IR = function (f, h, d, v, p, g) { E(g || f._componentsViews, function (m) { var y = m.__model; u(y, m), m.render(y, h, d, v), s(y, m), c(y, m) }) }, _m = function (f, h, d, v, p, g) { var m = f._scheduler; p = he(p || {}, { updatedSeries: h.getSeries() }), Ri.trigger("series:beforeupdate", h, d, p); var y = !1; h.eachSeries(function (_) { var b = f._chartsMap[_.__viewId]; b.__alive = !0; var x = b.renderTask; m.updatePayload(x, v), u(_, b), g && g.get(_.uid) && x.dirty(), x.perform(m.getPerformArgs(x)) && (y = !0), b.group.silent = !!_.get("silent"), o(_, b), dP(_) }), m.unfinished = y || m.unfinished, Ri.trigger("series:layoutlabels", h, d, p), Ri.trigger("series:transition", h, d, p), h.eachSeries(function (_) { var b = f._chartsMap[_.__viewId]; s(_, b), c(_, b) }), i(f, h), Ri.trigger("series:afterupdate", h, d, p) }, Xa = function (f) { f[Dw] = !0, f.getZr().wakeUp() }, RR = function (f) { f[Dw] && (f.getZr().storage.traverse(function (h) { uh(h) || a(h) }), f[Dw] = !1) }; function a(f) { for (var h = [], d = f.currentStates, v = 0; v < d.length; v++) { var p = d[v]; p === "emphasis" || p === "blur" || p === "select" || h.push(p) } f.selected && f.states.select && h.push("select"), f.hoverState === X_ && f.states.emphasis ? h.push("emphasis") : f.hoverState === Jp && f.states.blur && h.push("blur"), f.useStates(h) } function i(f, h) { var d = f._zr, v = d.storage, p = 0; v.traverse(function (g) { g.isGroup || p++ }), p > h.get("hoverLayerThreshold") && !Ut.node && !Ut.worker && h.eachSeries(function (g) { if (!g.preventUsingHoverLayer) { var m = f._chartsMap[g.__viewId]; m.__alive && m.eachRendered(function (y) { y.states.emphasis && (y.states.emphasis.hoverLayer = !0) }) } }) } function o(f, h) { var d = f.get("blendMode") || null; h.eachRendered(function (v) { v.isGroup || (v.style.blend = d) }) } function s(f, h) { if (!f.preventAutoZ) { var d = f.get("z") || 0, v = f.get("zlevel") || 0; h.eachRendered(function (p) { return l(p, d, v, -1 / 0), !0 }) } } function l(f, h, d, v) { var p = f.getTextContent(), g = f.getTextGuideLine(), m = f.isGroup; if (m) for (var y = f.childrenRef(), _ = 0; _ < y.length; _++)v = Math.max(l(y[_], h, d, v), v); else f.z = h, f.zlevel = d, v = Math.max(f.z2, v); if (p && (p.z = h, p.zlevel = d, isFinite(v) && (p.z2 = v + 2)), g) { var b = f.textGuideLineConfig; g.z = h, g.zlevel = d, isFinite(v) && (g.z2 = v + (b && b.showAbove ? 1 : -1)) } return v } function u(f, h) { h.eachRendered(function (d) { if (!uh(d)) { var v = d.getTextContent(), p = d.getTextGuideLine(); d.stateTransition && (d.stateTransition = null), v && v.stateTransition && (v.stateTransition = null), p && p.stateTransition && (p.stateTransition = null), d.hasState() ? (d.prevStates = d.currentStates, d.clearStates()) : d.prevStates && (d.prevStates = null) } }) } function c(f, h) { var d = f.getModel("stateAnimation"), v = f.isAnimationEnabled(), p = d.get("duration"), g = p > 0 ? { duration: p, delay: d.get("delay"), easing: d.get("easing") } : null; h.eachRendered(function (m) { if (m.states && m.states.emphasis) { if (uh(m)) return; if (m instanceof At && She(m), m.__dirty) { var y = m.prevStates; y && m.useStates(y) } if (v) { m.stateTransition = g; var _ = m.getTextContent(), b = m.getTextGuideLine(); _ && (_.stateTransition = g), b && (b.stateTransition = g) } m.__dirty && a(m) } }) } PR = function (f) { return new (function (h) { ae(d, h); function d() { return h !== null && h.apply(this, arguments) || this } return d.prototype.getCoordinateSystems = function () { return f._coordSysMgr.getCoordinateSystems() }, d.prototype.getComponentByElement = function (v) { for (; v;) { var p = v.__ecComponentInfo; if (p != null) return f._model.getComponent(p.mainType, p.index); v = v.parent } }, d.prototype.enterEmphasis = function (v, p) { Ps(v, p), Xa(f) }, d.prototype.leaveEmphasis = function (v, p) { Rs(v, p), Xa(f) }, d.prototype.enterBlur = function (v) { BF(v), Xa(f) }, d.prototype.leaveBlur = function (v) { fC(v), Xa(f) }, d.prototype.enterSelect = function (v) { VF(v), Xa(f) }, d.prototype.leaveSelect = function (v) { zF(v), Xa(f) }, d.prototype.getModel = function () { return f.getModel() }, d.prototype.getViewOfComponentModel = function (v) { return f.getViewOfComponentModel(v) }, d.prototype.getViewOfSeriesModel = function (v) { return f.getViewOfSeriesModel(v) }, d }(WB))(f) }, V6 = function (f) { function h(d, v) { for (var p = 0; p < d.length; p++) { var g = d[p]; g[Cw] = v } } E(Rv, function (d, v) { f._messageCenter.on(v, function (p) { if (OR[f.group] && f[Cw] !== kR) { if (p && p.escapeConnect) return; var g = f.makeActionFromEvent(p), m = []; E(Ov, function (y) { y !== f && y.group === f.group && m.push(y) }), h(m, kR), E(m, function (y) { y[Cw] !== sge && y.dispatchAction(g) }), h(m, lge) } }) }) } }(), e }(wi), BC = z6.prototype; BC.on = E6("on"); BC.off = E6("off"); BC.one = function (t, e, r) { var n = this; function a() { for (var i = [], o = 0; o < arguments.length; o++)i[o] = arguments[o]; e && e.apply && e.apply(this, i), n.off(t, a) } this.on.call(this, t, a, r) }; var uge = ["click", "dblclick", "mouseover", "mouseout", "mousemove", "mousedown", "mouseup", "globalout", "contextmenu"]; var _0 = {}, Rv = {}, HT = [], YT = [], b0 = [], H6 = {}, UT = {}, Ov = {}, OR = {}, cge = +new Date - 0, VC = "_echarts_instance_"; function og(t, e, r) { var n = !(r && r.ssr); if (n) { var a = fge(t); if (a) return a } var i = new z6(t, e, r); return i.id = "ec_" + cge++, Ov[i.id] = i, n && mF(t, VC, i.id), V6(i), Ri.trigger("afterinit", i), i } function fge(t) { return Ov[lfe(t, VC)] } function Y6(t, e) { H6[t] = e } function U6(t) { Ct(YT, t) < 0 && YT.push(t) } function W6(t, e) { HC(HT, t, e, Jpe) } function hge(t) { zC("afterinit", t) } function dge(t) { zC("afterupdate", t) } function zC(t, e) { Ri.on(t, e) } function Uo(t, e, r) { je(e) && (r = e, e = ""); var n = Qe(t) ? t.type : [t, t = { event: e }][0]; t.event = (t.event || n).toLowerCase(), e = t.event, !Rv[e] && (ya(MR.test(n) && MR.test(e)), _0[n] || (_0[n] = { action: r, actionInfo: t }), Rv[e] = n) } function vge(t, e) { ag.register(t, e) } function pge(t, e) { HC(b0, t, e, P6, "layout") } function Kc(t, e) { HC(b0, t, e, R6, "visual") } var ER = []; function HC(t, e, r, n, a) { if ((je(e) || Qe(e)) && (r = e, e = n), !(Ct(ER, r) >= 0)) { ER.push(r); var i = w6.wrapStageHandler(r, a); i.__prio = e, i.__raw = r, t.push(i) } } function G6(t, e) { UT[t] = e } function gge(t, e, r) { var n = Zpe("registerMap"); n && n(t, e, r) } var mge = Mve; Kc(FC, Qve); Kc(h1, Jve); Kc(h1, epe); Kc(FC, ppe); Kc(h1, gpe); Kc(O6, Wpe); U6(jB); W6(Kpe, sve); G6("default", tpe); Uo({ type: Tc, event: Tc, update: Tc }, nn); Uo({ type: wy, event: wy, update: wy }, nn); Uo({ type: kv, event: kv, update: kv }, nn); Uo({ type: Sy, event: Sy, update: Sy }, nn); Uo({ type: Av, event: Av, update: Av }, nn); Y6("light", hpe); Y6("dark", dpe); function Od(t) { return t == null ? 0 : t.length || 1 } function NR(t) { return t } var yge = function () { function t(e, r, n, a, i, o) { this._old = e, this._new = r, this._oldKeyGetter = n || NR, this._newKeyGetter = a || NR, this.context = i, this._diffModeMultiple = o === "multiple" } return t.prototype.add = function (e) { return this._add = e, this }, t.prototype.update = function (e) { return this._update = e, this }, t.prototype.updateManyToOne = function (e) { return this._updateManyToOne = e, this }, t.prototype.updateOneToMany = function (e) { return this._updateOneToMany = e, this }, t.prototype.updateManyToMany = function (e) { return this._updateManyToMany = e, this }, t.prototype.remove = function (e) { return this._remove = e, this }, t.prototype.execute = function () { this[this._diffModeMultiple ? "_executeMultiple" : "_executeOneToOne"]() }, t.prototype._executeOneToOne = function () { var e = this._old, r = this._new, n = {}, a = new Array(e.length), i = new Array(r.length); this._initIndexMap(e, null, a, "_oldKeyGetter"), this._initIndexMap(r, n, i, "_newKeyGetter"); for (var o = 0; o < e.length; o++) { var s = a[o], l = n[s], u = Od(l); if (u > 1) { var c = l.shift(); l.length === 1 && (n[s] = l[0]), this._update && this._update(c, o) } else u === 1 ? (n[s] = null, this._update && this._update(l, o)) : this._remove && this._remove(o) } this._performRestAdd(i, n) }, t.prototype._executeMultiple = function () { var e = this._old, r = this._new, n = {}, a = {}, i = [], o = []; this._initIndexMap(e, n, i, "_oldKeyGetter"), this._initIndexMap(r, a, o, "_newKeyGetter"); for (var s = 0; s < i.length; s++) { var l = i[s], u = n[l], c = a[l], f = Od(u), h = Od(c); if (f > 1 && h === 1) this._updateManyToOne && this._updateManyToOne(c, u), a[l] = null; else if (f === 1 && h > 1) this._updateOneToMany && this._updateOneToMany(c, u), a[l] = null; else if (f === 1 && h === 1) this._update && this._update(c, u), a[l] = null; else if (f > 1 && h > 1) this._updateManyToMany && this._updateManyToMany(c, u), a[l] = null; else if (f > 1) for (var d = 0; d < f; d++)this._remove && this._remove(u[d]); else this._remove && this._remove(u) } this._performRestAdd(o, a) }, t.prototype._performRestAdd = function (e, r) { for (var n = 0; n < e.length; n++) { var a = e[n], i = r[a], o = Od(i); if (o > 1) for (var s = 0; s < o; s++)this._add && this._add(i[s]); else o === 1 && this._add && this._add(i); r[a] = null } }, t.prototype._initIndexMap = function (e, r, n, a) { for (var i = this._diffModeMultiple, o = 0; o < e.length; o++) { var s = "_ec_" + this[a](e[o], o); if (i || (n[o] = s), !!r) { var l = r[s], u = Od(l); u === 0 ? (r[s] = o, i && n.push(s)) : u === 1 ? r[s] = [l, o] : l.push(o) } } }, t }(); const Os = yge; var _ge = function () { function t(e, r) { this._encode = e, this._schema = r } return t.prototype.get = function () { return { fullDimensions: this._getFullDimensionNames(), encode: this._encode } }, t.prototype._getFullDimensionNames = function () { return this._cachedDimNames || (this._cachedDimNames = this._schema ? this._schema.makeOutputDimensionNames() : []), this._cachedDimNames }, t }(); function bge(t, e) { var r = {}, n = r.encode = {}, a = He(), i = [], o = [], s = {}; E(t.dimensions, function (h) { var d = t.getDimensionInfo(h), v = d.coordDim; if (v) { var p = d.coordDimIndex; Pw(n, v)[p] = h, d.isExtraCoord || (a.set(v, 1), wge(d.type) && (i[0] = h), Pw(s, v)[p] = t.getDimensionIndex(d.name)), d.defaultTooltip && o.push(h) } NB.each(function (g, m) { var y = Pw(n, m), _ = d.otherDims[m]; _ != null && _ !== !1 && (y[_] = d.name) }) }); var l = [], u = {}; a.each(function (h, d) { var v = n[d]; u[d] = v[0], l = l.concat(v) }), r.dataDimsOnCoord = l, r.dataDimIndicesOnCoord = _e(l, function (h) { return t.getDimensionInfo(h).storeDimIndex }), r.encodeFirstDimNotExtra = u; var c = n.label; c && c.length && (i = c.slice()); var f = n.tooltip; return f && f.length ? o = f.slice() : o.length || (o = i.slice()), n.defaultedLabel = i, n.defaultedTooltip = o, r.userOutput = new _ge(s, e), r } function Pw(t, e) { return t.hasOwnProperty(e) || (t[e] = []), t[e] } function w0(t) { return t === "category" ? "ordinal" : t === "time" ? "time" : "float" } function wge(t) { return !(t === "ordinal" || t === "time") } var Sge = function () { function t(e) { this.otherDims = {}, e != null && he(this, e) } return t }(); const My = Sge; var xge = zt(), Tge = { float: "f", int: "i", ordinal: "o", number: "n", time: "t" }, j6 = function () { function t(e) { this.dimensions = e.dimensions, this._dimOmitted = e.dimensionOmitted, this.source = e.source, this._fullDimCount = e.fullDimensionCount, this._updateDimOmitted(e.dimensionOmitted) } return t.prototype.isDimensionOmitted = function () { return this._dimOmitted }, t.prototype._updateDimOmitted = function (e) { this._dimOmitted = e, e && (this._dimNameMap || (this._dimNameMap = X6(this.source))) }, t.prototype.getSourceDimensionIndex = function (e) { return _t(this._dimNameMap.get(e), -1) }, t.prototype.getSourceDimension = function (e) { var r = this.source.dimensionsDefine; if (r) return r[e] }, t.prototype.makeStoreSchema = function () { for (var e = this._fullDimCount, r = qB(this.source), n = !K6(e), a = "", i = [], o = 0, s = 0; o < e; o++) { var l = void 0, u = void 0, c = void 0, f = this.dimensions[s]; if (f && f.storeDimIndex === o) l = r ? f.name : null, u = f.type, c = f.ordinalMeta, s++; else { var h = this.getSourceDimension(o); h && (l = r ? h.name : null, u = h.type) } i.push({ property: l, type: u, ordinalMeta: c }), r && l != null && (!f || !f.isCalculationCoord) && (a += n ? l.replace(/\`/g, "`1").replace(/\$/g, "`2") : l), a += "$", a += Tge[u] || "f", c && (a += c.uid), a += "$" } var d = this.source, v = [d.seriesLayoutBy, d.startIndex, a].join("$$"); return { dimensions: i, hash: v } }, t.prototype.makeOutputDimensionNames = function () { for (var e = [], r = 0, n = 0; r < this._fullDimCount; r++) { var a = void 0, i = this.dimensions[n]; if (i && i.storeDimIndex === r) i.isCalculationCoord || (a = i.name), n++; else { var o = this.getSourceDimension(r); o && (a = o.name) } e.push(a) } return e }, t.prototype.appendCalculationDimension = function (e) { this.dimensions.push(e), e.isCalculationCoord = !0, this._fullDimCount++, this._updateDimOmitted(!0) }, t }(); function Z6(t) { return t instanceof j6 } function q6(t) { for (var e = He(), r = 0; r < (t || []).length; r++) { var n = t[r], a = Qe(n) ? n.name : n; a != null && e.get(a) == null && e.set(a, r) } return e } function X6(t) { var e = xge(t); return e.dimNameMap || (e.dimNameMap = q6(t.dimensionsDefine)) } function K6(t) { return t > 30 } var Ed = Qe, ol = _e, Dge = typeof Int32Array > "u" ? Array : Int32Array, Cge = "e\0\0", $R = -1, Mge = ["hasItemOption", "_nameList", "_idList", "_invertedIndicesMap", "_dimSummary", "userOutput", "_rawData", "_dimValueGetter", "_nameDimIdx", "_idDimIdx", "_nameRepeatCount"], kge = ["_approximateExtent"], FR, bm, Nd, $d, Rw, wm, Ow, Age = function () { function t(e, r) { this.type = "list", this._dimOmitted = !1, this._nameList = [], this._idList = [], this._visual = {}, this._layout = {}, this._itemVisuals = [], this._itemLayouts = [], this._graphicEls = [], this._approximateExtent = {}, this._calculationInfo = {}, this.hasItemOption = !1, this.TRANSFERABLE_METHODS = ["cloneShallow", "downSample", "lttbDownSample", "map"], this.CHANGABLE_METHODS = ["filterSelf", "selectRange"], this.DOWNSAMPLE_METHODS = ["downSample", "lttbDownSample"]; var n, a = !1; Z6(e) ? (n = e.dimensions, this._dimOmitted = e.isDimensionOmitted(), this._schema = e) : (a = !0, n = e), n = n || ["x", "y"]; for (var i = {}, o = [], s = {}, l = !1, u = {}, c = 0; c < n.length; c++) { var f = n[c], h = Oe(f) ? new My({ name: f }) : f instanceof My ? f : new My(f), d = h.name; h.type = h.type || "float", h.coordDim || (h.coordDim = d, h.coordDimIndex = 0); var v = h.otherDims = h.otherDims || {}; o.push(d), i[d] = h, u[d] != null && (l = !0), h.createInvertedIndices && (s[d] = []), v.itemName === 0 && (this._nameDimIdx = c), v.itemId === 0 && (this._idDimIdx = c), a && (h.storeDimIndex = c) } if (this.dimensions = o, this._dimInfos = i, this._initGetDimensionInfo(l), this.hostModel = r, this._invertedIndicesMap = s, this._dimOmitted) { var p = this._dimIdxToName = He(); E(o, function (g) { p.set(i[g].storeDimIndex, g) }) } } return t.prototype.getDimension = function (e) { var r = this._recognizeDimIndex(e); if (r == null) return e; if (r = e, !this._dimOmitted) return this.dimensions[r]; var n = this._dimIdxToName.get(r); if (n != null) return n; var a = this._schema.getSourceDimension(r); if (a) return a.name }, t.prototype.getDimensionIndex = function (e) { var r = this._recognizeDimIndex(e); if (r != null) return r; if (e == null) return -1; var n = this._getDimInfo(e); return n ? n.storeDimIndex : this._dimOmitted ? this._schema.getSourceDimensionIndex(e) : -1 }, t.prototype._recognizeDimIndex = function (e) { if (Gt(e) || e != null && !isNaN(e) && !this._getDimInfo(e) && (!this._dimOmitted || this._schema.getSourceDimensionIndex(e) < 0)) return +e }, t.prototype._getStoreDimIndex = function (e) { var r = this.getDimensionIndex(e); return r }, t.prototype.getDimensionInfo = function (e) { return this._getDimInfo(this.getDimension(e)) }, t.prototype._initGetDimensionInfo = function (e) { var r = this._dimInfos; this._getDimInfo = e ? function (n) { return r.hasOwnProperty(n) ? r[n] : void 0 } : function (n) { return r[n] } }, t.prototype.getDimensionsOnCoord = function () { return this._dimSummary.dataDimsOnCoord.slice() }, t.prototype.mapDimension = function (e, r) { var n = this._dimSummary; if (r == null) return n.encodeFirstDimNotExtra[e]; var a = n.encode[e]; return a ? a[r] : null }, t.prototype.mapDimensionsAll = function (e) { var r = this._dimSummary, n = r.encode[e]; return (n || []).slice() }, t.prototype.getStore = function () { return this._store }, t.prototype.initData = function (e, r, n) { var a = this, i; if (e instanceof ET && (i = e), !i) { var o = this.dimensions, s = kC(e) || na(e) ? new XB(e, o.length) : e; i = new ET; var l = ol(o, function (u) { return { type: a._dimInfos[u].type, property: u } }); i.initData(s, l, n) } this._store = i, this._nameList = (r || []).slice(), this._idList = [], this._nameRepeatCount = {}, this._doInit(0, i.count()), this._dimSummary = bge(this, this._schema), this.userOutput = this._dimSummary.userOutput }, t.prototype.appendData = function (e) { var r = this._store.appendData(e); this._doInit(r[0], r[1]) }, t.prototype.appendValues = function (e, r) { var n = this._store.appendValues(e, r.length), a = n.start, i = n.end, o = this._shouldMakeIdFromName(); if (this._updateOrdinalMeta(), r) for (var s = a; s < i; s++) { var l = s - a; this._nameList[s] = r[l], o && Ow(this, s) } }, t.prototype._updateOrdinalMeta = function () { for (var e = this._store, r = this.dimensions, n = 0; n < r.length; n++) { var a = this._dimInfos[r[n]]; a.ordinalMeta && e.collectOrdinalMeta(a.storeDimIndex, a.ordinalMeta) } }, t.prototype._shouldMakeIdFromName = function () { var e = this._store.getProvider(); return this._idDimIdx == null && e.getSource().sourceFormat !== Nl && !e.fillStorage }, t.prototype._doInit = function (e, r) { if (!(e >= r)) { var n = this._store, a = n.getProvider(); this._updateOrdinalMeta(); var i = this._nameList, o = this._idList, s = a.getSource().sourceFormat, l = s === Si; if (l && !a.pure) for (var u = [], c = e; c < r; c++) { var f = a.getItem(c, u); if (!this.hasItemOption && qce(f) && (this.hasItemOption = !0), f) { var h = f.name; i[c] == null && h != null && (i[c] = yn(h, null)); var d = f.id; o[c] == null && d != null && (o[c] = yn(d, null)) } } if (this._shouldMakeIdFromName()) for (var c = e; c < r; c++)Ow(this, c); FR(this) } }, t.prototype.getApproximateExtent = function (e) { return this._approximateExtent[e] || this._store.getDataExtent(this._getStoreDimIndex(e)) }, t.prototype.setApproximateExtent = function (e, r) { r = this.getDimension(r), this._approximateExtent[r] = e.slice() }, t.prototype.getCalculationInfo = function (e) { return this._calculationInfo[e] }, t.prototype.setCalculationInfo = function (e, r) { Ed(e) ? he(this._calculationInfo, e) : this._calculationInfo[e] = r }, t.prototype.getName = function (e) { var r = this.getRawIndex(e), n = this._nameList[r]; return n == null && this._nameDimIdx != null && (n = Nd(this, this._nameDimIdx, r)), n == null && (n = ""), n }, t.prototype._getCategory = function (e, r) { var n = this._store.get(e, r), a = this._store.getOrdinalMeta(e); return a ? a.categories[n] : n }, t.prototype.getId = function (e) { return bm(this, this.getRawIndex(e)) }, t.prototype.count = function () { return this._store.count() }, t.prototype.get = function (e, r) { var n = this._store, a = this._dimInfos[e]; if (a) return n.get(a.storeDimIndex, r) }, t.prototype.getByRawIndex = function (e, r) { var n = this._store, a = this._dimInfos[e]; if (a) return n.getByRawIndex(a.storeDimIndex, r) }, t.prototype.getIndices = function () { return this._store.getIndices() }, t.prototype.getDataExtent = function (e) { return this._store.getDataExtent(this._getStoreDimIndex(e)) }, t.prototype.getSum = function (e) { return this._store.getSum(this._getStoreDimIndex(e)) }, t.prototype.getMedian = function (e) { return this._store.getMedian(this._getStoreDimIndex(e)) }, t.prototype.getValues = function (e, r) { var n = this, a = this._store; return me(e) ? a.getValues(ol(e, function (i) { return n._getStoreDimIndex(i) }), r) : a.getValues(e) }, t.prototype.hasValue = function (e) { for (var r = this._dimSummary.dataDimIndicesOnCoord, n = 0, a = r.length; n < a; n++)if (isNaN(this._store.get(r[n], e))) return !1; return !0 }, t.prototype.indexOfName = function (e) { for (var r = 0, n = this._store.count(); r < n; r++)if (this.getName(r) === e) return r; return -1 }, t.prototype.getRawIndex = function (e) { return this._store.getRawIndex(e) }, t.prototype.indexOfRawIndex = function (e) { return this._store.indexOfRawIndex(e) }, t.prototype.rawIndexOf = function (e, r) { var n = e && this._invertedIndicesMap[e], a = n[r]; return a == null || isNaN(a) ? $R : a }, t.prototype.indicesOfNearest = function (e, r, n) { return this._store.indicesOfNearest(this._getStoreDimIndex(e), r, n) }, t.prototype.each = function (e, r, n) { je(e) && (n = r, r = e, e = []); var a = n || this, i = ol($d(e), this._getStoreDimIndex, this); this._store.each(i, a ? $e(r, a) : r) }, t.prototype.filterSelf = function (e, r, n) { je(e) && (n = r, r = e, e = []); var a = n || this, i = ol($d(e), this._getStoreDimIndex, this); return this._store = this._store.filter(i, a ? $e(r, a) : r), this }, t.prototype.selectRange = function (e) { var r = this, n = {}, a = Nt(e); return E(a, function (i) { var o = r._getStoreDimIndex(i); n[o] = e[i] }), this._store = this._store.selectRange(n), this }, t.prototype.mapArray = function (e, r, n) { je(e) && (n = r, r = e, e = []), n = n || this; var a = []; return this.each(e, function () { a.push(r && r.apply(this, arguments)) }, n), a }, t.prototype.map = function (e, r, n, a) { var i = n || a || this, o = ol($d(e), this._getStoreDimIndex, this), s = wm(this); return s._store = this._store.map(o, i ? $e(r, i) : r), s }, t.prototype.modify = function (e, r, n, a) { var i = n || a || this, o = ol($d(e), this._getStoreDimIndex, this); this._store.modify(o, i ? $e(r, i) : r) }, t.prototype.downSample = function (e, r, n, a) { var i = wm(this); return i._store = this._store.downSample(this._getStoreDimIndex(e), r, n, a), i }, t.prototype.lttbDownSample = function (e, r) { var n = wm(this); return n._store = this._store.lttbDownSample(this._getStoreDimIndex(e), r), n }, t.prototype.getRawDataItem = function (e) { return this._store.getRawDataItem(e) }, t.prototype.getItemModel = function (e) { var r = this.hostModel, n = this.getRawDataItem(e); return new kr(n, r, r && r.ecModel) }, t.prototype.diff = function (e) { var r = this; return new Os(e ? e.getStore().getIndices() : [], this.getStore().getIndices(), function (n) { return bm(e, n) }, function (n) { return bm(r, n) }) }, t.prototype.getVisual = function (e) { var r = this._visual; return r && r[e] }, t.prototype.setVisual = function (e, r) { this._visual = this._visual || {}, Ed(e) ? he(this._visual, e) : this._visual[e] = r }, t.prototype.getItemVisual = function (e, r) { var n = this._itemVisuals[e], a = n && n[r]; return a ?? this.getVisual(r) }, t.prototype.hasItemVisual = function () { return this._itemVisuals.length > 0 }, t.prototype.ensureUniqueItemVisual = function (e, r) { var n = this._itemVisuals, a = n[e]; a || (a = n[e] = {}); var i = a[r]; return i == null && (i = this.getVisual(r), me(i) ? i = i.slice() : Ed(i) && (i = he({}, i)), a[r] = i), i }, t.prototype.setItemVisual = function (e, r, n) { var a = this._itemVisuals[e] || {}; this._itemVisuals[e] = a, Ed(r) ? he(a, r) : a[r] = n }, t.prototype.clearAllVisual = function () { this._visual = {}, this._itemVisuals = [] }, t.prototype.setLayout = function (e, r) { Ed(e) ? he(this._layout, e) : this._layout[e] = r }, t.prototype.getLayout = function (e) { return this._layout[e] }, t.prototype.getItemLayout = function (e) { return this._itemLayouts[e] }, t.prototype.setItemLayout = function (e, r, n) { this._itemLayouts[e] = n ? he(this._itemLayouts[e] || {}, r) : r }, t.prototype.clearItemLayouts = function () { this._itemLayouts.length = 0 }, t.prototype.setItemGraphicEl = function (e, r) { var n = this.hostModel && this.hostModel.seriesIndex; ST(n, this.dataType, e, r), this._graphicEls[e] = r }, t.prototype.getItemGraphicEl = function (e) { return this._graphicEls[e] }, t.prototype.eachItemGraphicEl = function (e, r) { E(this._graphicEls, function (n, a) { n && e && e.call(r, n, a) }) }, t.prototype.cloneShallow = function (e) { return e || (e = new t(this._schema ? this._schema : ol(this.dimensions, this._getDimInfo, this), this.hostModel)), Rw(e, this), e._store = this._store, e }, t.prototype.wrapMethod = function (e, r) { var n = this[e]; je(n) && (this.__wrappedMethods = this.__wrappedMethods || [], this.__wrappedMethods.push(e), this[e] = function () { var a = n.apply(this, arguments); return r.apply(this, [a].concat(ZD(arguments))) }) }, t.internalField = function () { FR = function (e) { var r = e._invertedIndicesMap; E(r, function (n, a) { var i = e._dimInfos[a], o = i.ordinalMeta, s = e._store; if (o) { n = r[a] = new Dge(o.categories.length); for (var l = 0; l < n.length; l++)n[l] = $R; for (var l = 0; l < s.count(); l++)n[s.get(i.storeDimIndex, l)] = l } }) }, Nd = function (e, r, n) { return yn(e._getCategory(r, n), null) }, bm = function (e, r) { var n = e._idList[r]; return n == null && e._idDimIdx != null && (n = Nd(e, e._idDimIdx, r)), n == null && (n = Cge + r), n }, $d = function (e) { return me(e) || (e = e != null ? [e] : []), e }, wm = function (e) { var r = new t(e._schema ? e._schema : ol(e.dimensions, e._getDimInfo, e), e.hostModel); return Rw(r, e), r }, Rw = function (e, r) { E(Mge.concat(r.__wrappedMethods || []), function (n) { r.hasOwnProperty(n) && (e[n] = r[n]) }), e.__wrappedMethods = r.__wrappedMethods, E(kge, function (n) { e[n] = rt(r[n]) }), e._calculationInfo = he({}, r._calculationInfo) }, Ow = function (e, r) { var n = e._nameList, a = e._idList, i = e._nameDimIdx, o = e._idDimIdx, s = n[r], l = a[r]; if (s == null && i != null && (n[r] = s = Nd(e, i, r)), l == null && o != null && (a[r] = l = Nd(e, o, r)), l == null && s != null) { var u = e._nameRepeatCount, c = u[s] = (u[s] || 0) + 1; l = s, c > 1 && (l += "__ec__" + c), a[r] = l } } }(), t }(); const ma = Age; function sg(t, e) { kC(t) || (t = AC(t)), e = e || {}; var r = e.coordDimensions || [], n = e.dimensionsDefine || t.dimensionsDefine || [], a = He(), i = [], o = Ige(t, r, n, e.dimensionsCount), s = e.canOmitUnusedDimensions && K6(o), l = n === t.dimensionsDefine, u = l ? X6(t) : q6(n), c = e.encodeDefine; !c && e.encodeDefaulter && (c = e.encodeDefaulter(t, o)); for (var f = He(c), h = new a6(o), d = 0; d < h.length; d++)h[d] = -1; function v(M) { var k = h[M]; if (k < 0) { var A = n[M], R = Qe(A) ? A : { name: A }, N = new My, z = R.name; z != null && u.get(z) != null && (N.name = N.displayName = z), R.type != null && (N.type = R.type), R.displayName != null && (N.displayName = R.displayName); var F = i.length; return h[M] = F, N.storeDimIndex = M, i.push(N), N } return i[k] } if (!s) for (var d = 0; d < o; d++)v(d); f.each(function (M, k) { var A = mr(M).slice(); if (A.length === 1 && !Oe(A[0]) && A[0] < 0) { f.set(k, !1); return } var R = f.set(k, []); E(A, function (N, z) { var F = Oe(N) ? u.get(N) : N; F != null && F < o && (R[z] = F, g(v(F), k, z)) }) }); var p = 0; E(r, function (M) { var k, A, R, N; if (Oe(M)) k = M, N = {}; else { N = M, k = N.name; var z = N.ordinalMeta; N.ordinalMeta = null, N = he({}, N), N.ordinalMeta = z, A = N.dimsDef, R = N.otherDims, N.name = N.coordDim = N.coordDimIndex = N.dimsDef = N.otherDims = null } var F = f.get(k); if (F !== !1) { if (F = mr(F), !F.length) for (var V = 0; V < (A && A.length || 1); V++) { for (; p < o && v(p).coordDim != null;)p++; p < o && F.push(p++) } E(F, function (L, H) { var q = v(L); if (l && N.type != null && (q.type = N.type), g(Xe(q, N), k, H), q.name == null && A) { var K = A[H]; !Qe(K) && (K = { name: K }), q.name = q.displayName = K.name, q.defaultTooltip = K.defaultTooltip } R && Xe(q.otherDims, R) }) } }); function g(M, k, A) { NB.get(k) != null ? M.otherDims[k] = A : (M.coordDim = k, M.coordDimIndex = A, a.set(k, !0)) } var m = e.generateCoord, y = e.generateCoordCount, _ = y != null; y = m ? y || 1 : 0; var b = m || "value"; function x(M) { M.name == null && (M.name = M.coordDim) } if (s) E(i, function (M) { x(M) }), i.sort(function (M, k) { return M.storeDimIndex - k.storeDimIndex }); else for (var S = 0; S < o; S++) { var T = v(S), C = T.coordDim; C == null && (T.coordDim = Pge(b, a, _), T.coordDimIndex = 0, (!m || y <= 0) && (T.isExtraCoord = !0), y--), x(T), T.type == null && (VB(t, S) === zn.Must || T.isExtraCoord && (T.otherDims.itemName != null || T.otherDims.seriesName != null)) && (T.type = "ordinal") } return Lge(i), new j6({ source: t, dimensions: i, fullDimensionCount: o, dimensionOmitted: s }) } function Lge(t) { for (var e = He(), r = 0; r < t.length; r++) { var n = t[r], a = n.name, i = e.get(a) || 0; i > 0 && (n.name = a + (i - 1)), i++, e.set(a, i) } } function Ige(t, e, r, n) { var a = Math.max(t.dimensionsDetectedCount || 1, e.length, r.length, n || 0); return E(e, function (i) { var o; Qe(i) && (o = i.dimsDef) && (a = Math.max(a, o.length)) }), a } function Pge(t, e, r) { if (r || e.hasKey(t)) { for (var n = 0; e.hasKey(t + n);)n++; t += n } return e.set(t, !0), t } var Rge = function () { function t(e) { this.coordSysDims = [], this.axisMap = He(), this.categoryAxisMap = He(), this.coordSysName = e } return t }(); function Oge(t) { var e = t.get("coordinateSystem"), r = new Rge(e), n = Ege[e]; if (n) return n(t, r, r.axisMap, r.categoryAxisMap), r } var Ege = { cartesian2d: function (t, e, r, n) { var a = t.getReferringComponents("xAxis", dn).models[0], i = t.getReferringComponents("yAxis", dn).models[0]; e.coordSysDims = ["x", "y"], r.set("x", a), r.set("y", i), Mf(a) && (n.set("x", a), e.firstCategoryDimIndex = 0), Mf(i) && (n.set("y", i), e.firstCategoryDimIndex == null && (e.firstCategoryDimIndex = 1)) }, singleAxis: function (t, e, r, n) { var a = t.getReferringComponents("singleAxis", dn).models[0]; e.coordSysDims = ["single"], r.set("single", a), Mf(a) && (n.set("single", a), e.firstCategoryDimIndex = 0) }, polar: function (t, e, r, n) { var a = t.getReferringComponents("polar", dn).models[0], i = a.findAxisModel("radiusAxis"), o = a.findAxisModel("angleAxis"); e.coordSysDims = ["radius", "angle"], r.set("radius", i), r.set("angle", o), Mf(i) && (n.set("radius", i), e.firstCategoryDimIndex = 0), Mf(o) && (n.set("angle", o), e.firstCategoryDimIndex == null && (e.firstCategoryDimIndex = 1)) }, geo: function (t, e, r, n) { e.coordSysDims = ["lng", "lat"] }, parallel: function (t, e, r, n) { var a = t.ecModel, i = a.getComponent("parallel", t.get("parallelIndex")), o = e.coordSysDims = i.dimensions.slice(); E(i.parallelAxisIndex, function (s, l) { var u = a.getComponent("parallelAxis", s), c = o[l]; r.set(c, u), Mf(u) && (n.set(c, u), e.firstCategoryDimIndex == null && (e.firstCategoryDimIndex = l)) }) } }; function Mf(t) { return t.get("type") === "category" } function Nge(t, e, r) { r = r || {}; var n = r.byIndex, a = r.stackedCoordDimension, i, o, s; $ge(e) ? i = e : (o = e.schema, i = o.dimensions, s = e.store); var l = !!(t && t.get("stack")), u, c, f, h; if (E(i, function (y, _) { Oe(y) && (i[_] = y = { name: y }), l && !y.isExtraCoord && (!n && !u && y.ordinalMeta && (u = y), !c && y.type !== "ordinal" && y.type !== "time" && (!a || a === y.coordDim) && (c = y)) }), c && !n && !u && (n = !0), c) { f = "__\0ecstackresult_" + t.id, h = "__\0ecstackedover_" + t.id, u && (u.createInvertedIndices = !0); var d = c.coordDim, v = c.type, p = 0; E(i, function (y) { y.coordDim === d && p++ }); var g = { name: f, coordDim: d, coordDimIndex: p, type: v, isExtraCoord: !0, isCalculationCoord: !0, storeDimIndex: i.length }, m = { name: h, coordDim: h, coordDimIndex: p + 1, type: v, isExtraCoord: !0, isCalculationCoord: !0, storeDimIndex: i.length + 1 }; o ? (s && (g.storeDimIndex = s.ensureCalculationDimension(h, v), m.storeDimIndex = s.ensureCalculationDimension(f, v)), o.appendCalculationDimension(g), o.appendCalculationDimension(m)) : (i.push(g), i.push(m)) } return { stackedDimension: c && c.name, stackedByDimension: u && u.name, isStackedByIndex: n, stackedOverDimension: h, stackResultDimension: f } } function $ge(t) { return !Z6(t.schema) } function Jl(t, e) { return !!e && e === t.getCalculationInfo("stackedDimension") } function Q6(t, e) { return Jl(t, e) ? t.getCalculationInfo("stackResultDimension") : e } function Fge(t, e) { var r = t.get("coordinateSystem"), n = ag.get(r), a; return e && e.coordSysDims && (a = _e(e.coordSysDims, function (i) { var o = { name: i }, s = e.axisMap.get(i); if (s) { var l = s.get("type"); o.type = w0(l) } return o })), a || (a = n && (n.getDimensionsInfo ? n.getDimensionsInfo() : n.dimensions.slice()) || ["x", "y"]), a } function Bge(t, e, r) { var n, a; return r && E(t, function (i, o) { var s = i.coordDim, l = r.categoryAxisMap.get(s); l && (n == null && (n = o), i.ordinalMeta = l.getOrdinalMeta(), e && (i.createInvertedIndices = !0)), i.otherDims.itemName != null && (a = !0) }), !a && n != null && (t[n].otherDims.itemName = 0), n } function Hs(t, e, r) { r = r || {}; var n = e.getSourceManager(), a, i = !1; t ? (i = !0, a = AC(t)) : (a = n.getSource(), i = a.sourceFormat === Si); var o = Oge(e), s = Fge(e, o), l = r.useEncodeDefaulter, u = je(l) ? l : l ? ut(BB, s, e) : null, c = { coordDimensions: s, generateCoord: r.generateCoord, encodeDefine: e.getEncode(), encodeDefaulter: u, canOmitUnusedDimensions: !i }, f = sg(a, c), h = Bge(f.dimensions, r.createInvertedIndices, o), d = i ? null : n.getSharedDataStore(f), v = Nge(e, { schema: f, store: d }), p = new ma(f, e); p.setCalculationInfo(v); var g = h != null && Vge(a) ? function (m, y, _, b) { return b === h ? _ : this.defaultDimValueGetter(m, y, _, b) } : null; return p.hasItemOption = !1, p.initData(i ? a : d, null, g), p } function Vge(t) { if (t.sourceFormat === Si) { var e = zge(t.data || []); return !me(Hh(e)) } } function zge(t) { for (var e = 0; e < t.length && t[e] == null;)e++; return t[e] } var J6 = function () { function t(e) { this._setting = e || {}, this._extent = [1 / 0, -1 / 0] } return t.prototype.getSetting = function (e) { return this._setting[e] }, t.prototype.unionExtent = function (e) { var r = this._extent; e[0] < r[0] && (r[0] = e[0]), e[1] > r[1] && (r[1] = e[1]) }, t.prototype.unionExtentFromData = function (e, r) { this.unionExtent(e.getApproximateExtent(r)) }, t.prototype.getExtent = function () { return this._extent.slice() }, t.prototype.setExtent = function (e, r) { var n = this._extent; isNaN(e) || (n[0] = e), isNaN(r) || (n[1] = r) }, t.prototype.isInExtentRange = function (e) { return this._extent[0] <= e && this._extent[1] >= e }, t.prototype.isBlank = function () { return this._isBlank }, t.prototype.setBlank = function (e) { this._isBlank = e }, t }(); G_(J6); const Ys = J6; var Hge = 0, Yge = function () { function t(e) { this.categories = e.categories || [], this._needCollect = e.needCollect, this._deduplication = e.deduplication, this.uid = ++Hge } return t.createByAxisModel = function (e) { var r = e.option, n = r.data, a = n && _e(n, Uge); return new t({ categories: a, needCollect: !a, deduplication: r.dedplication !== !1 }) }, t.prototype.getOrdinal = function (e) { return this._getOrCreateMap().get(e) }, t.prototype.parseAndCollect = function (e) { var r, n = this._needCollect; if (!Oe(e) && !n) return e; if (n && !this._deduplication) return r = this.categories.length, this.categories[r] = e, r; var a = this._getOrCreateMap(); return r = a.get(e), r == null && (n ? (r = this.categories.length, this.categories[r] = e, a.set(e, r)) : r = NaN), r }, t.prototype._getOrCreateMap = function () { return this._map || (this._map = He(this.categories)) }, t }(); function Uge(t) { return Qe(t) && t.value != null ? t.value : t + "" } const WT = Yge; function GT(t) { return t.type === "interval" || t.type === "log" } function Wge(t, e, r, n) { var a = {}, i = t[1] - t[0], o = a.interval = uF(i / e, !0); r != null && o < r && (o = a.interval = r), n != null && o > n && (o = a.interval = n); var s = a.intervalPrecision = eV(o), l = a.niceTickExtent = [en(Math.ceil(t[0] / o) * o, s), en(Math.floor(t[1] / o) * o, s)]; return Gge(l, t), a } function Ew(t) { var e = Math.pow(10, nC(t)), r = t / e; return r ? r === 2 ? r = 3 : r === 3 ? r = 5 : r *= 2 : r = 1, en(r * e) } function eV(t) { return wo(t) + 2 } function BR(t, e, r) { t[e] = Math.max(Math.min(t[e], r[1]), r[0]) } function Gge(t, e) { !isFinite(t[0]) && (t[0] = e[0]), !isFinite(t[1]) && (t[1] = e[1]), BR(t, 0, e), BR(t, 1, e), t[0] > t[1] && (t[0] = t[1]) } function d1(t, e) { return t >= e[0] && t <= e[1] } function v1(t, e) { return e[1] === e[0] ? .5 : (t - e[0]) / (e[1] - e[0]) } function p1(t, e) { return t * (e[1] - e[0]) + e[0] } var tV = function (t) { ae(e, t); function e(r) { var n = t.call(this, r) || this; n.type = "ordinal"; var a = n.getSetting("ordinalMeta"); return a || (a = new WT({})), me(a) && (a = new WT({ categories: _e(a, function (i) { return Qe(i) ? i.value : i }) })), n._ordinalMeta = a, n._extent = n.getSetting("extent") || [0, a.categories.length - 1], n } return e.prototype.parse = function (r) { return r == null ? NaN : Oe(r) ? this._ordinalMeta.getOrdinal(r) : Math.round(r) }, e.prototype.contain = function (r) { return r = this.parse(r), d1(r, this._extent) && this._ordinalMeta.categories[r] != null }, e.prototype.normalize = function (r) { return r = this._getTickNumber(this.parse(r)), v1(r, this._extent) }, e.prototype.scale = function (r) { return r = Math.round(p1(r, this._extent)), this.getRawOrdinalNumber(r) }, e.prototype.getTicks = function () { for (var r = [], n = this._extent, a = n[0]; a <= n[1];)r.push({ value: a }), a++; return r }, e.prototype.getMinorTicks = function (r) { }, e.prototype.setSortInfo = function (r) { if (r == null) { this._ordinalNumbersByTick = this._ticksByOrdinalNumber = null; return } for (var n = r.ordinalNumbers, a = this._ordinalNumbersByTick = [], i = this._ticksByOrdinalNumber = [], o = 0, s = this._ordinalMeta.categories.length, l = Math.min(s, n.length); o < l; ++o) { var u = n[o]; a[o] = u, i[u] = o } for (var c = 0; o < s; ++o) { for (; i[c] != null;)c++; a.push(c), i[c] = o } }, e.prototype._getTickNumber = function (r) { var n = this._ticksByOrdinalNumber; return n && r >= 0 && r < n.length ? n[r] : r }, e.prototype.getRawOrdinalNumber = function (r) { var n = this._ordinalNumbersByTick; return n && r >= 0 && r < n.length ? n[r] : r }, e.prototype.getLabel = function (r) { if (!this.isBlank()) { var n = this.getRawOrdinalNumber(r.value), a = this._ordinalMeta.categories[n]; return a == null ? "" : a + "" } }, e.prototype.count = function () { return this._extent[1] - this._extent[0] + 1 }, e.prototype.unionExtentFromData = function (r, n) { this.unionExtent(r.getApproximateExtent(n)) }, e.prototype.isInExtentRange = function (r) { return r = this._getTickNumber(r), this._extent[0] <= r && this._extent[1] >= r }, e.prototype.getOrdinalMeta = function () { return this._ordinalMeta }, e.prototype.calcNiceTicks = function () { }, e.prototype.calcNiceExtent = function () { }, e.type = "ordinal", e }(Ys); Ys.registerClass(tV); const YC = tV; var $u = en, rV = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = "interval", r._interval = 0, r._intervalPrecision = 2, r } return e.prototype.parse = function (r) { return r }, e.prototype.contain = function (r) { return d1(r, this._extent) }, e.prototype.normalize = function (r) { return v1(r, this._extent) }, e.prototype.scale = function (r) { return p1(r, this._extent) }, e.prototype.setExtent = function (r, n) { var a = this._extent; isNaN(r) || (a[0] = parseFloat(r)), isNaN(n) || (a[1] = parseFloat(n)) }, e.prototype.unionExtent = function (r) { var n = this._extent; r[0] < n[0] && (n[0] = r[0]), r[1] > n[1] && (n[1] = r[1]), this.setExtent(n[0], n[1]) }, e.prototype.getInterval = function () { return this._interval }, e.prototype.setInterval = function (r) { this._interval = r, this._niceExtent = this._extent.slice(), this._intervalPrecision = eV(r) }, e.prototype.getTicks = function (r) { var n = this._interval, a = this._extent, i = this._niceExtent, o = this._intervalPrecision, s = []; if (!n) return s; var l = 1e4; a[0] < i[0] && (r ? s.push({ value: $u(i[0] - n, o) }) : s.push({ value: a[0] })); for (var u = i[0]; u <= i[1] && (s.push({ value: u }), u = $u(u + n, o), u !== s[s.length - 1].value);)if (s.length > l) return []; var c = s.length ? s[s.length - 1].value : i[1]; return a[1] > c && (r ? s.push({ value: $u(c + n, o) }) : s.push({ value: a[1] })), s }, e.prototype.getMinorTicks = function (r) { for (var n = this.getTicks(!0), a = [], i = this.getExtent(), o = 1; o < n.length; o++) { for (var s = n[o], l = n[o - 1], u = 0, c = [], f = s.value - l.value, h = f / r; u < r - 1;) { var d = $u(l.value + (u + 1) * h); d > i[0] && d < i[1] && c.push(d), u++ } a.push(c) } return a }, e.prototype.getLabel = function (r, n) { if (r == null) return ""; var a = n && n.precision; a == null ? a = wo(r.value) || 0 : a === "auto" && (a = this._intervalPrecision); var i = $u(r.value, a, !0); return LB(i) }, e.prototype.calcNiceTicks = function (r, n, a) { r = r || 5; var i = this._extent, o = i[1] - i[0]; if (isFinite(o)) { o < 0 && (o = -o, i.reverse()); var s = Wge(i, r, n, a); this._intervalPrecision = s.intervalPrecision, this._interval = s.interval, this._niceExtent = s.niceTickExtent } }, e.prototype.calcNiceExtent = function (r) { var n = this._extent; if (n[0] === n[1]) if (n[0] !== 0) { var a = Math.abs(n[0]); r.fixMax || (n[1] += a / 2), n[0] -= a / 2 } else n[1] = 1; var i = n[1] - n[0]; isFinite(i) || (n[0] = 0, n[1] = 1), this.calcNiceTicks(r.splitNumber, r.minInterval, r.maxInterval); var o = this._interval; r.fixMin || (n[0] = $u(Math.floor(n[0] / o) * o)), r.fixMax || (n[1] = $u(Math.ceil(n[1] / o) * o)) }, e.prototype.setNiceExtent = function (r, n) { this._niceExtent = [r, n] }, e.type = "interval", e }(Ys); Ys.registerClass(rV); const eu = rV; var nV = typeof Float32Array < "u", jge = nV ? Float32Array : Array; function xo(t) { return me(t) ? nV ? new Float32Array(t) : t : new jge(t) } var jT = "__ec_stack_"; function UC(t) { return t.get("stack") || jT + t.seriesIndex } function WC(t) { return t.dim + t.index } function Zge(t) { var e = [], r = t.axis, n = "axis0"; if (r.type === "category") { for (var a = r.getBandWidth(), i = 0; i < t.count; i++)e.push(Xe({ bandWidth: a, axisKey: n, stackId: jT + i }, t)); for (var o = oV(e), s = [], i = 0; i < t.count; i++) { var l = o[n][jT + i]; l.offsetCenter = l.offset + l.width / 2, s.push(l) } return s } } function aV(t, e) { var r = []; return e.eachSeriesByType(t, function (n) { uV(n) && r.push(n) }), r } function qge(t) { var e = {}; E(t, function (l) { var u = l.coordinateSystem, c = u.getBaseAxis(); if (!(c.type !== "time" && c.type !== "value")) for (var f = l.getData(), h = c.dim + "_" + c.index, d = f.getDimensionIndex(f.mapDimension(c.dim)), v = f.getStore(), p = 0, g = v.count(); p < g; ++p) { var m = v.get(d, p); e[h] ? e[h].push(m) : e[h] = [m] } }); var r = {}; for (var n in e) if (e.hasOwnProperty(n)) { var a = e[n]; if (a) { a.sort(function (l, u) { return l - u }); for (var i = null, o = 1; o < a.length; ++o) { var s = a[o] - a[o - 1]; s > 0 && (i = i === null ? s : Math.min(i, s)) } r[n] = i } } return r } function iV(t) { var e = qge(t), r = []; return E(t, function (n) { var a = n.coordinateSystem, i = a.getBaseAxis(), o = i.getExtent(), s; if (i.type === "category") s = i.getBandWidth(); else if (i.type === "value" || i.type === "time") { var l = i.dim + "_" + i.index, u = e[l], c = Math.abs(o[1] - o[0]), f = i.scale.getExtent(), h = Math.abs(f[1] - f[0]); s = u ? c / h * u : c } else { var d = n.getData(); s = Math.abs(o[1] - o[0]) / d.count() } var v = Ae(n.get("barWidth"), s), p = Ae(n.get("barMaxWidth"), s), g = Ae(n.get("barMinWidth") || (cV(n) ? .5 : 1), s), m = n.get("barGap"), y = n.get("barCategoryGap"); r.push({ bandWidth: s, barWidth: v, barMaxWidth: p, barMinWidth: g, barGap: m, barCategoryGap: y, axisKey: WC(i), stackId: UC(n) }) }), oV(r) } function oV(t) { var e = {}; E(t, function (n, a) { var i = n.axisKey, o = n.bandWidth, s = e[i] || { bandWidth: o, remainedWidth: o, autoWidthCount: 0, categoryGap: null, gap: "20%", stacks: {} }, l = s.stacks; e[i] = s; var u = n.stackId; l[u] || s.autoWidthCount++, l[u] = l[u] || { width: 0, maxWidth: 0 }; var c = n.barWidth; c && !l[u].width && (l[u].width = c, c = Math.min(s.remainedWidth, c), s.remainedWidth -= c); var f = n.barMaxWidth; f && (l[u].maxWidth = f); var h = n.barMinWidth; h && (l[u].minWidth = h); var d = n.barGap; d != null && (s.gap = d); var v = n.barCategoryGap; v != null && (s.categoryGap = v) }); var r = {}; return E(e, function (n, a) { r[a] = {}; var i = n.stacks, o = n.bandWidth, s = n.categoryGap; if (s == null) { var l = Nt(i).length; s = Math.max(35 - l * 4, 15) + "%" } var u = Ae(s, o), c = Ae(n.gap, 1), f = n.remainedWidth, h = n.autoWidthCount, d = (f - u) / (h + (h - 1) * c); d = Math.max(d, 0), E(i, function (m) { var y = m.maxWidth, _ = m.minWidth; if (m.width) { var b = m.width; y && (b = Math.min(b, y)), _ && (b = Math.max(b, _)), m.width = b, f -= b + c * b, h-- } else { var b = d; y && y < b && (b = Math.min(y, f)), _ && _ > b && (b = _), b !== d && (m.width = b, f -= b + c * b, h--) } }), d = (f - u) / (h + (h - 1) * c), d = Math.max(d, 0); var v = 0, p; E(i, function (m, y) { m.width || (m.width = d), p = m, v += m.width * (1 + c) }), p && (v -= p.width * c); var g = -v / 2; E(i, function (m, y) { r[a][y] = r[a][y] || { bandWidth: o, offset: g, width: m.width }, g += m.width * (1 + c) }) }), r } function Xge(t, e, r) { if (t && e) { var n = t[WC(e)]; return n != null && r != null ? n[UC(r)] : n } } function sV(t, e) { var r = aV(t, e), n = iV(r); E(r, function (a) { var i = a.getData(), o = a.coordinateSystem, s = o.getBaseAxis(), l = UC(a), u = n[WC(s)][l], c = u.offset, f = u.width; i.setLayout({ bandWidth: u.bandWidth, offset: c, size: f }) }) } function lV(t) { return { seriesType: t, plan: Qh(), reset: function (e) { if (uV(e)) { var r = e.getData(), n = e.coordinateSystem, a = n.getBaseAxis(), i = n.getOtherAxis(a), o = r.getDimensionIndex(r.mapDimension(i.dim)), s = r.getDimensionIndex(r.mapDimension(a.dim)), l = e.get("showBackground", !0), u = r.mapDimension(i.dim), c = r.getCalculationInfo("stackResultDimension"), f = Jl(r, u) && !!r.getCalculationInfo("stackedOnSeries"), h = i.isHorizontal(), d = Kge(a, i), v = cV(e), p = e.get("barMinHeight") || 0, g = c && r.getDimensionIndex(c), m = r.getLayout("size"), y = r.getLayout("offset"); return { progress: function (_, b) { for (var x = _.count, S = v && xo(x * 3), T = v && l && xo(x * 3), C = v && xo(x), M = n.master.getRect(), k = h ? M.width : M.height, A, R = b.getStore(), N = 0; (A = _.next()) != null;) { var z = R.get(f ? g : o, A), F = R.get(s, A), V = d, L = void 0; f && (L = +z - R.get(o, A)); var H = void 0, q = void 0, K = void 0, te = void 0; if (h) { var oe = n.dataToPoint([z, F]); if (f) { var X = n.dataToPoint([L, F]); V = X[0] } H = V, q = oe[1] + y, K = oe[0] - V, te = m, Math.abs(K) < p && (K = (K < 0 ? -1 : 1) * p) } else { var oe = n.dataToPoint([F, z]); if (f) { var X = n.dataToPoint([F, L]); V = X[1] } H = oe[0] + y, q = V, K = m, te = oe[1] - V, Math.abs(te) < p && (te = (te <= 0 ? -1 : 1) * p) } v ? (S[N] = H, S[N + 1] = q, S[N + 2] = h ? K : te, T && (T[N] = h ? M.x : H, T[N + 1] = h ? q : M.y, T[N + 2] = k), C[A] = A) : b.setItemLayout(A, { x: H, y: q, width: K, height: te }), N += 3 } v && b.setLayout({ largePoints: S, largeDataIndices: C, largeBackgroundPoints: T, valueAxisHorizontal: h }) } } } } } } function uV(t) { return t.coordinateSystem && t.coordinateSystem.type === "cartesian2d" } function cV(t) { return t.pipelineContext && t.pipelineContext.large } function Kge(t, e) { return e.toGlobalCoord(e.dataToCoord(e.type === "log" ? 1 : 0)) } var Qge = function (t, e, r, n) { for (; r < n;) { var a = r + n >>> 1; t[a][1] < e ? r = a + 1 : n = a } return r }, fV = function (t) { ae(e, t); function e(r) { var n = t.call(this, r) || this; return n.type = "time", n } return e.prototype.getLabel = function (r) { var n = this.getSetting("useUTC"); return n1(r.value, LP[Tde(ch(this._minLevelUnit))] || LP.second, n, this.getSetting("locale")) }, e.prototype.getFormattedLabel = function (r, n, a) { var i = this.getSetting("useUTC"), o = this.getSetting("locale"); return Dde(r, n, a, o, i) }, e.prototype.getTicks = function () { var r = this._interval, n = this._extent, a = []; if (!r) return a; a.push({ value: n[0], level: 0 }); var i = this.getSetting("useUTC"), o = ime(this._minLevelUnit, this._approxInterval, i, n); return a = a.concat(o), a.push({ value: n[1], level: 0 }), a }, e.prototype.calcNiceExtent = function (r) { var n = this._extent; if (n[0] === n[1] && (n[0] -= fi, n[1] += fi), n[1] === -1 / 0 && n[0] === 1 / 0) { var a = new Date; n[1] = +new Date(a.getFullYear(), a.getMonth(), a.getDate()), n[0] = n[1] - fi } this.calcNiceTicks(r.splitNumber, r.minInterval, r.maxInterval) }, e.prototype.calcNiceTicks = function (r, n, a) { r = r || 10; var i = this._extent, o = i[1] - i[0]; this._approxInterval = o / r, n != null && this._approxInterval < n && (this._approxInterval = n), a != null && this._approxInterval > a && (this._approxInterval = a); var s = Sm.length, l = Math.min(Qge(Sm, this._approxInterval, 0, s), s - 1); this._interval = Sm[l][1], this._minLevelUnit = Sm[Math.max(l - 1, 0)][0] }, e.prototype.parse = function (r) { return Gt(r) ? r : +Eo(r) }, e.prototype.contain = function (r) { return d1(this.parse(r), this._extent) }, e.prototype.normalize = function (r) { return v1(this.parse(r), this._extent) }, e.prototype.scale = function (r) { return p1(r, this._extent) }, e.type = "time", e }(eu), Sm = [["second", wC], ["minute", SC], ["hour", Iv], ["quarter-day", Iv * 6], ["half-day", Iv * 12], ["day", fi * 1.2], ["half-week", fi * 3.5], ["week", fi * 7], ["month", fi * 31], ["quarter", fi * 95], ["half-year", AP / 2], ["year", AP]]; function Jge(t, e, r, n) { var a = Eo(e), i = Eo(r), o = function (v) { return IP(a, v, n) === IP(i, v, n) }, s = function () { return o("year") }, l = function () { return s() && o("month") }, u = function () { return l() && o("day") }, c = function () { return u() && o("hour") }, f = function () { return c() && o("minute") }, h = function () { return f() && o("second") }, d = function () { return h() && o("millisecond") }; switch (t) { case "year": return s(); case "month": return l(); case "day": return u(); case "hour": return c(); case "minute": return f(); case "second": return h(); case "millisecond": return d() } } function eme(t, e) { return t /= fi, t > 16 ? 16 : t > 7.5 ? 7 : t > 3.5 ? 4 : t > 1.5 ? 2 : 1 } function tme(t) { var e = 30 * fi; return t /= e, t > 6 ? 6 : t > 3 ? 3 : t > 2 ? 2 : 1 } function rme(t) { return t /= Iv, t > 12 ? 12 : t > 6 ? 6 : t > 3.5 ? 4 : t > 2 ? 2 : 1 } function VR(t, e) { return t /= e ? SC : wC, t > 30 ? 30 : t > 20 ? 20 : t > 15 ? 15 : t > 10 ? 10 : t > 5 ? 5 : t > 2 ? 2 : 1 } function nme(t) { return uF(t, !0) } function ame(t, e, r) { var n = new Date(t); switch (ch(e)) { case "year": case "month": n[TB(r)](0); case "day": n[DB(r)](1); case "hour": n[CB(r)](0); case "minute": n[MB(r)](0); case "second": n[kB(r)](0), n[AB(r)](0) }return n.getTime() } function ime(t, e, r, n) { var a = 1e4, i = SB, o = 0; function s(k, A, R, N, z, F, V) { for (var L = new Date(A), H = A, q = L[N](); H < R && H <= n[1];)V.push({ value: H }), q += k, L[z](q), H = L.getTime(); V.push({ value: H, notAdd: !0 }) } function l(k, A, R) { var N = [], z = !A.length; if (!Jge(ch(k), n[0], n[1], r)) { z && (A = [{ value: ame(new Date(n[0]), k, r) }, { value: n[1] }]); for (var F = 0; F < A.length - 1; F++) { var V = A[F].value, L = A[F + 1].value; if (V !== L) { var H = void 0, q = void 0, K = void 0, te = !1; switch (k) { case "year": H = Math.max(1, Math.round(e / fi / 365)), q = xC(r), K = Cde(r); break; case "half-year": case "quarter": case "month": H = tme(e), q = fh(r), K = TB(r); break; case "week": case "half-week": case "day": H = eme(e), q = a1(r), K = DB(r), te = !0; break; case "half-day": case "quarter-day": case "hour": H = rme(e), q = pp(r), K = CB(r); break; case "minute": H = VR(e, !0), q = i1(r), K = MB(r); break; case "second": H = VR(e, !1), q = o1(r), K = kB(r); break; case "millisecond": H = nme(e), q = s1(r), K = AB(r); break }s(H, V, L, q, K, te, N), k === "year" && R.length > 1 && F === 0 && R.unshift({ value: R[0].value - H }) } } for (var F = 0; F < N.length; F++)R.push(N[F]); return N } } for (var u = [], c = [], f = 0, h = 0, d = 0; d < i.length && o++ < a; ++d) { var v = ch(i[d]); if (xde(i[d])) { l(i[d], u[u.length - 1] || [], c); var p = i[d + 1] ? ch(i[d + 1]) : null; if (v !== p) { if (c.length) { h = f, c.sort(function (k, A) { return k.value - A.value }); for (var g = [], m = 0; m < c.length; ++m) { var y = c[m].value; (m === 0 || c[m - 1].value !== y) && (g.push(c[m]), y >= n[0] && y <= n[1] && f++) } var _ = (n[1] - n[0]) / e; if (f > _ * 1.5 && h > _ / 1.5 || (u.push(g), f > _ || t === i[d])) break } c = [] } } } for (var b = hr(_e(u, function (k) { return hr(k, function (A) { return A.value >= n[0] && A.value <= n[1] && !A.notAdd }) }), function (k) { return k.length > 0 }), x = [], S = b.length - 1, d = 0; d < b.length; ++d)for (var T = b[d], C = 0; C < T.length; ++C)x.push({ value: T[C].value, level: S - d }); x.sort(function (k, A) { return k.value - A.value }); for (var M = [], d = 0; d < x.length; ++d)(d === 0 || x[d].value !== x[d - 1].value) && M.push(x[d]); return M } Ys.registerClass(fV); const hV = fV; var zR = Ys.prototype, Ev = eu.prototype, ome = en, sme = Math.floor, lme = Math.ceil, xm = Math.pow, Li = Math.log, GC = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = "log", r.base = 10, r._originalScale = new eu, r._interval = 0, r } return e.prototype.getTicks = function (r) { var n = this._originalScale, a = this._extent, i = n.getExtent(), o = Ev.getTicks.call(this, r); return _e(o, function (s) { var l = s.value, u = en(xm(this.base, l)); return u = l === a[0] && this._fixMin ? Tm(u, i[0]) : u, u = l === a[1] && this._fixMax ? Tm(u, i[1]) : u, { value: u } }, this) }, e.prototype.setExtent = function (r, n) { var a = Li(this.base); r = Li(Math.max(0, r)) / a, n = Li(Math.max(0, n)) / a, Ev.setExtent.call(this, r, n) }, e.prototype.getExtent = function () { var r = this.base, n = zR.getExtent.call(this); n[0] = xm(r, n[0]), n[1] = xm(r, n[1]); var a = this._originalScale, i = a.getExtent(); return this._fixMin && (n[0] = Tm(n[0], i[0])), this._fixMax && (n[1] = Tm(n[1], i[1])), n }, e.prototype.unionExtent = function (r) { this._originalScale.unionExtent(r); var n = this.base; r[0] = Li(r[0]) / Li(n), r[1] = Li(r[1]) / Li(n), zR.unionExtent.call(this, r) }, e.prototype.unionExtentFromData = function (r, n) { this.unionExtent(r.getApproximateExtent(n)) }, e.prototype.calcNiceTicks = function (r) { r = r || 10; var n = this._extent, a = n[1] - n[0]; if (!(a === 1 / 0 || a <= 0)) { var i = Zce(a), o = r / a * i; for (o <= .5 && (i *= 10); !isNaN(i) && Math.abs(i) < 1 && Math.abs(i) > 0;)i *= 10; var s = [en(lme(n[0] / i) * i), en(sme(n[1] / i) * i)]; this._interval = i, this._niceExtent = s } }, e.prototype.calcNiceExtent = function (r) { Ev.calcNiceExtent.call(this, r), this._fixMin = r.fixMin, this._fixMax = r.fixMax }, e.prototype.parse = function (r) { return r }, e.prototype.contain = function (r) { return r = Li(r) / Li(this.base), d1(r, this._extent) }, e.prototype.normalize = function (r) { return r = Li(r) / Li(this.base), v1(r, this._extent) }, e.prototype.scale = function (r) { return r = p1(r, this._extent), xm(this.base, r) }, e.type = "log", e }(Ys), dV = GC.prototype; dV.getMinorTicks = Ev.getMinorTicks; dV.getLabel = Ev.getLabel; function Tm(t, e) { return ome(t, wo(e)) } Ys.registerClass(GC); const ume = GC; var cme = function () { function t(e, r, n) { this._prepareParams(e, r, n) } return t.prototype._prepareParams = function (e, r, n) { n[1] < n[0] && (n = [NaN, NaN]), this._dataMin = n[0], this._dataMax = n[1]; var a = this._isOrdinal = e.type === "ordinal"; this._needCrossZero = e.type === "interval" && r.getNeedCrossZero && r.getNeedCrossZero(); var i = this._modelMinRaw = r.get("min", !0); je(i) ? this._modelMinNum = Dm(e, i({ min: n[0], max: n[1] })) : i !== "dataMin" && (this._modelMinNum = Dm(e, i)); var o = this._modelMaxRaw = r.get("max", !0); if (je(o) ? this._modelMaxNum = Dm(e, o({ min: n[0], max: n[1] })) : o !== "dataMax" && (this._modelMaxNum = Dm(e, o)), a) this._axisDataLen = r.getCategories().length; else { var s = r.get("boundaryGap"), l = me(s) ? s : [s || 0, s || 0]; typeof l[0] == "boolean" || typeof l[1] == "boolean" ? this._boundaryGapInner = [0, 0] : this._boundaryGapInner = [ji(l[0], 1), ji(l[1], 1)] } }, t.prototype.calculate = function () { var e = this._isOrdinal, r = this._dataMin, n = this._dataMax, a = this._axisDataLen, i = this._boundaryGapInner, o = e ? null : n - r || Math.abs(r), s = this._modelMinRaw === "dataMin" ? r : this._modelMinNum, l = this._modelMaxRaw === "dataMax" ? n : this._modelMaxNum, u = s != null, c = l != null; s == null && (s = e ? a ? 0 : NaN : r - i[0] * o), l == null && (l = e ? a ? a - 1 : NaN : n + i[1] * o), (s == null || !isFinite(s)) && (s = NaN), (l == null || !isFinite(l)) && (l = NaN); var f = ip(s) || ip(l) || e && !a; this._needCrossZero && (s > 0 && l > 0 && !u && (s = 0), s < 0 && l < 0 && !c && (l = 0)); var h = this._determinedMin, d = this._determinedMax; return h != null && (s = h, u = !0), d != null && (l = d, c = !0), { min: s, max: l, minFixed: u, maxFixed: c, isBlank: f } }, t.prototype.modifyDataMinMax = function (e, r) { this[hme[e]] = r }, t.prototype.setDeterminedMinMax = function (e, r) { var n = fme[e]; this[n] = r }, t.prototype.freeze = function () { this.frozen = !0 }, t }(), fme = { min: "_determinedMin", max: "_determinedMax" }, hme = { min: "_dataMin", max: "_dataMax" }; function vV(t, e, r) { var n = t.rawExtentInfo; return n || (n = new cme(t, e, r), t.rawExtentInfo = n, n) } function Dm(t, e) { return e == null ? null : ip(e) ? NaN : t.parse(e) } function pV(t, e) { var r = t.type, n = vV(t, e, t.getExtent()).calculate(); t.setBlank(n.isBlank); var a = n.min, i = n.max, o = e.ecModel; if (o && r === "time") { var s = aV("bar", o), l = !1; if (E(s, function (f) { l = l || f.getBaseAxis() === e.axis }), l) { var u = iV(s), c = dme(a, i, e, u); a = c.min, i = c.max } } return { extent: [a, i], fixMin: n.minFixed, fixMax: n.maxFixed } } function dme(t, e, r, n) { var a = r.axis.getExtent(), i = a[1] - a[0], o = Xge(n, r.axis); if (o === void 0) return { min: t, max: e }; var s = 1 / 0; E(o, function (d) { s = Math.min(d.offset, s) }); var l = -1 / 0; E(o, function (d) { l = Math.max(d.offset + d.width, l) }), s = Math.abs(s), l = Math.abs(l); var u = s + l, c = e - t, f = 1 - (s + l) / i, h = c / f - c; return e += h * (l / u), t -= h * (s / u), { min: t, max: e } } function kh(t, e) { var r = e, n = pV(t, r), a = n.extent, i = r.get("splitNumber"); t instanceof ume && (t.base = r.get("logBase")); var o = t.type, s = r.get("interval"), l = o === "interval" || o === "time"; t.setExtent(a[0], a[1]), t.calcNiceExtent({ splitNumber: i, fixMin: n.fixMin, fixMax: n.fixMax, minInterval: l ? r.get("minInterval") : null, maxInterval: l ? r.get("maxInterval") : null }), s != null && t.setInterval && t.setInterval(s) } function g1(t, e) { if (e = e || t.get("type"), e) switch (e) { case "category": return new YC({ ordinalMeta: t.getOrdinalMeta ? t.getOrdinalMeta() : t.getCategories(), extent: [1 / 0, -1 / 0] }); case "time": return new hV({ locale: t.ecModel.getLocaleModel(), useUTC: t.ecModel.get("useUTC") }); default: return new (Ys.getClass(e) || eu) } } function vme(t) { var e = t.scale.getExtent(), r = e[0], n = e[1]; return !(r > 0 && n > 0 || r < 0 && n < 0) } function lg(t) { var e = t.getLabelModel().get("formatter"), r = t.type === "category" ? t.scale.getExtent()[0] : null; return t.scale.type === "time" ? function (n) { return function (a, i) { return t.scale.getFormattedLabel(a, i, n) } }(e) : Oe(e) ? function (n) { return function (a) { var i = t.scale.getLabel(a), o = n.replace("{value}", i ?? ""); return o } }(e) : je(e) ? function (n) { return function (a, i) { return r != null && (i = a.value - r), n(jC(t, a), i, a.level != null ? { level: a.level } : null) } }(e) : function (n) { return t.scale.getLabel(n) } } function jC(t, e) { return t.type === "category" ? t.scale.getLabel(e) : e.value } function pme(t) { var e = t.model, r = t.scale; if (!(!e.get(["axisLabel", "show"]) || r.isBlank())) { var n, a, i = r.getExtent(); r instanceof YC ? a = r.count() : (n = r.getTicks(), a = n.length); var o = t.getLabelModel(), s = lg(t), l, u = 1; a > 40 && (u = Math.ceil(a / 40)); for (var c = 0; c < a; c += u) { var f = n ? n[c] : { value: i[0] + c }, h = s(f, c), d = o.getTextRect(h), v = gme(d, o.get("rotate") || 0); l ? l.union(v) : l = v } return l } } function gme(t, e) { var r = e * Math.PI / 180, n = t.width, a = t.height, i = n * Math.abs(Math.cos(r)) + Math.abs(a * Math.sin(r)), o = n * Math.abs(Math.sin(r)) + Math.abs(a * Math.cos(r)), s = new wt(t.x, t.y, i, o); return s } function ZC(t) { var e = t.get("interval"); return e ?? "auto" } function gV(t) { return t.type === "category" && ZC(t.getLabelModel()) === 0 } function S0(t, e) { var r = {}; return E(t.mapDimensionsAll(e), function (n) { r[Q6(t, n)] = !0 }), Nt(r) } function mme(t, e, r) { e && E(S0(e, r), function (n) { var a = e.getApproximateExtent(n); a[0] < t[0] && (t[0] = a[0]), a[1] > t[1] && (t[1] = a[1]) }) } var ug = function () { function t() { } return t.prototype.getNeedCrossZero = function () { var e = this.option; return !e.scale }, t.prototype.getCoordSysModel = function () { }, t }(), HR = [], yme = { registerPreprocessor: U6, registerProcessor: W6, registerPostInit: hge, registerPostUpdate: dge, registerUpdateLifecycle: zC, registerAction: Uo, registerCoordinateSystem: vge, registerLayout: pge, registerVisual: Kc, registerTransform: mge, registerLoading: G6, registerMap: gge, registerImpl: jpe, PRIORITY: oge, ComponentModel: Yt, ComponentView: Kr, SeriesModel: $r, ChartView: Ar, registerComponentModel: function (t) { Yt.registerClass(t) }, registerComponentView: function (t) { Kr.registerClass(t) }, registerSeriesModel: function (t) { $r.registerClass(t) }, registerChartView: function (t) { Ar.registerClass(t) }, registerSubTypeDefaulter: function (t, e) { Yt.registerSubTypeDefaulter(t, e) }, registerPainter: function (t, e) { Hce(t, e) } }; function Dt(t) { if (me(t)) { E(t, function (e) { Dt(e) }); return } Ct(HR, t) >= 0 || (HR.push(t), je(t) && (t = { install: t }), t.install(yme)) } var _me = 1e-8; function YR(t, e) { return Math.abs(t - e) < _me } function nc(t, e, r) { var n = 0, a = t[0]; if (!a) return !1; for (var i = 1; i < t.length; i++) { var o = t[i]; n += us(a[0], a[1], o[0], o[1], e, r), a = o } var s = t[0]; return (!YR(a[0], s[0]) || !YR(a[1], s[1])) && (n += us(a[0], a[1], s[0], s[1], e, r)), n !== 0 } var bme = []; function Nw(t, e) { for (var r = 0; r < t.length; r++)Hn(t[r], t[r], e) } function UR(t, e, r, n) { for (var a = 0; a < t.length; a++) { var i = t[a]; n && (i = n.project(i)), i && isFinite(i[0]) && isFinite(i[1]) && (xl(e, e, i), Tl(r, r, i)) } } function wme(t) { for (var e = 0, r = 0, n = 0, a = t.length, i = t[a - 1][0], o = t[a - 1][1], s = 0; s < a; s++) { var l = t[s][0], u = t[s][1], c = i * u - l * o; e += c, r += (i + l) * c, n += (o + u) * c, i = l, o = u } return e ? [r / e / 3, n / e / 3, e] : [t[0][0] || 0, t[0][1] || 0] } var mV = function () { function t(e) { this.name = e } return t.prototype.setCenter = function (e) { this._center = e }, t.prototype.getCenter = function () { var e = this._center; return e || (e = this._center = this.calcCenter()), e }, t }(), WR = function () { function t(e, r) { this.type = "polygon", this.exterior = e, this.interiors = r } return t }(), GR = function () { function t(e) { this.type = "linestring", this.points = e } return t }(), yV = function (t) { ae(e, t); function e(r, n, a) { var i = t.call(this, r) || this; return i.type = "geoJSON", i.geometries = n, i._center = a && [a[0], a[1]], i } return e.prototype.calcCenter = function () { for (var r = this.geometries, n, a = 0, i = 0; i < r.length; i++) { var o = r[i], s = o.exterior, l = s && s.length; l > a && (n = o, a = l) } if (n) return wme(n.exterior); var u = this.getBoundingRect(); return [u.x + u.width / 2, u.y + u.height / 2] }, e.prototype.getBoundingRect = function (r) { var n = this._rect; if (n && !r) return n; var a = [1 / 0, 1 / 0], i = [-1 / 0, -1 / 0], o = this.geometries; return E(o, function (s) { s.type === "polygon" ? UR(s.exterior, a, i, r) : E(s.points, function (l) { UR(l, a, i, r) }) }), isFinite(a[0]) && isFinite(a[1]) && isFinite(i[0]) && isFinite(i[1]) || (a[0] = a[1] = i[0] = i[1] = 0), n = new wt(a[0], a[1], i[0] - a[0], i[1] - a[1]), r || (this._rect = n), n }, e.prototype.contain = function (r) { var n = this.getBoundingRect(), a = this.geometries; if (!n.contain(r[0], r[1])) return !1; e: for (var i = 0, o = a.length; i < o; i++) { var s = a[i]; if (s.type === "polygon") { var l = s.exterior, u = s.interiors; if (nc(l, r[0], r[1])) { for (var c = 0; c < (u ? u.length : 0); c++)if (nc(u[c], r[0], r[1])) continue e; return !0 } } } return !1 }, e.prototype.transformTo = function (r, n, a, i) { var o = this.getBoundingRect(), s = o.width / o.height; a ? i || (i = a / s) : a = s * i; for (var l = new wt(r, n, a, i), u = o.calculateTransform(l), c = this.geometries, f = 0; f < c.length; f++) { var h = c[f]; h.type === "polygon" ? (Nw(h.exterior, u), E(h.interiors, function (d) { Nw(d, u) })) : E(h.points, function (d) { Nw(d, u) }) } o = this._rect, o.copy(l), this._center = [o.x + o.width / 2, o.y + o.height / 2] }, e.prototype.cloneShallow = function (r) { r == null && (r = this.name); var n = new e(r, this.geometries, this._center); return n._rect = this._rect, n.transformTo = null, n }, e }(mV), Sme = function (t) { ae(e, t); function e(r, n) { var a = t.call(this, r) || this; return a.type = "geoSVG", a._elOnlyForCalculate = n, a } return e.prototype.calcCenter = function () { for (var r = this._elOnlyForCalculate, n = r.getBoundingRect(), a = [n.x + n.width / 2, n.y + n.height / 2], i = Y_(bme), o = r; o && !o.isGeoSVGGraphicRoot;)xs(i, o.getLocalTransform(), i), o = o.parent; return zh(i, i), Hn(a, a, i), a }, e }(mV); function xme(t) { if (!t.UTF8Encoding) return t; var e = t, r = e.UTF8Scale; r == null && (r = 1024); var n = e.features; return E(n, function (a) { var i = a.geometry, o = i.encodeOffsets, s = i.coordinates; if (o) switch (i.type) { case "LineString": i.coordinates = _V(s, o, r); break; case "Polygon": $w(s, o, r); break; case "MultiLineString": $w(s, o, r); break; case "MultiPolygon": E(s, function (l, u) { return $w(l, o[u], r) }) } }), e.UTF8Encoding = !1, e } function $w(t, e, r) { for (var n = 0; n < t.length; n++)t[n] = _V(t[n], e[n], r) } function _V(t, e, r) { for (var n = [], a = e[0], i = e[1], o = 0; o < t.length; o += 2) { var s = t.charCodeAt(o) - 64, l = t.charCodeAt(o + 1) - 64; s = s >> 1 ^ -(s & 1), l = l >> 1 ^ -(l & 1), s += a, l += i, a = s, i = l, n.push([s / r, l / r]) } return n } function Tme(t, e) { return t = xme(t), _e(hr(t.features, function (r) { return r.geometry && r.properties && r.geometry.coordinates.length > 0 }), function (r) { var n = r.properties, a = r.geometry, i = []; switch (a.type) { case "Polygon": var o = a.coordinates; i.push(new WR(o[0], o.slice(1))); break; case "MultiPolygon": E(a.coordinates, function (l) { l[0] && i.push(new WR(l[0], l.slice(1))) }); break; case "LineString": i.push(new GR([a.coordinates])); break; case "MultiLineString": i.push(new GR(a.coordinates)) }var s = new yV(n[e || "name"], i, n.cp); return s.properties = n, s }) } var wp = zt(); function Dme(t) { return t.type === "category" ? Mme(t) : Ame(t) } function Cme(t, e) { return t.type === "category" ? kme(t, e) : { ticks: _e(t.scale.getTicks(), function (r) { return r.value }) } } function Mme(t) { var e = t.getLabelModel(), r = bV(t, e); return !e.get("show") || t.scale.isBlank() ? { labels: [], labelCategoryInterval: r.labelCategoryInterval } : r } function bV(t, e) { var r = wV(t, "labels"), n = ZC(e), a = SV(r, n); if (a) return a; var i, o; return je(n) ? i = DV(t, n) : (o = n === "auto" ? Lme(t) : n, i = TV(t, o)), xV(r, n, { labels: i, labelCategoryInterval: o }) } function kme(t, e) { var r = wV(t, "ticks"), n = ZC(e), a = SV(r, n); if (a) return a; var i, o; if ((!e.get("show") || t.scale.isBlank()) && (i = []), je(n)) i = DV(t, n, !0); else if (n === "auto") { var s = bV(t, t.getLabelModel()); o = s.labelCategoryInterval, i = _e(s.labels, function (l) { return l.tickValue }) } else o = n, i = TV(t, o, !0); return xV(r, n, { ticks: i, tickCategoryInterval: o }) } function Ame(t) { var e = t.scale.getTicks(), r = lg(t); return { labels: _e(e, function (n, a) { return { level: n.level, formattedLabel: r(n, a), rawLabel: t.scale.getLabel(n), tickValue: n.value } }) } } function wV(t, e) { return wp(t)[e] || (wp(t)[e] = []) } function SV(t, e) { for (var r = 0; r < t.length; r++)if (t[r].key === e) return t[r].value } function xV(t, e, r) { return t.push({ key: e, value: r }), r } function Lme(t) { var e = wp(t).autoInterval; return e ?? (wp(t).autoInterval = t.calculateCategoryInterval()) } function Ime(t) { var e = Pme(t), r = lg(t), n = (e.axisRotate - e.labelRotate) / 180 * Math.PI, a = t.scale, i = a.getExtent(), o = a.count(); if (i[1] - i[0] < 1) return 0; var s = 1; o > 40 && (s = Math.max(1, Math.floor(o / 40))); for (var l = i[0], u = t.dataToCoord(l + 1) - t.dataToCoord(l), c = Math.abs(u * Math.cos(n)), f = Math.abs(u * Math.sin(n)), h = 0, d = 0; l <= i[1]; l += s) { var v = 0, p = 0, g = Kp(r({ value: l }), e.font, "center", "top"); v = g.width * 1.3, p = g.height * 1.3, h = Math.max(h, v, 7), d = Math.max(d, p, 7) } var m = h / c, y = d / f; isNaN(m) && (m = 1 / 0), isNaN(y) && (y = 1 / 0); var _ = Math.max(0, Math.floor(Math.min(m, y))), b = wp(t.model), x = t.getExtent(), S = b.lastAutoInterval, T = b.lastTickCount; return S != null && T != null && Math.abs(S - _) <= 1 && Math.abs(T - o) <= 1 && S > _ && b.axisExtent0 === x[0] && b.axisExtent1 === x[1] ? _ = S : (b.lastTickCount = o, b.lastAutoInterval = _, b.axisExtent0 = x[0], b.axisExtent1 = x[1]), _ } function Pme(t) { var e = t.getLabelModel(); return { axisRotate: t.getRotate ? t.getRotate() : t.isHorizontal && !t.isHorizontal() ? 90 : 0, labelRotate: e.get("rotate") || 0, font: e.getFont() } } function TV(t, e, r) { var n = lg(t), a = t.scale, i = a.getExtent(), o = t.getLabelModel(), s = [], l = Math.max((e || 0) + 1, 1), u = i[0], c = a.count(); u !== 0 && l > 1 && c / l > 2 && (u = Math.round(Math.ceil(u / l) * l)); var f = gV(t), h = o.get("showMinLabel") || f, d = o.get("showMaxLabel") || f; h && u !== i[0] && p(i[0]); for (var v = u; v <= i[1]; v += l)p(v); d && v - l !== i[1] && p(i[1]); function p(g) { var m = { value: g }; s.push(r ? g : { formattedLabel: n(m), rawLabel: a.getLabel(m), tickValue: g }) } return s } function DV(t, e, r) { var n = t.scale, a = lg(t), i = []; return E(n.getTicks(), function (o) { var s = n.getLabel(o), l = o.value; e(o.value, s) && i.push(r ? l : { formattedLabel: a(o), rawLabel: s, tickValue: l }) }), i } var jR = [0, 1], Rme = function () { function t(e, r, n) { this.onBand = !1, this.inverse = !1, this.dim = e, this.scale = r, this._extent = n || [0, 0] } return t.prototype.contain = function (e) { var r = this._extent, n = Math.min(r[0], r[1]), a = Math.max(r[0], r[1]); return e >= n && e <= a }, t.prototype.containData = function (e) { return this.scale.contain(e) }, t.prototype.getExtent = function () { return this._extent.slice() }, t.prototype.getPixelPrecision = function (e) { return sF(e || this.scale.getExtent(), this._extent) }, t.prototype.setExtent = function (e, r) { var n = this._extent; n[0] = e, n[1] = r }, t.prototype.dataToCoord = function (e, r) { var n = this._extent, a = this.scale; return e = a.normalize(e), this.onBand && a.type === "ordinal" && (n = n.slice(), ZR(n, a.count())), sr(e, jR, n, r) }, t.prototype.coordToData = function (e, r) { var n = this._extent, a = this.scale; this.onBand && a.type === "ordinal" && (n = n.slice(), ZR(n, a.count())); var i = sr(e, n, jR, r); return this.scale.scale(i) }, t.prototype.pointToData = function (e, r) { }, t.prototype.getTicksCoords = function (e) { e = e || {}; var r = e.tickModel || this.getTickModel(), n = Cme(this, r), a = n.ticks, i = _e(a, function (s) { return { coord: this.dataToCoord(this.scale.type === "ordinal" ? this.scale.getRawOrdinalNumber(s) : s), tickValue: s } }, this), o = r.get("alignWithLabel"); return Ome(this, i, o, e.clamp), i }, t.prototype.getMinorTicksCoords = function () { if (this.scale.type === "ordinal") return []; var e = this.model.getModel("minorTick"), r = e.get("splitNumber"); r > 0 && r < 100 || (r = 5); var n = this.scale.getMinorTicks(r), a = _e(n, function (i) { return _e(i, function (o) { return { coord: this.dataToCoord(o), tickValue: o } }, this) }, this); return a }, t.prototype.getViewLabels = function () { return Dme(this).labels }, t.prototype.getLabelModel = function () { return this.model.getModel("axisLabel") }, t.prototype.getTickModel = function () { return this.model.getModel("axisTick") }, t.prototype.getBandWidth = function () { var e = this._extent, r = this.scale.getExtent(), n = r[1] - r[0] + (this.onBand ? 1 : 0); n === 0 && (n = 1); var a = Math.abs(e[1] - e[0]); return Math.abs(a) / n }, t.prototype.calculateCategoryInterval = function () { return Ime(this) }, t }(); function ZR(t, e) { var r = t[1] - t[0], n = e, a = r / n / 2; t[0] += a, t[1] -= a } function Ome(t, e, r, n) { var a = e.length; if (!t.onBand || r || !a) return; var i = t.getExtent(), o, s; if (a === 1) e[0].coord = i[0], o = e[1] = { coord: i[1] }; else { var l = e[a - 1].tickValue - e[0].tickValue, u = (e[a - 1].coord - e[0].coord) / l; E(e, function (d) { d.coord -= u / 2 }); var c = t.scale.getExtent(); s = 1 + c[1] - e[a - 1].tickValue, o = { coord: e[a - 1].coord + u * s }, e.push(o) } var f = i[0] > i[1]; h(e[0].coord, i[0]) && (n ? e[0].coord = i[0] : e.shift()), n && h(i[0], e[0].coord) && e.unshift({ coord: i[0] }), h(i[1], o.coord) && (n ? o.coord = i[1] : e.pop()), n && h(o.coord, i[1]) && e.push({ coord: i[1] }); function h(d, v) { return d = en(d), v = en(v), f ? d > v : d < v } } const Ji = Rme; var Fd = Math.PI * 2, Fu = No.CMD, Eme = ["top", "right", "bottom", "left"]; function Nme(t, e, r, n, a) { var i = r.width, o = r.height; switch (t) { case "top": n.set(r.x + i / 2, r.y - e), a.set(0, -1); break; case "bottom": n.set(r.x + i / 2, r.y + o + e), a.set(0, 1); break; case "left": n.set(r.x - e, r.y + o / 2), a.set(-1, 0); break; case "right": n.set(r.x + i + e, r.y + o / 2), a.set(1, 0); break } } function $me(t, e, r, n, a, i, o, s, l) { o -= t, s -= e; var u = Math.sqrt(o * o + s * s); o /= u, s /= u; var c = o * r + t, f = s * r + e; if (Math.abs(n - a) % Fd < 1e-4) return l[0] = c, l[1] = f, u - r; if (i) { var h = n; n = Bi(a), a = Bi(h) } else n = Bi(n), a = Bi(a); n > a && (a += Fd); var d = Math.atan2(s, o); if (d < 0 && (d += Fd), d >= n && d <= a || d + Fd >= n && d + Fd <= a) return l[0] = c, l[1] = f, u - r; var v = r * Math.cos(n) + t, p = r * Math.sin(n) + e, g = r * Math.cos(a) + t, m = r * Math.sin(a) + e, y = (v - o) * (v - o) + (p - s) * (p - s), _ = (g - o) * (g - o) + (m - s) * (m - s); return y < _ ? (l[0] = v, l[1] = p, Math.sqrt(y)) : (l[0] = g, l[1] = m, Math.sqrt(_)) } function x0(t, e, r, n, a, i, o, s) { var l = a - t, u = i - e, c = r - t, f = n - e, h = Math.sqrt(c * c + f * f); c /= h, f /= h; var d = l * c + u * f, v = d / h; s && (v = Math.min(Math.max(v, 0), 1)), v *= h; var p = o[0] = t + v * c, g = o[1] = e + v * f; return Math.sqrt((p - a) * (p - a) + (g - i) * (g - i)) } function CV(t, e, r, n, a, i, o) { r < 0 && (t = t + r, r = -r), n < 0 && (e = e + n, n = -n); var s = t + r, l = e + n, u = o[0] = Math.min(Math.max(a, t), s), c = o[1] = Math.min(Math.max(i, e), l); return Math.sqrt((u - a) * (u - a) + (c - i) * (c - i)) } var Oi = []; function Fme(t, e, r) { var n = CV(e.x, e.y, e.width, e.height, t.x, t.y, Oi); return r.set(Oi[0], Oi[1]), n } function Bme(t, e, r) { for (var n = 0, a = 0, i = 0, o = 0, s, l, u = 1 / 0, c = e.data, f = t.x, h = t.y, d = 0; d < c.length;) { var v = c[d++]; d === 1 && (n = c[d], a = c[d + 1], i = n, o = a); var p = u; switch (v) { case Fu.M: i = c[d++], o = c[d++], n = i, a = o; break; case Fu.L: p = x0(n, a, c[d], c[d + 1], f, h, Oi, !0), n = c[d++], a = c[d++]; break; case Fu.C: p = z4(n, a, c[d++], c[d++], c[d++], c[d++], c[d], c[d + 1], f, h, Oi), n = c[d++], a = c[d++]; break; case Fu.Q: p = Y4(n, a, c[d++], c[d++], c[d], c[d + 1], f, h, Oi), n = c[d++], a = c[d++]; break; case Fu.A: var g = c[d++], m = c[d++], y = c[d++], _ = c[d++], b = c[d++], x = c[d++]; d += 1; var S = !!(1 - c[d++]); s = Math.cos(b) * y + g, l = Math.sin(b) * _ + m, d <= 1 && (i = s, o = l); var T = (f - g) * _ / y + g; p = $me(g, m, _, b, b + x, S, T, h, Oi), n = Math.cos(b + x) * y + g, a = Math.sin(b + x) * _ + m; break; case Fu.R: i = n = c[d++], o = a = c[d++]; var C = c[d++], M = c[d++]; p = CV(i, o, C, M, f, h, Oi); break; case Fu.Z: p = x0(n, a, i, o, f, h, Oi, !0), n = i, a = o; break }p < u && (u = p, r.set(Oi[0], Oi[1])) } return u } var Vi = new gt, Tr = new gt, rn = new gt, To = new gt, go = new gt; function qR(t, e) { if (t) { var r = t.getTextGuideLine(), n = t.getTextContent(); if (n && r) { var a = t.textGuideLineConfig || {}, i = [[0, 0], [0, 0], [0, 0]], o = a.candidates || Eme, s = n.getBoundingRect().clone(); s.applyTransform(n.getComputedTransform()); var l = 1 / 0, u = a.anchor, c = t.getComputedTransform(), f = c && zh([], c), h = e.get("length2") || 0; u && rn.copy(u); for (var d = 0; d < o.length; d++) { var v = o[d]; Nme(v, 0, s, Vi, To), gt.scaleAndAdd(Tr, Vi, To, h), Tr.transform(f); var p = t.getBoundingRect(), g = u ? u.distance(Tr) : t instanceof At ? Bme(Tr, t.path, rn) : Fme(Tr, p, rn); g < l && (l = g, Tr.transform(c), rn.transform(c), rn.toArray(i[0]), Tr.toArray(i[1]), Vi.toArray(i[2])) } MV(i, e.get("minTurnAngle")), r.setShape({ points: i }) } } } var T0 = [], ha = new gt; function MV(t, e) { if (e <= 180 && e > 0) { e = e / 180 * Math.PI, Vi.fromArray(t[0]), Tr.fromArray(t[1]), rn.fromArray(t[2]), gt.sub(To, Vi, Tr), gt.sub(go, rn, Tr); var r = To.len(), n = go.len(); if (!(r < .001 || n < .001)) { To.scale(1 / r), go.scale(1 / n); var a = To.dot(go), i = Math.cos(e); if (i < a) { var o = x0(Tr.x, Tr.y, rn.x, rn.y, Vi.x, Vi.y, T0, !1); ha.fromArray(T0), ha.scaleAndAdd(go, o / Math.tan(Math.PI - e)); var s = rn.x !== Tr.x ? (ha.x - Tr.x) / (rn.x - Tr.x) : (ha.y - Tr.y) / (rn.y - Tr.y); if (isNaN(s)) return; s < 0 ? gt.copy(ha, Tr) : s > 1 && gt.copy(ha, rn), ha.toArray(t[1]) } } } } function Vme(t, e, r) { if (r <= 180 && r > 0) { r = r / 180 * Math.PI, Vi.fromArray(t[0]), Tr.fromArray(t[1]), rn.fromArray(t[2]), gt.sub(To, Tr, Vi), gt.sub(go, rn, Tr); var n = To.len(), a = go.len(); if (!(n < .001 || a < .001)) { To.scale(1 / n), go.scale(1 / a); var i = To.dot(e), o = Math.cos(r); if (i < o) { var s = x0(Tr.x, Tr.y, rn.x, rn.y, Vi.x, Vi.y, T0, !1); ha.fromArray(T0); var l = Math.PI / 2, u = Math.acos(go.dot(e)), c = l + u - r; if (c >= l) gt.copy(ha, rn); else { ha.scaleAndAdd(go, s / Math.tan(Math.PI / 2 - c)); var f = rn.x !== Tr.x ? (ha.x - Tr.x) / (rn.x - Tr.x) : (ha.y - Tr.y) / (rn.y - Tr.y); if (isNaN(f)) return; f < 0 ? gt.copy(ha, Tr) : f > 1 && gt.copy(ha, rn) } ha.toArray(t[1]) } } } } function XR(t, e, r, n) { var a = r === "normal", i = a ? t : t.ensureState(r); i.ignore = e; var o = n.get("smooth"); o && o === !0 && (o = .3), i.shape = i.shape || {}, o > 0 && (i.shape.smooth = o); var s = n.getModel("lineStyle").getLineStyle(); a ? t.useStyle(s) : i.style = s } function zme(t, e) { var r = e.smooth, n = e.points; if (n) if (t.moveTo(n[0][0], n[0][1]), r > 0 && n.length >= 3) { var a = Sl(n[0], n[1]), i = Sl(n[1], n[2]); if (!a || !i) { t.lineTo(n[1][0], n[1][1]), t.lineTo(n[2][0], n[2][1]); return } var o = Math.min(a, i) * r, s = vy([], n[1], n[0], o / a), l = vy([], n[1], n[2], o / i), u = vy([], s, l, .5); t.bezierCurveTo(s[0], s[1], s[0], s[1], u[0], u[1]), t.bezierCurveTo(l[0], l[1], l[0], l[1], n[2][0], n[2][1]) } else for (var c = 1; c < n.length; c++)t.lineTo(n[c][0], n[c][1]) } function qC(t, e, r) { var n = t.getTextGuideLine(), a = t.getTextContent(); if (!a) { n && t.removeTextGuideLine(); return } for (var i = e.normal, o = i.get("show"), s = a.ignore, l = 0; l < fp.length; l++) { var u = fp[l], c = e[u], f = u === "normal"; if (c) { var h = c.get("show"), d = f ? s : _t(a.states[u] && a.states[u].ignore, s); if (d || !_t(h, o)) { var v = f ? n : n && n.states[u]; v && (v.ignore = !0); continue } n || (n = new Na, t.setTextGuideLine(n), !f && (s || !o) && XR(n, !0, "normal", e.normal), t.stateProxy && (n.stateProxy = t.stateProxy)), XR(n, !1, u, c) } } if (n) { Xe(n.style, r), n.style.fill = null; var p = i.get("showAbove"), g = t.textGuideLineConfig = t.textGuideLineConfig || {}; g.showAbove = p || !1, n.buildPath = zme } } function XC(t, e) { e = e || "labelLine"; for (var r = { normal: t.getModel(e) }, n = 0; n < _a.length; n++) { var a = _a[n]; r[a] = t.getModel([a, e]) } return r } function kV(t) { for (var e = [], r = 0; r < t.length; r++) { var n = t[r]; if (!n.defaultAttr.ignore) { var a = n.label, i = a.getComputedTransform(), o = a.getBoundingRect(), s = !i || i[1] < 1e-5 && i[2] < 1e-5, l = a.style.margin || 0, u = o.clone(); u.applyTransform(i), u.x -= l / 2, u.y -= l / 2, u.width += l, u.height += l; var c = s ? new l0(o, i) : null; e.push({ label: a, labelLine: n.labelLine, rect: u, localRect: o, obb: c, priority: n.priority, defaultAttr: n.defaultAttr, layoutOption: n.computedLayoutOption, axisAligned: s, transform: i }) } } return e } function AV(t, e, r, n, a, i) { var o = t.length; if (o < 2) return; t.sort(function (C, M) { return C.rect[e] - M.rect[e] }); for (var s = 0, l, u = !1, c = 0, f = 0; f < o; f++) { var h = t[f], d = h.rect; l = d[e] - s, l < 0 && (d[e] -= l, h.label[e] -= l, u = !0); var v = Math.max(-l, 0); c += v, s = d[e] + d[r] } c > 0 && i && x(-c / o, 0, o); var p = t[0], g = t[o - 1], m, y; _(), m < 0 && S(-m, .8), y < 0 && S(y, .8), _(), b(m, y, 1), b(y, m, -1), _(), m < 0 && T(-m), y < 0 && T(y); function _() { m = p.rect[e] - n, y = a - g.rect[e] - g.rect[r] } function b(C, M, k) { if (C < 0) { var A = Math.min(M, -C); if (A > 0) { x(A * k, 0, o); var R = A + C; R < 0 && S(-R * k, 1) } else S(-C * k, 1) } } function x(C, M, k) { C !== 0 && (u = !0); for (var A = M; A < k; A++) { var R = t[A], N = R.rect; N[e] += C, R.label[e] += C } } function S(C, M) { for (var k = [], A = 0, R = 1; R < o; R++) { var N = t[R - 1].rect, z = Math.max(t[R].rect[e] - N[e] - N[r], 0); k.push(z), A += z } if (A) { var F = Math.min(Math.abs(C) / A, M); if (C > 0) for (var R = 0; R < o - 1; R++) { var V = k[R] * F; x(V, 0, R + 1) } else for (var R = o - 1; R > 0; R--) { var V = k[R - 1] * F; x(-V, R, o) } } } function T(C) { var M = C < 0 ? -1 : 1; C = Math.abs(C); for (var k = Math.ceil(C / (o - 1)), A = 0; A < o - 1; A++)if (M > 0 ? x(k, 0, A + 1) : x(-k, o - A - 1, o), C -= k, C <= 0) return } return u } function Hme(t, e, r, n) { return AV(t, "x", "width", e, r, n) } function LV(t, e, r, n) { return AV(t, "y", "height", e, r, n) } function IV(t) { var e = []; t.sort(function (p, g) { return g.priority - p.priority }); var r = new wt(0, 0, 0, 0); function n(p) { if (!p.ignore) { var g = p.ensureState("emphasis"); g.ignore == null && (g.ignore = !1) } p.ignore = !0 } for (var a = 0; a < t.length; a++) { var i = t[a], o = i.axisAligned, s = i.localRect, l = i.transform, u = i.label, c = i.labelLine; r.copy(i.rect), r.width -= .1, r.height -= .1, r.x += .05, r.y += .05; for (var f = i.obb, h = !1, d = 0; d < e.length; d++) { var v = e[d]; if (r.intersect(v.rect)) { if (o && v.axisAligned) { h = !0; break } if (v.obb || (v.obb = new l0(v.localRect, v.transform)), f || (f = new l0(s, l)), f.intersect(v.obb)) { h = !0; break } } } h ? (n(u), c && n(c)) : (u.attr("ignore", i.defaultAttr.ignore), c && c.attr("ignore", i.defaultAttr.labelGuideIgnore), e.push(i)) } } function Yme(t) { if (t) { for (var e = [], r = 0; r < t.length; r++)e.push(t[r].slice()); return e } } function Ume(t, e) { var r = t.label, n = e && e.getTextGuideLine(); return { dataIndex: t.dataIndex, dataType: t.dataType, seriesIndex: t.seriesModel.seriesIndex, text: t.label.style.text, rect: t.hostRect, labelRect: t.rect, align: r.style.align, verticalAlign: r.style.verticalAlign, labelLinePoints: Yme(n && n.shape.points) } } var KR = ["align", "verticalAlign", "width", "height", "fontSize"], oa = new ps, Fw = zt(), Wme = zt(); function Cm(t, e, r) { for (var n = 0; n < r.length; n++) { var a = r[n]; e[a] != null && (t[a] = e[a]) } } var Mm = ["x", "y", "rotation"], Gme = function () { function t() { this._labelList = [], this._chartViewList = [] } return t.prototype.clearLabels = function () { this._labelList = [], this._chartViewList = [] }, t.prototype._addLabel = function (e, r, n, a, i) { var o = a.style, s = a.__hostTarget, l = s.textConfig || {}, u = a.getComputedTransform(), c = a.getBoundingRect().plain(); wt.applyTransform(c, c, u), u ? oa.setLocalTransform(u) : (oa.x = oa.y = oa.rotation = oa.originX = oa.originY = 0, oa.scaleX = oa.scaleY = 1), oa.rotation = Bi(oa.rotation); var f = a.__hostTarget, h; if (f) { h = f.getBoundingRect().plain(); var d = f.getComputedTransform(); wt.applyTransform(h, h, d) } var v = h && f.getTextGuideLine(); this._labelList.push({ label: a, labelLine: v, seriesModel: n, dataIndex: e, dataType: r, layoutOption: i, computedLayoutOption: null, rect: c, hostRect: h, priority: h ? h.width * h.height : 0, defaultAttr: { ignore: a.ignore, labelGuideIgnore: v && v.ignore, x: oa.x, y: oa.y, scaleX: oa.scaleX, scaleY: oa.scaleY, rotation: oa.rotation, style: { x: o.x, y: o.y, align: o.align, verticalAlign: o.verticalAlign, width: o.width, height: o.height, fontSize: o.fontSize }, cursor: a.cursor, attachedPos: l.position, attachedRot: l.rotation } }) }, t.prototype.addLabelsOfSeries = function (e) { var r = this; this._chartViewList.push(e); var n = e.__model, a = n.get("labelLayout"); (je(a) || Nt(a).length) && e.group.traverse(function (i) { if (i.ignore) return !0; var o = i.getTextContent(), s = lt(i); o && !o.disableLabelLayout && r._addLabel(s.dataIndex, s.dataType, n, o, a) }) }, t.prototype.updateLayoutConfig = function (e) { var r = e.getWidth(), n = e.getHeight(); function a(_, b) { return function () { qR(_, b) } } for (var i = 0; i < this._labelList.length; i++) { var o = this._labelList[i], s = o.label, l = s.__hostTarget, u = o.defaultAttr, c = void 0; je(o.layoutOption) ? c = o.layoutOption(Ume(o, l)) : c = o.layoutOption, c = c || {}, o.computedLayoutOption = c; var f = Math.PI / 180; l && l.setTextConfig({ local: !1, position: c.x != null || c.y != null ? null : u.attachedPos, rotation: c.rotate != null ? c.rotate * f : u.attachedRot, offset: [c.dx || 0, c.dy || 0] }); var h = !1; if (c.x != null ? (s.x = Ae(c.x, r), s.setStyle("x", 0), h = !0) : (s.x = u.x, s.setStyle("x", u.style.x)), c.y != null ? (s.y = Ae(c.y, n), s.setStyle("y", 0), h = !0) : (s.y = u.y, s.setStyle("y", u.style.y)), c.labelLinePoints) { var d = l.getTextGuideLine(); d && (d.setShape({ points: c.labelLinePoints }), h = !1) } var v = Fw(s); v.needsUpdateLabelLine = h, s.rotation = c.rotate != null ? c.rotate * f : u.rotation, s.scaleX = u.scaleX, s.scaleY = u.scaleY; for (var p = 0; p < KR.length; p++) { var g = KR[p]; s.setStyle(g, c[g] != null ? c[g] : u.style[g]) } if (c.draggable) { if (s.draggable = !0, s.cursor = "move", l) { var m = o.seriesModel; if (o.dataIndex != null) { var y = o.seriesModel.getData(o.dataType); m = y.getItemModel(o.dataIndex) } s.on("drag", a(l, m.getModel("labelLine"))) } } else s.off("drag"), s.cursor = u.cursor } }, t.prototype.layout = function (e) { var r = e.getWidth(), n = e.getHeight(), a = kV(this._labelList), i = hr(a, function (l) { return l.layoutOption.moveOverlap === "shiftX" }), o = hr(a, function (l) { return l.layoutOption.moveOverlap === "shiftY" }); Hme(i, 0, r), LV(o, 0, n); var s = hr(a, function (l) { return l.layoutOption.hideOverlap }); IV(s) }, t.prototype.processLabelsOverall = function () { var e = this; E(this._chartViewList, function (r) { var n = r.__model, a = r.ignoreLabelLineUpdate, i = n.isAnimationEnabled(); r.group.traverse(function (o) { if (o.ignore && !o.forceLabelAnimation) return !0; var s = !a, l = o.getTextContent(); !s && l && (s = Fw(l).needsUpdateLabelLine), s && e._updateLabelLine(o, n), i && e._animateLabels(o, n) }) }) }, t.prototype._updateLabelLine = function (e, r) { var n = e.getTextContent(), a = lt(e), i = a.dataIndex; if (n && i != null) { var o = r.getData(a.dataType), s = o.getItemModel(i), l = {}, u = o.getItemVisual(i, "style"); if (u) { var c = o.getVisual("drawType"); l.stroke = u[c] } var f = s.getModel("labelLine"); qC(e, XC(s), l), qR(e, f) } }, t.prototype._animateLabels = function (e, r) { var n = e.getTextContent(), a = e.getTextGuideLine(); if (n && (e.forceLabelAnimation || !n.ignore && !n.invisible && !e.disableLabelAnimation && !uh(e))) { var i = Fw(n), o = i.oldLayout, s = lt(e), l = s.dataIndex, u = { x: n.x, y: n.y, rotation: n.rotation }, c = r.getData(s.dataType); if (o) { n.attr(o); var h = e.prevStates; h && (Ct(h, "select") >= 0 && n.attr(i.oldLayoutSelect), Ct(h, "emphasis") >= 0 && n.attr(i.oldLayoutEmphasis)), jt(n, u, r, l) } else if (n.attr(u), !Gh(n).valueAnimation) { var f = _t(n.style.opacity, 1); n.style.opacity = 0, Or(n, { style: { opacity: f } }, r, l) } if (i.oldLayout = u, n.states.select) { var d = i.oldLayoutSelect = {}; Cm(d, u, Mm), Cm(d, n.states.select, Mm) } if (n.states.emphasis) { var v = i.oldLayoutEmphasis = {}; Cm(v, u, Mm), Cm(v, n.states.emphasis, Mm) } mB(n, l, c, r, r) } if (a && !a.ignore && !a.invisible) { var i = Wme(a), o = i.oldLayout, p = { points: a.shape.points }; o ? (a.attr({ shape: o }), jt(a, { shape: p }, r)) : (a.setShape(p), a.style.strokePercent = 0, Or(a, { style: { strokePercent: 1 } }, r)), i.oldLayout = p } }, t }(); const jme = Gme; var Bw = zt(); function KC(t) { t.registerUpdateLifecycle("series:beforeupdate", function (e, r, n) { var a = Bw(r).labelManager; a || (a = Bw(r).labelManager = new jme), a.clearLabels() }), t.registerUpdateLifecycle("series:layoutlabels", function (e, r, n) { var a = Bw(r).labelManager; n.updatedSeries.forEach(function (i) { a.addLabelsOfSeries(r.getViewOfSeriesModel(i)) }), a.updateLayoutConfig(r), a.layout(r), a.processLabelsOverall() }) } var Zme = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.hasSymbolVisual = !0, r } return e.prototype.getInitialData = function (r) { return Hs(null, this, { useEncodeDefaulter: !0 }) }, e.prototype.getLegendIcon = function (r) { var n = new it, a = gn("line", 0, r.itemHeight / 2, r.itemWidth, 0, r.lineStyle.stroke, !1); n.add(a), a.setStyle(r.lineStyle); var i = this.getData().getVisual("symbol"), o = this.getData().getVisual("symbolRotate"), s = i === "none" ? "circle" : i, l = r.itemHeight * .8, u = gn(s, (r.itemWidth - l) / 2, (r.itemHeight - l) / 2, l, l, r.itemStyle.fill); n.add(u), u.setStyle(r.itemStyle); var c = r.iconRotate === "inherit" ? o : r.iconRotate || 0; return u.rotation = c * Math.PI / 180, u.setOrigin([r.itemWidth / 2, r.itemHeight / 2]), s.indexOf("empty") > -1 && (u.style.stroke = u.style.fill, u.style.fill = "#fff", u.style.lineWidth = 2), n }, e.type = "series.line", e.dependencies = ["grid", "polar"], e.defaultOption = { z: 3, coordinateSystem: "cartesian2d", legendHoverLink: !0, clip: !0, label: { position: "top" }, endLabel: { show: !1, valueAnimation: !0, distance: 8 }, lineStyle: { width: 2, type: "solid" }, emphasis: { scale: !0 }, step: !1, smooth: !1, smoothMonotone: null, symbol: "emptyCircle", symbolSize: 4, symbolRotate: null, showSymbol: !0, showAllSymbol: "auto", connectNulls: !1, sampling: "none", animationEasing: "linear", progressive: 0, hoverLayerThreshold: 1 / 0, universalTransition: { divideShape: "clone" }, triggerLineEvent: !1 }, e }($r); const qme = Zme; function Ah(t, e) { var r = t.mapDimensionsAll("defaultedLabel"), n = r.length; if (n === 1) { var a = Ch(t, e, r[0]); return a != null ? a + "" : null } else if (n) { for (var i = [], o = 0; o < r.length; o++)i.push(Ch(t, e, r[o])); return i.join(" ") } } function PV(t, e) { var r = t.mapDimensionsAll("defaultedLabel"); if (!me(e)) return e + ""; for (var n = [], a = 0; a < r.length; a++) { var i = t.getDimensionIndex(r[a]); i >= 0 && n.push(e[i]) } return n.join(" ") } var Xme = function (t) { ae(e, t); function e(r, n, a, i) { var o = t.call(this) || this; return o.updateData(r, n, a, i), o } return e.prototype._createSymbol = function (r, n, a, i, o) { this.removeAll(); var s = gn(r, -1, -1, 2, 2, null, o); s.attr({ z2: 100, culling: !0, scaleX: i[0] / 2, scaleY: i[1] / 2 }), s.drift = Kme, this._symbolType = r, this.add(s) }, e.prototype.stopSymbolAnimation = function (r) { this.childAt(0).stopAnimation(null, r) }, e.prototype.getSymbolType = function () { return this._symbolType }, e.prototype.getSymbolPath = function () { return this.childAt(0) }, e.prototype.highlight = function () { Ps(this.childAt(0)) }, e.prototype.downplay = function () { Rs(this.childAt(0)) }, e.prototype.setZ = function (r, n) { var a = this.childAt(0); a.zlevel = r, a.z = n }, e.prototype.setDraggable = function (r, n) { var a = this.childAt(0); a.draggable = r, a.cursor = !n && r ? "move" : a.cursor }, e.prototype.updateData = function (r, n, a, i) { this.silent = !1; var o = r.getItemVisual(n, "symbol") || "circle", s = r.hostModel, l = e.getSymbolSize(r, n), u = o !== this._symbolType, c = i && i.disableAnimation; if (u) { var f = r.getItemVisual(n, "symbolKeepAspect"); this._createSymbol(o, r, n, l, f) } else { var h = this.childAt(0); h.silent = !1; var d = { scaleX: l[0] / 2, scaleY: l[1] / 2 }; c ? h.attr(d) : jt(h, d, s, n), Zi(h) } if (this._updateCommon(r, n, l, a, i), u) { var h = this.childAt(0); if (!c) { var d = { scaleX: this._sizeX, scaleY: this._sizeY, style: { opacity: h.style.opacity } }; h.scaleX = h.scaleY = 0, h.style.opacity = 0, Or(h, d, s, n) } } c && this.childAt(0).stopAnimation("leave") }, e.prototype._updateCommon = function (r, n, a, i, o) { var s = this.childAt(0), l = r.hostModel, u, c, f, h, d, v, p, g, m; if (i && (u = i.emphasisItemStyle, c = i.blurItemStyle, f = i.selectItemStyle, h = i.focus, d = i.blurScope, p = i.labelStatesModels, g = i.hoverScale, m = i.cursorStyle, v = i.emphasisDisabled), !i || r.hasItemOption) { var y = i && i.itemModel ? i.itemModel : r.getItemModel(n), _ = y.getModel("emphasis"); u = _.getModel("itemStyle").getItemStyle(), f = y.getModel(["select", "itemStyle"]).getItemStyle(), c = y.getModel(["blur", "itemStyle"]).getItemStyle(), h = _.get("focus"), d = _.get("blurScope"), v = _.get("disabled"), p = Pn(y), g = _.getShallow("scale"), m = y.getShallow("cursor") } var b = r.getItemVisual(n, "symbolRotate"); s.attr("rotation", (b || 0) * Math.PI / 180 || 0); var x = Xc(r.getItemVisual(n, "symbolOffset"), a); x && (s.x = x[0], s.y = x[1]), m && s.attr("cursor", m); var S = r.getItemVisual(n, "style"), T = S.fill; if (s instanceof Gn) { var C = s.style; s.useStyle(he({ image: C.image, x: C.x, y: C.y, width: C.width, height: C.height }, S)) } else s.__isEmptyBrush ? s.useStyle(he({}, S)) : s.useStyle(S), s.style.decal = null, s.setColor(T, o && o.symbolInnerColor), s.style.strokeNoScale = !0; var M = r.getItemVisual(n, "liftZ"), k = this._z2; M != null ? k == null && (this._z2 = s.z2, s.z2 += M) : k != null && (s.z2 = k, this._z2 = null); var A = o && o.useNameLabel; Wn(s, p, { labelFetcher: l, labelDataIndex: n, defaultText: R, inheritColor: T, defaultOpacity: S.opacity }); function R(F) { return A ? r.getName(F) : Ah(r, F) } this._sizeX = a[0] / 2, this._sizeY = a[1] / 2; var N = s.ensureState("emphasis"); N.style = u, s.ensureState("select").style = f, s.ensureState("blur").style = c; var z = g == null || g === !0 ? Math.max(1.1, 3 / this._sizeY) : isFinite(g) && g > 0 ? +g : 1; N.scaleX = this._sizeX * z, N.scaleY = this._sizeY * z, this.setSymbolScale(1), Xr(this, h, d, v) }, e.prototype.setSymbolScale = function (r) { this.scaleX = this.scaleY = r }, e.prototype.fadeOut = function (r, n, a) { var i = this.childAt(0), o = lt(this).dataIndex, s = a && a.animation; if (this.silent = i.silent = !0, a && a.fadeLabel) { var l = i.getTextContent(); l && Kl(l, { style: { opacity: 0 } }, n, { dataIndex: o, removeOpt: s, cb: function () { i.removeTextContent() } }) } else i.removeTextContent(); Kl(i, { style: { opacity: 0 }, scaleX: 0, scaleY: 0 }, n, { dataIndex: o, cb: r, removeOpt: s }) }, e.getSymbolSize = function (r, n) { return ed(r.getItemVisual(n, "symbolSize")) }, e }(it); function Kme(t, e) { this.parent.drift(t, e) } const cg = Xme; function Vw(t, e, r, n) { return e && !isNaN(e[0]) && !isNaN(e[1]) && !(n.isIgnore && n.isIgnore(r)) && !(n.clipShape && !n.clipShape.contain(e[0], e[1])) && t.getItemVisual(r, "symbol") !== "none" } function QR(t) { return t != null && !Qe(t) && (t = { isIgnore: t }), t || {} } function JR(t) { var e = t.hostModel, r = e.getModel("emphasis"); return { emphasisItemStyle: r.getModel("itemStyle").getItemStyle(), blurItemStyle: e.getModel(["blur", "itemStyle"]).getItemStyle(), selectItemStyle: e.getModel(["select", "itemStyle"]).getItemStyle(), focus: r.get("focus"), blurScope: r.get("blurScope"), emphasisDisabled: r.get("disabled"), hoverScale: r.get("scale"), labelStatesModels: Pn(e), cursorStyle: e.get("cursor") } } var Qme = function () { function t(e) { this.group = new it, this._SymbolCtor = e || cg } return t.prototype.updateData = function (e, r) { this._progressiveEls = null, r = QR(r); var n = this.group, a = e.hostModel, i = this._data, o = this._SymbolCtor, s = r.disableAnimation, l = JR(e), u = { disableAnimation: s }, c = r.getSymbolPoint || function (f) { return e.getItemLayout(f) }; i || n.removeAll(), e.diff(i).add(function (f) { var h = c(f); if (Vw(e, h, f, r)) { var d = new o(e, f, l, u); d.setPosition(h), e.setItemGraphicEl(f, d), n.add(d) } }).update(function (f, h) { var d = i.getItemGraphicEl(h), v = c(f); if (!Vw(e, v, f, r)) { n.remove(d); return } var p = e.getItemVisual(f, "symbol") || "circle", g = d && d.getSymbolType && d.getSymbolType(); if (!d || g && g !== p) n.remove(d), d = new o(e, f, l, u), d.setPosition(v); else { d.updateData(e, f, l, u); var m = { x: v[0], y: v[1] }; s ? d.attr(m) : jt(d, m, a) } n.add(d), e.setItemGraphicEl(f, d) }).remove(function (f) { var h = i.getItemGraphicEl(f); h && h.fadeOut(function () { n.remove(h) }, a) }).execute(), this._getSymbolPoint = c, this._data = e }, t.prototype.updateLayout = function () { var e = this, r = this._data; r && r.eachItemGraphicEl(function (n, a) { var i = e._getSymbolPoint(a); n.setPosition(i), n.markRedraw() }) }, t.prototype.incrementalPrepareUpdate = function (e) { this._seriesScope = JR(e), this._data = null, this.group.removeAll() }, t.prototype.incrementalUpdate = function (e, r, n) { this._progressiveEls = [], n = QR(n); function a(l) { l.isGroup || (l.incremental = !0, l.ensureState("emphasis").hoverLayer = !0) } for (var i = e.start; i < e.end; i++) { var o = r.getItemLayout(i); if (Vw(r, o, i, n)) { var s = new this._SymbolCtor(r, i, this._seriesScope); s.traverse(a), s.setPosition(o), this.group.add(s), r.setItemGraphicEl(i, s), this._progressiveEls.push(s) } } }, t.prototype.eachRendered = function (e) { ou(this._progressiveEls || this.group, e) }, t.prototype.remove = function (e) { var r = this.group, n = this._data; n && e ? n.eachItemGraphicEl(function (a) { a.fadeOut(function () { r.remove(a) }, n.hostModel) }) : r.removeAll() }, t }(); const fg = Qme; function RV(t, e, r) { var n = t.getBaseAxis(), a = t.getOtherAxis(n), i = Jme(a, r), o = n.dim, s = a.dim, l = e.mapDimension(s), u = e.mapDimension(o), c = s === "x" || s === "radius" ? 1 : 0, f = _e(t.dimensions, function (v) { return e.mapDimension(v) }), h = !1, d = e.getCalculationInfo("stackResultDimension"); return Jl(e, f[0]) && (h = !0, f[0] = d), Jl(e, f[1]) && (h = !0, f[1] = d), { dataDimsForPoint: f, valueStart: i, valueAxisDim: s, baseAxisDim: o, stacked: !!h, valueDim: l, baseDim: u, baseDataOffset: c, stackedOverDimension: e.getCalculationInfo("stackedOverDimension") } } function Jme(t, e) { var r = 0, n = t.scale.getExtent(); return e === "start" ? r = n[0] : e === "end" ? r = n[1] : Gt(e) && !isNaN(e) ? r = e : n[0] > 0 ? r = n[0] : n[1] < 0 && (r = n[1]), r } function OV(t, e, r, n) { var a = NaN; t.stacked && (a = r.get(r.getCalculationInfo("stackedOverDimension"), n)), isNaN(a) && (a = t.valueStart); var i = t.baseDataOffset, o = []; return o[i] = r.get(t.baseDim, n), o[1 - i] = a, e.dataToPoint(o) } function eye(t, e) { var r = []; return e.diff(t).add(function (n) { r.push({ cmd: "+", idx: n }) }).update(function (n, a) { r.push({ cmd: "=", idx: a, idx1: n }) }).remove(function (n) { r.push({ cmd: "-", idx: n }) }).execute(), r } function tye(t, e, r, n, a, i, o, s) { for (var l = eye(t, e), u = [], c = [], f = [], h = [], d = [], v = [], p = [], g = RV(a, e, o), m = t.getLayout("points") || [], y = e.getLayout("points") || [], _ = 0; _ < l.length; _++) { var b = l[_], x = !0, S = void 0, T = void 0; switch (b.cmd) { case "=": S = b.idx * 2, T = b.idx1 * 2; var C = m[S], M = m[S + 1], k = y[T], A = y[T + 1]; (isNaN(C) || isNaN(M)) && (C = k, M = A), u.push(C, M), c.push(k, A), f.push(r[S], r[S + 1]), h.push(n[T], n[T + 1]), p.push(e.getRawIndex(b.idx1)); break; case "+": var R = b.idx, N = g.dataDimsForPoint, z = a.dataToPoint([e.get(N[0], R), e.get(N[1], R)]); T = R * 2, u.push(z[0], z[1]), c.push(y[T], y[T + 1]); var F = OV(g, a, e, R); f.push(F[0], F[1]), h.push(n[T], n[T + 1]), p.push(e.getRawIndex(R)); break; case "-": x = !1 }x && (d.push(b), v.push(v.length)) } v.sort(function (B, ee) { return p[B] - p[ee] }); for (var V = u.length, L = xo(V), H = xo(V), q = xo(V), K = xo(V), te = [], _ = 0; _ < v.length; _++) { var oe = v[_], X = _ * 2, U = oe * 2; L[X] = u[U], L[X + 1] = u[U + 1], H[X] = c[U], H[X + 1] = c[U + 1], q[X] = f[U], q[X + 1] = f[U + 1], K[X] = h[U], K[X + 1] = h[U + 1], te[_] = d[oe] } return { current: L, next: H, stackedOnCurrent: q, stackedOnNext: K, status: te } } var sl = Math.min, ll = Math.max; function kc(t, e) { return isNaN(t) || isNaN(e) } function ZT(t, e, r, n, a, i, o, s, l) { for (var u, c, f, h, d, v, p = r, g = 0; g < n; g++) { var m = e[p * 2], y = e[p * 2 + 1]; if (p >= a || p < 0) break; if (kc(m, y)) { if (l) { p += i; continue } break } if (p === r) t[i > 0 ? "moveTo" : "lineTo"](m, y), f = m, h = y; else { var _ = m - u, b = y - c; if (_ * _ + b * b < .5) { p += i; continue } if (o > 0) { for (var x = p + i, S = e[x * 2], T = e[x * 2 + 1]; S === m && T === y && g < n;)g++, x += i, p += i, S = e[x * 2], T = e[x * 2 + 1], m = e[p * 2], y = e[p * 2 + 1], _ = m - u, b = y - c; var C = g + 1; if (l) for (; kc(S, T) && C < n;)C++, x += i, S = e[x * 2], T = e[x * 2 + 1]; var M = .5, k = 0, A = 0, R = void 0, N = void 0; if (C >= n || kc(S, T)) d = m, v = y; else { k = S - u, A = T - c; var z = m - u, F = S - m, V = y - c, L = T - y, H = void 0, q = void 0; if (s === "x") { H = Math.abs(z), q = Math.abs(F); var K = k > 0 ? 1 : -1; d = m - K * H * o, v = y, R = m + K * q * o, N = y } else if (s === "y") { H = Math.abs(V), q = Math.abs(L); var te = A > 0 ? 1 : -1; d = m, v = y - te * H * o, R = m, N = y + te * q * o } else H = Math.sqrt(z * z + V * V), q = Math.sqrt(F * F + L * L), M = q / (q + H), d = m - k * o * (1 - M), v = y - A * o * (1 - M), R = m + k * o * M, N = y + A * o * M, R = sl(R, ll(S, m)), N = sl(N, ll(T, y)), R = ll(R, sl(S, m)), N = ll(N, sl(T, y)), k = R - m, A = N - y, d = m - k * H / q, v = y - A * H / q, d = sl(d, ll(u, m)), v = sl(v, ll(c, y)), d = ll(d, sl(u, m)), v = ll(v, sl(c, y)), k = m - d, A = y - v, R = m + k * q / H, N = y + A * q / H } t.bezierCurveTo(f, h, d, v, m, y), f = R, h = N } else t.lineTo(m, y) } u = m, c = y, p += i } return g } var EV = function () { function t() { this.smooth = 0, this.smoothConstraint = !0 } return t }(), rye = function (t) { ae(e, t); function e(r) { var n = t.call(this, r) || this; return n.type = "ec-polyline", n } return e.prototype.getDefaultStyle = function () { return { stroke: "#000", fill: null } }, e.prototype.getDefaultShape = function () { return new EV }, e.prototype.buildPath = function (r, n) { var a = n.points, i = 0, o = a.length / 2; if (n.connectNulls) { for (; o > 0 && kc(a[o * 2 - 2], a[o * 2 - 1]); o--); for (; i < o && kc(a[i * 2], a[i * 2 + 1]); i++); } for (; i < o;)i += ZT(r, a, i, o, o, 1, n.smooth, n.smoothMonotone, n.connectNulls) + 1 }, e.prototype.getPointOn = function (r, n) { this.path || (this.createPathProxy(), this.buildPath(this.path, this.shape)); for (var a = this.path, i = a.data, o = No.CMD, s, l, u = n === "x", c = [], f = 0; f < i.length;) { var h = i[f++], d = void 0, v = void 0, p = void 0, g = void 0, m = void 0, y = void 0, _ = void 0; switch (h) { case o.M: s = i[f++], l = i[f++]; break; case o.L: if (d = i[f++], v = i[f++], _ = u ? (r - s) / (d - s) : (r - l) / (v - l), _ <= 1 && _ >= 0) { var b = u ? (v - l) * _ + l : (d - s) * _ + s; return u ? [r, b] : [b, r] } s = d, l = v; break; case o.C: d = i[f++], v = i[f++], p = i[f++], g = i[f++], m = i[f++], y = i[f++]; var x = u ? Jy(s, d, p, m, r, c) : Jy(l, v, g, y, r, c); if (x > 0) for (var S = 0; S < x; S++) { var T = c[S]; if (T <= 1 && T >= 0) { var b = u ? Tn(l, v, g, y, T) : Tn(s, d, p, m, T); return u ? [r, b] : [b, r] } } s = m, l = y; break } } }, e }(At), nye = function (t) { ae(e, t); function e() { return t !== null && t.apply(this, arguments) || this } return e }(EV), NV = function (t) { ae(e, t); function e(r) { var n = t.call(this, r) || this; return n.type = "ec-polygon", n } return e.prototype.getDefaultShape = function () { return new nye }, e.prototype.buildPath = function (r, n) { var a = n.points, i = n.stackedOnPoints, o = 0, s = a.length / 2, l = n.smoothMonotone; if (n.connectNulls) { for (; s > 0 && kc(a[s * 2 - 2], a[s * 2 - 1]); s--); for (; o < s && kc(a[o * 2], a[o * 2 + 1]); o++); } for (; o < s;) { var u = ZT(r, a, o, s, s, 1, n.smooth, l, n.connectNulls); ZT(r, i, o + u - 1, u, s, -1, n.stackedOnSmooth, l, n.connectNulls), o += u + 1, r.closePath() } }, e }(At); function $V(t, e, r, n, a) { var i = t.getArea(), o = i.x, s = i.y, l = i.width, u = i.height, c = r.get(["lineStyle", "width"]) || 2; o -= c / 2, s -= c / 2, l += c, u += c, o = Math.floor(o), l = Math.round(l); var f = new Bt({ shape: { x: o, y: s, width: l, height: u } }); if (e) { var h = t.getBaseAxis(), d = h.isHorizontal(), v = h.inverse; d ? (v && (f.shape.x += l), f.shape.width = 0) : (v || (f.shape.y += u), f.shape.height = 0); var p = je(a) ? function (g) { a(g, f) } : null; Or(f, { shape: { width: l, height: u, x: o, y: s } }, r, null, n, p) } return f } function FV(t, e, r) { var n = t.getArea(), a = en(n.r0, 1), i = en(n.r, 1), o = new Oa({ shape: { cx: en(t.cx, 1), cy: en(t.cy, 1), r0: a, r: i, startAngle: n.startAngle, endAngle: n.endAngle, clockwise: n.clockwise } }); if (e) { var s = t.getBaseAxis().dim === "angle"; s ? o.shape.endAngle = n.startAngle : o.shape.r = a, Or(o, { shape: { endAngle: n.endAngle, r: i } }, r) } return o } function m1(t, e, r, n, a) { if (t) { if (t.type === "polar") return FV(t, e, r); if (t.type === "cartesian2d") return $V(t, e, r, n, a) } else return null; return null } function Qc(t, e) { return t.type === e } function eO(t, e) { if (t.length === e.length) { for (var r = 0; r < t.length; r++)if (t[r] !== e[r]) return; return !0 } } function tO(t) { for (var e = 1 / 0, r = 1 / 0, n = -1 / 0, a = -1 / 0, i = 0; i < t.length;) { var o = t[i++], s = t[i++]; isNaN(o) || (e = Math.min(o, e), n = Math.max(o, n)), isNaN(s) || (r = Math.min(s, r), a = Math.max(s, a)) } return [[e, r], [n, a]] } function rO(t, e) { var r = tO(t), n = r[0], a = r[1], i = tO(e), o = i[0], s = i[1]; return Math.max(Math.abs(n[0] - o[0]), Math.abs(n[1] - o[1]), Math.abs(a[0] - s[0]), Math.abs(a[1] - s[1])) } function nO(t) { return Gt(t) ? t : t ? .5 : 0 } function aye(t, e, r) { if (!r.valueDim) return []; for (var n = e.count(), a = xo(n * 2), i = 0; i < n; i++) { var o = OV(r, t, e, i); a[i * 2] = o[0], a[i * 2 + 1] = o[1] } return a } function ul(t, e, r, n) { var a = e.getBaseAxis(), i = a.dim === "x" || a.dim === "radius" ? 0 : 1, o = [], s = 0, l = [], u = [], c = [], f = []; if (n) { for (s = 0; s < t.length; s += 2)!isNaN(t[s]) && !isNaN(t[s + 1]) && f.push(t[s], t[s + 1]); t = f } for (s = 0; s < t.length - 2; s += 2)switch (c[0] = t[s + 2], c[1] = t[s + 3], u[0] = t[s], u[1] = t[s + 1], o.push(u[0], u[1]), r) { case "end": l[i] = c[i], l[1 - i] = u[1 - i], o.push(l[0], l[1]); break; case "middle": var h = (u[i] + c[i]) / 2, d = []; l[i] = d[i] = h, l[1 - i] = u[1 - i], d[1 - i] = c[1 - i], o.push(l[0], l[1]), o.push(d[0], d[1]); break; default: l[i] = u[i], l[1 - i] = c[1 - i], o.push(l[0], l[1]) }return o.push(t[s++], t[s++]), o } function iye(t, e) { var r = [], n = t.length, a, i; function o(c, f, h) { var d = c.coord, v = (h - d) / (f.coord - d), p = lce(v, [c.color, f.color]); return { coord: h, color: p } } for (var s = 0; s < n; s++) { var l = t[s], u = l.coord; if (u < 0) a = l; else if (u > e) { i ? r.push(o(i, l, e)) : a && r.push(o(a, l, 0), o(a, l, e)); break } else a && (r.push(o(a, l, 0)), a = null), r.push(l), i = l } return r } function oye(t, e, r) { var n = t.getVisual("visualMeta"); if (!(!n || !n.length || !t.count()) && e.type === "cartesian2d") { for (var a, i, o = n.length - 1; o >= 0; o--) { var s = t.getDimensionInfo(n[o].dimension); if (a = s && s.coordDim, a === "x" || a === "y") { i = n[o]; break } } if (i) { var l = e.getAxis(a), u = _e(i.stops, function (_) { return { coord: l.toGlobalCoord(l.dataToCoord(_.value)), color: _.color } }), c = u.length, f = i.outerColors.slice(); c && u[0].coord > u[c - 1].coord && (u.reverse(), f.reverse()); var h = iye(u, a === "x" ? r.getWidth() : r.getHeight()), d = h.length; if (!d && c) return u[0].coord < 0 ? f[1] ? f[1] : u[c - 1].color : f[0] ? f[0] : u[0].color; var v = 10, p = h[0].coord - v, g = h[d - 1].coord + v, m = g - p; if (m < .001) return "transparent"; E(h, function (_) { _.offset = (_.coord - p) / m }), h.push({ offset: d ? h[d - 1].offset : .5, color: f[1] || "transparent" }), h.unshift({ offset: d ? h[0].offset : .5, color: f[0] || "transparent" }); var y = new eg(0, 0, 0, 0, h, !0); return y[a] = p, y[a + "2"] = g, y } } } function sye(t, e, r) { var n = t.get("showAllSymbol"), a = n === "auto"; if (!(n && !a)) { var i = r.getAxesByScale("ordinal")[0]; if (i && !(a && lye(i, e))) { var o = e.mapDimension(i.dim), s = {}; return E(i.getViewLabels(), function (l) { var u = i.scale.getRawOrdinalNumber(l.tickValue); s[u] = 1 }), function (l) { return !s.hasOwnProperty(e.get(o, l)) } } } } function lye(t, e) { var r = t.getExtent(), n = Math.abs(r[1] - r[0]) / t.scale.count(); isNaN(n) && (n = 0); for (var a = e.count(), i = Math.max(1, Math.round(a / 5)), o = 0; o < a; o += i)if (cg.getSymbolSize(e, o)[t.isHorizontal() ? 1 : 0] * 1.5 > n) return !1; return !0 } function uye(t, e) { return isNaN(t) || isNaN(e) } function cye(t) { for (var e = t.length / 2; e > 0 && uye(t[e * 2 - 2], t[e * 2 - 1]); e--); return e - 1 } function aO(t, e) { return [t[e * 2], t[e * 2 + 1]] } function fye(t, e, r) { for (var n = t.length / 2, a = r === "x" ? 0 : 1, i, o, s = 0, l = -1, u = 0; u < n; u++)if (o = t[u * 2 + a], !(isNaN(o) || isNaN(t[u * 2 + 1 - a]))) { if (u === 0) { i = o; continue } if (i <= e && o >= e || i >= e && o <= e) { l = u; break } s = u, i = o } return { range: [s, l], t: (e - i) / (o - i) } } function BV(t) { if (t.get(["endLabel", "show"])) return !0; for (var e = 0; e < _a.length; e++)if (t.get([_a[e], "endLabel", "show"])) return !0; return !1 } function zw(t, e, r, n) { if (Qc(e, "cartesian2d")) { var a = n.getModel("endLabel"), i = a.get("valueAnimation"), o = n.getData(), s = { lastFrameIndex: 0 }, l = BV(n) ? function (d, v) { t._endLabelOnDuring(d, v, o, s, i, a, e) } : null, u = e.getBaseAxis().isHorizontal(), c = $V(e, r, n, function () { var d = t._endLabel; d && r && s.originalX != null && d.attr({ x: s.originalX, y: s.originalY }) }, l); if (!n.get("clip", !0)) { var f = c.shape, h = Math.max(f.width, f.height); u ? (f.y -= h, f.height += h * 2) : (f.x -= h, f.width += h * 2) } return l && l(1, c), c } else return FV(e, r, n) } function hye(t, e) { var r = e.getBaseAxis(), n = r.isHorizontal(), a = r.inverse, i = n ? a ? "right" : "left" : "center", o = n ? "middle" : a ? "top" : "bottom"; return { normal: { align: t.get("align") || i, verticalAlign: t.get("verticalAlign") || o } } } var dye = function (t) { ae(e, t); function e() { return t !== null && t.apply(this, arguments) || this } return e.prototype.init = function () { var r = new it, n = new fg; this.group.add(n.group), this._symbolDraw = n, this._lineGroup = r }, e.prototype.render = function (r, n, a) { var i = this, o = r.coordinateSystem, s = this.group, l = r.getData(), u = r.getModel("lineStyle"), c = r.getModel("areaStyle"), f = l.getLayout("points") || [], h = o.type === "polar", d = this._coordSys, v = this._symbolDraw, p = this._polyline, g = this._polygon, m = this._lineGroup, y = !n.ssr && r.isAnimationEnabled(), _ = !c.isEmpty(), b = c.get("origin"), x = RV(o, l, b), S = _ && aye(o, l, x), T = r.get("showSymbol"), C = r.get("connectNulls"), M = T && !h && sye(r, l, o), k = this._data; k && k.eachItemGraphicEl(function (ee, Q) { ee.__temp && (s.remove(ee), k.setItemGraphicEl(Q, null)) }), T || v.remove(), s.add(m); var A = h ? !1 : r.get("step"), R; o && o.getArea && r.get("clip", !0) && (R = o.getArea(), R.width != null ? (R.x -= .1, R.y -= .1, R.width += .2, R.height += .2) : R.r0 && (R.r0 -= .5, R.r += .5)), this._clipShapeForSymbol = R; var N = oye(l, o, a) || l.getVisual("style")[l.getVisual("drawType")]; if (!(p && d.type === o.type && A === this._step)) T && v.updateData(l, { isIgnore: M, clipShape: R, disableAnimation: !0, getSymbolPoint: function (ee) { return [f[ee * 2], f[ee * 2 + 1]] } }), y && this._initSymbolLabelAnimation(l, o, R), A && (f = ul(f, o, A, C), S && (S = ul(S, o, A, C))), p = this._newPolyline(f), _ ? g = this._newPolygon(f, S) : g && (m.remove(g), g = this._polygon = null), h || this._initOrUpdateEndLabel(r, o, Fc(N)), m.setClipPath(zw(this, o, !0, r)); else { _ && !g ? g = this._newPolygon(f, S) : g && !_ && (m.remove(g), g = this._polygon = null), h || this._initOrUpdateEndLabel(r, o, Fc(N)); var z = m.getClipPath(); if (z) { var F = zw(this, o, !1, r); Or(z, { shape: F.shape }, r) } else m.setClipPath(zw(this, o, !0, r)); T && v.updateData(l, { isIgnore: M, clipShape: R, disableAnimation: !0, getSymbolPoint: function (ee) { return [f[ee * 2], f[ee * 2 + 1]] } }), (!eO(this._stackedOnPoints, S) || !eO(this._points, f)) && (y ? this._doUpdateAnimation(l, S, o, a, A, b, C) : (A && (f = ul(f, o, A, C), S && (S = ul(S, o, A, C))), p.setShape({ points: f }), g && g.setShape({ points: f, stackedOnPoints: S }))) } var V = r.getModel("emphasis"), L = V.get("focus"), H = V.get("blurScope"), q = V.get("disabled"); if (p.useStyle(Xe(u.getLineStyle(), { fill: "none", stroke: N, lineJoin: "bevel" })), Un(p, r, "lineStyle"), p.style.lineWidth > 0 && r.get(["emphasis", "lineStyle", "width"]) === "bolder") { var K = p.getState("emphasis").style; K.lineWidth = +p.style.lineWidth + 1 } lt(p).seriesIndex = r.seriesIndex, Xr(p, L, H, q); var te = nO(r.get("smooth")), oe = r.get("smoothMonotone"); if (p.setShape({ smooth: te, smoothMonotone: oe, connectNulls: C }), g) { var X = l.getCalculationInfo("stackedOnSeries"), U = 0; g.useStyle(Xe(c.getAreaStyle(), { fill: N, opacity: .7, lineJoin: "bevel", decal: l.getVisual("style").decal })), X && (U = nO(X.get("smooth"))), g.setShape({ smooth: te, stackedOnSmooth: U, smoothMonotone: oe, connectNulls: C }), Un(g, r, "areaStyle"), lt(g).seriesIndex = r.seriesIndex, Xr(g, L, H, q) } var B = function (ee) { i._changePolyState(ee) }; l.eachItemGraphicEl(function (ee) { ee && (ee.onHoverStateChange = B) }), this._polyline.onHoverStateChange = B, this._data = l, this._coordSys = o, this._stackedOnPoints = S, this._points = f, this._step = A, this._valueOrigin = b, r.get("triggerLineEvent") && (this.packEventData(r, p), g && this.packEventData(r, g)) }, e.prototype.packEventData = function (r, n) { lt(n).eventData = { componentType: "series", componentSubType: "line", componentIndex: r.componentIndex, seriesIndex: r.seriesIndex, seriesName: r.name, seriesType: "line" } }, e.prototype.highlight = function (r, n, a, i) { var o = r.getData(), s = Ec(o, i); if (this._changePolyState("emphasis"), !(s instanceof Array) && s != null && s >= 0) { var l = o.getLayout("points"), u = o.getItemGraphicEl(s); if (!u) { var c = l[s * 2], f = l[s * 2 + 1]; if (isNaN(c) || isNaN(f) || this._clipShapeForSymbol && !this._clipShapeForSymbol.contain(c, f)) return; var h = r.get("zlevel") || 0, d = r.get("z") || 0; u = new cg(o, s), u.x = c, u.y = f, u.setZ(h, d); var v = u.getSymbolPath().getTextContent(); v && (v.zlevel = h, v.z = d, v.z2 = this._polyline.z2 + 1), u.__temp = !0, o.setItemGraphicEl(s, u), u.stopSymbolAnimation(!0), this.group.add(u) } u.highlight() } else Ar.prototype.highlight.call(this, r, n, a, i) }, e.prototype.downplay = function (r, n, a, i) { var o = r.getData(), s = Ec(o, i); if (this._changePolyState("normal"), s != null && s >= 0) { var l = o.getItemGraphicEl(s); l && (l.__temp ? (o.setItemGraphicEl(s, null), this.group.remove(l)) : l.downplay()) } else Ar.prototype.downplay.call(this, r, n, a, i) }, e.prototype._changePolyState = function (r) { var n = this._polygon; s0(this._polyline, r), n && s0(n, r) }, e.prototype._newPolyline = function (r) { var n = this._polyline; return n && this._lineGroup.remove(n), n = new rye({ shape: { points: r }, segmentIgnoreThreshold: 2, z2: 10 }), this._lineGroup.add(n), this._polyline = n, n }, e.prototype._newPolygon = function (r, n) { var a = this._polygon; return a && this._lineGroup.remove(a), a = new NV({ shape: { points: r, stackedOnPoints: n }, segmentIgnoreThreshold: 2 }), this._lineGroup.add(a), this._polygon = a, a }, e.prototype._initSymbolLabelAnimation = function (r, n, a) { var i, o, s = n.getBaseAxis(), l = s.inverse; n.type === "cartesian2d" ? (i = s.isHorizontal(), o = !1) : n.type === "polar" && (i = s.dim === "angle", o = !0); var u = r.hostModel, c = u.get("animationDuration"); je(c) && (c = c(null)); var f = u.get("animationDelay") || 0, h = je(f) ? f(null) : f; r.eachItemGraphicEl(function (d, v) { var p = d; if (p) { var g = [d.x, d.y], m = void 0, y = void 0, _ = void 0; if (a) if (o) { var b = a, x = n.pointToCoord(g); i ? (m = b.startAngle, y = b.endAngle, _ = -x[1] / 180 * Math.PI) : (m = b.r0, y = b.r, _ = x[0]) } else { var S = a; i ? (m = S.x, y = S.x + S.width, _ = d.x) : (m = S.y + S.height, y = S.y, _ = d.y) } var T = y === m ? 0 : (_ - m) / (y - m); l && (T = 1 - T); var C = je(f) ? f(v) : c * T + h, M = p.getSymbolPath(), k = M.getTextContent(); p.attr({ scaleX: 0, scaleY: 0 }), p.animateTo({ scaleX: 1, scaleY: 1 }, { duration: 200, setToFinal: !0, delay: C }), k && k.animateFrom({ style: { opacity: 0 } }, { duration: 300, delay: C }), M.disableLabelAnimation = !0 } }) }, e.prototype._initOrUpdateEndLabel = function (r, n, a) { var i = r.getModel("endLabel"); if (BV(r)) { var o = r.getData(), s = this._polyline, l = o.getLayout("points"); if (!l) { s.removeTextContent(), this._endLabel = null; return } var u = this._endLabel; u || (u = this._endLabel = new Wt({ z2: 200 }), u.ignoreClip = !0, s.setTextContent(this._endLabel), s.disableLabelAnimation = !0); var c = cye(l); c >= 0 && (Wn(s, Pn(r, "endLabel"), { inheritColor: a, labelFetcher: r, labelDataIndex: c, defaultText: function (f, h, d) { return d != null ? PV(o, d) : Ah(o, f) }, enableTextSetter: !0 }, hye(i, n)), s.textConfig.position = null) } else this._endLabel && (this._polyline.removeTextContent(), this._endLabel = null) }, e.prototype._endLabelOnDuring = function (r, n, a, i, o, s, l) { var u = this._endLabel, c = this._polyline; if (u) { r < 1 && i.originalX == null && (i.originalX = u.x, i.originalY = u.y); var f = a.getLayout("points"), h = a.hostModel, d = h.get("connectNulls"), v = s.get("precision"), p = s.get("distance") || 0, g = l.getBaseAxis(), m = g.isHorizontal(), y = g.inverse, _ = n.shape, b = y ? m ? _.x : _.y + _.height : m ? _.x + _.width : _.y, x = (m ? p : 0) * (y ? -1 : 1), S = (m ? 0 : -p) * (y ? -1 : 1), T = m ? "x" : "y", C = fye(f, b, T), M = C.range, k = M[1] - M[0], A = void 0; if (k >= 1) { if (k > 1 && !d) { var R = aO(f, M[0]); u.attr({ x: R[0] + x, y: R[1] + S }), o && (A = h.getRawValue(M[0])) } else { var R = c.getPointOn(b, T); R && u.attr({ x: R[0] + x, y: R[1] + S }); var N = h.getRawValue(M[0]), z = h.getRawValue(M[1]); o && (A = yF(a, v, N, z, C.t)) } i.lastFrameIndex = M[0] } else { var F = r === 1 || i.lastFrameIndex > 0 ? M[0] : 0, R = aO(f, F); o && (A = h.getRawValue(F)), u.attr({ x: R[0] + x, y: R[1] + S }) } if (o) { var V = Gh(u); typeof V.setLabelText == "function" && V.setLabelText(A) } } }, e.prototype._doUpdateAnimation = function (r, n, a, i, o, s, l) { var u = this._polyline, c = this._polygon, f = r.hostModel, h = tye(this._data, r, this._stackedOnPoints, n, this._coordSys, a, this._valueOrigin), d = h.current, v = h.stackedOnCurrent, p = h.next, g = h.stackedOnNext; if (o && (d = ul(h.current, a, o, l), v = ul(h.stackedOnCurrent, a, o, l), p = ul(h.next, a, o, l), g = ul(h.stackedOnNext, a, o, l)), rO(d, p) > 3e3 || c && rO(v, g) > 3e3) { u.stopAnimation(), u.setShape({ points: p }), c && (c.stopAnimation(), c.setShape({ points: p, stackedOnPoints: g })); return } u.shape.__points = h.current, u.shape.points = d; var m = { shape: { points: p } }; h.current !== d && (m.shape.__points = h.next), u.stopAnimation(), jt(u, m, f), c && (c.setShape({ points: d, stackedOnPoints: v }), c.stopAnimation(), jt(c, { shape: { stackedOnPoints: g } }, f), u.shape.points !== c.shape.points && (c.shape.points = u.shape.points)); for (var y = [], _ = h.status, b = 0; b < _.length; b++) { var x = _[b].cmd; if (x === "=") { var S = r.getItemGraphicEl(_[b].idx1); S && y.push({ el: S, ptIdx: b }) } } u.animators && u.animators.length && u.animators[0].during(function () { c && c.dirtyShape(); for (var T = u.shape.__points, C = 0; C < y.length; C++) { var M = y[C].el, k = y[C].ptIdx * 2; M.x = T[k], M.y = T[k + 1], M.markRedraw() } }) }, e.prototype.remove = function (r) { var n = this.group, a = this._data; this._lineGroup.removeAll(), this._symbolDraw.remove(!0), a && a.eachItemGraphicEl(function (i, o) { i.__temp && (n.remove(i), a.setItemGraphicEl(o, null)) }), this._polyline = this._polygon = this._coordSys = this._points = this._stackedOnPoints = this._endLabel = this._data = null }, e.type = "line", e }(Ar); const vye = dye; function hg(t, e) { return { seriesType: t, plan: Qh(), reset: function (r) { var n = r.getData(), a = r.coordinateSystem, i = r.pipelineContext, o = e || i.large; if (a) { var s = _e(a.dimensions, function (d) { return n.mapDimension(d) }).slice(0, 2), l = s.length, u = n.getCalculationInfo("stackResultDimension"); Jl(n, s[0]) && (s[0] = u), Jl(n, s[1]) && (s[1] = u); var c = n.getStore(), f = n.getDimensionIndex(s[0]), h = n.getDimensionIndex(s[1]); return l && { progress: function (d, v) { for (var p = d.end - d.start, g = o && xo(p * l), m = [], y = [], _ = d.start, b = 0; _ < d.end; _++) { var x = void 0; if (l === 1) { var S = c.get(f, _); x = a.dataToPoint(S, null, y) } else m[0] = c.get(f, _), m[1] = c.get(h, _), x = a.dataToPoint(m, null, y); o ? (g[b++] = x[0], g[b++] = x[1]) : v.setItemLayout(_, x.slice()) } o && v.setLayout("points", g) } } } } } } var pye = { average: function (t) { for (var e = 0, r = 0, n = 0; n < t.length; n++)isNaN(t[n]) || (e += t[n], r++); return r === 0 ? NaN : e / r }, sum: function (t) { for (var e = 0, r = 0; r < t.length; r++)e += t[r] || 0; return e }, max: function (t) { for (var e = -1 / 0, r = 0; r < t.length; r++)t[r] > e && (e = t[r]); return isFinite(e) ? e : NaN }, min: function (t) { for (var e = 1 / 0, r = 0; r < t.length; r++)t[r] < e && (e = t[r]); return isFinite(e) ? e : NaN }, nearest: function (t) { return t[0] } }, gye = function (t) { return Math.round(t.length / 2) }; function VV(t) { return { seriesType: t, reset: function (e, r, n) { var a = e.getData(), i = e.get("sampling"), o = e.coordinateSystem, s = a.count(); if (s > 10 && o.type === "cartesian2d" && i) { var l = o.getBaseAxis(), u = o.getOtherAxis(l), c = l.getExtent(), f = n.getDevicePixelRatio(), h = Math.abs(c[1] - c[0]) * (f || 1), d = Math.round(s / h); if (isFinite(d) && d > 1) { i === "lttb" && e.setData(a.lttbDownSample(a.mapDimension(u.dim), 1 / d)); var v = void 0; Oe(i) ? v = pye[i] : je(i) && (v = i), v && e.setData(a.downSample(a.mapDimension(u.dim), 1 / d, v, gye)) } } } } } function mye(t) { t.registerChartView(vye), t.registerSeriesModel(qme), t.registerLayout(hg("line", !0)), t.registerVisual({ seriesType: "line", reset: function (e) { var r = e.getData(), n = e.getModel("lineStyle").getLineStyle(); n && !n.stroke && (n.stroke = r.getVisual("style").fill), r.setVisual("legendLineStyle", n) } }), t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC, VV("line")) } var zV = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.getInitialData = function (r, n) { return Hs(null, this, { useEncodeDefaulter: !0 }) }, e.prototype.getMarkerPosition = function (r, n, a) { var i = this.coordinateSystem; if (i && i.clampData) { var o = i.clampData(r), s = i.dataToPoint(o); if (a) E(i.getAxes(), function (h, d) { if (h.type === "category" && n != null) { var v = h.getTicksCoords(), p = o[d], g = n[d] === "x1" || n[d] === "y1"; if (g && (p += 1), v.length < 2) return; if (v.length === 2) { s[d] = h.toGlobalCoord(h.getExtent()[g ? 1 : 0]); return } for (var m = void 0, y = void 0, _ = 1, b = 0; b < v.length; b++) { var x = v[b].coord, S = b === v.length - 1 ? v[b - 1].tickValue + _ : v[b].tickValue; if (S === p) { y = x; break } else if (S < p) m = x; else if (m != null && S > p) { y = (x + m) / 2; break } b === 1 && (_ = S - v[0].tickValue) } y == null && (m ? m && (y = v[v.length - 1].coord) : y = v[0].coord), s[d] = h.toGlobalCoord(y) } }); else { var l = this.getData(), u = l.getLayout("offset"), c = l.getLayout("size"), f = i.getBaseAxis().isHorizontal() ? 0 : 1; s[f] += u + c / 2 } return s } return [NaN, NaN] }, e.type = "series.__base_bar__", e.defaultOption = { z: 2, coordinateSystem: "cartesian2d", legendHoverLink: !0, barMinHeight: 0, barMinAngle: 0, large: !1, largeThreshold: 400, progressive: 3e3, progressiveChunkMode: "mod" }, e }($r); $r.registerClass(zV); const D0 = zV; var yye = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.getInitialData = function () { return Hs(null, this, { useEncodeDefaulter: !0, createInvertedIndices: !!this.get("realtimeSort", !0) || null }) }, e.prototype.getProgressive = function () { return this.get("large") ? this.get("progressive") : !1 }, e.prototype.getProgressiveThreshold = function () { var r = this.get("progressiveThreshold"), n = this.get("largeThreshold"); return n > r && (r = n), r }, e.prototype.brushSelector = function (r, n, a) { return a.rect(n.getItemLayout(r)) }, e.type = "series.bar", e.dependencies = ["grid", "polar"], e.defaultOption = su(D0.defaultOption, { clip: !0, roundCap: !1, showBackground: !1, backgroundStyle: { color: "rgba(180, 180, 180, 0.2)", borderColor: null, borderWidth: 0, borderType: "solid", borderRadius: 0, shadowBlur: 0, shadowColor: null, shadowOffsetX: 0, shadowOffsetY: 0, opacity: 1 }, select: { itemStyle: { borderColor: "#212121" } }, realtimeSort: !1 }), e }(D0); const _ye = yye; var bye = function () { function t() { this.cx = 0, this.cy = 0, this.r0 = 0, this.r = 0, this.startAngle = 0, this.endAngle = Math.PI * 2, this.clockwise = !0 } return t }(), wye = function (t) { ae(e, t); function e(r) { var n = t.call(this, r) || this; return n.type = "sausage", n } return e.prototype.getDefaultShape = function () { return new bye }, e.prototype.buildPath = function (r, n) { var a = n.cx, i = n.cy, o = Math.max(n.r0 || 0, 0), s = Math.max(n.r, 0), l = (s - o) * .5, u = o + l, c = n.startAngle, f = n.endAngle, h = n.clockwise, d = Math.PI * 2, v = h ? f - c < d : c - f < d; v || (c = f - (h ? d : -d)); var p = Math.cos(c), g = Math.sin(c), m = Math.cos(f), y = Math.sin(f); v ? (r.moveTo(p * o + a, g * o + i), r.arc(p * u + a, g * u + i, l, -Math.PI + c, c, !h)) : r.moveTo(p * s + a, g * s + i), r.arc(a, i, s, c, f, !h), r.arc(m * u + a, y * u + i, l, f - Math.PI * 2, f - Math.PI, !h), o !== 0 && r.arc(a, i, o, f, c, h) }, e }(At); const C0 = wye; function Sye(t, e) { e = e || {}; var r = e.isRoundCap; return function (n, a, i) { var o = a.position; if (!o || o instanceof Array) return a0(n, a, i); var s = t(o), l = a.distance != null ? a.distance : 5, u = this.shape, c = u.cx, f = u.cy, h = u.r, d = u.r0, v = (h + d) / 2, p = u.startAngle, g = u.endAngle, m = (p + g) / 2, y = r ? Math.abs(h - d) / 2 : 0, _ = Math.cos, b = Math.sin, x = c + h * _(p), S = f + h * b(p), T = "left", C = "top"; switch (s) { case "startArc": x = c + (d - l) * _(m), S = f + (d - l) * b(m), T = "center", C = "top"; break; case "insideStartArc": x = c + (d + l) * _(m), S = f + (d + l) * b(m), T = "center", C = "bottom"; break; case "startAngle": x = c + v * _(p) + km(p, l + y, !1), S = f + v * b(p) + Am(p, l + y, !1), T = "right", C = "middle"; break; case "insideStartAngle": x = c + v * _(p) + km(p, -l + y, !1), S = f + v * b(p) + Am(p, -l + y, !1), T = "left", C = "middle"; break; case "middle": x = c + v * _(m), S = f + v * b(m), T = "center", C = "middle"; break; case "endArc": x = c + (h + l) * _(m), S = f + (h + l) * b(m), T = "center", C = "bottom"; break; case "insideEndArc": x = c + (h - l) * _(m), S = f + (h - l) * b(m), T = "center", C = "top"; break; case "endAngle": x = c + v * _(g) + km(g, l + y, !0), S = f + v * b(g) + Am(g, l + y, !0), T = "left", C = "middle"; break; case "insideEndAngle": x = c + v * _(g) + km(g, -l + y, !0), S = f + v * b(g) + Am(g, -l + y, !0), T = "right", C = "middle"; break; default: return a0(n, a, i) }return n = n || {}, n.x = x, n.y = S, n.align = T, n.verticalAlign = C, n } } function xye(t, e, r, n) { if (Gt(n)) { t.setTextConfig({ rotation: n }); return } else if (me(e)) { t.setTextConfig({ rotation: 0 }); return } var a = t.shape, i = a.clockwise ? a.startAngle : a.endAngle, o = a.clockwise ? a.endAngle : a.startAngle, s = (i + o) / 2, l, u = r(e); switch (u) { case "startArc": case "insideStartArc": case "middle": case "insideEndArc": case "endArc": l = s; break; case "startAngle": case "insideStartAngle": l = i; break; case "endAngle": case "insideEndAngle": l = o; break; default: t.setTextConfig({ rotation: 0 }); return }var c = Math.PI * 1.5 - l; u === "middle" && c > Math.PI / 2 && c < Math.PI * 1.5 && (c -= Math.PI), t.setTextConfig({ rotation: c }) } function km(t, e, r) { return e * Math.sin(t) * (r ? -1 : 1) } function Am(t, e, r) { return e * Math.cos(t) * (r ? 1 : -1) } function vc(t, e, r) { var n = t.get("borderRadius"); if (n == null) return r ? { cornerRadius: 0 } : null; me(n) || (n = [n, n, n, n]); var a = Math.abs(e.r || 0 - e.r0 || 0); return { cornerRadius: _e(n, function (i) { return ji(i, a) }) } } var Hw = Math.max, Yw = Math.min; function Tye(t, e) { var r = t.getArea && t.getArea(); if (Qc(t, "cartesian2d")) { var n = t.getBaseAxis(); if (n.type !== "category" || !n.onBand) { var a = e.getLayout("bandWidth"); n.isHorizontal() ? (r.x -= a, r.width += a * 2) : (r.y -= a, r.height += a * 2) } } return r } var Dye = function (t) { ae(e, t); function e() { var r = t.call(this) || this; return r.type = e.type, r._isFirstFrame = !0, r } return e.prototype.render = function (r, n, a, i) { this._model = r, this._removeOnRenderedListener(a), this._updateDrawMode(r); var o = r.get("coordinateSystem"); (o === "cartesian2d" || o === "polar") && (this._progressiveEls = null, this._isLargeDraw ? this._renderLarge(r, n, a) : this._renderNormal(r, n, a, i)) }, e.prototype.incrementalPrepareRender = function (r) { this._clear(), this._updateDrawMode(r), this._updateLargeClip(r) }, e.prototype.incrementalRender = function (r, n) { this._progressiveEls = [], this._incrementalRenderLarge(r, n) }, e.prototype.eachRendered = function (r) { ou(this._progressiveEls || this.group, r) }, e.prototype._updateDrawMode = function (r) { var n = r.pipelineContext.large; (this._isLargeDraw == null || n !== this._isLargeDraw) && (this._isLargeDraw = n, this._clear()) }, e.prototype._renderNormal = function (r, n, a, i) { var o = this.group, s = r.getData(), l = this._data, u = r.coordinateSystem, c = u.getBaseAxis(), f; u.type === "cartesian2d" ? f = c.isHorizontal() : u.type === "polar" && (f = c.dim === "angle"); var h = r.isAnimationEnabled() ? r : null, d = Cye(r, u); d && this._enableRealtimeSort(d, s, a); var v = r.get("clip", !0) || d, p = Tye(u, s); o.removeClipPath(); var g = r.get("roundCap", !0), m = r.get("showBackground", !0), y = r.getModel("backgroundStyle"), _ = y.get("borderRadius") || 0, b = [], x = this._backgroundEls, S = i && i.isInitSort, T = i && i.type === "changeAxisOrder"; function C(A) { var R = Lm[u.type](s, A), N = Rye(u, f, R); return N.useStyle(y.getItemStyle()), u.type === "cartesian2d" ? N.setShape("r", _) : N.setShape("cornerRadius", _), b[A] = N, N } s.diff(l).add(function (A) { var R = s.getItemModel(A), N = Lm[u.type](s, A, R); if (m && C(A), !(!s.hasValue(A) || !uO[u.type](N))) { var z = !1; v && (z = iO[u.type](p, N)); var F = oO[u.type](r, s, A, N, f, h, c.model, !1, g); d && (F.forceLabelAnimation = !0), cO(F, s, A, R, N, r, f, u.type === "polar"), S ? F.attr({ shape: N }) : d ? sO(d, h, F, N, A, f, !1, !1) : Or(F, { shape: N }, r, A), s.setItemGraphicEl(A, F), o.add(F), F.ignore = z } }).update(function (A, R) { var N = s.getItemModel(A), z = Lm[u.type](s, A, N); if (m) { var F = void 0; x.length === 0 ? F = C(R) : (F = x[R], F.useStyle(y.getItemStyle()), u.type === "cartesian2d" ? F.setShape("r", _) : F.setShape("cornerRadius", _), b[A] = F); var V = Lm[u.type](s, A), L = YV(f, V, u); jt(F, { shape: L }, h, A) } var H = l.getItemGraphicEl(R); if (!s.hasValue(A) || !uO[u.type](z)) { o.remove(H); return } var q = !1; if (v && (q = iO[u.type](p, z), q && o.remove(H)), H ? Zi(H) : H = oO[u.type](r, s, A, z, f, h, c.model, !!H, g), d && (H.forceLabelAnimation = !0), T) { var K = H.getTextContent(); if (K) { var te = Gh(K); te.prevValue != null && (te.prevValue = te.value) } } else cO(H, s, A, N, z, r, f, u.type === "polar"); S ? H.attr({ shape: z }) : d ? sO(d, h, H, z, A, f, !0, T) : jt(H, { shape: z }, r, A, null), s.setItemGraphicEl(A, H), H.ignore = q, o.add(H) }).remove(function (A) { var R = l.getItemGraphicEl(A); R && dp(R, r, A) }).execute(); var M = this._backgroundGroup || (this._backgroundGroup = new it); M.removeAll(); for (var k = 0; k < b.length; ++k)M.add(b[k]); o.add(M), this._backgroundEls = b, this._data = s }, e.prototype._renderLarge = function (r, n, a) { this._clear(), hO(r, this.group), this._updateLargeClip(r) }, e.prototype._incrementalRenderLarge = function (r, n) { this._removeBackground(), hO(n, this.group, this._progressiveEls, !0) }, e.prototype._updateLargeClip = function (r) { var n = r.get("clip", !0) && m1(r.coordinateSystem, !1, r), a = this.group; n ? a.setClipPath(n) : a.removeClipPath() }, e.prototype._enableRealtimeSort = function (r, n, a) { var i = this; if (n.count()) { var o = r.baseAxis; if (this._isFirstFrame) this._dispatchInitSort(n, r, a), this._isFirstFrame = !1; else { var s = function (l) { var u = n.getItemGraphicEl(l), c = u && u.shape; return c && Math.abs(o.isHorizontal() ? c.height : c.width) || 0 }; this._onRendered = function () { i._updateSortWithinSameData(n, s, o, a) }, a.getZr().on("rendered", this._onRendered) } } }, e.prototype._dataSort = function (r, n, a) { var i = []; return r.each(r.mapDimension(n.dim), function (o, s) { var l = a(s); l = l ?? NaN, i.push({ dataIndex: s, mappedValue: l, ordinalNumber: o }) }), i.sort(function (o, s) { return s.mappedValue - o.mappedValue }), { ordinalNumbers: _e(i, function (o) { return o.ordinalNumber }) } }, e.prototype._isOrderChangedWithinSameData = function (r, n, a) { for (var i = a.scale, o = r.mapDimension(a.dim), s = Number.MAX_VALUE, l = 0, u = i.getOrdinalMeta().categories.length; l < u; ++l) { var c = r.rawIndexOf(o, i.getRawOrdinalNumber(l)), f = c < 0 ? Number.MIN_VALUE : n(r.indexOfRawIndex(c)); if (f > s) return !0; s = f } return !1 }, e.prototype._isOrderDifferentInView = function (r, n) { for (var a = n.scale, i = a.getExtent(), o = Math.max(0, i[0]), s = Math.min(i[1], a.getOrdinalMeta().categories.length - 1); o <= s; ++o)if (r.ordinalNumbers[o] !== a.getRawOrdinalNumber(o)) return !0 }, e.prototype._updateSortWithinSameData = function (r, n, a, i) { if (this._isOrderChangedWithinSameData(r, n, a)) { var o = this._dataSort(r, a, n); this._isOrderDifferentInView(o, a) && (this._removeOnRenderedListener(i), i.dispatchAction({ type: "changeAxisOrder", componentType: a.dim + "Axis", axisId: a.index, sortInfo: o })) } }, e.prototype._dispatchInitSort = function (r, n, a) { var i = n.baseAxis, o = this._dataSort(r, i, function (s) { return r.get(r.mapDimension(n.otherAxis.dim), s) }); a.dispatchAction({ type: "changeAxisOrder", componentType: i.dim + "Axis", isInitSort: !0, axisId: i.index, sortInfo: o }) }, e.prototype.remove = function (r, n) { this._clear(this._model), this._removeOnRenderedListener(n) }, e.prototype.dispose = function (r, n) { this._removeOnRenderedListener(n) }, e.prototype._removeOnRenderedListener = function (r) { this._onRendered && (r.getZr().off("rendered", this._onRendered), this._onRendered = null) }, e.prototype._clear = function (r) { var n = this.group, a = this._data; r && r.isAnimationEnabled() && a && !this._isLargeDraw ? (this._removeBackground(), this._backgroundEls = [], a.eachItemGraphicEl(function (i) { dp(i, r, lt(i).dataIndex) })) : n.removeAll(), this._data = null, this._isFirstFrame = !0 }, e.prototype._removeBackground = function () { this.group.remove(this._backgroundGroup), this._backgroundGroup = null }, e.type = "bar", e }(Ar), iO = { cartesian2d: function (t, e) { var r = e.width < 0 ? -1 : 1, n = e.height < 0 ? -1 : 1; r < 0 && (e.x += e.width, e.width = -e.width), n < 0 && (e.y += e.height, e.height = -e.height); var a = t.x + t.width, i = t.y + t.height, o = Hw(e.x, t.x), s = Yw(e.x + e.width, a), l = Hw(e.y, t.y), u = Yw(e.y + e.height, i), c = s < o, f = u < l; return e.x = c && o > a ? s : o, e.y = f && l > i ? u : l, e.width = c ? 0 : s - o, e.height = f ? 0 : u - l, r < 0 && (e.x += e.width, e.width = -e.width), n < 0 && (e.y += e.height, e.height = -e.height), c || f }, polar: function (t, e) { var r = e.r0 <= e.r ? 1 : -1; if (r < 0) { var n = e.r; e.r = e.r0, e.r0 = n } var a = Yw(e.r, t.r), i = Hw(e.r0, t.r0); e.r = a, e.r0 = i; var o = a - i < 0; if (r < 0) { var n = e.r; e.r = e.r0, e.r0 = n } return o } }, oO = { cartesian2d: function (t, e, r, n, a, i, o, s, l) { var u = new Bt({ shape: he({}, n), z2: 1 }); if (u.__dataIndex = r, u.name = "item", i) { var c = u.shape, f = a ? "height" : "width"; c[f] = 0 } return u }, polar: function (t, e, r, n, a, i, o, s, l) { var u = !a && l ? C0 : Oa, c = new u({ shape: n, z2: 1 }); c.name = "item"; var f = HV(a); if (c.calculateTextPosition = Sye(f, { isRoundCap: u === C0 }), i) { var h = c.shape, d = a ? "r" : "endAngle", v = {}; h[d] = a ? n.r0 : n.startAngle, v[d] = n[d], (s ? jt : Or)(c, { shape: v }, i) } return c } }; function Cye(t, e) { var r = t.get("realtimeSort", !0), n = e.getBaseAxis(); if (r && n.type === "category" && e.type === "cartesian2d") return { baseAxis: n, otherAxis: e.getOtherAxis(n) } } function sO(t, e, r, n, a, i, o, s) { var l, u; i ? (u = { x: n.x, width: n.width }, l = { y: n.y, height: n.height }) : (u = { y: n.y, height: n.height }, l = { x: n.x, width: n.width }), s || (o ? jt : Or)(r, { shape: l }, e, a, null); var c = e ? t.baseAxis.model : null; (o ? jt : Or)(r, { shape: u }, c, a) } function lO(t, e) { for (var r = 0; r < e.length; r++)if (!isFinite(t[e[r]])) return !0; return !1 } var Mye = ["x", "y", "width", "height"], kye = ["cx", "cy", "r", "startAngle", "endAngle"], uO = { cartesian2d: function (t) { return !lO(t, Mye) }, polar: function (t) { return !lO(t, kye) } }, Lm = { cartesian2d: function (t, e, r) { var n = t.getItemLayout(e), a = r ? Lye(r, n) : 0, i = n.width > 0 ? 1 : -1, o = n.height > 0 ? 1 : -1; return { x: n.x + i * a / 2, y: n.y + o * a / 2, width: n.width - i * a, height: n.height - o * a } }, polar: function (t, e, r) { var n = t.getItemLayout(e); return { cx: n.cx, cy: n.cy, r0: n.r0, r: n.r, startAngle: n.startAngle, endAngle: n.endAngle, clockwise: n.clockwise } } }; function Aye(t) { return t.startAngle != null && t.endAngle != null && t.startAngle === t.endAngle } function HV(t) { return function (e) { var r = e ? "Arc" : "Angle"; return function (n) { switch (n) { case "start": case "insideStart": case "end": case "insideEnd": return n + r; default: return n } } }(t) } function cO(t, e, r, n, a, i, o, s) { var l = e.getItemVisual(r, "style"); if (s) { if (!i.get("roundCap")) { var c = t.shape, f = vc(n.getModel("itemStyle"), c, !0); he(c, f), t.setShape(c) } } else { var u = n.get(["itemStyle", "borderRadius"]) || 0; t.setShape("r", u) } t.useStyle(l); var h = n.getShallow("cursor"); h && t.attr("cursor", h); var d = s ? o ? a.r >= a.r0 ? "endArc" : "startArc" : a.endAngle >= a.startAngle ? "endAngle" : "startAngle" : o ? a.height >= 0 ? "bottom" : "top" : a.width >= 0 ? "right" : "left", v = Pn(n); Wn(t, v, { labelFetcher: i, labelDataIndex: r, defaultText: Ah(i.getData(), r), inheritColor: l.fill, defaultOpacity: l.opacity, defaultOutsidePosition: d }); var p = t.getTextContent(); if (s && p) { var g = n.get(["label", "position"]); t.textConfig.inside = g === "middle" ? !0 : null, xye(t, g === "outside" ? d : g, HV(o), n.get(["label", "rotate"])) } gB(p, v, i.getRawValue(r), function (y) { return PV(e, y) }); var m = n.getModel(["emphasis"]); Xr(t, m.get("focus"), m.get("blurScope"), m.get("disabled")), Un(t, n), Aye(a) && (t.style.fill = "none", t.style.stroke = "none", E(t.states, function (y) { y.style && (y.style.fill = y.style.stroke = "none") })) } function Lye(t, e) { var r = t.get(["itemStyle", "borderColor"]); if (!r || r === "none") return 0; var n = t.get(["itemStyle", "borderWidth"]) || 0, a = isNaN(e.width) ? Number.MAX_VALUE : Math.abs(e.width), i = isNaN(e.height) ? Number.MAX_VALUE : Math.abs(e.height); return Math.min(n, a, i) } var Iye = function () { function t() { } return t }(), fO = function (t) { ae(e, t); function e(r) { var n = t.call(this, r) || this; return n.type = "largeBar", n } return e.prototype.getDefaultShape = function () { return new Iye }, e.prototype.buildPath = function (r, n) { for (var a = n.points, i = this.baseDimIdx, o = 1 - this.baseDimIdx, s = [], l = [], u = this.barWidth, c = 0; c < a.length; c += 3)l[i] = u, l[o] = a[c + 2], s[i] = a[c + i], s[o] = a[c + o], r.rect(s[0], s[1], l[0], l[1]) }, e }(At); function hO(t, e, r, n) { var a = t.getData(), i = a.getLayout("valueAxisHorizontal") ? 1 : 0, o = a.getLayout("largeDataIndices"), s = a.getLayout("size"), l = t.getModel("backgroundStyle"), u = a.getLayout("largeBackgroundPoints"); if (u) { var c = new fO({ shape: { points: u }, incremental: !!n, silent: !0, z2: 0 }); c.baseDimIdx = i, c.largeDataIndices = o, c.barWidth = s, c.useStyle(l.getItemStyle()), e.add(c), r && r.push(c) } var f = new fO({ shape: { points: a.getLayout("largePoints") }, incremental: !!n, ignoreCoarsePointer: !0, z2: 1 }); f.baseDimIdx = i, f.largeDataIndices = o, f.barWidth = s, e.add(f), f.useStyle(a.getVisual("style")), lt(f).seriesIndex = t.seriesIndex, t.get("silent") || (f.on("mousedown", dO), f.on("mousemove", dO)), r && r.push(f) } var dO = EC(function (t) { var e = this, r = Pye(e, t.offsetX, t.offsetY); lt(e).dataIndex = r >= 0 ? r : null }, 30, !1); function Pye(t, e, r) { for (var n = t.baseDimIdx, a = 1 - n, i = t.shape.points, o = t.largeDataIndices, s = [], l = [], u = t.barWidth, c = 0, f = i.length / 3; c < f; c++) { var h = c * 3; if (l[n] = u, l[a] = i[h + 2], s[n] = i[h + n], s[a] = i[h + a], l[a] < 0 && (s[a] += l[a], l[a] = -l[a]), e >= s[0] && e <= s[0] + l[0] && r >= s[1] && r <= s[1] + l[1]) return o[c] } return -1 } function YV(t, e, r) { if (Qc(r, "cartesian2d")) { var n = e, a = r.getArea(); return { x: t ? n.x : a.x, y: t ? a.y : n.y, width: t ? n.width : a.width, height: t ? a.height : n.height } } else { var a = r.getArea(), i = e; return { cx: a.cx, cy: a.cy, r0: t ? a.r0 : i.r0, r: t ? a.r : i.r, startAngle: t ? i.startAngle : 0, endAngle: t ? i.endAngle : Math.PI * 2 } } } function Rye(t, e, r) { var n = t.type === "polar" ? Oa : Bt; return new n({ shape: YV(e, r, t), silent: !0, z2: 0 }) } const Oye = Dye; function UV(t) { t.registerChartView(Oye), t.registerSeriesModel(_ye), t.registerLayout(t.PRIORITY.VISUAL.LAYOUT, ut(sV, "bar")), t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT, lV("bar")), t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC, VV("bar")), t.registerAction({ type: "changeAxisOrder", event: "changeAxisOrder", update: "update" }, function (e, r) { var n = e.componentType || "series"; r.eachComponent({ mainType: n, query: e }, function (a) { e.sortInfo && a.axis.setCategorySortInfo(e.sortInfo) }) }) } var Im = Math.PI * 2, vO = Math.PI / 180; function WV(t, e) { return bn(t.getBoxLayoutParams(), { width: e.getWidth(), height: e.getHeight() }) } function GV(t, e) { var r = WV(t, e), n = t.get("center"), a = t.get("radius"); me(a) || (a = [0, a]); var i = Ae(r.width, e.getWidth()), o = Ae(r.height, e.getHeight()), s = Math.min(i, o), l = Ae(a[0], s / 2), u = Ae(a[1], s / 2), c, f, h = t.coordinateSystem; if (h) { var d = h.dataToPoint(n); c = d[0] || 0, f = d[1] || 0 } else me(n) || (n = [n, n]), c = Ae(n[0], i) + r.x, f = Ae(n[1], o) + r.y; return { cx: c, cy: f, r0: l, r: u } } function Eye(t, e, r) { e.eachSeriesByType(t, function (n) { var a = n.getData(), i = a.mapDimension("value"), o = WV(n, r), s = GV(n, r), l = s.cx, u = s.cy, c = s.r, f = s.r0, h = -n.get("startAngle") * vO, d = n.get("minAngle") * vO, v = 0; a.each(i, function (k) { !isNaN(k) && v++ }); var p = a.getSum(i), g = Math.PI / (p || v) * 2, m = n.get("clockwise"), y = n.get("roseType"), _ = n.get("stillShowZeroSum"), b = a.getDataExtent(i); b[0] = 0; var x = Im, S = 0, T = h, C = m ? 1 : -1; if (a.setLayout({ viewRect: o, r: c }), a.each(i, function (k, A) { var R; if (isNaN(k)) { a.setItemLayout(A, { angle: NaN, startAngle: NaN, endAngle: NaN, clockwise: m, cx: l, cy: u, r0: f, r: y ? NaN : c }); return } y !== "area" ? R = p === 0 && _ ? g : k * g : R = Im / v, R < d ? (R = d, x -= d) : S += k; var N = T + C * R; a.setItemLayout(A, { angle: R, startAngle: T, endAngle: N, clockwise: m, cx: l, cy: u, r0: f, r: y ? sr(k, b, [f, c]) : c }), T = N }), x < Im && v) if (x <= .001) { var M = Im / v; a.each(i, function (k, A) { if (!isNaN(k)) { var R = a.getItemLayout(A); R.angle = M, R.startAngle = h + C * A * M, R.endAngle = h + C * (A + 1) * M } }) } else g = x / S, T = h, a.each(i, function (k, A) { if (!isNaN(k)) { var R = a.getItemLayout(A), N = R.angle === d ? d : k * g; R.startAngle = T, R.endAngle = T + C * N, T += C * N } }) }) } function dg(t) { return { seriesType: t, reset: function (e, r) { var n = r.findComponents({ mainType: "legend" }); if (!(!n || !n.length)) { var a = e.getData(); a.filterSelf(function (i) { for (var o = a.getName(i), s = 0; s < n.length; s++)if (!n[s].isSelected(o)) return !1; return !0 }) } } } } var Nye = Math.PI / 180; function pO(t, e, r, n, a, i, o, s, l, u) { if (t.length < 2) return; function c(p) { for (var g = p.rB, m = g * g, y = 0; y < p.list.length; y++) { var _ = p.list[y], b = Math.abs(_.label.y - r), x = n + _.len, S = x * x, T = Math.sqrt((1 - Math.abs(b * b / m)) * S), C = e + (T + _.len2) * a, M = C - _.label.x, k = _.targetTextWidth - M * a; jV(_, k, !0), _.label.x = C } } function f(p) { for (var g = { list: [], maxY: 0 }, m = { list: [], maxY: 0 }, y = 0; y < p.length; y++)if (p[y].labelAlignTo === "none") { var _ = p[y], b = _.label.y > r ? m : g, x = Math.abs(_.label.y - r); if (x >= b.maxY) { var S = _.label.x - e - _.len2 * a, T = n + _.len, C = Math.abs(S) < T ? Math.sqrt(x * x / (1 - S * S / T / T)) : T; b.rB = C, b.maxY = x } b.list.push(_) } c(g), c(m) } for (var h = t.length, d = 0; d < h; d++)if (t[d].position === "outer" && t[d].labelAlignTo === "labelLine") { var v = t[d].label.x - u; t[d].linePoints[1][0] += v, t[d].label.x = u } LV(t, l, l + o) && f(t) } function $ye(t, e, r, n, a, i, o, s) { for (var l = [], u = [], c = Number.MAX_VALUE, f = -Number.MAX_VALUE, h = 0; h < t.length; h++) { var d = t[h].label; Uw(t[h]) || (d.x < e ? (c = Math.min(c, d.x), l.push(t[h])) : (f = Math.max(f, d.x), u.push(t[h]))) } for (var h = 0; h < t.length; h++) { var v = t[h]; if (!Uw(v) && v.linePoints) { if (v.labelStyleWidth != null) continue; var d = v.label, p = v.linePoints, g = void 0; v.labelAlignTo === "edge" ? d.x < e ? g = p[2][0] - v.labelDistance - o - v.edgeDistance : g = o + a - v.edgeDistance - p[2][0] - v.labelDistance : v.labelAlignTo === "labelLine" ? d.x < e ? g = c - o - v.bleedMargin : g = o + a - f - v.bleedMargin : d.x < e ? g = d.x - o - v.bleedMargin : g = o + a - d.x - v.bleedMargin, v.targetTextWidth = g, jV(v, g) } } pO(u, e, r, n, 1, a, i, o, s, f), pO(l, e, r, n, -1, a, i, o, s, c); for (var h = 0; h < t.length; h++) { var v = t[h]; if (!Uw(v) && v.linePoints) { var d = v.label, p = v.linePoints, m = v.labelAlignTo === "edge", y = d.style.padding, _ = y ? y[1] + y[3] : 0, b = d.style.backgroundColor ? 0 : _, x = v.rect.width + b, S = p[1][0] - p[2][0]; m ? d.x < e ? p[2][0] = o + v.edgeDistance + x + v.labelDistance : p[2][0] = o + a - v.edgeDistance - x - v.labelDistance : (d.x < e ? p[2][0] = d.x + v.labelDistance : p[2][0] = d.x - v.labelDistance, p[1][0] = p[2][0] + S), p[1][1] = p[2][1] = d.y } } } function jV(t, e, r) { if (r === void 0 && (r = !1), t.labelStyleWidth == null) { var n = t.label, a = n.style, i = t.rect, o = a.backgroundColor, s = a.padding, l = s ? s[1] + s[3] : 0, u = a.overflow, c = i.width + (o ? 0 : l); if (e < c || r) { var f = i.height; if (u && u.match("break")) { n.setStyle("backgroundColor", null), n.setStyle("width", e - l); var h = n.getBoundingRect(); n.setStyle("width", Math.ceil(h.width)), n.setStyle("backgroundColor", o) } else { var d = e - l, v = e < c ? d : r ? d > t.unconstrainedWidth ? null : d : null; n.setStyle("width", v) } var p = n.getBoundingRect(); i.width = p.width; var g = (n.style.margin || 0) + 2.1; i.height = p.height + g, i.y -= (i.height - f) / 2 } } } function Uw(t) { return t.position === "center" } function Fye(t) { var e = t.getData(), r = [], n, a, i = !1, o = (t.get("minShowLabelAngle") || 0) * Nye, s = e.getLayout("viewRect"), l = e.getLayout("r"), u = s.width, c = s.x, f = s.y, h = s.height; function d(S) { S.ignore = !0 } function v(S) { if (!S.ignore) return !0; for (var T in S.states) if (S.states[T].ignore === !1) return !0; return !1 } e.each(function (S) { var T = e.getItemGraphicEl(S), C = T.shape, M = T.getTextContent(), k = T.getTextGuideLine(), A = e.getItemModel(S), R = A.getModel("label"), N = R.get("position") || A.get(["emphasis", "label", "position"]), z = R.get("distanceToLabelLine"), F = R.get("alignTo"), V = Ae(R.get("edgeDistance"), u), L = R.get("bleedMargin"), H = A.getModel("labelLine"), q = H.get("length"); q = Ae(q, u); var K = H.get("length2"); if (K = Ae(K, u), Math.abs(C.endAngle - C.startAngle) < o) { E(M.states, d), M.ignore = !0, k && (E(k.states, d), k.ignore = !0); return } if (v(M)) { var te = (C.startAngle + C.endAngle) / 2, oe = Math.cos(te), X = Math.sin(te), U, B, ee, Q; n = C.cx, a = C.cy; var se = N === "inside" || N === "inner"; if (N === "center") U = C.cx, B = C.cy, Q = "center"; else { var ue = (se ? (C.r + C.r0) / 2 * oe : C.r * oe) + n, pe = (se ? (C.r + C.r0) / 2 * X : C.r * X) + a; if (U = ue + oe * 3, B = pe + X * 3, !se) { var Se = ue + oe * (q + l - C.r), G = pe + X * (q + l - C.r), Z = Se + (oe < 0 ? -1 : 1) * K, J = G; F === "edge" ? U = oe < 0 ? c + V : c + u - V : U = Z + (oe < 0 ? -z : z), B = J, ee = [[ue, pe], [Se, G], [Z, J]] } Q = se ? "center" : F === "edge" ? oe > 0 ? "right" : "left" : oe > 0 ? "left" : "right" } var le = Math.PI, ve = 0, we = R.get("rotate"); if (Gt(we)) ve = we * (le / 180); else if (N === "center") ve = 0; else if (we === "radial" || we === !0) { var Ne = oe < 0 ? -te + le : -te; ve = Ne } else if (we === "tangential" && N !== "outside" && N !== "outer") { var Ce = Math.atan2(oe, X); Ce < 0 && (Ce = le * 2 + Ce); var Pe = X > 0; Pe && (Ce = le + Ce), ve = Ce - le } if (i = !!ve, M.x = U, M.y = B, M.rotation = ve, M.setStyle({ verticalAlign: "middle" }), se) { M.setStyle({ align: Q }); var ot = M.states.select; ot && (ot.x += M.x, ot.y += M.y) } else { var xe = M.getBoundingRect().clone(); xe.applyTransform(M.getComputedTransform()); var Ye = (M.style.margin || 0) + 2.1; xe.y -= Ye / 2, xe.height += Ye, r.push({ label: M, labelLine: k, position: N, len: q, len2: K, minTurnAngle: H.get("minTurnAngle"), maxSurfaceAngle: H.get("maxSurfaceAngle"), surfaceNormal: new gt(oe, X), linePoints: ee, textAlign: Q, labelDistance: z, labelAlignTo: F, edgeDistance: V, bleedMargin: L, rect: xe, unconstrainedWidth: xe.width, labelStyleWidth: M.style.width }) } T.setTextConfig({ inside: se }) } }), !i && t.get("avoidLabelOverlap") && $ye(r, n, a, l, u, h, c, f); for (var p = 0; p < r.length; p++) { var g = r[p], m = g.label, y = g.labelLine, _ = isNaN(m.x) || isNaN(m.y); if (m) { m.setStyle({ align: g.textAlign }), _ && (E(m.states, d), m.ignore = !0); var b = m.states.select; b && (b.x += m.x, b.y += m.y) } if (y) { var x = g.linePoints; _ || !x ? (E(y.states, d), y.ignore = !0) : (MV(x, g.minTurnAngle), Vme(x, g.surfaceNormal, g.maxSurfaceAngle), y.setShape({ points: x }), m.__hostTarget.textGuideLineConfig = { anchor: new gt(x[0][0], x[0][1]) }) } } } var Bye = function (t) { ae(e, t); function e(r, n, a) { var i = t.call(this) || this; i.z2 = 2; var o = new Wt; return i.setTextContent(o), i.updateData(r, n, a, !0), i } return e.prototype.updateData = function (r, n, a, i) { var o = this, s = r.hostModel, l = r.getItemModel(n), u = l.getModel("emphasis"), c = r.getItemLayout(n), f = he(vc(l.getModel("itemStyle"), c, !0), c); if (isNaN(f.startAngle)) { o.setShape(f); return } if (i) { o.setShape(f); var h = s.getShallow("animationType"); s.ecModel.ssr ? (Or(o, { scaleX: 0, scaleY: 0 }, s, { dataIndex: n, isFrom: !0 }), o.originX = f.cx, o.originY = f.cy) : h === "scale" ? (o.shape.r = c.r0, Or(o, { shape: { r: c.r } }, s, n)) : a != null ? (o.setShape({ startAngle: a, endAngle: a }), Or(o, { shape: { startAngle: c.startAngle, endAngle: c.endAngle } }, s, n)) : (o.shape.endAngle = c.startAngle, jt(o, { shape: { endAngle: c.endAngle } }, s, n)) } else Zi(o), jt(o, { shape: f }, s, n); o.useStyle(r.getItemVisual(n, "style")), Un(o, l); var d = (c.startAngle + c.endAngle) / 2, v = s.get("selectedOffset"), p = Math.cos(d) * v, g = Math.sin(d) * v, m = l.getShallow("cursor"); m && o.attr("cursor", m), this._updateLabel(s, r, n), o.ensureState("emphasis").shape = he({ r: c.r + (u.get("scale") && u.get("scaleSize") || 0) }, vc(u.getModel("itemStyle"), c)), he(o.ensureState("select"), { x: p, y: g, shape: vc(l.getModel(["select", "itemStyle"]), c) }), he(o.ensureState("blur"), { shape: vc(l.getModel(["blur", "itemStyle"]), c) }); var y = o.getTextGuideLine(), _ = o.getTextContent(); y && he(y.ensureState("select"), { x: p, y: g }), he(_.ensureState("select"), { x: p, y: g }), Xr(this, u.get("focus"), u.get("blurScope"), u.get("disabled")) }, e.prototype._updateLabel = function (r, n, a) { var i = this, o = n.getItemModel(a), s = o.getModel("labelLine"), l = n.getItemVisual(a, "style"), u = l && l.fill, c = l && l.opacity; Wn(i, Pn(o), { labelFetcher: n.hostModel, labelDataIndex: a, inheritColor: u, defaultOpacity: c, defaultText: r.getFormattedLabel(a, "normal") || n.getName(a) }); var f = i.getTextContent(); i.setTextConfig({ position: null, rotation: null }), f.attr({ z2: 10 }); var h = r.get(["label", "position"]); if (h !== "outside" && h !== "outer") i.removeTextGuideLine(); else { var d = this.getTextGuideLine(); d || (d = new Na, this.setTextGuideLine(d)), qC(this, XC(o), { stroke: u, opacity: Co(s.get(["lineStyle", "opacity"]), c, 1) }) } }, e }(Oa), Vye = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.ignoreLabelLineUpdate = !0, r } return e.prototype.render = function (r, n, a, i) { var o = r.getData(), s = this._data, l = this.group, u; if (!s && o.count() > 0) { for (var c = o.getItemLayout(0), f = 1; isNaN(c && c.startAngle) && f < o.count(); ++f)c = o.getItemLayout(f); c && (u = c.startAngle) } if (this._emptyCircleSector && l.remove(this._emptyCircleSector), o.count() === 0 && r.get("showEmptyCircle")) { var h = new Oa({ shape: GV(r, a) }); h.useStyle(r.getModel("emptyCircleStyle").getItemStyle()), this._emptyCircleSector = h, l.add(h) } o.diff(s).add(function (d) { var v = new Bye(o, d, u); o.setItemGraphicEl(d, v), l.add(v) }).update(function (d, v) { var p = s.getItemGraphicEl(v); p.updateData(o, d, u), p.off("click"), l.add(p), o.setItemGraphicEl(d, p) }).remove(function (d) { var v = s.getItemGraphicEl(d); dp(v, r, d) }).execute(), Fye(r), r.get("animationTypeUpdate") !== "expansion" && (this._data = o) }, e.prototype.dispose = function () { }, e.prototype.containPoint = function (r, n) { var a = n.getData(), i = a.getItemLayout(0); if (i) { var o = r[0] - i.cx, s = r[1] - i.cy, l = Math.sqrt(o * o + s * s); return l <= i.r && l >= i.r0 } }, e.type = "pie", e }(Ar); const zye = Vye; function td(t, e, r) { e = me(e) && { coordDimensions: e } || he({ encodeDefine: t.getEncode() }, e); var n = t.getSource(), a = sg(n, e).dimensions, i = new ma(a, t); return i.initData(n, r), i } var Hye = function () { function t(e, r) { this._getDataWithEncodedVisual = e, this._getRawData = r } return t.prototype.getAllNames = function () { var e = this._getRawData(); return e.mapArray(e.getName) }, t.prototype.containName = function (e) { var r = this._getRawData(); return r.indexOfName(e) >= 0 }, t.prototype.indexOfName = function (e) { var r = this._getDataWithEncodedVisual(); return r.indexOfName(e) }, t.prototype.getItemVisual = function (e, r) { var n = this._getDataWithEncodedVisual(); return n.getItemVisual(e, r) }, t }(); const vg = Hye; var Yye = zt(), Uye = function (t) { ae(e, t); function e() { return t !== null && t.apply(this, arguments) || this } return e.prototype.init = function (r) { t.prototype.init.apply(this, arguments), this.legendVisualProvider = new vg($e(this.getData, this), $e(this.getRawData, this)), this._defaultLabelLine(r) }, e.prototype.mergeOption = function () { t.prototype.mergeOption.apply(this, arguments) }, e.prototype.getInitialData = function () { return td(this, { coordDimensions: ["value"], encodeDefaulter: ut(DC, this) }) }, e.prototype.getDataParams = function (r) { var n = this.getData(), a = Yye(n), i = a.seats; if (!i) { var o = []; n.each(n.mapDimension("value"), function (l) { o.push(l) }), i = a.seats = Wce(o, n.hostModel.get("percentPrecision")) } var s = t.prototype.getDataParams.call(this, r); return s.percent = i[r] || 0, s.$vars.push("percent"), s }, e.prototype._defaultLabelLine = function (r) { Oc(r, "labelLine", ["show"]); var n = r.labelLine, a = r.emphasis.labelLine; n.show = n.show && r.label.show, a.show = a.show && r.emphasis.label.show }, e.type = "series.pie", e.defaultOption = { z: 2, legendHoverLink: !0, colorBy: "data", center: ["50%", "50%"], radius: [0, "75%"], clockwise: !0, startAngle: 90, minAngle: 0, minShowLabelAngle: 0, selectedOffset: 10, percentPrecision: 2, stillShowZeroSum: !0, left: 0, top: 0, right: 0, bottom: 0, width: null, height: null, label: { rotate: 0, show: !0, overflow: "truncate", position: "outer", alignTo: "none", edgeDistance: "25%", bleedMargin: 10, distanceToLabelLine: 5 }, labelLine: { show: !0, length: 15, length2: 15, smooth: !1, minTurnAngle: 90, maxSurfaceAngle: 90, lineStyle: { width: 1, type: "solid" } }, itemStyle: { borderWidth: 1, borderJoin: "round" }, showEmptyCircle: !0, emptyCircleStyle: { color: "lightgray", opacity: 1 }, labelLayout: { hideOverlap: !0 }, emphasis: { scale: !0, scaleSize: 5 }, avoidLabelOverlap: !0, animationType: "expansion", animationDuration: 1e3, animationTypeUpdate: "transition", animationEasingUpdate: "cubicInOut", animationDurationUpdate: 500, animationEasing: "cubicInOut" }, e }($r); const Wye = Uye; function Gye(t) { return { seriesType: t, reset: function (e, r) { var n = e.getData(); n.filterSelf(function (a) { var i = n.mapDimension("value"), o = n.get(i, a); return !(Gt(o) && !isNaN(o) && o < 0) }) } } } function ZV(t) { t.registerChartView(zye), t.registerSeriesModel(Wye), T6("pie", t.registerAction), t.registerLayout(ut(Eye, "pie")), t.registerProcessor(dg("pie")), t.registerProcessor(Gye("pie")) } var jye = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.hasSymbolVisual = !0, r } return e.prototype.getInitialData = function (r, n) { return Hs(null, this, { useEncodeDefaulter: !0 }) }, e.prototype.getProgressive = function () { var r = this.option.progressive; return r ?? (this.option.large ? 5e3 : this.get("progressive")) }, e.prototype.getProgressiveThreshold = function () { var r = this.option.progressiveThreshold; return r ?? (this.option.large ? 1e4 : this.get("progressiveThreshold")) }, e.prototype.brushSelector = function (r, n, a) { return a.point(n.getItemLayout(r)) }, e.prototype.getZLevelKey = function () { return this.getData().count() > this.getProgressiveThreshold() ? this.id : "" }, e.type = "series.scatter", e.dependencies = ["grid", "polar", "geo", "singleAxis", "calendar"], e.defaultOption = { coordinateSystem: "cartesian2d", z: 2, legendHoverLink: !0, symbolSize: 10, large: !1, largeThreshold: 2e3, itemStyle: { opacity: .8 }, emphasis: { scale: !0 }, clip: !0, select: { itemStyle: { borderColor: "#212121" } }, universalTransition: { divideShape: "clone" } }, e }($r); const Zye = jye; var qV = 4, qye = function () { function t() { } return t }(), Xye = function (t) { ae(e, t); function e(r) { var n = t.call(this, r) || this; return n._off = 0, n.hoverDataIdx = -1, n } return e.prototype.getDefaultShape = function () { return new qye }, e.prototype.reset = function () { this.notClear = !1, this._off = 0 }, e.prototype.buildPath = function (r, n) { var a = n.points, i = n.size, o = this.symbolProxy, s = o.shape, l = r.getContext ? r.getContext() : r, u = l && i[0] < qV, c = this.softClipShape, f; if (u) { this._ctx = l; return } for (this._ctx = null, f = this._off; f < a.length;) { var h = a[f++], d = a[f++]; isNaN(h) || isNaN(d) || c && !c.contain(h, d) || (s.x = h - i[0] / 2, s.y = d - i[1] / 2, s.width = i[0], s.height = i[1], o.buildPath(r, s, !0)) } this.incremental && (this._off = f, this.notClear = !0) }, e.prototype.afterBrush = function () { var r = this.shape, n = r.points, a = r.size, i = this._ctx, o = this.softClipShape, s; if (i) { for (s = this._off; s < n.length;) { var l = n[s++], u = n[s++]; isNaN(l) || isNaN(u) || o && !o.contain(l, u) || i.fillRect(l - a[0] / 2, u - a[1] / 2, a[0], a[1]) } this.incremental && (this._off = s, this.notClear = !0) } }, e.prototype.findDataIndex = function (r, n) { for (var a = this.shape, i = a.points, o = a.size, s = Math.max(o[0], 4), l = Math.max(o[1], 4), u = i.length / 2 - 1; u >= 0; u--) { var c = u * 2, f = i[c] - s / 2, h = i[c + 1] - l / 2; if (r >= f && n >= h && r <= f + s && n <= h + l) return u } return -1 }, e.prototype.contain = function (r, n) { var a = this.transformCoordToLocal(r, n), i = this.getBoundingRect(); if (r = a[0], n = a[1], i.contain(r, n)) { var o = this.hoverDataIdx = this.findDataIndex(r, n); return o >= 0 } return this.hoverDataIdx = -1, !1 }, e.prototype.getBoundingRect = function () { var r = this._rect; if (!r) { for (var n = this.shape, a = n.points, i = n.size, o = i[0], s = i[1], l = 1 / 0, u = 1 / 0, c = -1 / 0, f = -1 / 0, h = 0; h < a.length;) { var d = a[h++], v = a[h++]; l = Math.min(d, l), c = Math.max(d, c), u = Math.min(v, u), f = Math.max(v, f) } r = this._rect = new wt(l - o / 2, u - s / 2, c - l + o, f - u + s) } return r }, e }(At), Kye = function () { function t() { this.group = new it } return t.prototype.updateData = function (e, r) { this._clear(); var n = this._create(); n.setShape({ points: e.getLayout("points") }), this._setCommon(n, e, r) }, t.prototype.updateLayout = function (e) { var r = e.getLayout("points"); this.group.eachChild(function (n) { if (n.startIndex != null) { var a = (n.endIndex - n.startIndex) * 2, i = n.startIndex * 4 * 2; r = new Float32Array(r.buffer, i, a) } n.setShape("points", r), n.reset() }) }, t.prototype.incrementalPrepareUpdate = function (e) { this._clear() }, t.prototype.incrementalUpdate = function (e, r, n) { var a = this._newAdded[0], i = r.getLayout("points"), o = a && a.shape.points; if (o && o.length < 2e4) { var s = o.length, l = new Float32Array(s + i.length); l.set(o), l.set(i, s), a.endIndex = e.end, a.setShape({ points: l }) } else { this._newAdded = []; var u = this._create(); u.startIndex = e.start, u.endIndex = e.end, u.incremental = !0, u.setShape({ points: i }), this._setCommon(u, r, n) } }, t.prototype.eachRendered = function (e) { this._newAdded[0] && e(this._newAdded[0]) }, t.prototype._create = function () { var e = new Xye({ cursor: "default" }); return e.ignoreCoarsePointer = !0, this.group.add(e), this._newAdded.push(e), e }, t.prototype._setCommon = function (e, r, n) { var a = r.hostModel; n = n || {}; var i = r.getVisual("symbolSize"); e.setShape("size", i instanceof Array ? i : [i, i]), e.softClipShape = n.clipShape || null, e.symbolProxy = gn(r.getVisual("symbol"), 0, 0, 0, 0), e.setColor = e.symbolProxy.setColor; var o = e.shape.size[0] < qV; e.useStyle(a.getModel("itemStyle").getItemStyle(o ? ["color", "shadowBlur", "shadowColor"] : ["color"])); var s = r.getVisual("style"), l = s && s.fill; l && e.setColor(l); var u = lt(e); u.seriesIndex = a.seriesIndex, e.on("mousemove", function (c) { u.dataIndex = null; var f = e.hoverDataIdx; f >= 0 && (u.dataIndex = f + (e.startIndex || 0)) }) }, t.prototype.remove = function () { this._clear() }, t.prototype._clear = function () { this._newAdded = [], this.group.removeAll() }, t }(); const Qye = Kye; var Jye = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.render = function (r, n, a) { var i = r.getData(), o = this._updateSymbolDraw(i, r); o.updateData(i, { clipShape: this._getClipShape(r) }), this._finished = !0 }, e.prototype.incrementalPrepareRender = function (r, n, a) { var i = r.getData(), o = this._updateSymbolDraw(i, r); o.incrementalPrepareUpdate(i), this._finished = !1 }, e.prototype.incrementalRender = function (r, n, a) { this._symbolDraw.incrementalUpdate(r, n.getData(), { clipShape: this._getClipShape(n) }), this._finished = r.end === n.getData().count() }, e.prototype.updateTransform = function (r, n, a) { var i = r.getData(); if (this.group.dirty(), !this._finished || i.count() > 1e4) return { update: !0 }; var o = hg("").reset(r, n, a); o.progress && o.progress({ start: 0, end: i.count(), count: i.count() }, i), this._symbolDraw.updateLayout(i) }, e.prototype.eachRendered = function (r) { this._symbolDraw && this._symbolDraw.eachRendered(r) }, e.prototype._getClipShape = function (r) { var n = r.coordinateSystem, a = n && n.getArea && n.getArea(); return r.get("clip", !0) ? a : null }, e.prototype._updateSymbolDraw = function (r, n) { var a = this._symbolDraw, i = n.pipelineContext, o = i.large; return (!a || o !== this._isLargeDraw) && (a && a.remove(), a = this._symbolDraw = o ? new Qye : new fg, this._isLargeDraw = o, this.group.removeAll()), this.group.add(a.group), a }, e.prototype.remove = function (r, n) { this._symbolDraw && this._symbolDraw.remove(!0), this._symbolDraw = null }, e.prototype.dispose = function () { }, e.type = "scatter", e }(Ar); const e0e = Jye; var t0e = function (t) { ae(e, t); function e() { return t !== null && t.apply(this, arguments) || this } return e.type = "grid", e.dependencies = ["xAxis", "yAxis"], e.layoutMode = "box", e.defaultOption = { show: !1, z: 0, left: "10%", top: 60, right: "10%", bottom: 70, containLabel: !1, backgroundColor: "rgba(0,0,0,0)", borderWidth: 1, borderColor: "#ccc" }, e }(Yt); const r0e = t0e; var qT = function (t) { ae(e, t); function e() { return t !== null && t.apply(this, arguments) || this } return e.prototype.getCoordSysModel = function () { return this.getReferringComponents("grid", dn).models[0] }, e.type = "cartesian2dAxis", e }(Yt); mn(qT, ug); var XV = { show: !0, z: 0, inverse: !1, name: "", nameLocation: "end", nameRotate: null, nameTruncate: { maxWidth: null, ellipsis: "...", placeholder: "." }, nameTextStyle: {}, nameGap: 15, silent: !1, triggerEvent: !1, tooltip: { show: !1 }, axisPointer: {}, axisLine: { show: !0, onZero: !0, onZeroAxisIndex: null, lineStyle: { color: "#6E7079", width: 1, type: "solid" }, symbol: ["none", "none"], symbolSize: [10, 15] }, axisTick: { show: !0, inside: !1, length: 5, lineStyle: { width: 1 } }, axisLabel: { show: !0, inside: !1, rotate: 0, showMinLabel: null, showMaxLabel: null, margin: 8, fontSize: 12 }, splitLine: { show: !0, lineStyle: { color: ["#E0E6F1"], width: 1, type: "solid" } }, splitArea: { show: !1, areaStyle: { color: ["rgba(250,250,250,0.2)", "rgba(210,219,238,0.2)"] } } }, n0e = bt({ boundaryGap: !0, deduplication: null, splitLine: { show: !1 }, axisTick: { alignWithLabel: !1, interval: "auto" }, axisLabel: { interval: "auto" } }, XV), QC = bt({ boundaryGap: [0, 0], axisLine: { show: "auto" }, axisTick: { show: "auto" }, splitNumber: 5, minorTick: { show: !1, splitNumber: 5, length: 3, lineStyle: {} }, minorSplitLine: { show: !1, lineStyle: { color: "#F4F7FD", width: 1 } } }, XV), a0e = bt({ splitNumber: 6, axisLabel: { showMinLabel: !1, showMaxLabel: !1, rich: { primary: { fontWeight: "bold" } } }, splitLine: { show: !1 } }, QC), i0e = Xe({ logBase: 10 }, QC); const KV = { category: n0e, value: QC, time: a0e, log: i0e }; var o0e = { value: 1, category: 1, time: 1, log: 1 }; function Lh(t, e, r, n) { E(o0e, function (a, i) { var o = bt(bt({}, KV[i], !0), n, !0), s = function (l) { ae(u, l); function u() { var c = l !== null && l.apply(this, arguments) || this; return c.type = e + "Axis." + i, c } return u.prototype.mergeDefaultAndTheme = function (c, f) { var h = gp(this), d = h ? qh(c) : {}, v = f.getTheme(); bt(c, v.get(i + "Axis")), bt(c, this.getDefaultOption()), c.type = gO(c), h && Ql(c, d, h) }, u.prototype.optionUpdated = function () { var c = this.option; c.type === "category" && (this.__ordinalMeta = WT.createByAxisModel(this)) }, u.prototype.getCategories = function (c) { var f = this.option; if (f.type === "category") return c ? f.data : this.__ordinalMeta.categories }, u.prototype.getOrdinalMeta = function () { return this.__ordinalMeta }, u.type = e + "Axis." + i, u.defaultOption = o, u }(r); t.registerComponentModel(s) }), t.registerSubTypeDefaulter(e + "Axis", gO) } function gO(t) { return t.type || (t.data ? "category" : "value") } var s0e = function () { function t(e) { this.type = "cartesian", this._dimList = [], this._axes = {}, this.name = e || "" } return t.prototype.getAxis = function (e) { return this._axes[e] }, t.prototype.getAxes = function () { return _e(this._dimList, function (e) { return this._axes[e] }, this) }, t.prototype.getAxesByScale = function (e) { return e = e.toLowerCase(), hr(this.getAxes(), function (r) { return r.scale.type === e }) }, t.prototype.addAxis = function (e) { var r = e.dim; this._axes[r] = e, this._dimList.push(r) }, t }(); const l0e = s0e; var XT = ["x", "y"]; function mO(t) { return t.type === "interval" || t.type === "time" } var u0e = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = "cartesian2d", r.dimensions = XT, r } return e.prototype.calcAffineTransform = function () { this._transform = this._invTransform = null; var r = this.getAxis("x").scale, n = this.getAxis("y").scale; if (!(!mO(r) || !mO(n))) { var a = r.getExtent(), i = n.getExtent(), o = this.dataToPoint([a[0], i[0]]), s = this.dataToPoint([a[1], i[1]]), l = a[1] - a[0], u = i[1] - i[0]; if (!(!l || !u)) { var c = (s[0] - o[0]) / l, f = (s[1] - o[1]) / u, h = o[0] - a[0] * c, d = o[1] - i[0] * f, v = this._transform = [c, 0, 0, f, h, d]; this._invTransform = zh([], v) } } }, e.prototype.getBaseAxis = function () { return this.getAxesByScale("ordinal")[0] || this.getAxesByScale("time")[0] || this.getAxis("x") }, e.prototype.containPoint = function (r) { var n = this.getAxis("x"), a = this.getAxis("y"); return n.contain(n.toLocalCoord(r[0])) && a.contain(a.toLocalCoord(r[1])) }, e.prototype.containData = function (r) { return this.getAxis("x").containData(r[0]) && this.getAxis("y").containData(r[1]) }, e.prototype.containZone = function (r, n) { var a = this.dataToPoint(r), i = this.dataToPoint(n), o = this.getArea(), s = new wt(a[0], a[1], i[0] - a[0], i[1] - a[1]); return o.intersect(s) }, e.prototype.dataToPoint = function (r, n, a) { a = a || []; var i = r[0], o = r[1]; if (this._transform && i != null && isFinite(i) && o != null && isFinite(o)) return Hn(a, r, this._transform); var s = this.getAxis("x"), l = this.getAxis("y"); return a[0] = s.toGlobalCoord(s.dataToCoord(i, n)), a[1] = l.toGlobalCoord(l.dataToCoord(o, n)), a }, e.prototype.clampData = function (r, n) { var a = this.getAxis("x").scale, i = this.getAxis("y").scale, o = a.getExtent(), s = i.getExtent(), l = a.parse(r[0]), u = i.parse(r[1]); return n = n || [], n[0] = Math.min(Math.max(Math.min(o[0], o[1]), l), Math.max(o[0], o[1])), n[1] = Math.min(Math.max(Math.min(s[0], s[1]), u), Math.max(s[0], s[1])), n }, e.prototype.pointToData = function (r, n) { var a = []; if (this._invTransform) return Hn(a, r, this._invTransform); var i = this.getAxis("x"), o = this.getAxis("y"); return a[0] = i.coordToData(i.toLocalCoord(r[0]), n), a[1] = o.coordToData(o.toLocalCoord(r[1]), n), a }, e.prototype.getOtherAxis = function (r) { return this.getAxis(r.dim === "x" ? "y" : "x") }, e.prototype.getArea = function () { var r = this.getAxis("x").getGlobalExtent(), n = this.getAxis("y").getGlobalExtent(), a = Math.min(r[0], r[1]), i = Math.min(n[0], n[1]), o = Math.max(r[0], r[1]) - a, s = Math.max(n[0], n[1]) - i; return new wt(a, i, o, s) }, e }(l0e), c0e = function (t) { ae(e, t); function e(r, n, a, i, o) { var s = t.call(this, r, n, a) || this; return s.index = 0, s.type = i || "value", s.position = o || "bottom", s } return e.prototype.isHorizontal = function () { var r = this.position; return r === "top" || r === "bottom" }, e.prototype.getGlobalExtent = function (r) { var n = this.getExtent(); return n[0] = this.toGlobalCoord(n[0]), n[1] = this.toGlobalCoord(n[1]), r && n[0] > n[1] && n.reverse(), n }, e.prototype.pointToData = function (r, n) { return this.coordToData(this.toLocalCoord(r[this.dim === "x" ? 0 : 1]), n) }, e.prototype.setCategorySortInfo = function (r) { if (this.type !== "category") return !1; this.model.option.categorySortInfo = r, this.scale.setSortInfo(r) }, e }(Ji); const f0e = c0e; function KT(t, e, r) { r = r || {}; var n = t.coordinateSystem, a = e.axis, i = {}, o = a.getAxesOnZeroOf()[0], s = a.position, l = o ? "onZero" : s, u = a.dim, c = n.getRect(), f = [c.x, c.x + c.width, c.y, c.y + c.height], h = { left: 0, right: 1, top: 0, bottom: 1, onZero: 2 }, d = e.get("offset") || 0, v = u === "x" ? [f[2] - d, f[3] + d] : [f[0] - d, f[1] + d]; if (o) { var p = o.toGlobalCoord(o.dataToCoord(0)); v[h.onZero] = Math.max(Math.min(p, v[1]), v[0]) } i.position = [u === "y" ? v[h[l]] : f[0], u === "x" ? v[h[l]] : f[3]], i.rotation = Math.PI / 2 * (u === "x" ? 0 : 1); var g = { top: -1, bottom: 1, left: -1, right: 1 }; i.labelDirection = i.tickDirection = i.nameDirection = g[s], i.labelOffset = o ? v[h[s]] - v[h.onZero] : 0, e.get(["axisTick", "inside"]) && (i.tickDirection = -i.tickDirection), Nn(r.labelInside, e.get(["axisLabel", "inside"])) && (i.labelDirection = -i.labelDirection); var m = e.get(["axisLabel", "rotate"]); return i.labelRotate = l === "top" ? -m : m, i.z2 = 1, i } function yO(t) { return t.get("coordinateSystem") === "cartesian2d" } function _O(t) { var e = { xAxisModel: null, yAxisModel: null }; return E(e, function (r, n) { var a = n.replace(/Model$/, ""), i = t.getReferringComponents(a, dn).models[0]; e[n] = i }), e } var Ww = Math.log; function QV(t, e, r) { var n = eu.prototype, a = n.getTicks.call(r), i = n.getTicks.call(r, !0), o = a.length - 1, s = n.getInterval.call(r), l = pV(t, e), u = l.extent, c = l.fixMin, f = l.fixMax; if (t.type === "log") { var h = Ww(t.base); u = [Ww(u[0]) / h, Ww(u[1]) / h] } t.setExtent(u[0], u[1]), t.calcNiceExtent({ splitNumber: o, fixMin: c, fixMax: f }); var d = n.getExtent.call(t); c && (u[0] = d[0]), f && (u[1] = d[1]); var v = n.getInterval.call(t), p = u[0], g = u[1]; if (c && f) v = (g - p) / o; else if (c) for (g = u[0] + v * o; g < u[1] && isFinite(g) && isFinite(u[1]);)v = Ew(v), g = u[0] + v * o; else if (f) for (p = u[1] - v * o; p > u[0] && isFinite(p) && isFinite(u[0]);)v = Ew(v), p = u[1] - v * o; else { var m = t.getTicks().length - 1; m > o && (v = Ew(v)); var y = v * o; g = Math.ceil(u[1] / v) * v, p = en(g - y), p < 0 && u[0] >= 0 ? (p = 0, g = en(y)) : g > 0 && u[1] <= 0 && (g = 0, p = -en(y)) } var _ = (a[0].value - i[0].value) / s, b = (a[o].value - i[o].value) / s; n.setExtent.call(t, p + v * _, g + v * b), n.setInterval.call(t, v), (_ || b) && n.setNiceExtent.call(t, p + v, g - v) } var h0e = function () { function t(e, r, n) { this.type = "grid", this._coordsMap = {}, this._coordsList = [], this._axesMap = {}, this._axesList = [], this.axisPointerEnabled = !0, this.dimensions = XT, this._initCartesian(e, r, n), this.model = e } return t.prototype.getRect = function () { return this._rect }, t.prototype.update = function (e, r) { var n = this._axesMap; this._updateScale(e, this.model); function a(o) { var s, l = Nt(o), u = l.length; if (u) { for (var c = [], f = u - 1; f >= 0; f--) { var h = +l[f], d = o[h], v = d.model, p = d.scale; GT(p) && v.get("alignTicks") && v.get("interval") == null ? c.push(d) : (kh(p, v), GT(p) && (s = d)) } c.length && (s || (s = c.pop(), kh(s.scale, s.model)), E(c, function (g) { QV(g.scale, g.model, s.scale) })) } } a(n.x), a(n.y); var i = {}; E(n.x, function (o) { bO(n, "y", o, i) }), E(n.y, function (o) { bO(n, "x", o, i) }), this.resize(this.model, r) }, t.prototype.resize = function (e, r, n) { var a = e.getBoxLayoutParams(), i = !n && e.get("containLabel"), o = bn(a, { width: r.getWidth(), height: r.getHeight() }); this._rect = o; var s = this._axesList; l(), i && (E(s, function (u) { if (!u.model.get(["axisLabel", "inside"])) { var c = pme(u); if (c) { var f = u.isHorizontal() ? "height" : "width", h = u.model.get(["axisLabel", "margin"]); o[f] -= c[f] + h, u.position === "top" ? o.y += c.height + h : u.position === "left" && (o.x += c.width + h) } } }), l()), E(this._coordsList, function (u) { u.calcAffineTransform() }); function l() { E(s, function (u) { var c = u.isHorizontal(), f = c ? [0, o.width] : [0, o.height], h = u.inverse ? 1 : 0; u.setExtent(f[h], f[1 - h]), d0e(u, c ? o.x : o.y) }) } }, t.prototype.getAxis = function (e, r) { var n = this._axesMap[e]; if (n != null) return n[r || 0] }, t.prototype.getAxes = function () { return this._axesList.slice() }, t.prototype.getCartesian = function (e, r) { if (e != null && r != null) { var n = "x" + e + "y" + r; return this._coordsMap[n] } Qe(e) && (r = e.yAxisIndex, e = e.xAxisIndex); for (var a = 0, i = this._coordsList; a < i.length; a++)if (i[a].getAxis("x").index === e || i[a].getAxis("y").index === r) return i[a] }, t.prototype.getCartesians = function () { return this._coordsList.slice() }, t.prototype.convertToPixel = function (e, r, n) { var a = this._findConvertTarget(r); return a.cartesian ? a.cartesian.dataToPoint(n) : a.axis ? a.axis.toGlobalCoord(a.axis.dataToCoord(n)) : null }, t.prototype.convertFromPixel = function (e, r, n) { var a = this._findConvertTarget(r); return a.cartesian ? a.cartesian.pointToData(n) : a.axis ? a.axis.coordToData(a.axis.toLocalCoord(n)) : null }, t.prototype._findConvertTarget = function (e) { var r = e.seriesModel, n = e.xAxisModel || r && r.getReferringComponents("xAxis", dn).models[0], a = e.yAxisModel || r && r.getReferringComponents("yAxis", dn).models[0], i = e.gridModel, o = this._coordsList, s, l; if (r) s = r.coordinateSystem, Ct(o, s) < 0 && (s = null); else if (n && a) s = this.getCartesian(n.componentIndex, a.componentIndex); else if (n) l = this.getAxis("x", n.componentIndex); else if (a) l = this.getAxis("y", a.componentIndex); else if (i) { var u = i.coordinateSystem; u === this && (s = this._coordsList[0]) } return { cartesian: s, axis: l } }, t.prototype.containPoint = function (e) { var r = this._coordsList[0]; if (r) return r.containPoint(e) }, t.prototype._initCartesian = function (e, r, n) { var a = this, i = this, o = { left: !1, right: !1, top: !1, bottom: !1 }, s = { x: {}, y: {} }, l = { x: 0, y: 0 }; if (r.eachComponent("xAxis", u("x"), this), r.eachComponent("yAxis", u("y"), this), !l.x || !l.y) { this._axesMap = {}, this._axesList = []; return } this._axesMap = s, E(s.x, function (c, f) { E(s.y, function (h, d) { var v = "x" + f + "y" + d, p = new u0e(v); p.master = a, p.model = e, a._coordsMap[v] = p, a._coordsList.push(p), p.addAxis(c), p.addAxis(h) }) }); function u(c) { return function (f, h) { if (Gw(f, e)) { var d = f.get("position"); c === "x" ? d !== "top" && d !== "bottom" && (d = o.bottom ? "top" : "bottom") : d !== "left" && d !== "right" && (d = o.left ? "right" : "left"), o[d] = !0; var v = new f0e(c, g1(f), [0, 0], f.get("type"), d), p = v.type === "category"; v.onBand = p && f.get("boundaryGap"), v.inverse = f.get("inverse"), f.axis = v, v.model = f, v.grid = i, v.index = h, i._axesList.push(v), s[c][h] = v, l[c]++ } } } }, t.prototype._updateScale = function (e, r) { E(this._axesList, function (a) { if (a.scale.setExtent(1 / 0, -1 / 0), a.type === "category") { var i = a.model.get("categorySortInfo"); a.scale.setSortInfo(i) } }), e.eachSeries(function (a) { if (yO(a)) { var i = _O(a), o = i.xAxisModel, s = i.yAxisModel; if (!Gw(o, r) || !Gw(s, r)) return; var l = this.getCartesian(o.componentIndex, s.componentIndex), u = a.getData(), c = l.getAxis("x"), f = l.getAxis("y"); n(u, c), n(u, f) } }, this); function n(a, i) { E(S0(a, i.dim), function (o) { i.scale.unionExtentFromData(a, o) }) } }, t.prototype.getTooltipAxes = function (e) { var r = [], n = []; return E(this.getCartesians(), function (a) { var i = e != null && e !== "auto" ? a.getAxis(e) : a.getBaseAxis(), o = a.getOtherAxis(i); Ct(r, i) < 0 && r.push(i), Ct(n, o) < 0 && n.push(o) }), { baseAxes: r, otherAxes: n } }, t.create = function (e, r) { var n = []; return e.eachComponent("grid", function (a, i) { var o = new t(a, e, r); o.name = "grid_" + i, o.resize(a, r, !0), a.coordinateSystem = o, n.push(o) }), e.eachSeries(function (a) { if (yO(a)) { var i = _O(a), o = i.xAxisModel, s = i.yAxisModel, l = o.getCoordSysModel(), u = l.coordinateSystem; a.coordinateSystem = u.getCartesian(o.componentIndex, s.componentIndex) } }), n }, t.dimensions = XT, t }(); function Gw(t, e) { return t.getCoordSysModel() === e } function bO(t, e, r, n) { r.getAxesOnZeroOf = function () { return i ? [i] : [] }; var a = t[e], i, o = r.model, s = o.get(["axisLine", "onZero"]), l = o.get(["axisLine", "onZeroAxisIndex"]); if (!s) return; if (l != null) wO(a[l]) && (i = a[l]); else for (var u in a) if (a.hasOwnProperty(u) && wO(a[u]) && !n[c(a[u])]) { i = a[u]; break } i && (n[c(i)] = !0); function c(f) { return f.dim + "_" + f.index } } function wO(t) { return t && t.type !== "category" && t.type !== "time" && vme(t) } function d0e(t, e) { var r = t.getExtent(), n = r[0] + r[1]; t.toGlobalCoord = t.dim === "x" ? function (a) { return a + e } : function (a) { return n - a + e }, t.toLocalCoord = t.dim === "x" ? function (a) { return a - e } : function (a) { return n - a + e } } const v0e = h0e; var kl = Math.PI, Ac = function () { function t(e, r) { this.group = new it, this.opt = r, this.axisModel = e, Xe(r, { labelOffset: 0, nameDirection: 1, tickDirection: 1, labelDirection: 1, silent: !0, handleAutoShown: function () { return !0 } }); var n = new it({ x: r.position[0], y: r.position[1], rotation: r.rotation }); n.updateTransform(), this._transformGroup = n } return t.prototype.hasBuilder = function (e) { return !!SO[e] }, t.prototype.add = function (e) { SO[e](this.opt, this.axisModel, this.group, this._transformGroup) }, t.prototype.getGroup = function () { return this.group }, t.innerTextLayout = function (e, r, n) { var a = lF(r - e), i, o; return i0(a) ? (o = n > 0 ? "top" : "bottom", i = "center") : i0(a - kl) ? (o = n > 0 ? "bottom" : "top", i = "center") : (o = "middle", a > 0 && a < kl ? i = n > 0 ? "right" : "left" : i = n > 0 ? "left" : "right"), { rotation: a, textAlign: i, textVerticalAlign: o } }, t.makeAxisEventDataBase = function (e) { var r = { componentType: e.mainType, componentIndex: e.componentIndex }; return r[e.mainType + "Index"] = e.componentIndex, r }, t.isLabelSilent = function (e) { var r = e.get("tooltip"); return e.get("silent") || !(e.get("triggerEvent") || r && r.show) }, t }(), SO = { axisLine: function (t, e, r, n) { var a = e.get(["axisLine", "show"]); if (a === "auto" && t.handleAutoShown && (a = t.handleAutoShown("axisLine")), !!a) { var i = e.axis.getExtent(), o = n.transform, s = [i[0], 0], l = [i[1], 0], u = s[0] > l[0]; o && (Hn(s, s, o), Hn(l, l, o)); var c = he({ lineCap: "round" }, e.getModel(["axisLine", "lineStyle"]).getLineStyle()), f = new $n({ shape: { x1: s[0], y1: s[1], x2: l[0], y2: l[1] }, style: c, strokeContainThreshold: t.strokeContainThreshold || 5, silent: !0, z2: 1 }); Dh(f.shape, f.style.lineWidth), f.anid = "line", r.add(f); var h = e.get(["axisLine", "symbol"]); if (h != null) { var d = e.get(["axisLine", "symbolSize"]); Oe(h) && (h = [h, h]), (Oe(d) || Gt(d)) && (d = [d, d]); var v = Xc(e.get(["axisLine", "symbolOffset"]) || 0, d), p = d[0], g = d[1]; E([{ rotate: t.rotation + Math.PI / 2, offset: v[0], r: 0 }, { rotate: t.rotation - Math.PI / 2, offset: v[1], r: Math.sqrt((s[0] - l[0]) * (s[0] - l[0]) + (s[1] - l[1]) * (s[1] - l[1])) }], function (m, y) { if (h[y] !== "none" && h[y] != null) { var _ = gn(h[y], -p / 2, -g / 2, p, g, c.stroke, !0), b = m.r + m.offset, x = u ? l : s; _.attr({ rotation: m.rotate, x: x[0] + b * Math.cos(t.rotation), y: x[1] - b * Math.sin(t.rotation), silent: !0, z2: 11 }), r.add(_) } }) } } }, axisTickLabel: function (t, e, r, n) { var a = m0e(r, n, e, t), i = _0e(r, n, e, t); if (g0e(e, i, a), y0e(r, n, e, t.tickDirection), e.get(["axisLabel", "hideOverlap"])) { var o = kV(_e(i, function (s) { return { label: s, priority: s.z2, defaultAttr: { ignore: s.ignore } } })); IV(o) } }, axisName: function (t, e, r, n) { var a = Nn(t.axisName, e.get("name")); if (a) { var i = e.get("nameLocation"), o = t.nameDirection, s = e.getModel("nameTextStyle"), l = e.get("nameGap") || 0, u = e.axis.getExtent(), c = u[0] > u[1] ? -1 : 1, f = [i === "start" ? u[0] - c * l : i === "end" ? u[1] + c * l : (u[0] + u[1]) / 2, TO(i) ? t.labelOffset + o * l : 0], h, d = e.get("nameRotate"); d != null && (d = d * kl / 180); var v; TO(i) ? h = Ac.innerTextLayout(t.rotation, d ?? t.rotation, o) : (h = p0e(t.rotation, i, d || 0, u), v = t.axisNameAvailableWidth, v != null && (v = Math.abs(v / Math.sin(h.rotation)), !isFinite(v) && (v = null))); var p = s.getFont(), g = e.get("nameTruncate", !0) || {}, m = g.ellipsis, y = Nn(t.nameTruncateMaxWidth, g.maxWidth, v), _ = new Wt({ x: f[0], y: f[1], rotation: h.rotation, silent: Ac.isLabelSilent(e), style: Mr(s, { text: a, font: p, overflow: "truncate", width: y, ellipsis: m, fill: s.getTextColor() || e.get(["axisLine", "lineStyle", "color"]), align: s.get("align") || h.textAlign, verticalAlign: s.get("verticalAlign") || h.textVerticalAlign }), z2: 1 }); if (Wh({ el: _, componentModel: e, itemName: a }), _.__fullText = a, _.anid = "name", e.get("triggerEvent")) { var b = Ac.makeAxisEventDataBase(e); b.targetType = "axisName", b.name = a, lt(_).eventData = b } n.add(_), _.updateTransform(), r.add(_), _.decomposeTransform() } } }; function p0e(t, e, r, n) { var a = lF(r - t), i, o, s = n[0] > n[1], l = e === "start" && !s || e !== "start" && s; return i0(a - kl / 2) ? (o = l ? "bottom" : "top", i = "center") : i0(a - kl * 1.5) ? (o = l ? "top" : "bottom", i = "center") : (o = "middle", a < kl * 1.5 && a > kl / 2 ? i = l ? "left" : "right" : i = l ? "right" : "left"), { rotation: a, textAlign: i, textVerticalAlign: o } } function g0e(t, e, r) { if (!gV(t.axis)) { var n = t.get(["axisLabel", "showMinLabel"]), a = t.get(["axisLabel", "showMaxLabel"]); e = e || [], r = r || []; var i = e[0], o = e[1], s = e[e.length - 1], l = e[e.length - 2], u = r[0], c = r[1], f = r[r.length - 1], h = r[r.length - 2]; n === !1 ? (Ka(i), Ka(u)) : xO(i, o) && (n ? (Ka(o), Ka(c)) : (Ka(i), Ka(u))), a === !1 ? (Ka(s), Ka(f)) : xO(l, s) && (a ? (Ka(l), Ka(h)) : (Ka(s), Ka(f))) } } function Ka(t) { t && (t.ignore = !0) } function xO(t, e) { var r = t && t.getBoundingRect().clone(), n = e && e.getBoundingRect().clone(); if (!(!r || !n)) { var a = Y_([]); return Zc(a, a, -t.rotation), r.applyTransform(xs([], a, t.getLocalTransform())), n.applyTransform(xs([], a, e.getLocalTransform())), r.intersect(n) } } function TO(t) { return t === "middle" || t === "center" } function JV(t, e, r, n, a) { for (var i = [], o = [], s = [], l = 0; l < t.length; l++) { var u = t[l].coord; o[0] = u, o[1] = 0, s[0] = u, s[1] = r, e && (Hn(o, o, e), Hn(s, s, e)); var c = new $n({ shape: { x1: o[0], y1: o[1], x2: s[0], y2: s[1] }, style: n, z2: 2, autoBatch: !0, silent: !0 }); Dh(c.shape, c.style.lineWidth), c.anid = a + "_" + t[l].tickValue, i.push(c) } return i } function m0e(t, e, r, n) { var a = r.axis, i = r.getModel("axisTick"), o = i.get("show"); if (o === "auto" && n.handleAutoShown && (o = n.handleAutoShown("axisTick")), !(!o || a.scale.isBlank())) { for (var s = i.getModel("lineStyle"), l = n.tickDirection * i.get("length"), u = a.getTicksCoords(), c = JV(u, e.transform, l, Xe(s.getLineStyle(), { stroke: r.get(["axisLine", "lineStyle", "color"]) }), "ticks"), f = 0; f < c.length; f++)t.add(c[f]); return c } } function y0e(t, e, r, n) { var a = r.axis, i = r.getModel("minorTick"); if (!(!i.get("show") || a.scale.isBlank())) { var o = a.getMinorTicksCoords(); if (o.length) for (var s = i.getModel("lineStyle"), l = n * i.get("length"), u = Xe(s.getLineStyle(), Xe(r.getModel("axisTick").getLineStyle(), { stroke: r.get(["axisLine", "lineStyle", "color"]) })), c = 0; c < o.length; c++)for (var f = JV(o[c], e.transform, l, u, "minorticks_" + c), h = 0; h < f.length; h++)t.add(f[h]) } } function _0e(t, e, r, n) { var a = r.axis, i = Nn(n.axisLabelShow, r.get(["axisLabel", "show"])); if (!(!i || a.scale.isBlank())) { var o = r.getModel("axisLabel"), s = o.get("margin"), l = a.getViewLabels(), u = (Nn(n.labelRotate, o.get("rotate")) || 0) * kl / 180, c = Ac.innerTextLayout(n.rotation, u, n.labelDirection), f = r.getCategories && r.getCategories(!0), h = [], d = Ac.isLabelSilent(r), v = r.get("triggerEvent"); return E(l, function (p, g) { var m = a.scale.type === "ordinal" ? a.scale.getRawOrdinalNumber(p.tickValue) : p.tickValue, y = p.formattedLabel, _ = p.rawLabel, b = o; if (f && f[m]) { var x = f[m]; Qe(x) && x.textStyle && (b = new kr(x.textStyle, o, r.ecModel)) } var S = b.getTextColor() || r.get(["axisLine", "lineStyle", "color"]), T = a.dataToCoord(m), C = new Wt({ x: T, y: n.labelOffset + n.labelDirection * s, rotation: c.rotation, silent: d, z2: 10 + (p.level || 0), style: Mr(b, { text: y, align: b.getShallow("align", !0) || c.textAlign, verticalAlign: b.getShallow("verticalAlign", !0) || b.getShallow("baseline", !0) || c.textVerticalAlign, fill: je(S) ? S(a.type === "category" ? _ : a.type === "value" ? m + "" : m, g) : S }) }); if (C.anid = "label_" + m, v) { var M = Ac.makeAxisEventDataBase(r); M.targetType = "axisLabel", M.value = _, M.tickIndex = g, a.type === "category" && (M.dataIndex = m), lt(C).eventData = M } e.add(C), C.updateTransform(), h.push(C), t.add(C), C.decomposeTransform() }), h } } const Es = Ac; function b0e(t, e) { var r = { axesInfo: {}, seriesInvolved: !1, coordSysAxesInfo: {}, coordSysMap: {} }; return w0e(r, t, e), r.seriesInvolved && x0e(r, t), r } function w0e(t, e, r) { var n = e.getComponent("tooltip"), a = e.getComponent("axisPointer"), i = a.get("link", !0) || [], o = []; E(r.getCoordinateSystems(), function (s) { if (!s.axisPointerEnabled) return; var l = Sp(s.model), u = t.coordSysAxesInfo[l] = {}; t.coordSysMap[l] = s; var c = s.model, f = c.getModel("tooltip", n); if (E(s.getAxes(), ut(p, !1, null)), s.getTooltipAxes && n && f.get("show")) { var h = f.get("trigger") === "axis", d = f.get(["axisPointer", "type"]) === "cross", v = s.getTooltipAxes(f.get(["axisPointer", "axis"])); (h || d) && E(v.baseAxes, ut(p, d ? "cross" : !0, h)), d && E(v.otherAxes, ut(p, "cross", !1)) } function p(g, m, y) { var _ = y.model.getModel("axisPointer", a), b = _.get("show"); if (!(!b || b === "auto" && !g && !QT(_))) { m == null && (m = _.get("triggerTooltip")), _ = g ? S0e(y, f, a, e, g, m) : _; var x = _.get("snap"), S = _.get("triggerEmphasis"), T = Sp(y.model), C = m || x || y.type === "category", M = t.axesInfo[T] = { key: T, axis: y, coordSys: s, axisPointerModel: _, triggerTooltip: m, triggerEmphasis: S, involveSeries: C, snap: x, useHandle: QT(_), seriesModels: [], linkGroup: null }; u[T] = M, t.seriesInvolved = t.seriesInvolved || C; var k = T0e(i, y); if (k != null) { var A = o[k] || (o[k] = { axesInfo: {} }); A.axesInfo[T] = M, A.mapper = i[k].mapper, M.linkGroup = A } } } }) } function S0e(t, e, r, n, a, i) { var o = e.getModel("axisPointer"), s = ["type", "snap", "lineStyle", "shadowStyle", "label", "animation", "animationDurationUpdate", "animationEasingUpdate", "z"], l = {}; E(s, function (h) { l[h] = rt(o.get(h)) }), l.snap = t.type !== "category" && !!i, o.get("type") === "cross" && (l.type = "line"); var u = l.label || (l.label = {}); if (u.show == null && (u.show = !1), a === "cross") { var c = o.get(["label", "show"]); if (u.show = c ?? !0, !i) { var f = l.lineStyle = o.get("crossStyle"); f && Xe(u, f.textStyle) } } return t.model.getModel("axisPointer", new kr(l, r, n)) } function x0e(t, e) { e.eachSeries(function (r) { var n = r.coordinateSystem, a = r.get(["tooltip", "trigger"], !0), i = r.get(["tooltip", "show"], !0); !n || a === "none" || a === !1 || a === "item" || i === !1 || r.get(["axisPointer", "show"], !0) === !1 || E(t.coordSysAxesInfo[Sp(n.model)], function (o) { var s = o.axis; n.getAxis(s.dim) === s && (o.seriesModels.push(r), o.seriesDataCount == null && (o.seriesDataCount = 0), o.seriesDataCount += r.getData().count()) }) }) } function T0e(t, e) { for (var r = e.model, n = e.dim, a = 0; a < t.length; a++) { var i = t[a] || {}; if (jw(i[n + "AxisId"], r.id) || jw(i[n + "AxisIndex"], r.componentIndex) || jw(i[n + "AxisName"], r.name)) return a } } function jw(t, e) { return t === "all" || me(t) && Ct(t, e) >= 0 || t === e } function D0e(t) { var e = JC(t); if (e) { var r = e.axisPointerModel, n = e.axis.scale, a = r.option, i = r.get("status"), o = r.get("value"); o != null && (o = n.parse(o)); var s = QT(r); i == null && (a.status = s ? "show" : "hide"); var l = n.getExtent().slice(); l[0] > l[1] && l.reverse(), (o == null || o > l[1]) && (o = l[1]), o < l[0] && (o = l[0]), a.value = o, s && (a.status = e.axis.scale.isBlank() ? "hide" : "show") } } function JC(t) { var e = (t.ecModel.getComponent("axisPointer") || {}).coordSysAxesInfo; return e && e.axesInfo[Sp(t)] } function C0e(t) { var e = JC(t); return e && e.axisPointerModel } function QT(t) { return !!t.get(["handle", "show"]) } function Sp(t) { return t.type + "||" + t.id } var DO = {}, M0e = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.render = function (r, n, a, i) { this.axisPointerClass && D0e(r), t.prototype.render.apply(this, arguments), this._doUpdateAxisPointerClass(r, a, !0) }, e.prototype.updateAxisPointer = function (r, n, a, i) { this._doUpdateAxisPointerClass(r, a, !1) }, e.prototype.remove = function (r, n) { var a = this._axisPointer; a && a.remove(n) }, e.prototype.dispose = function (r, n) { this._disposeAxisPointer(n), t.prototype.dispose.apply(this, arguments) }, e.prototype._doUpdateAxisPointerClass = function (r, n, a) { var i = e.getAxisPointerClass(this.axisPointerClass); if (i) { var o = C0e(r); o ? (this._axisPointer || (this._axisPointer = new i)).render(r, o, n, a) : this._disposeAxisPointer(n) } }, e.prototype._disposeAxisPointer = function (r) { this._axisPointer && this._axisPointer.dispose(r), this._axisPointer = null }, e.registerAxisPointerClass = function (r, n) { DO[r] = n }, e.getAxisPointerClass = function (r) { return r && DO[r] }, e.type = "axis", e }(Kr); const Jc = M0e; var JT = zt(); function ez(t, e, r, n) { var a = r.axis; if (!a.scale.isBlank()) { var i = r.getModel("splitArea"), o = i.getModel("areaStyle"), s = o.get("color"), l = n.coordinateSystem.getRect(), u = a.getTicksCoords({ tickModel: i, clamp: !0 }); if (u.length) { var c = s.length, f = JT(t).splitAreaColors, h = He(), d = 0; if (f) for (var v = 0; v < u.length; v++) { var p = f.get(u[v].tickValue); if (p != null) { d = (p + (c - 1) * v) % c; break } } var g = a.toGlobalCoord(u[0].coord), m = o.getAreaStyle(); s = me(s) ? s : [s]; for (var v = 1; v < u.length; v++) { var y = a.toGlobalCoord(u[v].coord), _ = void 0, b = void 0, x = void 0, S = void 0; a.isHorizontal() ? (_ = g, b = l.y, x = y - _, S = l.height, g = _ + x) : (_ = l.x, b = g, x = l.width, S = y - b, g = b + S); var T = u[v - 1].tickValue; T != null && h.set(T, d), e.add(new Bt({ anid: T != null ? "area_" + T : null, shape: { x: _, y: b, width: x, height: S }, style: Xe({ fill: s[d] }, m), autoBatch: !0, silent: !0 })), d = (d + 1) % c } JT(t).splitAreaColors = h } } } function tz(t) { JT(t).splitAreaColors = null } var k0e = ["axisLine", "axisTickLabel", "axisName"], A0e = ["splitArea", "splitLine", "minorSplitLine"], rz = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.axisPointerClass = "CartesianAxisPointer", r } return e.prototype.render = function (r, n, a, i) { this.group.removeAll(); var o = this._axisGroup; if (this._axisGroup = new it, this.group.add(this._axisGroup), !!r.get("show")) { var s = r.getCoordSysModel(), l = KT(s, r), u = new Es(r, he({ handleAutoShown: function (f) { for (var h = s.coordinateSystem.getCartesians(), d = 0; d < h.length; d++)if (GT(h[d].getOtherAxis(r.axis).scale)) return !0; return !1 } }, l)); E(k0e, u.add, u), this._axisGroup.add(u.getGroup()), E(A0e, function (f) { r.get([f, "show"]) && L0e[f](this, this._axisGroup, r, s) }, this); var c = i && i.type === "changeAxisOrder" && i.isInitSort; c || tg(o, this._axisGroup, r), t.prototype.render.call(this, r, n, a, i) } }, e.prototype.remove = function () { tz(this) }, e.type = "cartesianAxis", e }(Jc), L0e = { splitLine: function (t, e, r, n) { var a = r.axis; if (!a.scale.isBlank()) { var i = r.getModel("splitLine"), o = i.getModel("lineStyle"), s = o.get("color"); s = me(s) ? s : [s]; for (var l = n.coordinateSystem.getRect(), u = a.isHorizontal(), c = 0, f = a.getTicksCoords({ tickModel: i }), h = [], d = [], v = o.getLineStyle(), p = 0; p < f.length; p++) { var g = a.toGlobalCoord(f[p].coord); u ? (h[0] = g, h[1] = l.y, d[0] = g, d[1] = l.y + l.height) : (h[0] = l.x, h[1] = g, d[0] = l.x + l.width, d[1] = g); var m = c++ % s.length, y = f[p].tickValue, _ = new $n({ anid: y != null ? "line_" + f[p].tickValue : null, autoBatch: !0, shape: { x1: h[0], y1: h[1], x2: d[0], y2: d[1] }, style: Xe({ stroke: s[m] }, v), silent: !0 }); Dh(_.shape, v.lineWidth), e.add(_) } } }, minorSplitLine: function (t, e, r, n) { var a = r.axis, i = r.getModel("minorSplitLine"), o = i.getModel("lineStyle"), s = n.coordinateSystem.getRect(), l = a.isHorizontal(), u = a.getMinorTicksCoords(); if (u.length) for (var c = [], f = [], h = o.getLineStyle(), d = 0; d < u.length; d++)for (var v = 0; v < u[d].length; v++) { var p = a.toGlobalCoord(u[d][v].coord); l ? (c[0] = p, c[1] = s.y, f[0] = p, f[1] = s.y + s.height) : (c[0] = s.x, c[1] = p, f[0] = s.x + s.width, f[1] = p); var g = new $n({ anid: "minor_line_" + u[d][v].tickValue, autoBatch: !0, shape: { x1: c[0], y1: c[1], x2: f[0], y2: f[1] }, style: h, silent: !0 }); Dh(g.shape, h.lineWidth), e.add(g) } }, splitArea: function (t, e, r, n) { ez(t, e, r, n) } }, nz = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.type = "xAxis", e }(rz), I0e = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = nz.type, r } return e.type = "yAxis", e }(rz), P0e = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = "grid", r } return e.prototype.render = function (r, n) { this.group.removeAll(), r.get("show") && this.group.add(new Bt({ shape: r.coordinateSystem.getRect(), style: Xe({ fill: r.get("backgroundColor") }, r.getItemStyle()), silent: !0, z2: -1 })) }, e.type = "grid", e }(Kr), CO = { offset: 0 }; function az(t) { t.registerComponentView(P0e), t.registerComponentModel(r0e), t.registerCoordinateSystem("cartesian2d", v0e), Lh(t, "x", qT, CO), Lh(t, "y", qT, CO), t.registerComponentView(nz), t.registerComponentView(I0e), t.registerPreprocessor(function (e) { e.xAxis && e.yAxis && !e.grid && (e.grid = {}) }) } function R0e(t) { Dt(az), t.registerSeriesModel(Zye), t.registerChartView(e0e), t.registerLayout(hg("scatter")) } function O0e(t) { t.eachSeriesByType("radar", function (e) { var r = e.getData(), n = [], a = e.coordinateSystem; if (a) { var i = a.getIndicatorAxes(); E(i, function (o, s) { r.each(r.mapDimension(i[s].dim), function (l, u) { n[u] = n[u] || []; var c = a.dataToPoint(l, s); n[u][s] = MO(c) ? c : kO(a) }) }), r.each(function (o) { var s = due(n[o], function (l) { return MO(l) }) || kO(a); n[o].push(s.slice()), r.setItemLayout(o, n[o]) }) } }) } function MO(t) { return !isNaN(t[0]) && !isNaN(t[1]) } function kO(t) { return [t.cx, t.cy] } function E0e(t) { var e = t.polar; if (e) { me(e) || (e = [e]); var r = []; E(e, function (n, a) { n.indicator ? (n.type && !n.shape && (n.shape = n.type), t.radar = t.radar || [], me(t.radar) || (t.radar = [t.radar]), t.radar.push(n)) : r.push(n) }), t.polar = r } E(t.series, function (n) { n && n.type === "radar" && n.polarIndex && (n.radarIndex = n.polarIndex) }) } var N0e = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.render = function (r, n, a) { var i = r.coordinateSystem, o = this.group, s = r.getData(), l = this._data; function u(h, d) { var v = h.getItemVisual(d, "symbol") || "circle"; if (v !== "none") { var p = ed(h.getItemVisual(d, "symbolSize")), g = gn(v, -1, -1, 2, 2), m = h.getItemVisual(d, "symbolRotate") || 0; return g.attr({ style: { strokeNoScale: !0 }, z2: 100, scaleX: p[0] / 2, scaleY: p[1] / 2, rotation: m * Math.PI / 180 || 0 }), g } } function c(h, d, v, p, g, m) { v.removeAll(); for (var y = 0; y < d.length - 1; y++) { var _ = u(p, g); _ && (_.__dimIdx = y, h[y] ? (_.setPosition(h[y]), ng[m ? "initProps" : "updateProps"](_, { x: d[y][0], y: d[y][1] }, r, g)) : _.setPosition(d[y]), v.add(_)) } } function f(h) { return _e(h, function (d) { return [i.cx, i.cy] }) } s.diff(l).add(function (h) { var d = s.getItemLayout(h); if (d) { var v = new Ea, p = new Na, g = { shape: { points: d } }; v.shape.points = f(d), p.shape.points = f(d), Or(v, g, r, h), Or(p, g, r, h); var m = new it, y = new it; m.add(p), m.add(v), m.add(y), c(p.shape.points, d, y, s, h, !0), s.setItemGraphicEl(h, m) } }).update(function (h, d) { var v = l.getItemGraphicEl(d), p = v.childAt(0), g = v.childAt(1), m = v.childAt(2), y = { shape: { points: s.getItemLayout(h) } }; y.shape.points && (c(p.shape.points, y.shape.points, m, s, h, !1), Zi(g), Zi(p), jt(p, y, r), jt(g, y, r), s.setItemGraphicEl(h, v)) }).remove(function (h) { o.remove(l.getItemGraphicEl(h)) }).execute(), s.eachItemGraphicEl(function (h, d) { var v = s.getItemModel(d), p = h.childAt(0), g = h.childAt(1), m = h.childAt(2), y = s.getItemVisual(d, "style"), _ = y.fill; o.add(h), p.useStyle(Xe(v.getModel("lineStyle").getLineStyle(), { fill: "none", stroke: _ })), Un(p, v, "lineStyle"), Un(g, v, "areaStyle"); var b = v.getModel("areaStyle"), x = b.isEmpty() && b.parentModel.isEmpty(); g.ignore = x, E(["emphasis", "select", "blur"], function (C) { var M = v.getModel([C, "areaStyle"]), k = M.isEmpty() && M.parentModel.isEmpty(); g.ensureState(C).ignore = k && x }), g.useStyle(Xe(b.getAreaStyle(), { fill: _, opacity: .7, decal: y.decal })); var S = v.getModel("emphasis"), T = S.getModel("itemStyle").getItemStyle(); m.eachChild(function (C) { if (C instanceof Gn) { var M = C.style; C.useStyle(he({ image: M.image, x: M.x, y: M.y, width: M.width, height: M.height }, y)) } else C.useStyle(y), C.setColor(_), C.style.strokeNoScale = !0; var k = C.ensureState("emphasis"); k.style = rt(T); var A = s.getStore().get(s.getDimensionIndex(C.__dimIdx), d); (A == null || isNaN(A)) && (A = ""), Wn(C, Pn(v), { labelFetcher: s.hostModel, labelDataIndex: d, labelDimIndex: C.__dimIdx, defaultText: A, inheritColor: _, defaultOpacity: y.opacity }) }), Xr(h, S.get("focus"), S.get("blurScope"), S.get("disabled")) }), this._data = s }, e.prototype.remove = function () { this.group.removeAll(), this._data = null }, e.type = "radar", e }(Ar); const $0e = N0e; var F0e = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.hasSymbolVisual = !0, r } return e.prototype.init = function (r) { t.prototype.init.apply(this, arguments), this.legendVisualProvider = new vg($e(this.getData, this), $e(this.getRawData, this)) }, e.prototype.getInitialData = function (r, n) { return td(this, { generateCoord: "indicator_", generateCoordCount: 1 / 0 }) }, e.prototype.formatTooltip = function (r, n, a) { var i = this.getData(), o = this.coordinateSystem, s = o.getIndicatorAxes(), l = this.getData().getName(r), u = l === "" ? this.name : l, c = h6(this, r); return Rn("section", { header: u, sortBlocks: !0, blocks: _e(s, function (f) { var h = i.get(i.mapDimension(f.dim), r); return Rn("nameValue", { markerType: "subItem", markerColor: c, name: f.name, value: h, sortParam: h }) }) }) }, e.prototype.getTooltipPosition = function (r) { if (r != null) { for (var n = this.getData(), a = this.coordinateSystem, i = n.getValues(_e(a.dimensions, function (u) { return n.mapDimension(u) }), r), o = 0, s = i.length; o < s; o++)if (!isNaN(i[o])) { var l = a.getIndicatorAxes(); return a.coordToPoint(l[o].dataToCoord(i[o]), o) } } }, e.type = "series.radar", e.dependencies = ["radar"], e.defaultOption = { z: 2, colorBy: "data", coordinateSystem: "radar", legendHoverLink: !0, radarIndex: 0, lineStyle: { width: 2, type: "solid", join: "round" }, label: { position: "top" }, symbolSize: 8 }, e }($r); const B0e = F0e; var Bd = KV.value; function Pm(t, e) { return Xe({ show: e }, t) } var V0e = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.optionUpdated = function () { var r = this.get("boundaryGap"), n = this.get("splitNumber"), a = this.get("scale"), i = this.get("axisLine"), o = this.get("axisTick"), s = this.get("axisLabel"), l = this.get("axisName"), u = this.get(["axisName", "show"]), c = this.get(["axisName", "formatter"]), f = this.get("axisNameGap"), h = this.get("triggerEvent"), d = _e(this.get("indicator") || [], function (v) { v.max != null && v.max > 0 && !v.min ? v.min = 0 : v.min != null && v.min < 0 && !v.max && (v.max = 0); var p = l; v.color != null && (p = Xe({ color: v.color }, l)); var g = bt(rt(v), { boundaryGap: r, splitNumber: n, scale: a, axisLine: i, axisTick: o, axisLabel: s, name: v.text, showName: u, nameLocation: "end", nameGap: f, nameTextStyle: p, triggerEvent: h }, !1); if (Oe(c)) { var m = g.name; g.name = c.replace("{value}", m ?? "") } else je(c) && (g.name = c(g.name, g)); var y = new kr(g, null, this.ecModel); return mn(y, ug.prototype), y.mainType = "radar", y.componentIndex = this.componentIndex, y }, this); this._indicatorModels = d }, e.prototype.getIndicatorModels = function () { return this._indicatorModels }, e.type = "radar", e.defaultOption = { z: 0, center: ["50%", "50%"], radius: "75%", startAngle: 90, axisName: { show: !0 }, boundaryGap: [0, 0], splitNumber: 5, axisNameGap: 15, scale: !1, shape: "polygon", axisLine: bt({ lineStyle: { color: "#bbb" } }, Bd.axisLine), axisLabel: Pm(Bd.axisLabel, !1), axisTick: Pm(Bd.axisTick, !1), splitLine: Pm(Bd.splitLine, !0), splitArea: Pm(Bd.splitArea, !0), indicator: [] }, e }(Yt); const z0e = V0e; var H0e = ["axisLine", "axisTickLabel", "axisName"], Y0e = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.render = function (r, n, a) { var i = this.group; i.removeAll(), this._buildAxes(r), this._buildSplitLineAndArea(r) }, e.prototype._buildAxes = function (r) { var n = r.coordinateSystem, a = n.getIndicatorAxes(), i = _e(a, function (o) { var s = o.model.get("showName") ? o.name : "", l = new Es(o.model, { axisName: s, position: [n.cx, n.cy], rotation: o.angle, labelDirection: -1, tickDirection: -1, nameDirection: 1 }); return l }); E(i, function (o) { E(H0e, o.add, o), this.group.add(o.getGroup()) }, this) }, e.prototype._buildSplitLineAndArea = function (r) { var n = r.coordinateSystem, a = n.getIndicatorAxes(); if (!a.length) return; var i = r.get("shape"), o = r.getModel("splitLine"), s = r.getModel("splitArea"), l = o.getModel("lineStyle"), u = s.getModel("areaStyle"), c = o.get("show"), f = s.get("show"), h = l.get("color"), d = u.get("color"), v = me(h) ? h : [h], p = me(d) ? d : [d], g = [], m = []; function y(F, V, L) { var H = L % V.length; return F[H] = F[H] || [], H } if (i === "circle") for (var _ = a[0].getTicksCoords(), b = n.cx, x = n.cy, S = 0; S < _.length; S++) { if (c) { var T = y(g, v, S); g[T].push(new $o({ shape: { cx: b, cy: x, r: _[S].coord } })) } if (f && S < _.length - 1) { var T = y(m, p, S); m[T].push(new Q_({ shape: { cx: b, cy: x, r0: _[S].coord, r: _[S + 1].coord } })) } } else for (var C, M = _e(a, function (F, V) { var L = F.getTicksCoords(); return C = C == null ? L.length - 1 : Math.min(L.length - 1, C), _e(L, function (H) { return n.coordToPoint(H.coord, V) }) }), k = [], S = 0; S <= C; S++) { for (var A = [], R = 0; R < a.length; R++)A.push(M[R][S]); if (A[0] && A.push(A[0].slice()), c) { var T = y(g, v, S); g[T].push(new Na({ shape: { points: A } })) } if (f && k) { var T = y(m, p, S - 1); m[T].push(new Ea({ shape: { points: A.concat(k) } })) } k = A.slice().reverse() } var N = l.getLineStyle(), z = u.getAreaStyle(); E(m, function (F, V) { this.group.add(ci(F, { style: Xe({ stroke: "none", fill: p[V % p.length] }, z), silent: !0 })) }, this), E(g, function (F, V) { this.group.add(ci(F, { style: Xe({ fill: "none", stroke: v[V % v.length] }, N), silent: !0 })) }, this) }, e.type = "radar", e }(Kr); const U0e = Y0e; var W0e = function (t) { ae(e, t); function e(r, n, a) { var i = t.call(this, r, n, a) || this; return i.type = "value", i.angle = 0, i.name = "", i } return e }(Ji); const G0e = W0e; var j0e = function () { function t(e, r, n) { this.dimensions = [], this._model = e, this._indicatorAxes = _e(e.getIndicatorModels(), function (a, i) { var o = "indicator_" + i, s = new G0e(o, new eu); return s.name = a.get("name"), s.model = a, a.axis = s, this.dimensions.push(o), s }, this), this.resize(e, n) } return t.prototype.getIndicatorAxes = function () { return this._indicatorAxes }, t.prototype.dataToPoint = function (e, r) { var n = this._indicatorAxes[r]; return this.coordToPoint(n.dataToCoord(e), r) }, t.prototype.coordToPoint = function (e, r) { var n = this._indicatorAxes[r], a = n.angle, i = this.cx + e * Math.cos(a), o = this.cy - e * Math.sin(a); return [i, o] }, t.prototype.pointToData = function (e) { var r = e[0] - this.cx, n = e[1] - this.cy, a = Math.sqrt(r * r + n * n); r /= a, n /= a; for (var i = Math.atan2(-n, r), o = 1 / 0, s, l = -1, u = 0; u < this._indicatorAxes.length; u++) { var c = this._indicatorAxes[u], f = Math.abs(i - c.angle); f < o && (s = c, l = u, o = f) } return [l, +(s && s.coordToData(a))] }, t.prototype.resize = function (e, r) { var n = e.get("center"), a = r.getWidth(), i = r.getHeight(), o = Math.min(a, i) / 2; this.cx = Ae(n[0], a), this.cy = Ae(n[1], i), this.startAngle = e.get("startAngle") * Math.PI / 180; var s = e.get("radius"); (Oe(s) || Gt(s)) && (s = [0, s]), this.r0 = Ae(s[0], o), this.r = Ae(s[1], o), E(this._indicatorAxes, function (l, u) { l.setExtent(this.r0, this.r); var c = this.startAngle + u * Math.PI * 2 / this._indicatorAxes.length; c = Math.atan2(Math.sin(c), Math.cos(c)), l.angle = c }, this) }, t.prototype.update = function (e, r) { var n = this._indicatorAxes, a = this._model; E(n, function (s) { s.scale.setExtent(1 / 0, -1 / 0) }), e.eachSeriesByType("radar", function (s, l) { if (!(s.get("coordinateSystem") !== "radar" || e.getComponent("radar", s.get("radarIndex")) !== a)) { var u = s.getData(); E(n, function (c) { c.scale.unionExtentFromData(u, u.mapDimension(c.dim)) }) } }, this); var i = a.get("splitNumber"), o = new eu; o.setExtent(0, i), o.setInterval(1), E(n, function (s, l) { QV(s.scale, s.model, o) }) }, t.prototype.convertToPixel = function (e, r, n) { return console.warn("Not implemented."), null }, t.prototype.convertFromPixel = function (e, r, n) { return console.warn("Not implemented."), null }, t.prototype.containPoint = function (e) { return console.warn("Not implemented."), !1 }, t.create = function (e, r) { var n = []; return e.eachComponent("radar", function (a) { var i = new t(a, e, r); n.push(i), a.coordinateSystem = i }), e.eachSeriesByType("radar", function (a) { a.get("coordinateSystem") === "radar" && (a.coordinateSystem = n[a.get("radarIndex") || 0]) }), n }, t.dimensions = [], t }(); const Z0e = j0e; function q0e(t) { t.registerCoordinateSystem("radar", Z0e), t.registerComponentModel(z0e), t.registerComponentView(U0e), t.registerVisual({ seriesType: "radar", reset: function (e) { var r = e.getData(); r.each(function (n) { r.setItemVisual(n, "legendIcon", "roundRect") }), r.setVisual("legendIcon", "roundRect") } }) } function X0e(t) { Dt(q0e), t.registerChartView($0e), t.registerSeriesModel(B0e), t.registerLayout(O0e), t.registerProcessor(dg("radar")), t.registerPreprocessor(E0e) } var AO = "\0_ec_interaction_mutex"; function K0e(t, e, r) { var n = eM(t); n[e] = r } function Q0e(t, e, r) { var n = eM(t), a = n[e]; a === r && (n[e] = null) } function LO(t, e) { return !!eM(t)[e] } function eM(t) { return t[AO] || (t[AO] = {}) } Uo({ type: "takeGlobalCursor", event: "globalCursorTaken", update: "update" }, nn); var J0e = function (t) { ae(e, t); function e(r) { var n = t.call(this) || this; n._zr = r; var a = $e(n._mousedownHandler, n), i = $e(n._mousemoveHandler, n), o = $e(n._mouseupHandler, n), s = $e(n._mousewheelHandler, n), l = $e(n._pinchHandler, n); return n.enable = function (u, c) { this.disable(), this._opt = Xe(rt(c) || {}, { zoomOnMouseWheel: !0, moveOnMouseMove: !0, moveOnMouseWheel: !1, preventDefaultMouseMove: !0 }), u == null && (u = !0), (u === !0 || u === "move" || u === "pan") && (r.on("mousedown", a), r.on("mousemove", i), r.on("mouseup", o)), (u === !0 || u === "scale" || u === "zoom") && (r.on("mousewheel", s), r.on("pinch", l)) }, n.disable = function () { r.off("mousedown", a), r.off("mousemove", i), r.off("mouseup", o), r.off("mousewheel", s), r.off("pinch", l) }, n } return e.prototype.isDragging = function () { return this._dragging }, e.prototype.isPinching = function () { return this._pinching }, e.prototype.setPointerChecker = function (r) { this.pointerChecker = r }, e.prototype.dispose = function () { this.disable() }, e.prototype._mousedownHandler = function (r) { if (!gI(r)) { for (var n = r.target; n;) { if (n.draggable) return; n = n.__hostTarget || n.parent } var a = r.offsetX, i = r.offsetY; this.pointerChecker && this.pointerChecker(r, a, i) && (this._x = a, this._y = i, this._dragging = !0) } }, e.prototype._mousemoveHandler = function (r) { if (!(!this._dragging || !ky("moveOnMouseMove", r, this._opt) || r.gestureEvent === "pinch" || LO(this._zr, "globalPan"))) { var n = r.offsetX, a = r.offsetY, i = this._x, o = this._y, s = n - i, l = a - o; this._x = n, this._y = a, this._opt.preventDefaultMouseMove && Ls(r.event), iz(this, "pan", "moveOnMouseMove", r, { dx: s, dy: l, oldX: i, oldY: o, newX: n, newY: a, isAvailableBehavior: null }) } }, e.prototype._mouseupHandler = function (r) { gI(r) || (this._dragging = !1) }, e.prototype._mousewheelHandler = function (r) { var n = ky("zoomOnMouseWheel", r, this._opt), a = ky("moveOnMouseWheel", r, this._opt), i = r.wheelDelta, o = Math.abs(i), s = r.offsetX, l = r.offsetY; if (!(i === 0 || !n && !a)) { if (n) { var u = o > 3 ? 1.4 : o > 1 ? 1.2 : 1.1, c = i > 0 ? u : 1 / u; Zw(this, "zoom", "zoomOnMouseWheel", r, { scale: c, originX: s, originY: l, isAvailableBehavior: null }) } if (a) { var f = Math.abs(i), h = (i > 0 ? 1 : -1) * (f > 3 ? .4 : f > 1 ? .15 : .05); Zw(this, "scrollMove", "moveOnMouseWheel", r, { scrollDelta: h, originX: s, originY: l, isAvailableBehavior: null }) } } }, e.prototype._pinchHandler = function (r) { if (!LO(this._zr, "globalPan")) { var n = r.pinchScale > 1 ? 1.1 : 1 / 1.1; Zw(this, "zoom", null, r, { scale: n, originX: r.pinchX, originY: r.pinchY, isAvailableBehavior: null }) } }, e }(wi); function Zw(t, e, r, n, a) { t.pointerChecker && t.pointerChecker(n, a.originX, a.originY) && (Ls(n.event), iz(t, e, r, n, a)) } function iz(t, e, r, n, a) { a.isAvailableBehavior = $e(ky, null, r, n), t.trigger(e, a) } function ky(t, e, r) { var n = r[t]; return !t || n && (!Oe(n) || e.event[n + "Key"]) } const pg = J0e; function tM(t, e, r) { var n = t.target; n.x += e, n.y += r, n.dirty() } function rM(t, e, r, n) { var a = t.target, i = t.zoomLimit, o = t.zoom = t.zoom || 1; if (o *= e, i) { var s = i.min || 0, l = i.max || 1 / 0; o = Math.max(Math.min(l, o), s) } var u = o / t.zoom; t.zoom = o, a.x -= (r - a.x) * (u - 1), a.y -= (n - a.y) * (u - 1), a.scaleX *= u, a.scaleY *= u, a.dirty() } var e_e = { axisPointer: 1, tooltip: 1, brush: 1 }; function y1(t, e, r) { var n = e.getComponentByElement(t.topTarget), a = n && n.coordinateSystem; return n && n !== r && !e_e.hasOwnProperty(n.mainType) && a && a.model !== r } function oz(t) { if (Oe(t)) { var e = new DOMParser; t = e.parseFromString(t, "text/xml") } var r = t; for (r.nodeType === 9 && (r = r.firstChild); r.nodeName.toLowerCase() !== "svg" || r.nodeType !== 1;)r = r.nextSibling; return r } var qw, M0 = { fill: "fill", stroke: "stroke", "stroke-width": "lineWidth", opacity: "opacity", "fill-opacity": "fillOpacity", "stroke-opacity": "strokeOpacity", "stroke-dasharray": "lineDash", "stroke-dashoffset": "lineDashOffset", "stroke-linecap": "lineCap", "stroke-linejoin": "lineJoin", "stroke-miterlimit": "miterLimit", "font-family": "fontFamily", "font-size": "fontSize", "font-style": "fontStyle", "font-weight": "fontWeight", "text-anchor": "textAlign", visibility: "visibility", display: "display" }, IO = Nt(M0), k0 = { "alignment-baseline": "textBaseline", "stop-color": "stopColor" }, PO = Nt(k0), t_e = function () { function t() { this._defs = {}, this._root = null } return t.prototype.parse = function (e, r) { r = r || {}; var n = oz(e); this._defsUsePending = []; var a = new it; this._root = a; var i = [], o = n.getAttribute("viewBox") || "", s = parseFloat(n.getAttribute("width") || r.width), l = parseFloat(n.getAttribute("height") || r.height); isNaN(s) && (s = null), isNaN(l) && (l = null), Fa(n, a, null, !0, !1); for (var u = n.firstChild; u;)this._parseNode(u, a, i, null, !1, !1), u = u.nextSibling; a_e(this._defs, this._defsUsePending), this._defsUsePending = []; var c, f; if (o) { var h = _1(o); h.length >= 4 && (c = { x: parseFloat(h[0] || 0), y: parseFloat(h[1] || 0), width: parseFloat(h[2]), height: parseFloat(h[3]) }) } if (c && s != null && l != null && (f = lz(c, { x: 0, y: 0, width: s, height: l }), !r.ignoreViewBox)) { var d = a; a = new it, a.add(d), d.scaleX = d.scaleY = f.scale, d.x = f.x, d.y = f.y } return !r.ignoreRootClip && s != null && l != null && a.setClipPath(new Bt({ shape: { x: 0, y: 0, width: s, height: l } })), { root: a, width: s, height: l, viewBoxRect: c, viewBoxTransform: f, named: i } }, t.prototype._parseNode = function (e, r, n, a, i, o) { var s = e.nodeName.toLowerCase(), l, u = a; if (s === "defs" && (i = !0), s === "text" && (o = !0), s === "defs" || s === "switch") l = r; else { if (!i) { var c = qw[s]; if (c && Fe(qw, s)) { l = c.call(this, e, r); var f = e.getAttribute("name"); if (f) { var h = { name: f, namedFrom: null, svgNodeTagLower: s, el: l }; n.push(h), s === "g" && (u = h) } else a && n.push({ name: a.name, namedFrom: a, svgNodeTagLower: s, el: l }); r.add(l) } } var d = RO[s]; if (d && Fe(RO, s)) { var v = d.call(this, e), p = e.getAttribute("id"); p && (this._defs[p] = v) } } if (l && l.isGroup) for (var g = e.firstChild; g;)g.nodeType === 1 ? this._parseNode(g, l, n, u, i, o) : g.nodeType === 3 && o && this._parseText(g, l), g = g.nextSibling }, t.prototype._parseText = function (e, r) { var n = new cp({ style: { text: e.textContent }, silent: !0, x: this._textX || 0, y: this._textY || 0 }); Qa(r, n), Fa(e, n, this._defsUsePending, !1, !1), r_e(n, r); var a = n.style, i = a.fontSize; i && i < 9 && (a.fontSize = 9, n.scaleX *= i / 9, n.scaleY *= i / 9); var o = (a.fontSize || a.fontFamily) && [a.fontStyle, a.fontWeight, (a.fontSize || 12) + "px", a.fontFamily || "sans-serif"].join(" "); a.font = o; var s = n.getBoundingRect(); return this._textX += s.width, r.add(n), n }, t.internalField = function () { qw = { g: function (e, r) { var n = new it; return Qa(r, n), Fa(e, n, this._defsUsePending, !1, !1), n }, rect: function (e, r) { var n = new Bt; return Qa(r, n), Fa(e, n, this._defsUsePending, !1, !1), n.setShape({ x: parseFloat(e.getAttribute("x") || "0"), y: parseFloat(e.getAttribute("y") || "0"), width: parseFloat(e.getAttribute("width") || "0"), height: parseFloat(e.getAttribute("height") || "0") }), n.silent = !0, n }, circle: function (e, r) { var n = new $o; return Qa(r, n), Fa(e, n, this._defsUsePending, !1, !1), n.setShape({ cx: parseFloat(e.getAttribute("cx") || "0"), cy: parseFloat(e.getAttribute("cy") || "0"), r: parseFloat(e.getAttribute("r") || "0") }), n.silent = !0, n }, line: function (e, r) { var n = new $n; return Qa(r, n), Fa(e, n, this._defsUsePending, !1, !1), n.setShape({ x1: parseFloat(e.getAttribute("x1") || "0"), y1: parseFloat(e.getAttribute("y1") || "0"), x2: parseFloat(e.getAttribute("x2") || "0"), y2: parseFloat(e.getAttribute("y2") || "0") }), n.silent = !0, n }, ellipse: function (e, r) { var n = new vC; return Qa(r, n), Fa(e, n, this._defsUsePending, !1, !1), n.setShape({ cx: parseFloat(e.getAttribute("cx") || "0"), cy: parseFloat(e.getAttribute("cy") || "0"), rx: parseFloat(e.getAttribute("rx") || "0"), ry: parseFloat(e.getAttribute("ry") || "0") }), n.silent = !0, n }, polygon: function (e, r) { var n = e.getAttribute("points"), a; n && (a = NO(n)); var i = new Ea({ shape: { points: a || [] }, silent: !0 }); return Qa(r, i), Fa(e, i, this._defsUsePending, !1, !1), i }, polyline: function (e, r) { var n = e.getAttribute("points"), a; n && (a = NO(n)); var i = new Na({ shape: { points: a || [] }, silent: !0 }); return Qa(r, i), Fa(e, i, this._defsUsePending, !1, !1), i }, image: function (e, r) { var n = new Gn; return Qa(r, n), Fa(e, n, this._defsUsePending, !1, !1), n.setStyle({ image: e.getAttribute("xlink:href") || e.getAttribute("href"), x: +e.getAttribute("x"), y: +e.getAttribute("y"), width: +e.getAttribute("width"), height: +e.getAttribute("height") }), n.silent = !0, n }, text: function (e, r) { var n = e.getAttribute("x") || "0", a = e.getAttribute("y") || "0", i = e.getAttribute("dx") || "0", o = e.getAttribute("dy") || "0"; this._textX = parseFloat(n) + parseFloat(i), this._textY = parseFloat(a) + parseFloat(o); var s = new it; return Qa(r, s), Fa(e, s, this._defsUsePending, !1, !0), s }, tspan: function (e, r) { var n = e.getAttribute("x"), a = e.getAttribute("y"); n != null && (this._textX = parseFloat(n)), a != null && (this._textY = parseFloat(a)); var i = e.getAttribute("dx") || "0", o = e.getAttribute("dy") || "0", s = new it; return Qa(r, s), Fa(e, s, this._defsUsePending, !1, !0), this._textX += parseFloat(i), this._textY += parseFloat(o), s }, path: function (e, r) { var n = e.getAttribute("d") || "", a = ZF(n); return Qa(r, a), Fa(e, a, this._defsUsePending, !1, !1), a.silent = !0, a } } }(), t }(), RO = { lineargradient: function (t) { var e = parseInt(t.getAttribute("x1") || "0", 10), r = parseInt(t.getAttribute("y1") || "0", 10), n = parseInt(t.getAttribute("x2") || "10", 10), a = parseInt(t.getAttribute("y2") || "0", 10), i = new eg(e, r, n, a); return OO(t, i), EO(t, i), i }, radialgradient: function (t) { var e = parseInt(t.getAttribute("cx") || "0", 10), r = parseInt(t.getAttribute("cy") || "0", 10), n = parseInt(t.getAttribute("r") || "0", 10), a = new sB(e, r, n); return OO(t, a), EO(t, a), a } }; function OO(t, e) { var r = t.getAttribute("gradientUnits"); r === "userSpaceOnUse" && (e.global = !0) } function EO(t, e) { for (var r = t.firstChild; r;) { if (r.nodeType === 1 && r.nodeName.toLocaleLowerCase() === "stop") { var n = r.getAttribute("offset"), a = void 0; n && n.indexOf("%") > 0 ? a = parseInt(n, 10) / 100 : n ? a = parseFloat(n) : a = 0; var i = {}; sz(r, i, i); var o = i.stopColor || r.getAttribute("stop-color") || "#000000"; e.colorStops.push({ offset: a, color: o }) } r = r.nextSibling } } function Qa(t, e) { t && t.__inheritedStyle && (e.__inheritedStyle || (e.__inheritedStyle = {}), Xe(e.__inheritedStyle, t.__inheritedStyle)) } function NO(t) { for (var e = _1(t), r = [], n = 0; n < e.length; n += 2) { var a = parseFloat(e[n]), i = parseFloat(e[n + 1]); r.push([a, i]) } return r } function Fa(t, e, r, n, a) { var i = e, o = i.__inheritedStyle = i.__inheritedStyle || {}, s = {}; t.nodeType === 1 && (s_e(t, e), sz(t, o, s), n || l_e(t, o, s)), i.style = i.style || {}, o.fill != null && (i.style.fill = $O(i, "fill", o.fill, r)), o.stroke != null && (i.style.stroke = $O(i, "stroke", o.stroke, r)), E(["lineWidth", "opacity", "fillOpacity", "strokeOpacity", "miterLimit", "fontSize"], function (l) { o[l] != null && (i.style[l] = parseFloat(o[l])) }), E(["lineDashOffset", "lineCap", "lineJoin", "fontWeight", "fontFamily", "fontStyle", "textAlign"], function (l) { o[l] != null && (i.style[l] = o[l]) }), a && (i.__selfStyle = s), o.lineDash && (i.style.lineDash = _e(_1(o.lineDash), function (l) { return parseFloat(l) })), (o.visibility === "hidden" || o.visibility === "collapse") && (i.invisible = !0), o.display === "none" && (i.ignore = !0) } function r_e(t, e) { var r = e.__selfStyle; if (r) { var n = r.textBaseline, a = n; !n || n === "auto" || n === "baseline" ? a = "alphabetic" : n === "before-edge" || n === "text-before-edge" ? a = "top" : n === "after-edge" || n === "text-after-edge" ? a = "bottom" : (n === "central" || n === "mathematical") && (a = "middle"), t.style.textBaseline = a } var i = e.__inheritedStyle; if (i) { var o = i.textAlign, s = o; o && (o === "middle" && (s = "center"), t.style.textAlign = s) } } var n_e = /^url\(\s*#(.*?)\)/; function $O(t, e, r, n) { var a = r && r.match(n_e); if (a) { var i = Fi(a[1]); n.push([t, e, i]); return } return r === "none" && (r = null), r } function a_e(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n[0].style[n[1]] = t[n[2]] } } var i_e = /-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g; function _1(t) { return t.match(i_e) || [] } var o_e = /(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g, Xw = Math.PI / 180; function s_e(t, e) { var r = t.getAttribute("transform"); if (r) { r = r.replace(/,/g, " "); var n = [], a = null; r.replace(o_e, function (f, h, d) { return n.push(h, d), "" }); for (var i = n.length - 1; i > 0; i -= 2) { var o = n[i], s = n[i - 1], l = _1(o); switch (a = a || yi(), s) { case "translate": Ro(a, a, [parseFloat(l[0]), parseFloat(l[1] || "0")]); break; case "scale": QD(a, a, [parseFloat(l[0]), parseFloat(l[1] || l[0])]); break; case "rotate": Zc(a, a, -parseFloat(l[0]) * Xw); break; case "skewX": var u = Math.tan(parseFloat(l[0]) * Xw); xs(a, [1, 0, u, 1, 0, 0], a); break; case "skewY": var c = Math.tan(parseFloat(l[0]) * Xw); xs(a, [1, c, 0, 1, 0, 0], a); break; case "matrix": a[0] = parseFloat(l[0]), a[1] = parseFloat(l[1]), a[2] = parseFloat(l[2]), a[3] = parseFloat(l[3]), a[4] = parseFloat(l[4]), a[5] = parseFloat(l[5]); break } } e.setLocalTransform(a) } } var FO = /([^\s:;]+)\s*:\s*([^:;]+)/g; function sz(t, e, r) { var n = t.getAttribute("style"); if (n) { FO.lastIndex = 0; for (var a; (a = FO.exec(n)) != null;) { var i = a[1], o = Fe(M0, i) ? M0[i] : null; o && (e[o] = a[2]); var s = Fe(k0, i) ? k0[i] : null; s && (r[s] = a[2]) } } } function l_e(t, e, r) { for (var n = 0; n < IO.length; n++) { var a = IO[n], i = t.getAttribute(a); i != null && (e[M0[a]] = i) } for (var n = 0; n < PO.length; n++) { var a = PO[n], i = t.getAttribute(a); i != null && (r[k0[a]] = i) } } function lz(t, e) { var r = e.width / t.width, n = e.height / t.height, a = Math.min(r, n); return { scale: a, x: -(t.x + t.width / 2) * a + (e.x + e.width / 2), y: -(t.y + t.height / 2) * a + (e.y + e.height / 2) } } function u_e(t, e) { var r = new t_e; return r.parse(t, e) } var c_e = He(["rect", "circle", "line", "ellipse", "polygon", "polyline", "path", "text", "tspan", "g"]), f_e = function () {
    function t(e, r) { this.type = "geoSVG", this._usedGraphicMap = He(), this._freedGraphics = [], this._mapName = e, this._parsedXML = oz(r) } return t.prototype.load = function () { var e = this._firstGraphic; if (!e) { e = this._firstGraphic = this._buildGraphic(this._parsedXML), this._freedGraphics.push(e), this._boundingRect = this._firstGraphic.boundingRect.clone(); var r = d_e(e.named), n = r.regions, a = r.regionsMap; this._regions = n, this._regionsMap = a } return { boundingRect: this._boundingRect, regions: this._regions, regionsMap: this._regionsMap } }, t.prototype._buildGraphic = function (e) {
        var r, n; try { r = e && u_e(e, { ignoreViewBox: !0, ignoreRootClip: !0 }) || {}, n = r.root, ya(n != null) } catch (g) {
            throw new Error(`Invalid svg format
`+ g.message)
        } var a = new it; a.add(n), a.isGeoSVGGraphicRoot = !0; var i = r.width, o = r.height, s = r.viewBoxRect, l = this._boundingRect; if (!l) { var u = void 0, c = void 0, f = void 0, h = void 0; if (i != null ? (u = 0, f = i) : s && (u = s.x, f = s.width), o != null ? (c = 0, h = o) : s && (c = s.y, h = s.height), u == null || c == null) { var d = n.getBoundingRect(); u == null && (u = d.x, f = d.width), c == null && (c = d.y, h = d.height) } l = this._boundingRect = new wt(u, c, f, h) } if (s) { var v = lz(s, l); n.scaleX = n.scaleY = v.scale, n.x = v.x, n.y = v.y } a.setClipPath(new Bt({ shape: l.plain() })); var p = []; return E(r.named, function (g) { c_e.get(g.svgNodeTagLower) != null && (p.push(g), h_e(g.el)) }), { root: a, boundingRect: l, named: p }
    }, t.prototype.useGraphic = function (e) { var r = this._usedGraphicMap, n = r.get(e); return n || (n = this._freedGraphics.pop() || this._buildGraphic(this._parsedXML), r.set(e, n), n) }, t.prototype.freeGraphic = function (e) { var r = this._usedGraphicMap, n = r.get(e); n && (r.removeKey(e), this._freedGraphics.push(n)) }, t
}(); function h_e(t) { t.silent = !1, t.isGroup && t.traverse(function (e) { e.silent = !1 }) } function d_e(t) { var e = [], r = He(); return E(t, function (n) { if (n.namedFrom == null) { var a = new Sme(n.name, n.el); e.push(a), r.set(n.name, a) } }), { regions: e, regionsMap: r } } var e2 = [126, 25], BO = "南海诸岛", Gu = [[[0, 3.5], [7, 11.2], [15, 11.9], [30, 7], [42, .7], [52, .7], [56, 7.7], [59, .7], [64, .7], [64, 0], [5, 0], [0, 3.5]], [[13, 16.1], [19, 14.7], [16, 21.7], [11, 23.1], [13, 16.1]], [[12, 32.2], [14, 38.5], [15, 38.5], [13, 32.2], [12, 32.2]], [[16, 47.6], [12, 53.2], [13, 53.2], [18, 47.6], [16, 47.6]], [[6, 64.4], [8, 70], [9, 70], [8, 64.4], [6, 64.4]], [[23, 82.6], [29, 79.8], [30, 79.8], [25, 82.6], [23, 82.6]], [[37, 70.7], [43, 62.3], [44, 62.3], [39, 70.7], [37, 70.7]], [[48, 51.1], [51, 45.5], [53, 45.5], [50, 51.1], [48, 51.1]], [[51, 35], [51, 28.7], [53, 28.7], [53, 35], [51, 35]], [[52, 22.4], [55, 17.5], [56, 17.5], [53, 22.4], [52, 22.4]], [[58, 12.6], [62, 7], [63, 7], [60, 12.6], [58, 12.6]], [[0, 3.5], [0, 93.1], [64, 93.1], [64, 0], [63, 0], [63, 92.4], [1, 92.4], [1, 3.5], [0, 3.5]]]; for (var Bu = 0; Bu < Gu.length; Bu++)for (var kf = 0; kf < Gu[Bu].length; kf++)Gu[Bu][kf][0] /= 10.5, Gu[Bu][kf][1] /= -10.5 / .75, Gu[Bu][kf][0] += e2[0], Gu[Bu][kf][1] += e2[1]; function v_e(t, e) { if (t === "china") { for (var r = 0; r < e.length; r++)if (e[r].name === BO) return; e.push(new yV(BO, _e(Gu, function (n) { return { type: "polygon", exterior: n } }), e2)) } } var p_e = { 南海诸岛: [32, 80], 广东: [0, -10], 香港: [10, 5], 澳门: [-10, 10], 天津: [5, 5] }; function g_e(t, e) { if (t === "china") { var r = p_e[e.name]; if (r) { var n = e.getCenter(); n[0] += r[0] / 10.5, n[1] += -r[1] / (10.5 / .75), e.setCenter(n) } } } var m_e = [[[123.45165252685547, 25.73527164402261], [123.49731445312499, 25.73527164402261], [123.49731445312499, 25.750734064600884], [123.45165252685547, 25.750734064600884], [123.45165252685547, 25.73527164402261]]]; function y_e(t, e) { t === "china" && e.name === "台湾" && e.geometries.push({ type: "polygon", exterior: m_e[0] }) } var __e = "name", b_e = function () {
    function t(e, r, n) { this.type = "geoJSON", this._parsedMap = He(), this._mapName = e, this._specialAreas = n, this._geoJSON = S_e(r) } return t.prototype.load = function (e, r) { r = r || __e; var n = this._parsedMap.get(r); if (!n) { var a = this._parseToRegions(r); n = this._parsedMap.set(r, { regions: a, boundingRect: w_e(a) }) } var i = He(), o = []; return E(n.regions, function (s) { var l = s.name; e && Fe(e, l) && (s = s.cloneShallow(l = e[l])), o.push(s), i.set(l, s) }), { regions: o, boundingRect: n.boundingRect || new wt(0, 0, 0, 0), regionsMap: i } }, t.prototype._parseToRegions = function (e) {
        var r = this._mapName, n = this._geoJSON, a; try { a = n ? Tme(n, e) : [] } catch (i) {
            throw new Error(`Invalid geoJson format
`+ i.message)
        } return v_e(r, a), E(a, function (i) { var o = i.name; g_e(r, i), y_e(r, i); var s = this._specialAreas && this._specialAreas[o]; s && i.transformTo(s.left, s.top, s.width, s.height) }, this), a
    }, t.prototype.getMapForUser = function () { return { geoJson: this._geoJSON, geoJSON: this._geoJSON, specialAreas: this._specialAreas } }, t
}(); function w_e(t) { for (var e, r = 0; r < t.length; r++) { var n = t[r].getBoundingRect(); e = e || n.clone(), e.union(n) } return e } function S_e(t) { return Oe(t) ? typeof JSON < "u" && JSON.parse ? JSON.parse(t) : new Function("return (" + t + ");")() : t } var Vd = He(); const Ns = { registerMap: function (t, e, r) { if (e.svg) { var n = new f_e(t, e.svg); Vd.set(t, n) } else { var a = e.geoJson || e.geoJSON; a && !e.features ? r = e.specialAreas : a = e; var n = new b_e(t, a, r); Vd.set(t, n) } }, getGeoResource: function (t) { return Vd.get(t) }, getMapForUser: function (t) { var e = Vd.get(t); return e && e.type === "geoJSON" && e.getMapForUser() }, load: function (t, e, r) { var n = Vd.get(t); if (n) return n.load(e, r) } }; var nM = ["rect", "circle", "line", "ellipse", "polygon", "polyline", "path"], x_e = He(nM), T_e = He(nM.concat(["g"])), D_e = He(nM.concat(["g"])), uz = zt(); function Rm(t) { var e = t.getItemStyle(), r = t.get("areaColor"); return r != null && (e.fill = r), e } function VO(t) { var e = t.style; e && (e.stroke = e.stroke || e.fill, e.fill = null) } var C_e = function () { function t(e) { var r = new it; this.uid = jh("ec_map_draw"), this._controller = new pg(e.getZr()), this._controllerHost = { target: r }, this.group = r, r.add(this._regionsGroup = new it), r.add(this._svgGroup = new it) } return t.prototype.draw = function (e, r, n, a, i) { var o = e.mainType === "geo", s = e.getData && e.getData(); o && r.eachComponent({ mainType: "series", subType: "map" }, function (m) { !s && m.getHostGeoModel() === e && (s = m.getData()) }); var l = e.coordinateSystem, u = this._regionsGroup, c = this.group, f = l.getTransformInfo(), h = f.raw, d = f.roam, v = !u.childAt(0) || i; v ? (c.x = d.x, c.y = d.y, c.scaleX = d.scaleX, c.scaleY = d.scaleY, c.dirty()) : jt(c, d, e); var p = s && s.getVisual("visualMeta") && s.getVisual("visualMeta").length > 0, g = { api: n, geo: l, mapOrGeoModel: e, data: s, isVisualEncodedByVisualMap: p, isGeo: o, transformInfoRaw: h }; l.resourceType === "geoJSON" ? this._buildGeoJSON(g) : l.resourceType === "geoSVG" && this._buildSVG(g), this._updateController(e, r, n), this._updateMapSelectHandler(e, u, n, a) }, t.prototype._buildGeoJSON = function (e) { var r = this._regionsGroupByName = He(), n = He(), a = this._regionsGroup, i = e.transformInfoRaw, o = e.mapOrGeoModel, s = e.data, l = e.geo.projection, u = l && l.stream; function c(d, v) { return v && (d = v(d)), d && [d[0] * i.scaleX + i.x, d[1] * i.scaleY + i.y] } function f(d) { for (var v = [], p = !u && l && l.project, g = 0; g < d.length; ++g) { var m = c(d[g], p); m && v.push(m) } return v } function h(d) { return { shape: { points: f(d) } } } a.removeAll(), E(e.geo.regions, function (d) { var v = d.name, p = r.get(v), g = n.get(v) || {}, m = g.dataIdx, y = g.regionModel; p || (p = r.set(v, new it), a.add(p), m = s ? s.indexOfName(v) : null, y = e.isGeo ? o.getRegionModel(v) : s ? s.getItemModel(m) : null, n.set(v, { dataIdx: m, regionModel: y })); var _ = [], b = []; E(d.geometries, function (T) { if (T.type === "polygon") { var C = [T.exterior].concat(T.interiors || []); u && (C = GO(C, u)), E(C, function (k) { _.push(new Ea(h(k))) }) } else { var M = T.points; u && (M = GO(M, u, !0)), E(M, function (k) { b.push(new Na(h(k))) }) } }); var x = c(d.getCenter(), l && l.project); function S(T, C) { if (T.length) { var M = new gC({ culling: !0, segmentIgnoreThreshold: 1, shape: { paths: T } }); p.add(M), zO(e, M, m, y), HO(e, M, v, y, o, m, x), C && (VO(M), E(M.states, VO)) } } S(_), S(b, !0) }), r.each(function (d, v) { var p = n.get(v), g = p.dataIdx, m = p.regionModel; YO(e, d, v, m, o, g), UO(e, d, v, m, o), WO(e, d, v, m, o) }, this) }, t.prototype._buildSVG = function (e) { var r = e.geo.map, n = e.transformInfoRaw; this._svgGroup.x = n.x, this._svgGroup.y = n.y, this._svgGroup.scaleX = n.scaleX, this._svgGroup.scaleY = n.scaleY, this._svgResourceChanged(r) && (this._freeSVG(), this._useSVG(r)); var a = this._svgDispatcherMap = He(), i = !1; E(this._svgGraphicRecord.named, function (o) { var s = o.name, l = e.mapOrGeoModel, u = e.data, c = o.svgNodeTagLower, f = o.el, h = u ? u.indexOfName(s) : null, d = l.getRegionModel(s); if (x_e.get(c) != null && f instanceof _i && zO(e, f, h, d), f instanceof _i && (f.culling = !0), f.z2EmphasisLift = 0, !o.namedFrom && (D_e.get(c) != null && HO(e, f, s, d, l, h, null), YO(e, f, s, d, l, h), UO(e, f, s, d, l), T_e.get(c) != null)) { var v = WO(e, f, s, d, l); v === "self" && (i = !0); var p = a.get(s) || a.set(s, []); p.push(f) } }, this), this._enableBlurEntireSVG(i, e) }, t.prototype._enableBlurEntireSVG = function (e, r) { if (e && r.isGeo) { var n = r.mapOrGeoModel.getModel(["blur", "itemStyle"]).getItemStyle(), a = n.opacity; this._svgGraphicRecord.root.traverse(function (i) { if (!i.isGroup) { $c(i); var o = i.ensureState("blur").style || {}; o.opacity == null && a != null && (o.opacity = a), i.ensureState("emphasis") } }) } }, t.prototype.remove = function () { this._regionsGroup.removeAll(), this._regionsGroupByName = null, this._svgGroup.removeAll(), this._freeSVG(), this._controller.dispose(), this._controllerHost = null }, t.prototype.findHighDownDispatchers = function (e, r) { if (e == null) return []; var n = r.coordinateSystem; if (n.resourceType === "geoJSON") { var a = this._regionsGroupByName; if (a) { var i = a.get(e); return i ? [i] : [] } } else if (n.resourceType === "geoSVG") return this._svgDispatcherMap && this._svgDispatcherMap.get(e) || [] }, t.prototype._svgResourceChanged = function (e) { return this._svgMapName !== e }, t.prototype._useSVG = function (e) { var r = Ns.getGeoResource(e); if (r && r.type === "geoSVG") { var n = r.useGraphic(this.uid); this._svgGroup.add(n.root), this._svgGraphicRecord = n, this._svgMapName = e } }, t.prototype._freeSVG = function () { var e = this._svgMapName; if (e != null) { var r = Ns.getGeoResource(e); r && r.type === "geoSVG" && r.freeGraphic(this.uid), this._svgGraphicRecord = null, this._svgDispatcherMap = null, this._svgGroup.removeAll(), this._svgMapName = null } }, t.prototype._updateController = function (e, r, n) { var a = e.coordinateSystem, i = this._controller, o = this._controllerHost; o.zoomLimit = e.get("scaleLimit"), o.zoom = a.getZoom(), i.enable(e.get("roam") || !1); var s = e.mainType; function l() { var u = { type: "geoRoam", componentType: s }; return u[s + "Id"] = e.id, u } i.off("pan").on("pan", function (u) { this._mouseDownFlag = !1, tM(o, u.dx, u.dy), n.dispatchAction(he(l(), { dx: u.dx, dy: u.dy, animation: { duration: 0 } })) }, this), i.off("zoom").on("zoom", function (u) { this._mouseDownFlag = !1, rM(o, u.scale, u.originX, u.originY), n.dispatchAction(he(l(), { zoom: u.scale, originX: u.originX, originY: u.originY, animation: { duration: 0 } })) }, this), i.setPointerChecker(function (u, c, f) { return a.containPoint([c, f]) && !y1(u, n, e) }) }, t.prototype.resetForLabelLayout = function () { this.group.traverse(function (e) { var r = e.getTextContent(); r && (r.ignore = uz(r).ignore) }) }, t.prototype._updateMapSelectHandler = function (e, r, n, a) { var i = this; r.off("mousedown"), r.off("click"), e.get("selectedMode") && (r.on("mousedown", function () { i._mouseDownFlag = !0 }), r.on("click", function (o) { i._mouseDownFlag && (i._mouseDownFlag = !1) })) }, t }(); function zO(t, e, r, n) { var a = n.getModel("itemStyle"), i = n.getModel(["emphasis", "itemStyle"]), o = n.getModel(["blur", "itemStyle"]), s = n.getModel(["select", "itemStyle"]), l = Rm(a), u = Rm(i), c = Rm(s), f = Rm(o), h = t.data; if (h) { var d = h.getItemVisual(r, "style"), v = h.getItemVisual(r, "decal"); t.isVisualEncodedByVisualMap && d.fill && (l.fill = d.fill), v && (l.decal = Mh(v, t.api)) } e.setStyle(l), e.style.strokeNoScale = !0, e.ensureState("emphasis").style = u, e.ensureState("select").style = c, e.ensureState("blur").style = f, $c(e) } function HO(t, e, r, n, a, i, o) { var s = t.data, l = t.isGeo, u = s && isNaN(s.get(s.mapDimension("value"), i)), c = s && s.getItemLayout(i); if (l || u || c && c.showLabel) { var f = l ? r : i, h = void 0; (!s || i >= 0) && (h = a); var d = o ? { normal: { align: "center", verticalAlign: "middle" } } : null; Wn(e, Pn(n), { labelFetcher: h, labelDataIndex: f, defaultText: r }, d); var v = e.getTextContent(); if (v && (uz(v).ignore = v.ignore, e.textConfig && o)) { var p = e.getBoundingRect().clone(); e.textConfig.layoutRect = p, e.textConfig.position = [(o[0] - p.x) / p.width * 100 + "%", (o[1] - p.y) / p.height * 100 + "%"] } e.disableLabelAnimation = !0 } else e.removeTextContent(), e.removeTextConfig(), e.disableLabelAnimation = null } function YO(t, e, r, n, a, i) { t.data ? t.data.setItemGraphicEl(i, e) : lt(e).eventData = { componentType: "geo", componentIndex: a.componentIndex, geoIndex: a.componentIndex, name: r, region: n && n.option || {} } } function UO(t, e, r, n, a) { t.data || Wh({ el: e, componentModel: a, itemName: r, itemTooltipOption: n.get("tooltip") }) } function WO(t, e, r, n, a) { e.highDownSilentOnTouch = !!a.get("selectedMode"); var i = n.getModel("emphasis"), o = i.get("focus"); return Xr(e, o, i.get("blurScope"), i.get("disabled")), t.isGeo && bhe(e, a, r), o } function GO(t, e, r) { var n = [], a; function i() { a = [] } function o() { a.length && (n.push(a), a = []) } var s = e({ polygonStart: i, polygonEnd: o, lineStart: i, lineEnd: o, point: function (l, u) { isFinite(l) && isFinite(u) && a.push([l, u]) }, sphere: function () { } }); return !r && s.polygonStart(), E(t, function (l) { s.lineStart(); for (var u = 0; u < l.length; u++)s.point(l[u][0], l[u][1]); s.lineEnd() }), !r && s.polygonEnd(), n } const cz = C_e; var M_e = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.render = function (r, n, a, i) { if (!(i && i.type === "mapToggleSelect" && i.from === this.uid)) { var o = this.group; if (o.removeAll(), !r.getHostGeoModel()) { if (this._mapDraw && i && i.type === "geoRoam" && this._mapDraw.resetForLabelLayout(), i && i.type === "geoRoam" && i.componentType === "series" && i.seriesId === r.id) { var s = this._mapDraw; s && o.add(s.group) } else if (r.needsDrawMap) { var s = this._mapDraw || new cz(a); o.add(s.group), s.draw(r, n, a, this, i), this._mapDraw = s } else this._mapDraw && this._mapDraw.remove(), this._mapDraw = null; r.get("showLegendSymbol") && n.getComponent("legend") && this._renderSymbols(r, n, a) } } }, e.prototype.remove = function () { this._mapDraw && this._mapDraw.remove(), this._mapDraw = null, this.group.removeAll() }, e.prototype.dispose = function () { this._mapDraw && this._mapDraw.remove(), this._mapDraw = null }, e.prototype._renderSymbols = function (r, n, a) { var i = r.originalData, o = this.group; i.each(i.mapDimension("value"), function (s, l) { if (!isNaN(s)) { var u = i.getItemLayout(l); if (!(!u || !u.point)) { var c = u.point, f = u.offset, h = new $o({ style: { fill: r.getData().getVisual("style").fill }, shape: { cx: c[0] + f * 9, cy: c[1], r: 3 }, silent: !0, z2: 8 + (f ? 0 : Yh + 1) }); if (!f) { var d = r.mainSeries.getData(), v = i.getName(l), p = d.indexOfName(v), g = i.getItemModel(l), m = g.getModel("label"), y = d.getItemGraphicEl(p); Wn(h, Pn(g), { labelFetcher: { getFormattedLabel: function (_, b) { return r.getFormattedLabel(p, b) } }, defaultText: v }), h.disableLabelAnimation = !0, m.get("position") || h.setTextConfig({ position: "bottom" }), y.onHoverStateChange = function (_) { s0(h, _) } } o.add(h) } } }) }, e.type = "map", e }(Ar); const k_e = M_e; var A_e = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.needsDrawMap = !1, r.seriesGroup = [], r.getTooltipPosition = function (n) { if (n != null) { var a = this.getData().getName(n), i = this.coordinateSystem, o = i.getRegion(a); return o && i.dataToPoint(o.getCenter()) } }, r } return e.prototype.getInitialData = function (r) { for (var n = td(this, { coordDimensions: ["value"], encodeDefaulter: ut(DC, this) }), a = He(), i = [], o = 0, s = n.count(); o < s; o++) { var l = n.getName(o); a.set(l, !0) } var u = Ns.load(this.getMapType(), this.option.nameMap, this.option.nameProperty); return E(u.regions, function (c) { var f = c.name; a.get(f) || i.push(f) }), n.appendValues([], i), n }, e.prototype.getHostGeoModel = function () { var r = this.option.geoIndex; return r != null ? this.ecModel.getComponent("geo", r) : null }, e.prototype.getMapType = function () { return (this.getHostGeoModel() || this).option.map }, e.prototype.getRawValue = function (r) { var n = this.getData(); return n.get(n.mapDimension("value"), r) }, e.prototype.getRegionModel = function (r) { var n = this.getData(); return n.getItemModel(n.indexOfName(r)) }, e.prototype.formatTooltip = function (r, n, a) { for (var i = this.getData(), o = this.getRawValue(r), s = i.getName(r), l = this.seriesGroup, u = [], c = 0; c < l.length; c++) { var f = l[c].originalData.indexOfName(s), h = i.mapDimension("value"); isNaN(l[c].originalData.get(h, f)) || u.push(l[c].name) } return Rn("section", { header: u.join(", "), noHeader: !u.length, blocks: [Rn("nameValue", { name: s, value: o })] }) }, e.prototype.setZoom = function (r) { this.option.zoom = r }, e.prototype.setCenter = function (r) { this.option.center = r }, e.prototype.getLegendIcon = function (r) { var n = r.icon || "roundRect", a = gn(n, 0, 0, r.itemWidth, r.itemHeight, r.itemStyle.fill); return a.setStyle(r.itemStyle), a.style.stroke = "none", n.indexOf("empty") > -1 && (a.style.stroke = a.style.fill, a.style.fill = "#fff", a.style.lineWidth = 2), a }, e.type = "series.map", e.dependencies = ["geo"], e.layoutMode = "box", e.defaultOption = { z: 2, coordinateSystem: "geo", map: "", left: "center", top: "center", aspectScale: null, showLegendSymbol: !0, boundingCoords: null, center: null, zoom: 1, scaleLimit: null, selectedMode: !0, label: { show: !1, color: "#000" }, itemStyle: { borderWidth: .5, borderColor: "#444", areaColor: "#eee" }, emphasis: { label: { show: !0, color: "rgb(100,0,0)" }, itemStyle: { areaColor: "rgba(255,215,0,0.8)" } }, select: { label: { show: !0, color: "rgb(100,0,0)" }, itemStyle: { color: "rgba(255,215,0,0.8)" } }, nameProperty: "name" }, e }($r); const L_e = A_e; function I_e(t, e) { var r = {}; return E(t, function (n) { n.each(n.mapDimension("value"), function (a, i) { var o = "ec-" + n.getName(i); r[o] = r[o] || [], isNaN(a) || r[o].push(a) }) }), t[0].map(t[0].mapDimension("value"), function (n, a) { for (var i = "ec-" + t[0].getName(a), o = 0, s = 1 / 0, l = -1 / 0, u = r[i].length, c = 0; c < u; c++)s = Math.min(s, r[i][c]), l = Math.max(l, r[i][c]), o += r[i][c]; var f; return e === "min" ? f = s : e === "max" ? f = l : e === "average" ? f = o / u : f = o, u === 0 ? NaN : f }) } function P_e(t) { var e = {}; t.eachSeriesByType("map", function (r) { var n = r.getHostGeoModel(), a = n ? "o" + n.id : "i" + r.getMapType(); (e[a] = e[a] || []).push(r) }), E(e, function (r, n) { for (var a = I_e(_e(r, function (o) { return o.getData() }), r[0].get("mapValueCalculation")), i = 0; i < r.length; i++)r[i].originalData = r[i].getData(); for (var i = 0; i < r.length; i++)r[i].seriesGroup = r, r[i].needsDrawMap = i === 0 && !r[i].getHostGeoModel(), r[i].setData(a.cloneShallow()), r[i].mainSeries = r[0] }) } function R_e(t) { var e = {}; t.eachSeriesByType("map", function (r) { var n = r.getMapType(); if (!(r.getHostGeoModel() || e[n])) { var a = {}; E(r.seriesGroup, function (o) { var s = o.coordinateSystem, l = o.originalData; o.get("showLegendSymbol") && t.getComponent("legend") && l.each(l.mapDimension("value"), function (u, c) { var f = l.getName(c), h = s.getRegion(f); if (!(!h || isNaN(u))) { var d = a[f] || 0, v = s.dataToPoint(h.getCenter()); a[f] = d + 1, l.setItemLayout(c, { point: v, offset: d }) } }) }); var i = r.getData(); i.each(function (o) { var s = i.getName(o), l = i.getItemLayout(o) || {}; l.showLabel = !a[s], i.setItemLayout(o, l) }), e[n] = !0 } }) } var jO = Hn, O_e = function (t) { ae(e, t); function e(r) { var n = t.call(this) || this; return n.type = "view", n.dimensions = ["x", "y"], n._roamTransformable = new ps, n._rawTransformable = new ps, n.name = r, n } return e.prototype.setBoundingRect = function (r, n, a, i) { return this._rect = new wt(r, n, a, i), this._rect }, e.prototype.getBoundingRect = function () { return this._rect }, e.prototype.setViewRect = function (r, n, a, i) { this._transformTo(r, n, a, i), this._viewRect = new wt(r, n, a, i) }, e.prototype._transformTo = function (r, n, a, i) { var o = this.getBoundingRect(), s = this._rawTransformable; s.transform = o.calculateTransform(new wt(r, n, a, i)); var l = s.parent; s.parent = null, s.decomposeTransform(), s.parent = l, this._updateTransform() }, e.prototype.setCenter = function (r, n) { r && (this._center = [Ae(r[0], n.getWidth()), Ae(r[1], n.getHeight())], this._updateCenterAndZoom()) }, e.prototype.setZoom = function (r) { r = r || 1; var n = this.zoomLimit; n && (n.max != null && (r = Math.min(n.max, r)), n.min != null && (r = Math.max(n.min, r))), this._zoom = r, this._updateCenterAndZoom() }, e.prototype.getDefaultCenter = function () { var r = this.getBoundingRect(), n = r.x + r.width / 2, a = r.y + r.height / 2; return [n, a] }, e.prototype.getCenter = function () { return this._center || this.getDefaultCenter() }, e.prototype.getZoom = function () { return this._zoom || 1 }, e.prototype.getRoamTransform = function () { return this._roamTransformable.getLocalTransform() }, e.prototype._updateCenterAndZoom = function () { var r = this._rawTransformable.getLocalTransform(), n = this._roamTransformable, a = this.getDefaultCenter(), i = this.getCenter(), o = this.getZoom(); i = Hn([], i, r), a = Hn([], a, r), n.originX = i[0], n.originY = i[1], n.x = a[0] - i[0], n.y = a[1] - i[1], n.scaleX = n.scaleY = o, this._updateTransform() }, e.prototype._updateTransform = function () { var r = this._roamTransformable, n = this._rawTransformable; n.parent = r, r.updateTransform(), n.updateTransform(), KD(this.transform || (this.transform = []), n.transform || yi()), this._rawTransform = n.getLocalTransform(), this.invTransform = this.invTransform || [], zh(this.invTransform, this.transform), this.decomposeTransform() }, e.prototype.getTransformInfo = function () { var r = this._rawTransformable, n = this._roamTransformable, a = new ps; return a.transform = n.transform, a.decomposeTransform(), { roam: { x: a.x, y: a.y, scaleX: a.scaleX, scaleY: a.scaleY }, raw: { x: r.x, y: r.y, scaleX: r.scaleX, scaleY: r.scaleY } } }, e.prototype.getViewRect = function () { return this._viewRect }, e.prototype.getViewRectAfterRoam = function () { var r = this.getBoundingRect().clone(); return r.applyTransform(this.transform), r }, e.prototype.dataToPoint = function (r, n, a) { var i = n ? this._rawTransform : this.transform; return a = a || [], i ? jO(a, r, i) : ca(a, r) }, e.prototype.pointToData = function (r) { var n = this.invTransform; return n ? jO([], r, n) : [r[0], r[1]] }, e.prototype.convertToPixel = function (r, n, a) { var i = ZO(n); return i === this ? i.dataToPoint(a) : null }, e.prototype.convertFromPixel = function (r, n, a) { var i = ZO(n); return i === this ? i.pointToData(a) : null }, e.prototype.containPoint = function (r) { return this.getViewRectAfterRoam().contain(r[0], r[1]) }, e.dimensions = ["x", "y"], e }(ps); function ZO(t) { var e = t.seriesModel; return e ? e.coordinateSystem : null } const gg = O_e; var E_e = { geoJSON: { aspectScale: .75, invertLongitute: !0 }, geoSVG: { aspectScale: 1, invertLongitute: !1 } }, fz = ["lng", "lat"], hz = function (t) { ae(e, t); function e(r, n, a) { var i = t.call(this, r) || this; i.dimensions = fz, i.type = "geo", i._nameCoordMap = He(), i.map = n; var o = a.projection, s = Ns.load(n, a.nameMap, a.nameProperty), l = Ns.getGeoResource(n); i.resourceType = l ? l.type : null; var u = i.regions = s.regions, c = E_e[l.type]; i._regionsMap = s.regionsMap, i.regions = s.regions, i.projection = o; var f; if (o) for (var h = 0; h < u.length; h++) { var d = u[h].getBoundingRect(o); f = f || d.clone(), f.union(d) } else f = s.boundingRect; return i.setBoundingRect(f.x, f.y, f.width, f.height), i.aspectScale = o ? 1 : _t(a.aspectScale, c.aspectScale), i._invertLongitute = o ? !1 : c.invertLongitute, i } return e.prototype._transformTo = function (r, n, a, i) { var o = this.getBoundingRect(), s = this._invertLongitute; o = o.clone(), s && (o.y = -o.y - o.height); var l = this._rawTransformable; l.transform = o.calculateTransform(new wt(r, n, a, i)); var u = l.parent; l.parent = null, l.decomposeTransform(), l.parent = u, s && (l.scaleY = -l.scaleY), this._updateTransform() }, e.prototype.getRegion = function (r) { return this._regionsMap.get(r) }, e.prototype.getRegionByCoord = function (r) { for (var n = this.regions, a = 0; a < n.length; a++) { var i = n[a]; if (i.type === "geoJSON" && i.contain(r)) return n[a] } }, e.prototype.addGeoCoord = function (r, n) { this._nameCoordMap.set(r, n) }, e.prototype.getGeoCoord = function (r) { var n = this._regionsMap.get(r); return this._nameCoordMap.get(r) || n && n.getCenter() }, e.prototype.dataToPoint = function (r, n, a) { if (Oe(r) && (r = this.getGeoCoord(r)), r) { var i = this.projection; return i && (r = i.project(r)), r && this.projectedToPoint(r, n, a) } }, e.prototype.pointToData = function (r) { var n = this.projection; return n && (r = n.unproject(r)), r && this.pointToProjected(r) }, e.prototype.pointToProjected = function (r) { return t.prototype.pointToData.call(this, r) }, e.prototype.projectedToPoint = function (r, n, a) { return t.prototype.dataToPoint.call(this, r, n, a) }, e.prototype.convertToPixel = function (r, n, a) { var i = qO(n); return i === this ? i.dataToPoint(a) : null }, e.prototype.convertFromPixel = function (r, n, a) { var i = qO(n); return i === this ? i.pointToData(a) : null }, e }(gg); mn(hz, gg); function qO(t) { var e = t.geoModel, r = t.seriesModel; return e ? e.coordinateSystem : r ? r.coordinateSystem || (r.getReferringComponents("geo", dn).models[0] || {}).coordinateSystem : null } const XO = hz; function KO(t, e) { var r = t.get("boundingCoords"); if (r != null) { var n = r[0], a = r[1]; if (isFinite(n[0]) && isFinite(n[1]) && isFinite(a[0]) && isFinite(a[1])) { var i = this.projection; if (i) { var o = n[0], s = n[1], l = a[0], u = a[1]; n = [1 / 0, 1 / 0], a = [-1 / 0, -1 / 0]; var c = function (S, T, C, M) { for (var k = C - S, A = M - T, R = 0; R <= 100; R++) { var N = R / 100, z = i.project([S + k * N, T + A * N]); xl(n, n, z), Tl(a, a, z) } }; c(o, s, l, s), c(l, s, l, u), c(l, u, o, u), c(o, u, l, s) } this.setBoundingRect(n[0], n[1], a[0] - n[0], a[1] - n[1]) } } var f = this.getBoundingRect(), h = t.get("layoutCenter"), d = t.get("layoutSize"), v = e.getWidth(), p = e.getHeight(), g = f.width / f.height * this.aspectScale, m = !1, y, _; h && d && (y = [Ae(h[0], v), Ae(h[1], p)], _ = Ae(d, Math.min(v, p)), !isNaN(y[0]) && !isNaN(y[1]) && !isNaN(_) && (m = !0)); var b; if (m) b = {}, g > 1 ? (b.width = _, b.height = _ / g) : (b.height = _, b.width = _ * g), b.y = y[1] - b.height / 2, b.x = y[0] - b.width / 2; else { var x = t.getBoxLayoutParams(); x.aspect = g, b = bn(x, { width: v, height: p }) } this.setViewRect(b.x, b.y, b.width, b.height), this.setCenter(t.get("center"), e), this.setZoom(t.get("zoom")) } function N_e(t, e) { E(e.get("geoCoord"), function (r, n) { t.addGeoCoord(n, r) }) } var $_e = function () { function t() { this.dimensions = fz } return t.prototype.create = function (e, r) { var n = []; function a(o) { return { nameProperty: o.get("nameProperty"), aspectScale: o.get("aspectScale"), projection: o.get("projection") } } e.eachComponent("geo", function (o, s) { var l = o.get("map"), u = new XO(l + s, l, he({ nameMap: o.get("nameMap") }, a(o))); u.zoomLimit = o.get("scaleLimit"), n.push(u), o.coordinateSystem = u, u.model = o, u.resize = KO, u.resize(o, r) }), e.eachSeries(function (o) { var s = o.get("coordinateSystem"); if (s === "geo") { var l = o.get("geoIndex") || 0; o.coordinateSystem = n[l] } }); var i = {}; return e.eachSeriesByType("map", function (o) { if (!o.getHostGeoModel()) { var s = o.getMapType(); i[s] = i[s] || [], i[s].push(o) } }), E(i, function (o, s) { var l = _e(o, function (c) { return c.get("nameMap") }), u = new XO(s, s, he({ nameMap: jD(l) }, a(o[0]))); u.zoomLimit = Nn.apply(null, _e(o, function (c) { return c.get("scaleLimit") })), n.push(u), u.resize = KO, u.resize(o[0], r), E(o, function (c) { c.coordinateSystem = u, N_e(u, c) }) }), n }, t.prototype.getFilledRegions = function (e, r, n, a) { for (var i = (e || []).slice(), o = He(), s = 0; s < i.length; s++)o.set(i[s].name, i[s]); var l = Ns.load(r, n, a); return E(l.regions, function (u) { var c = u.name; !o.get(c) && i.push({ name: c }) }), i }, t }(), F_e = new $_e; const dz = F_e; var B_e = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.init = function (r, n, a) { var i = Ns.getGeoResource(r.map); if (i && i.type === "geoJSON") { var o = r.itemStyle = r.itemStyle || {}; "color" in o || (o.color = "#eee") } this.mergeDefaultAndTheme(r, a), Oc(r, "label", ["show"]) }, e.prototype.optionUpdated = function () { var r = this, n = this.option; n.regions = dz.getFilledRegions(n.regions, n.map, n.nameMap, n.nameProperty); var a = {}; this._optionModelMap = Po(n.regions || [], function (i, o) { var s = o.name; return s && (i.set(s, new kr(o, r, r.ecModel)), o.selected && (a[s] = !0)), i }, He()), n.selectedMap || (n.selectedMap = a) }, e.prototype.getRegionModel = function (r) { return this._optionModelMap.get(r) || new kr(null, this, this.ecModel) }, e.prototype.getFormattedLabel = function (r, n) { var a = this.getRegionModel(r), i = n === "normal" ? a.get(["label", "formatter"]) : a.get(["emphasis", "label", "formatter"]), o = { name: r }; if (je(i)) return o.status = n, i(o); if (Oe(i)) return i.replace("{a}", r ?? "") }, e.prototype.setZoom = function (r) { this.option.zoom = r }, e.prototype.setCenter = function (r) { this.option.center = r }, e.prototype.select = function (r) { var n = this.option, a = n.selectedMode; if (a) { a !== "multiple" && (n.selectedMap = null); var i = n.selectedMap || (n.selectedMap = {}); i[r] = !0 } }, e.prototype.unSelect = function (r) { var n = this.option.selectedMap; n && (n[r] = !1) }, e.prototype.toggleSelected = function (r) { this[this.isSelected(r) ? "unSelect" : "select"](r) }, e.prototype.isSelected = function (r) { var n = this.option.selectedMap; return !!(n && n[r]) }, e.type = "geo", e.layoutMode = "box", e.defaultOption = { z: 0, show: !0, left: "center", top: "center", aspectScale: null, silent: !1, map: "", boundingCoords: null, center: null, zoom: 1, scaleLimit: null, label: { show: !1, color: "#000" }, itemStyle: { borderWidth: .5, borderColor: "#444" }, emphasis: { label: { show: !0, color: "rgb(100,0,0)" }, itemStyle: { color: "rgba(255,215,0,0.8)" } }, select: { label: { show: !0, color: "rgb(100,0,0)" }, itemStyle: { color: "rgba(255,215,0,0.8)" } }, regions: [] }, e }(Yt); const V_e = B_e; function QO(t, e) { return t.pointToProjected ? t.pointToProjected(e) : t.pointToData(e) } function aM(t, e, r, n) { var a = t.getZoom(), i = t.getCenter(), o = e.zoom, s = t.projectedToPoint ? t.projectedToPoint(i) : t.dataToPoint(i); if (e.dx != null && e.dy != null && (s[0] -= e.dx, s[1] -= e.dy, t.setCenter(QO(t, s), n)), o != null) { if (r) { var l = r.min || 0, u = r.max || 1 / 0; o = Math.max(Math.min(a * o, u), l) / a } t.scaleX *= o, t.scaleY *= o; var c = (e.originX - t.x) * (o - 1), f = (e.originY - t.y) * (o - 1); t.x -= c, t.y -= f, t.updateTransform(), t.setCenter(QO(t, s), n), t.setZoom(o * a) } return { center: t.getCenter(), zoom: t.getZoom() } } var z_e = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.focusBlurEnabled = !0, r } return e.prototype.init = function (r, n) { this._api = n }, e.prototype.render = function (r, n, a, i) { if (this._model = r, !r.get("show")) { this._mapDraw && this._mapDraw.remove(), this._mapDraw = null; return } this._mapDraw || (this._mapDraw = new cz(a)); var o = this._mapDraw; o.draw(r, n, a, this, i), o.group.on("click", this._handleRegionClick, this), o.group.silent = r.get("silent"), this.group.add(o.group), this.updateSelectStatus(r, n, a) }, e.prototype._handleRegionClick = function (r) { var n; fc(r.target, function (a) { return (n = lt(a).eventData) != null }, !0), n && this._api.dispatchAction({ type: "geoToggleSelect", geoId: this._model.id, name: n.name }) }, e.prototype.updateSelectStatus = function (r, n, a) { var i = this; this._mapDraw.group.traverse(function (o) { var s = lt(o).eventData; if (s) return i._model.isSelected(s.name) ? a.enterSelect(o) : a.leaveSelect(o), !0 }) }, e.prototype.findHighDownDispatchers = function (r) { return this._mapDraw && this._mapDraw.findHighDownDispatchers(r, this._model) }, e.prototype.dispose = function () { this._mapDraw && this._mapDraw.remove() }, e.type = "geo", e }(Kr); const H_e = z_e; function Y_e(t, e, r) { Ns.registerMap(t, e, r) } function vz(t) { t.registerCoordinateSystem("geo", dz), t.registerComponentModel(V_e), t.registerComponentView(H_e), t.registerImpl("registerMap", Y_e), t.registerImpl("getMap", function (r) { return Ns.getMapForUser(r) }); function e(r, n) { n.update = "geo:updateSelectStatus", t.registerAction(n, function (a, i) { var o = {}, s = []; return i.eachComponent({ mainType: "geo", query: a }, function (l) { l[r](a.name); var u = l.coordinateSystem; E(u.regions, function (f) { o[f.name] = l.isSelected(f.name) || !1 }); var c = []; E(o, function (f, h) { o[h] && c.push(h) }), s.push({ geoIndex: l.componentIndex, name: c }) }), { selected: o, allSelected: s, name: a.name } }) } e("toggleSelected", { type: "geoToggleSelect", event: "geoselectchanged" }), e("select", { type: "geoSelect", event: "geoselected" }), e("unSelect", { type: "geoUnSelect", event: "geounselected" }), t.registerAction({ type: "geoRoam", event: "geoRoam", update: "updateTransform" }, function (r, n, a) { var i = r.componentType || "series"; n.eachComponent({ mainType: i, query: r }, function (o) { var s = o.coordinateSystem; if (s.type === "geo") { var l = aM(s, r, o.get("scaleLimit"), a); o.setCenter && o.setCenter(l.center), o.setZoom && o.setZoom(l.zoom), i === "series" && E(o.seriesGroup, function (u) { u.setCenter(l.center), u.setZoom(l.zoom) }) } }) }) } function U_e(t) { Dt(vz), t.registerChartView(k_e), t.registerSeriesModel(L_e), t.registerLayout(R_e), t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC, P_e), T6("map", t.registerAction) } function W_e(t) { var e = t; e.hierNode = { defaultAncestor: null, ancestor: e, prelim: 0, modifier: 0, change: 0, shift: 0, i: 0, thread: null }; for (var r = [e], n, a; n = r.pop();)if (a = n.children, n.isExpand && a.length) for (var i = a.length, o = i - 1; o >= 0; o--) { var s = a[o]; s.hierNode = { defaultAncestor: null, ancestor: s, prelim: 0, modifier: 0, change: 0, shift: 0, i: o, thread: null }, r.push(s) } } function G_e(t, e) { var r = t.isExpand ? t.children : [], n = t.parentNode.children, a = t.hierNode.i ? n[t.hierNode.i - 1] : null; if (r.length) { q_e(t); var i = (r[0].hierNode.prelim + r[r.length - 1].hierNode.prelim) / 2; a ? (t.hierNode.prelim = a.hierNode.prelim + e(t, a), t.hierNode.modifier = t.hierNode.prelim - i) : t.hierNode.prelim = i } else a && (t.hierNode.prelim = a.hierNode.prelim + e(t, a)); t.parentNode.hierNode.defaultAncestor = X_e(t, a, t.parentNode.hierNode.defaultAncestor || n[0], e) } function j_e(t) { var e = t.hierNode.prelim + t.parentNode.hierNode.modifier; t.setLayout({ x: e }, !0), t.hierNode.modifier += t.parentNode.hierNode.modifier } function JO(t) { return arguments.length ? t : J_e } function uv(t, e) { return t -= Math.PI / 2, { x: e * Math.cos(t), y: e * Math.sin(t) } } function Z_e(t, e) { return bn(t.getBoxLayoutParams(), { width: e.getWidth(), height: e.getHeight() }) } function q_e(t) { for (var e = t.children, r = e.length, n = 0, a = 0; --r >= 0;) { var i = e[r]; i.hierNode.prelim += n, i.hierNode.modifier += n, a += i.hierNode.change, n += i.hierNode.shift + a } } function X_e(t, e, r, n) { if (e) { for (var a = t, i = t, o = i.parentNode.children[0], s = e, l = a.hierNode.modifier, u = i.hierNode.modifier, c = o.hierNode.modifier, f = s.hierNode.modifier; s = Kw(s), i = Qw(i), s && i;) { a = Kw(a), o = Qw(o), a.hierNode.ancestor = t; var h = s.hierNode.prelim + f - i.hierNode.prelim - u + n(s, i); h > 0 && (Q_e(K_e(s, t, r), t, h), u += h, l += h), f += s.hierNode.modifier, u += i.hierNode.modifier, l += a.hierNode.modifier, c += o.hierNode.modifier } s && !Kw(a) && (a.hierNode.thread = s, a.hierNode.modifier += f - l), i && !Qw(o) && (o.hierNode.thread = i, o.hierNode.modifier += u - c, r = t) } return r } function Kw(t) { var e = t.children; return e.length && t.isExpand ? e[e.length - 1] : t.hierNode.thread } function Qw(t) { var e = t.children; return e.length && t.isExpand ? e[0] : t.hierNode.thread } function K_e(t, e, r) { return t.hierNode.ancestor.parentNode === e.parentNode ? t.hierNode.ancestor : r } function Q_e(t, e, r) { var n = r / (e.hierNode.i - t.hierNode.i); e.hierNode.change -= n, e.hierNode.shift += r, e.hierNode.modifier += r, e.hierNode.prelim += r, t.hierNode.change += n } function J_e(t, e) { return t.parentNode === e.parentNode ? 1 : 2 } var e1e = function () { function t() { this.parentPoint = [], this.childPoints = [] } return t }(), t1e = function (t) { ae(e, t); function e(r) { return t.call(this, r) || this } return e.prototype.getDefaultStyle = function () { return { stroke: "#000", fill: null } }, e.prototype.getDefaultShape = function () { return new e1e }, e.prototype.buildPath = function (r, n) { var a = n.childPoints, i = a.length, o = n.parentPoint, s = a[0], l = a[i - 1]; if (i === 1) { r.moveTo(o[0], o[1]), r.lineTo(s[0], s[1]); return } var u = n.orient, c = u === "TB" || u === "BT" ? 0 : 1, f = 1 - c, h = Ae(n.forkPosition, 1), d = []; d[c] = o[c], d[f] = o[f] + (l[f] - o[f]) * h, r.moveTo(o[0], o[1]), r.lineTo(d[0], d[1]), r.moveTo(s[0], s[1]), d[c] = s[c], r.lineTo(d[0], d[1]), d[c] = l[c], r.lineTo(d[0], d[1]), r.lineTo(l[0], l[1]); for (var v = 1; v < i - 1; v++) { var p = a[v]; r.moveTo(p[0], p[1]), d[c] = p[c], r.lineTo(d[0], d[1]) } }, e }(At), r1e = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r._mainGroup = new it, r } return e.prototype.init = function (r, n) { this._controller = new pg(n.getZr()), this._controllerHost = { target: this.group }, this.group.add(this._mainGroup) }, e.prototype.render = function (r, n, a) { var i = r.getData(), o = r.layoutInfo, s = this._mainGroup, l = r.get("layout"); l === "radial" ? (s.x = o.x + o.width / 2, s.y = o.y + o.height / 2) : (s.x = o.x, s.y = o.y), this._updateViewCoordSys(r, a), this._updateController(r, n, a); var u = this._data; i.diff(u).add(function (c) { eE(i, c) && tE(i, c, null, s, r) }).update(function (c, f) { var h = u.getItemGraphicEl(f); if (!eE(i, c)) { h && nE(u, f, h, s, r); return } tE(i, c, h, s, r) }).remove(function (c) { var f = u.getItemGraphicEl(c); f && nE(u, c, f, s, r) }).execute(), this._nodeScaleRatio = r.get("nodeScaleRatio"), this._updateNodeAndLinkScale(r), r.get("expandAndCollapse") === !0 && i.eachItemGraphicEl(function (c, f) { c.off("click").on("click", function () { a.dispatchAction({ type: "treeExpandAndCollapse", seriesId: r.id, dataIndex: f }) }) }), this._data = i }, e.prototype._updateViewCoordSys = function (r, n) { var a = r.getData(), i = []; a.each(function (f) { var h = a.getItemLayout(f); h && !isNaN(h.x) && !isNaN(h.y) && i.push([+h.x, +h.y]) }); var o = [], s = []; q_(i, o, s); var l = this._min, u = this._max; s[0] - o[0] === 0 && (o[0] = l ? l[0] : o[0] - 1, s[0] = u ? u[0] : s[0] + 1), s[1] - o[1] === 0 && (o[1] = l ? l[1] : o[1] - 1, s[1] = u ? u[1] : s[1] + 1); var c = r.coordinateSystem = new gg; c.zoomLimit = r.get("scaleLimit"), c.setBoundingRect(o[0], o[1], s[0] - o[0], s[1] - o[1]), c.setCenter(r.get("center"), n), c.setZoom(r.get("zoom")), this.group.attr({ x: c.x, y: c.y, scaleX: c.scaleX, scaleY: c.scaleY }), this._min = o, this._max = s }, e.prototype._updateController = function (r, n, a) { var i = this, o = this._controller, s = this._controllerHost, l = this.group; o.setPointerChecker(function (u, c, f) { var h = l.getBoundingRect(); return h.applyTransform(l.transform), h.contain(c, f) && !y1(u, a, r) }), o.enable(r.get("roam")), s.zoomLimit = r.get("scaleLimit"), s.zoom = r.coordinateSystem.getZoom(), o.off("pan").off("zoom").on("pan", function (u) { tM(s, u.dx, u.dy), a.dispatchAction({ seriesId: r.id, type: "treeRoam", dx: u.dx, dy: u.dy }) }).on("zoom", function (u) { rM(s, u.scale, u.originX, u.originY), a.dispatchAction({ seriesId: r.id, type: "treeRoam", zoom: u.scale, originX: u.originX, originY: u.originY }), i._updateNodeAndLinkScale(r), a.updateLabelLayout() }) }, e.prototype._updateNodeAndLinkScale = function (r) { var n = r.getData(), a = this._getNodeGlobalScale(r); n.eachItemGraphicEl(function (i, o) { i.setSymbolScale(a) }) }, e.prototype._getNodeGlobalScale = function (r) { var n = r.coordinateSystem; if (n.type !== "view") return 1; var a = this._nodeScaleRatio, i = n.scaleX || 1, o = n.getZoom(), s = (o - 1) * a + 1; return s / i }, e.prototype.dispose = function () { this._controller && this._controller.dispose(), this._controllerHost = null }, e.prototype.remove = function () { this._mainGroup.removeAll(), this._data = null }, e.type = "tree", e }(Ar); function eE(t, e) { var r = t.getItemLayout(e); return r && !isNaN(r.x) && !isNaN(r.y) } function tE(t, e, r, n, a) { var i = !r, o = t.tree.getNodeByDataIndex(e), s = o.getModel(), l = o.getVisual("style").fill, u = o.isExpand === !1 && o.children.length !== 0 ? l : "#fff", c = t.tree.root, f = o.parentNode === c ? o : o.parentNode || o, h = t.getItemGraphicEl(f.dataIndex), d = f.getLayout(), v = h ? { x: h.__oldX, y: h.__oldY, rawX: h.__radialOldRawX, rawY: h.__radialOldRawY } : d, p = o.getLayout(); i ? (r = new cg(t, e, null, { symbolInnerColor: u, useNameLabel: !0 }), r.x = v.x, r.y = v.y) : r.updateData(t, e, null, { symbolInnerColor: u, useNameLabel: !0 }), r.__radialOldRawX = r.__radialRawX, r.__radialOldRawY = r.__radialRawY, r.__radialRawX = p.rawX, r.__radialRawY = p.rawY, n.add(r), t.setItemGraphicEl(e, r), r.__oldX = r.x, r.__oldY = r.y, jt(r, { x: p.x, y: p.y }, a); var g = r.getSymbolPath(); if (a.get("layout") === "radial") { var m = c.children[0], y = m.getLayout(), _ = m.children.length, b = void 0, x = void 0; if (p.x === y.x && o.isExpand === !0 && m.children.length) { var S = { x: (m.children[0].getLayout().x + m.children[_ - 1].getLayout().x) / 2, y: (m.children[0].getLayout().y + m.children[_ - 1].getLayout().y) / 2 }; b = Math.atan2(S.y - y.y, S.x - y.x), b < 0 && (b = Math.PI * 2 + b), x = S.x < y.x, x && (b = b - Math.PI) } else b = Math.atan2(p.y - y.y, p.x - y.x), b < 0 && (b = Math.PI * 2 + b), o.children.length === 0 || o.children.length !== 0 && o.isExpand === !1 ? (x = p.x < y.x, x && (b = b - Math.PI)) : (x = p.x > y.x, x || (b = b - Math.PI)); var T = x ? "left" : "right", C = s.getModel("label"), M = C.get("rotate"), k = M * (Math.PI / 180), A = g.getTextContent(); A && (g.setTextConfig({ position: C.get("position") || T, rotation: M == null ? -b : k, origin: "center" }), A.setStyle("verticalAlign", "middle")) } var R = s.get(["emphasis", "focus"]), N = R === "relative" ? Ky(o.getAncestorsIndices(), o.getDescendantIndices()) : R === "ancestor" ? o.getAncestorsIndices() : R === "descendant" ? o.getDescendantIndices() : null; N && (lt(r).focus = N), n1e(a, o, c, r, v, d, p, n), r.__edge && (r.onHoverStateChange = function (z) { if (z !== "blur") { var F = o.parentNode && t.getItemGraphicEl(o.parentNode.dataIndex); F && F.hoverState === Jp || s0(r.__edge, z) } }) } function n1e(t, e, r, n, a, i, o, s) { var l = e.getModel(), u = t.get("edgeShape"), c = t.get("layout"), f = t.getOrient(), h = t.get(["lineStyle", "curveness"]), d = t.get("edgeForkPosition"), v = l.getModel("lineStyle").getLineStyle(), p = n.__edge; if (u === "curve") e.parentNode && e.parentNode !== r && (p || (p = n.__edge = new J_({ shape: t2(c, f, h, a, a) })), jt(p, { shape: t2(c, f, h, i, o) }, t)); else if (u === "polyline" && c === "orthogonal" && e !== r && e.children && e.children.length !== 0 && e.isExpand === !0) { for (var g = e.children, m = [], y = 0; y < g.length; y++) { var _ = g[y].getLayout(); m.push([_.x, _.y]) } p || (p = n.__edge = new t1e({ shape: { parentPoint: [o.x, o.y], childPoints: [[o.x, o.y]], orient: f, forkPosition: d } })), jt(p, { shape: { parentPoint: [o.x, o.y], childPoints: m } }, t) } p && !(u === "polyline" && !e.isExpand) && (p.useStyle(Xe({ strokeNoScale: !0, fill: null }, v)), Un(p, l, "lineStyle"), $c(p), s.add(p)) } function rE(t, e, r, n, a) { var i = e.tree.root, o = pz(i, t), s = o.source, l = o.sourceLayout, u = e.getItemGraphicEl(t.dataIndex); if (u) { var c = e.getItemGraphicEl(s.dataIndex), f = c.__edge, h = u.__edge || (s.isExpand === !1 || s.children.length === 1 ? f : void 0), d = n.get("edgeShape"), v = n.get("layout"), p = n.get("orient"), g = n.get(["lineStyle", "curveness"]); h && (d === "curve" ? Kl(h, { shape: t2(v, p, g, l, l), style: { opacity: 0 } }, n, { cb: function () { r.remove(h) }, removeOpt: a }) : d === "polyline" && n.get("layout") === "orthogonal" && Kl(h, { shape: { parentPoint: [l.x, l.y], childPoints: [[l.x, l.y]] }, style: { opacity: 0 } }, n, { cb: function () { r.remove(h) }, removeOpt: a })) } } function pz(t, e) { for (var r = e.parentNode === t ? e : e.parentNode || e, n; n = r.getLayout(), n == null;)r = r.parentNode === t ? r : r.parentNode || r; return { source: r, sourceLayout: n } } function nE(t, e, r, n, a) { var i = t.tree.getNodeByDataIndex(e), o = t.tree.root, s = pz(o, i).sourceLayout, l = { duration: a.get("animationDurationUpdate"), easing: a.get("animationEasingUpdate") }; Kl(r, { x: s.x + 1, y: s.y + 1 }, a, { cb: function () { n.remove(r), t.setItemGraphicEl(e, null) }, removeOpt: l }), r.fadeOut(null, t.hostModel, { fadeLabel: !0, animation: l }), i.children.forEach(function (u) { rE(u, t, n, a, l) }), rE(i, t, n, a, l) } function t2(t, e, r, n, a) { var i, o, s, l, u, c, f, h; if (t === "radial") { u = n.rawX, f = n.rawY, c = a.rawX, h = a.rawY; var d = uv(u, f), v = uv(u, f + (h - f) * r), p = uv(c, h + (f - h) * r), g = uv(c, h); return { x1: d.x || 0, y1: d.y || 0, x2: g.x || 0, y2: g.y || 0, cpx1: v.x || 0, cpy1: v.y || 0, cpx2: p.x || 0, cpy2: p.y || 0 } } else u = n.x, f = n.y, c = a.x, h = a.y, (e === "LR" || e === "RL") && (i = u + (c - u) * r, o = f, s = c + (u - c) * r, l = h), (e === "TB" || e === "BT") && (i = u, o = f + (h - f) * r, s = c, l = h + (f - h) * r); return { x1: u, y1: f, x2: c, y2: h, cpx1: i, cpy1: o, cpx2: s, cpy2: l } } const a1e = r1e; var mi = zt(); function gz(t) { var e = t.mainData, r = t.datas; r || (r = { main: e }, t.datasAttr = { main: "data" }), t.datas = t.mainData = null, mz(e, r, t), E(r, function (n) { E(e.TRANSFERABLE_METHODS, function (a) { n.wrapMethod(a, ut(i1e, t)) }) }), e.wrapMethod("cloneShallow", ut(s1e, t)), E(e.CHANGABLE_METHODS, function (n) { e.wrapMethod(n, ut(o1e, t)) }), ya(r[e.dataType] === e) } function i1e(t, e) { if (c1e(this)) { var r = he({}, mi(this).datas); r[this.dataType] = e, mz(e, r, t) } else iM(e, this.dataType, mi(this).mainData, t); return e } function o1e(t, e) { return t.struct && t.struct.update(), e } function s1e(t, e) { return E(mi(e).datas, function (r, n) { r !== e && iM(r.cloneShallow(), n, e, t) }), e } function l1e(t) { var e = mi(this).mainData; return t == null || e == null ? e : mi(e).datas[t] } function u1e() { var t = mi(this).mainData; return t == null ? [{ data: t }] : _e(Nt(mi(t).datas), function (e) { return { type: e, data: mi(t).datas[e] } }) } function c1e(t) { return mi(t).mainData === t } function mz(t, e, r) { mi(t).datas = {}, E(e, function (n, a) { iM(n, a, t, r) }) } function iM(t, e, r, n) { mi(r).datas[e] = t, mi(t).mainData = r, t.dataType = e, n.struct && (t[n.structAttr] = n.struct, n.struct[n.datasAttr[e]] = t), t.getLinkedData = l1e, t.getLinkedDataAll = u1e } var f1e = function () { function t(e, r) { this.depth = 0, this.height = 0, this.dataIndex = -1, this.children = [], this.viewChildren = [], this.isExpand = !1, this.name = e || "", this.hostTree = r } return t.prototype.isRemoved = function () { return this.dataIndex < 0 }, t.prototype.eachNode = function (e, r, n) { je(e) && (n = r, r = e, e = null), e = e || {}, Oe(e) && (e = { order: e }); var a = e.order || "preorder", i = this[e.attr || "children"], o; a === "preorder" && (o = r.call(n, this)); for (var s = 0; !o && s < i.length; s++)i[s].eachNode(e, r, n); a === "postorder" && r.call(n, this) }, t.prototype.updateDepthAndHeight = function (e) { var r = 0; this.depth = e; for (var n = 0; n < this.children.length; n++) { var a = this.children[n]; a.updateDepthAndHeight(e + 1), a.height > r && (r = a.height) } this.height = r + 1 }, t.prototype.getNodeById = function (e) { if (this.getId() === e) return this; for (var r = 0, n = this.children, a = n.length; r < a; r++) { var i = n[r].getNodeById(e); if (i) return i } }, t.prototype.contains = function (e) { if (e === this) return !0; for (var r = 0, n = this.children, a = n.length; r < a; r++) { var i = n[r].contains(e); if (i) return i } }, t.prototype.getAncestors = function (e) { for (var r = [], n = e ? this : this.parentNode; n;)r.push(n), n = n.parentNode; return r.reverse(), r }, t.prototype.getAncestorsIndices = function () { for (var e = [], r = this; r;)e.push(r.dataIndex), r = r.parentNode; return e.reverse(), e }, t.prototype.getDescendantIndices = function () { var e = []; return this.eachNode(function (r) { e.push(r.dataIndex) }), e }, t.prototype.getValue = function (e) { var r = this.hostTree.data; return r.getStore().get(r.getDimensionIndex(e || "value"), this.dataIndex) }, t.prototype.setLayout = function (e, r) { this.dataIndex >= 0 && this.hostTree.data.setItemLayout(this.dataIndex, e, r) }, t.prototype.getLayout = function () { return this.hostTree.data.getItemLayout(this.dataIndex) }, t.prototype.getModel = function (e) { if (!(this.dataIndex < 0)) { var r = this.hostTree, n = r.data.getItemModel(this.dataIndex); return n.getModel(e) } }, t.prototype.getLevelModel = function () { return (this.hostTree.levelModels || [])[this.depth] }, t.prototype.setVisual = function (e, r) { this.dataIndex >= 0 && this.hostTree.data.setItemVisual(this.dataIndex, e, r) }, t.prototype.getVisual = function (e) { return this.hostTree.data.getItemVisual(this.dataIndex, e) }, t.prototype.getRawIndex = function () { return this.hostTree.data.getRawIndex(this.dataIndex) }, t.prototype.getId = function () { return this.hostTree.data.getId(this.dataIndex) }, t.prototype.getChildIndex = function () { if (this.parentNode) { for (var e = this.parentNode.children, r = 0; r < e.length; ++r)if (e[r] === this) return r; return -1 } return -1 }, t.prototype.isAncestorOf = function (e) { for (var r = e.parentNode; r;) { if (r === this) return !0; r = r.parentNode } return !1 }, t.prototype.isDescendantOf = function (e) { return e !== this && e.isAncestorOf(this) }, t }(), h1e = function () { function t(e) { this.type = "tree", this._nodes = [], this.hostModel = e } return t.prototype.eachNode = function (e, r, n) { this.root.eachNode(e, r, n) }, t.prototype.getNodeByDataIndex = function (e) { var r = this.data.getRawIndex(e); return this._nodes[r] }, t.prototype.getNodeById = function (e) { return this.root.getNodeById(e) }, t.prototype.update = function () { for (var e = this.data, r = this._nodes, n = 0, a = r.length; n < a; n++)r[n].dataIndex = -1; for (var n = 0, a = e.count(); n < a; n++)r[e.getRawIndex(n)].dataIndex = n }, t.prototype.clearLayouts = function () { this.data.clearItemLayouts() }, t.createTree = function (e, r, n) { var a = new t(r), i = [], o = 1; s(e); function s(c, f) { var h = c.value; o = Math.max(o, me(h) ? h.length : 1), i.push(c); var d = new f1e(yn(c.name, ""), a); f ? d1e(d, f) : a.root = d, a._nodes.push(d); var v = c.children; if (v) for (var p = 0; p < v.length; p++)s(v[p], d) } a.root.updateDepthAndHeight(0); var l = sg(i, { coordDimensions: ["value"], dimensionsCount: o }).dimensions, u = new ma(l, r); return u.initData(i), n && n(u), gz({ mainData: u, struct: a, structAttr: "tree" }), a.update(), a }, t }(); function d1e(t, e) { var r = e.children; t.parentNode !== e && (r.push(t), t.parentNode = e) } const oM = h1e; function xp(t, e, r) { if (t && Ct(e, t.type) >= 0) { var n = r.getData().tree.root, a = t.targetNode; if (Oe(a) && (a = n.getNodeById(a)), a && n.contains(a)) return { node: a }; var i = t.targetNodeId; if (i != null && (a = n.getNodeById(i))) return { node: a } } } function yz(t) { for (var e = []; t;)t = t.parentNode, t && e.push(t); return e.reverse() } function sM(t, e) { var r = yz(t); return Ct(r, e) >= 0 } function b1(t, e) { for (var r = []; t;) { var n = t.dataIndex; r.push({ name: t.name, dataIndex: n, value: e.getRawValue(n) }), t = t.parentNode } return r.reverse(), r } var v1e = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.hasSymbolVisual = !0, r.ignoreStyleOnData = !0, r } return e.prototype.getInitialData = function (r) { var n = { name: r.name, children: r.data }, a = r.leaves || {}, i = new kr(a, this, this.ecModel), o = oM.createTree(n, this, s); function s(f) { f.wrapMethod("getItemModel", function (h, d) { var v = o.getNodeByDataIndex(d); return v && v.children.length && v.isExpand || (h.parentModel = i), h }) } var l = 0; o.eachNode("preorder", function (f) { f.depth > l && (l = f.depth) }); var u = r.expandAndCollapse, c = u && r.initialTreeDepth >= 0 ? r.initialTreeDepth : l; return o.root.eachNode("preorder", function (f) { var h = f.hostTree.data.getRawDataItem(f.dataIndex); f.isExpand = h && h.collapsed != null ? !h.collapsed : f.depth <= c }), o.data }, e.prototype.getOrient = function () { var r = this.get("orient"); return r === "horizontal" ? r = "LR" : r === "vertical" && (r = "TB"), r }, e.prototype.setZoom = function (r) { this.option.zoom = r }, e.prototype.setCenter = function (r) { this.option.center = r }, e.prototype.formatTooltip = function (r, n, a) { for (var i = this.getData().tree, o = i.root.children[0], s = i.getNodeByDataIndex(r), l = s.getValue(), u = s.name; s && s !== o;)u = s.parentNode.name + "." + u, s = s.parentNode; return Rn("nameValue", { name: u, value: l, noValue: isNaN(l) || l == null }) }, e.prototype.getDataParams = function (r) { var n = t.prototype.getDataParams.apply(this, arguments), a = this.getData().tree.getNodeByDataIndex(r); return n.treeAncestors = b1(a, this), n.collapsed = !a.isExpand, n }, e.type = "series.tree", e.layoutMode = "box", e.defaultOption = { z: 2, coordinateSystem: "view", left: "12%", top: "12%", right: "12%", bottom: "12%", layout: "orthogonal", edgeShape: "curve", edgeForkPosition: "50%", roam: !1, nodeScaleRatio: .4, center: null, zoom: 1, orient: "LR", symbol: "emptyCircle", symbolSize: 7, expandAndCollapse: !0, initialTreeDepth: 2, lineStyle: { color: "#ccc", width: 1.5, curveness: .5 }, itemStyle: { color: "lightsteelblue", borderWidth: 1.5 }, label: { show: !0 }, animationEasing: "linear", animationDuration: 700, animationDurationUpdate: 500 }, e }($r); const p1e = v1e; function g1e(t, e, r) { for (var n = [t], a = [], i; i = n.pop();)if (a.push(i), i.isExpand) { var o = i.children; if (o.length) for (var s = 0; s < o.length; s++)n.push(o[s]) } for (; i = a.pop();)e(i, r) } function zd(t, e) { for (var r = [t], n; n = r.pop();)if (e(n), n.isExpand) { var a = n.children; if (a.length) for (var i = a.length - 1; i >= 0; i--)r.push(a[i]) } } function m1e(t, e) { t.eachSeriesByType("tree", function (r) { y1e(r, e) }) } function y1e(t, e) { var r = Z_e(t, e); t.layoutInfo = r; var n = t.get("layout"), a = 0, i = 0, o = null; n === "radial" ? (a = 2 * Math.PI, i = Math.min(r.height, r.width) / 2, o = JO(function (_, b) { return (_.parentNode === b.parentNode ? 1 : 2) / _.depth })) : (a = r.width, i = r.height, o = JO()); var s = t.getData().tree.root, l = s.children[0]; if (l) { W_e(s), g1e(l, G_e, o), s.hierNode.modifier = -l.hierNode.prelim, zd(l, j_e); var u = l, c = l, f = l; zd(l, function (_) { var b = _.getLayout().x; b < u.getLayout().x && (u = _), b > c.getLayout().x && (c = _), _.depth > f.depth && (f = _) }); var h = u === c ? 1 : o(u, c) / 2, d = h - u.getLayout().x, v = 0, p = 0, g = 0, m = 0; if (n === "radial") v = a / (c.getLayout().x + h + d), p = i / (f.depth - 1 || 1), zd(l, function (_) { g = (_.getLayout().x + d) * v, m = (_.depth - 1) * p; var b = uv(g, m); _.setLayout({ x: b.x, y: b.y, rawX: g, rawY: m }, !0) }); else { var y = t.getOrient(); y === "RL" || y === "LR" ? (p = i / (c.getLayout().x + h + d), v = a / (f.depth - 1 || 1), zd(l, function (_) { m = (_.getLayout().x + d) * p, g = y === "LR" ? (_.depth - 1) * v : a - (_.depth - 1) * v, _.setLayout({ x: g, y: m }, !0) })) : (y === "TB" || y === "BT") && (v = a / (c.getLayout().x + h + d), p = i / (f.depth - 1 || 1), zd(l, function (_) { g = (_.getLayout().x + d) * v, m = y === "TB" ? (_.depth - 1) * p : i - (_.depth - 1) * p, _.setLayout({ x: g, y: m }, !0) })) } } } function _1e(t) { t.eachSeriesByType("tree", function (e) { var r = e.getData(), n = r.tree; n.eachNode(function (a) { var i = a.getModel(), o = i.getModel("itemStyle").getItemStyle(), s = r.ensureUniqueItemVisual(a.dataIndex, "style"); he(s, o) }) }) } function b1e(t) { t.registerAction({ type: "treeExpandAndCollapse", event: "treeExpandAndCollapse", update: "update" }, function (e, r) { r.eachComponent({ mainType: "series", subType: "tree", query: e }, function (n) { var a = e.dataIndex, i = n.getData().tree, o = i.getNodeByDataIndex(a); o.isExpand = !o.isExpand }) }), t.registerAction({ type: "treeRoam", event: "treeRoam", update: "none" }, function (e, r, n) { r.eachComponent({ mainType: "series", subType: "tree", query: e }, function (a) { var i = a.coordinateSystem, o = aM(i, e, void 0, n); a.setCenter && a.setCenter(o.center), a.setZoom && a.setZoom(o.zoom) }) }) } function w1e(t) { t.registerChartView(a1e), t.registerSeriesModel(p1e), t.registerLayout(m1e), t.registerVisual(_1e), b1e(t) } var aE = ["treemapZoomToNode", "treemapRender", "treemapMove"]; function S1e(t) { for (var e = 0; e < aE.length; e++)t.registerAction({ type: aE[e], update: "updateView" }, nn); t.registerAction({ type: "treemapRootToNode", update: "updateView" }, function (r, n) { n.eachComponent({ mainType: "series", subType: "treemap", query: r }, a); function a(i, o) { var s = ["treemapZoomToNode", "treemapRootToNode"], l = xp(r, s, i); if (l) { var u = i.getViewRoot(); u && (r.direction = sM(u, l.node) ? "rollUp" : "drillDown"), i.resetViewRoot(l.node) } } }) } function _z(t) { var e = t.getData(), r = e.tree, n = {}; r.eachNode(function (a) { for (var i = a; i && i.depth > 1;)i = i.parentNode; var o = RT(t.ecModel, i.name || i.dataIndex + "", n); a.setVisual("decal", o) }) } var x1e = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.preventUsingHoverLayer = !0, r } return e.prototype.getInitialData = function (r, n) { var a = { name: r.name, children: r.data }; bz(a); var i = r.levels || [], o = this.designatedVisualItemStyle = {}, s = new kr({ itemStyle: o }, this, n); i = r.levels = T1e(i, n); var l = _e(i || [], function (f) { return new kr(f, s, n) }, this), u = oM.createTree(a, this, c); function c(f) { f.wrapMethod("getItemModel", function (h, d) { var v = u.getNodeByDataIndex(d), p = v ? l[v.depth] : null; return h.parentModel = p || s, h }) } return u.data }, e.prototype.optionUpdated = function () { this.resetViewRoot() }, e.prototype.formatTooltip = function (r, n, a) { var i = this.getData(), o = this.getRawValue(r), s = i.getName(r); return Rn("nameValue", { name: s, value: o }) }, e.prototype.getDataParams = function (r) { var n = t.prototype.getDataParams.apply(this, arguments), a = this.getData().tree.getNodeByDataIndex(r); return n.treeAncestors = b1(a, this), n.treePathInfo = n.treeAncestors, n }, e.prototype.setLayoutInfo = function (r) { this.layoutInfo = this.layoutInfo || {}, he(this.layoutInfo, r) }, e.prototype.mapIdToIndex = function (r) { var n = this._idIndexMap; n || (n = this._idIndexMap = He(), this._idIndexMapCount = 0); var a = n.get(r); return a == null && n.set(r, a = this._idIndexMapCount++), a }, e.prototype.getViewRoot = function () { return this._viewRoot }, e.prototype.resetViewRoot = function (r) { r ? this._viewRoot = r : r = this._viewRoot; var n = this.getRawData().tree.root; (!r || r !== n && !n.contains(r)) && (this._viewRoot = n) }, e.prototype.enableAriaDecal = function () { _z(this) }, e.type = "series.treemap", e.layoutMode = "box", e.defaultOption = { progressive: 0, left: "center", top: "middle", width: "80%", height: "80%", sort: !0, clipWindow: "origin", squareRatio: .5 * (1 + Math.sqrt(5)), leafDepth: null, drillDownIcon: "▶", zoomToNodeRatio: .32 * .32, roam: !0, nodeClick: "zoomToNode", animation: !0, animationDurationUpdate: 900, animationEasing: "quinticInOut", breadcrumb: { show: !0, height: 22, left: "center", top: "bottom", emptyItemWidth: 25, itemStyle: { color: "rgba(0,0,0,0.7)", textStyle: { color: "#fff" } }, emphasis: { itemStyle: { color: "rgba(0,0,0,0.9)" } } }, label: { show: !0, distance: 0, padding: 5, position: "inside", color: "#fff", overflow: "truncate" }, upperLabel: { show: !1, position: [0, "50%"], height: 20, overflow: "truncate", verticalAlign: "middle" }, itemStyle: { color: null, colorAlpha: null, colorSaturation: null, borderWidth: 0, gapWidth: 0, borderColor: "#fff", borderColorSaturation: null }, emphasis: { upperLabel: { show: !0, position: [0, "50%"], overflow: "truncate", verticalAlign: "middle" } }, visualDimension: 0, visualMin: null, visualMax: null, color: [], colorAlpha: null, colorSaturation: null, colorMappingBy: "index", visibleMin: 10, childrenVisibleMin: null, levels: [] }, e }($r); function bz(t) { var e = 0; E(t.children, function (n) { bz(n); var a = n.value; me(a) && (a = a[0]), e += a }); var r = t.value; me(r) && (r = r[0]), (r == null || isNaN(r)) && (r = e), r < 0 && (r = 0), me(t.value) ? t.value[0] = r : t.value = r } function T1e(t, e) { var r = mr(e.get("color")), n = mr(e.get(["aria", "decal", "decals"])); if (r) { t = t || []; var a, i; E(t, function (s) { var l = new kr(s), u = l.get("color"), c = l.get("decal"); (l.get(["itemStyle", "color"]) || u && u !== "none") && (a = !0), (l.get(["itemStyle", "decal"]) || c && c !== "none") && (i = !0) }); var o = t[0] || (t[0] = {}); return a || (o.color = r.slice()), !i && n && (o.decal = n.slice()), t } } const D1e = x1e; var C1e = 8, iE = 8, Jw = 5, M1e = function () { function t(e) { this.group = new it, e.add(this.group) } return t.prototype.render = function (e, r, n, a) { var i = e.getModel("breadcrumb"), o = this.group; if (o.removeAll(), !(!i.get("show") || !n)) { var s = i.getModel("itemStyle"), l = i.getModel("emphasis"), u = s.getModel("textStyle"), c = l.getModel(["itemStyle", "textStyle"]), f = { pos: { left: i.get("left"), right: i.get("right"), top: i.get("top"), bottom: i.get("bottom") }, box: { width: r.getWidth(), height: r.getHeight() }, emptyItemWidth: i.get("emptyItemWidth"), totalWidth: 0, renderList: [] }; this._prepare(n, f, u), this._renderContent(e, f, s, l, u, c, a), l1(o, f.pos, f.box) } }, t.prototype._prepare = function (e, r, n) { for (var a = e; a; a = a.parentNode) { var i = yn(a.getModel().get("name"), ""), o = n.getTextRect(i), s = Math.max(o.width + C1e * 2, r.emptyItemWidth); r.totalWidth += s + iE, r.renderList.push({ node: a, text: i, width: s }) } }, t.prototype._renderContent = function (e, r, n, a, i, o, s) { for (var l = 0, u = r.emptyItemWidth, c = e.get(["breadcrumb", "height"]), f = Ade(r.pos, r.box), h = r.totalWidth, d = r.renderList, v = a.getModel("itemStyle").getItemStyle(), p = d.length - 1; p >= 0; p--) { var g = d[p], m = g.node, y = g.width, _ = g.text; h > f.width && (h -= y - u, y = u, _ = null); var b = new Ea({ shape: { points: k1e(l, 0, y, c, p === d.length - 1, p === 0) }, style: Xe(n.getItemStyle(), { lineJoin: "bevel" }), textContent: new Wt({ style: Mr(i, { text: _ }) }), textConfig: { position: "inside" }, z2: Yh * 1e4, onclick: ut(s, m) }); b.disableLabelAnimation = !0, b.getTextContent().ensureState("emphasis").style = Mr(o, { text: _ }), b.ensureState("emphasis").style = v, Xr(b, a.get("focus"), a.get("blurScope"), a.get("disabled")), this.group.add(b), A1e(b, e, m), l += y + iE } }, t.prototype.remove = function () { this.group.removeAll() }, t }(); function k1e(t, e, r, n, a, i) { var o = [[a ? t : t - Jw, e], [t + r, e], [t + r, e + n], [a ? t : t - Jw, e + n]]; return !i && o.splice(2, 0, [t + r + Jw, e + n / 2]), !a && o.push([t, e + n / 2]), o } function A1e(t, e, r) { lt(t).eventData = { componentType: "series", componentSubType: "treemap", componentIndex: e.componentIndex, seriesIndex: e.seriesIndex, seriesName: e.name, seriesType: "treemap", selfType: "breadcrumb", nodeData: { dataIndex: r && r.dataIndex, name: r && r.name }, treePathInfo: r && b1(r, e) } } const L1e = M1e; var I1e = function () { function t() { this._storage = [], this._elExistsMap = {} } return t.prototype.add = function (e, r, n, a, i) { return this._elExistsMap[e.id] ? !1 : (this._elExistsMap[e.id] = !0, this._storage.push({ el: e, target: r, duration: n, delay: a, easing: i }), !0) }, t.prototype.finished = function (e) { return this._finishedCallback = e, this }, t.prototype.start = function () { for (var e = this, r = this._storage.length, n = function () { r--, r <= 0 && (e._storage.length = 0, e._elExistsMap = {}, e._finishedCallback && e._finishedCallback()) }, a = 0, i = this._storage.length; a < i; a++) { var o = this._storage[a]; o.el.animateTo(o.target, { duration: o.duration, delay: o.delay, easing: o.easing, setToFinal: !0, done: n, aborted: n }) } return this }, t }(); function P1e() { return new I1e } var r2 = it, oE = Bt, sE = 3, lE = "label", uE = "upperLabel", R1e = Yh * 10, O1e = Yh * 2, E1e = Yh * 3, ju = Nc([["fill", "color"], ["stroke", "strokeColor"], ["lineWidth", "strokeWidth"], ["shadowBlur"], ["shadowOffsetX"], ["shadowOffsetY"], ["shadowColor"]]), cE = function (t) { var e = ju(t); return e.stroke = e.fill = e.lineWidth = null, e }, A0 = zt(), N1e = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r._state = "ready", r._storage = Hd(), r } return e.prototype.render = function (r, n, a, i) { var o = n.findComponents({ mainType: "series", subType: "treemap", query: i }); if (!(Ct(o, r) < 0)) { this.seriesModel = r, this.api = a, this.ecModel = n; var s = ["treemapZoomToNode", "treemapRootToNode"], l = xp(i, s, r), u = i && i.type, c = r.layoutInfo, f = !this._oldTree, h = this._storage, d = u === "treemapRootToNode" && l && h ? { rootNodeGroup: h.nodeGroup[l.node.getRawIndex()], direction: i.direction } : null, v = this._giveContainerGroup(c), p = r.get("animation"), g = this._doRender(v, r, d); p && !f && (!u || u === "treemapZoomToNode" || u === "treemapRootToNode") ? this._doAnimation(v, g, r, d) : g.renderFinally(), this._resetController(a), this._renderBreadcrumb(r, a, l) } }, e.prototype._giveContainerGroup = function (r) { var n = this._containerGroup; return n || (n = this._containerGroup = new r2, this._initEvents(n), this.group.add(n)), n.x = r.x, n.y = r.y, n }, e.prototype._doRender = function (r, n, a) { var i = n.getData().tree, o = this._oldTree, s = Hd(), l = Hd(), u = this._storage, c = []; function f(g, m, y, _) { return $1e(n, l, u, a, s, c, g, m, y, _) } d(i.root ? [i.root] : [], o && o.root ? [o.root] : [], r, i === o || !o, 0); var h = v(u); return this._oldTree = i, this._storage = l, { lastsForAnimation: s, willDeleteEls: h, renderFinally: p }; function d(g, m, y, _, b) { _ ? (m = g, E(g, function (T, C) { !T.isRemoved() && S(C, C) })) : new Os(m, g, x, x).add(S).update(S).remove(ut(S, null)).execute(); function x(T) { return T.getId() } function S(T, C) { var M = T != null ? g[T] : null, k = C != null ? m[C] : null, A = f(M, k, y, b); A && d(M && M.viewChildren || [], k && k.viewChildren || [], A, _, b + 1) } } function v(g) { var m = Hd(); return g && E(g, function (y, _) { var b = m[_]; E(y, function (x) { x && (b.push(x), A0(x).willDelete = !0) }) }), m } function p() { E(h, function (g) { E(g, function (m) { m.parent && m.parent.remove(m) }) }), E(c, function (g) { g.invisible = !0, g.dirty() }) } }, e.prototype._doAnimation = function (r, n, a, i) { var o = a.get("animationDurationUpdate"), s = a.get("animationEasing"), l = (je(o) ? 0 : o) || 0, u = (je(s) ? null : s) || "cubicOut", c = P1e(); E(n.willDeleteEls, function (f, h) { E(f, function (d, v) { if (!d.invisible) { var p = d.parent, g, m = A0(p); if (i && i.direction === "drillDown") g = p === i.rootNodeGroup ? { shape: { x: 0, y: 0, width: m.nodeWidth, height: m.nodeHeight }, style: { opacity: 0 } } : { style: { opacity: 0 } }; else { var y = 0, _ = 0; m.willDelete || (y = m.nodeWidth / 2, _ = m.nodeHeight / 2), g = h === "nodeGroup" ? { x: y, y: _, style: { opacity: 0 } } : { shape: { x: y, y: _, width: 0, height: 0 }, style: { opacity: 0 } } } g && c.add(d, g, l, 0, u) } }) }), E(this._storage, function (f, h) { E(f, function (d, v) { var p = n.lastsForAnimation[h][v], g = {}; p && (d instanceof it ? p.oldX != null && (g.x = d.x, g.y = d.y, d.x = p.oldX, d.y = p.oldY) : (p.oldShape && (g.shape = he({}, d.shape), d.setShape(p.oldShape)), p.fadein ? (d.setStyle("opacity", 0), g.style = { opacity: 1 }) : d.style.opacity !== 1 && (g.style = { opacity: 1 })), c.add(d, g, l, 0, u)) }) }, this), this._state = "animating", c.finished($e(function () { this._state = "ready", n.renderFinally() }, this)).start() }, e.prototype._resetController = function (r) { var n = this._controller; n || (n = this._controller = new pg(r.getZr()), n.enable(this.seriesModel.get("roam")), n.on("pan", $e(this._onPan, this)), n.on("zoom", $e(this._onZoom, this))); var a = new wt(0, 0, r.getWidth(), r.getHeight()); n.setPointerChecker(function (i, o, s) { return a.contain(o, s) }) }, e.prototype._clearController = function () { var r = this._controller; r && (r.dispose(), r = null) }, e.prototype._onPan = function (r) { if (this._state !== "animating" && (Math.abs(r.dx) > sE || Math.abs(r.dy) > sE)) { var n = this.seriesModel.getData().tree.root; if (!n) return; var a = n.getLayout(); if (!a) return; this.api.dispatchAction({ type: "treemapMove", from: this.uid, seriesId: this.seriesModel.id, rootRect: { x: a.x + r.dx, y: a.y + r.dy, width: a.width, height: a.height } }) } }, e.prototype._onZoom = function (r) { var n = r.originX, a = r.originY; if (this._state !== "animating") { var i = this.seriesModel.getData().tree.root; if (!i) return; var o = i.getLayout(); if (!o) return; var s = new wt(o.x, o.y, o.width, o.height), l = this.seriesModel.layoutInfo; n -= l.x, a -= l.y; var u = yi(); Ro(u, u, [-n, -a]), QD(u, u, [r.scale, r.scale]), Ro(u, u, [n, a]), s.applyTransform(u), this.api.dispatchAction({ type: "treemapRender", from: this.uid, seriesId: this.seriesModel.id, rootRect: { x: s.x, y: s.y, width: s.width, height: s.height } }) } }, e.prototype._initEvents = function (r) { var n = this; r.on("click", function (a) { if (n._state === "ready") { var i = n.seriesModel.get("nodeClick", !0); if (i) { var o = n.findTarget(a.offsetX, a.offsetY); if (o) { var s = o.node; if (s.getLayout().isLeafRoot) n._rootToNode(o); else if (i === "zoomToNode") n._zoomToNode(o); else if (i === "link") { var l = s.hostTree.data.getItemModel(s.dataIndex), u = l.get("link", !0), c = l.get("target", !0) || "blank"; u && d0(u, c) } } } } }, this) }, e.prototype._renderBreadcrumb = function (r, n, a) { var i = this; a || (a = r.get("leafDepth", !0) != null ? { node: r.getViewRoot() } : this.findTarget(n.getWidth() / 2, n.getHeight() / 2), a || (a = { node: r.getData().tree.root })), (this._breadcrumb || (this._breadcrumb = new L1e(this.group))).render(r, n, a.node, function (o) { i._state !== "animating" && (sM(r.getViewRoot(), o) ? i._rootToNode({ node: o }) : i._zoomToNode({ node: o })) }) }, e.prototype.remove = function () { this._clearController(), this._containerGroup && this._containerGroup.removeAll(), this._storage = Hd(), this._state = "ready", this._breadcrumb && this._breadcrumb.remove() }, e.prototype.dispose = function () { this._clearController() }, e.prototype._zoomToNode = function (r) { this.api.dispatchAction({ type: "treemapZoomToNode", from: this.uid, seriesId: this.seriesModel.id, targetNode: r.node }) }, e.prototype._rootToNode = function (r) { this.api.dispatchAction({ type: "treemapRootToNode", from: this.uid, seriesId: this.seriesModel.id, targetNode: r.node }) }, e.prototype.findTarget = function (r, n) { var a, i = this.seriesModel.getViewRoot(); return i.eachNode({ attr: "viewChildren", order: "preorder" }, function (o) { var s = this._storage.background[o.getRawIndex()]; if (s) { var l = s.transformCoordToLocal(r, n), u = s.shape; if (u.x <= l[0] && l[0] <= u.x + u.width && u.y <= l[1] && l[1] <= u.y + u.height) a = { node: o, offsetX: l[0], offsetY: l[1] }; else return !1 } }, this), a }, e.type = "treemap", e }(Ar); function Hd() { return { nodeGroup: [], background: [], content: [] } } function $1e(t, e, r, n, a, i, o, s, l, u) { if (!o) return; var c = o.getLayout(), f = t.getData(), h = o.getModel(); if (f.setItemGraphicEl(o.dataIndex, null), !c || !c.isInView) return; var d = c.width, v = c.height, p = c.borderWidth, g = c.invisible, m = o.getRawIndex(), y = s && s.getRawIndex(), _ = o.viewChildren, b = c.upperHeight, x = _ && _.length, S = h.getModel("itemStyle"), T = h.getModel(["emphasis", "itemStyle"]), C = h.getModel(["blur", "itemStyle"]), M = h.getModel(["select", "itemStyle"]), k = S.get("borderRadius") || 0, A = U("nodeGroup", r2); if (!A) return; if (l.add(A), A.x = c.x || 0, A.y = c.y || 0, A.markRedraw(), A0(A).nodeWidth = d, A0(A).nodeHeight = v, c.isAboveViewRoot) return A; var R = U("background", oE, u, O1e); R && q(A, R, x && c.upperLabelHeight); var N = h.getModel("emphasis"), z = N.get("focus"), F = N.get("blurScope"), V = N.get("disabled"), L = z === "ancestor" ? o.getAncestorsIndices() : z === "descendant" ? o.getDescendantIndices() : z; if (x) hp(A) && uc(A, !1), R && (uc(R, !V), f.setItemGraphicEl(o.dataIndex, R), DT(R, L, F)); else { var H = U("content", oE, u, E1e); H && K(A, H), R.disableMorphing = !0, R && hp(R) && uc(R, !1), uc(A, !V), f.setItemGraphicEl(o.dataIndex, A), DT(A, L, F) } return A; function q(Q, se, ue) { var pe = lt(se); if (pe.dataIndex = o.dataIndex, pe.seriesIndex = t.seriesIndex, se.setShape({ x: 0, y: 0, width: d, height: v, r: k }), g) te(se); else { se.invisible = !1; var Se = o.getVisual("style"), G = Se.stroke, Z = cE(S); Z.fill = G; var J = ju(T); J.fill = T.get("borderColor"); var le = ju(C); le.fill = C.get("borderColor"); var ve = ju(M); if (ve.fill = M.get("borderColor"), ue) { var we = d - 2 * p; oe(se, G, Se.opacity, { x: p, y: 0, width: we, height: b }) } else se.removeTextContent(); se.setStyle(Z), se.ensureState("emphasis").style = J, se.ensureState("blur").style = le, se.ensureState("select").style = ve, $c(se) } Q.add(se) } function K(Q, se) { var ue = lt(se); ue.dataIndex = o.dataIndex, ue.seriesIndex = t.seriesIndex; var pe = Math.max(d - 2 * p, 0), Se = Math.max(v - 2 * p, 0); if (se.culling = !0, se.setShape({ x: p, y: p, width: pe, height: Se, r: k }), g) te(se); else { se.invisible = !1; var G = o.getVisual("style"), Z = G.fill, J = cE(S); J.fill = Z, J.decal = G.decal; var le = ju(T), ve = ju(C), we = ju(M); oe(se, Z, G.opacity, null), se.setStyle(J), se.ensureState("emphasis").style = le, se.ensureState("blur").style = ve, se.ensureState("select").style = we, $c(se) } Q.add(se) } function te(Q) { !Q.invisible && i.push(Q) } function oe(Q, se, ue, pe) { var Se = h.getModel(pe ? uE : lE), G = yn(h.get("name"), null), Z = Se.getShallow("show"); Wn(Q, Pn(h, pe ? uE : lE), { defaultText: Z ? G : null, inheritColor: se, defaultOpacity: ue, labelFetcher: t, labelDataIndex: o.dataIndex }); var J = Q.getTextContent(); if (J) { var le = J.style, ve = qD(le.padding || 0); pe && (Q.setTextConfig({ layoutRect: pe }), J.disableLabelLayout = !0), J.beforeUpdate = function () { var Ne = Math.max((pe ? pe.width : Q.shape.width) - ve[1] - ve[3], 0), Ce = Math.max((pe ? pe.height : Q.shape.height) - ve[0] - ve[2], 0); (le.width !== Ne || le.height !== Ce) && J.setStyle({ width: Ne, height: Ce }) }, le.truncateMinChar = 2, le.lineOverflow = "truncate", X(le, pe, c); var we = J.getState("emphasis"); X(we ? we.style : null, pe, c) } } function X(Q, se, ue) { var pe = Q ? Q.text : null; if (!se && ue.isLeafRoot && pe != null) { var Se = t.get("drillDownIcon", !0); Q.text = Se ? Se + " " + pe : pe } } function U(Q, se, ue, pe) { var Se = y != null && r[Q][y], G = a[Q]; return Se ? (r[Q][y] = null, B(G, Se)) : g || (Se = new se, Se instanceof _i && (Se.z2 = F1e(ue, pe)), ee(G, Se)), e[Q][m] = Se } function B(Q, se) { var ue = Q[m] = {}; se instanceof r2 ? (ue.oldX = se.x, ue.oldY = se.y) : ue.oldShape = he({}, se.shape) } function ee(Q, se) { var ue = Q[m] = {}, pe = o.parentNode, Se = se instanceof it; if (pe && (!n || n.direction === "drillDown")) { var G = 0, Z = 0, J = a.background[pe.getRawIndex()]; !n && J && J.oldShape && (G = J.oldShape.width, Z = J.oldShape.height), Se ? (ue.oldX = 0, ue.oldY = Z) : ue.oldShape = { x: G, y: Z, width: 0, height: 0 } } ue.fadein = !Se } } function F1e(t, e) { return t * R1e + e } const B1e = N1e; var Tp = E, V1e = Qe, L0 = -1, lM = function () { function t(e) { var r = e.mappingMethod, n = e.type, a = this.option = rt(e); this.type = n, this.mappingMethod = r, this._normalizeData = Y1e[r]; var i = t.visualHandlers[n]; this.applyVisual = i.applyVisual, this.getColorMapper = i.getColorMapper, this._normalizedToVisual = i._normalizedToVisual[r], r === "piecewise" ? (eS(a), z1e(a)) : r === "category" ? a.categories ? H1e(a) : eS(a, !0) : (ya(r !== "linear" || a.dataExtent), eS(a)) } return t.prototype.mapValueToVisual = function (e) { var r = this._normalizeData(e); return this._normalizedToVisual(r, e) }, t.prototype.getNormalizer = function () { return $e(this._normalizeData, this) }, t.listVisualTypes = function () { return Nt(t.visualHandlers) }, t.isValidType = function (e) { return t.visualHandlers.hasOwnProperty(e) }, t.eachVisual = function (e, r, n) { Qe(e) ? E(e, r, n) : r.call(n, e) }, t.mapVisual = function (e, r, n) { var a, i = me(e) ? [] : Qe(e) ? {} : (a = !0, null); return t.eachVisual(e, function (o, s) { var l = r.call(n, o, s); a ? i = l : i[s] = l }), i }, t.retrieveVisuals = function (e) { var r = {}, n; return e && Tp(t.visualHandlers, function (a, i) { e.hasOwnProperty(i) && (r[i] = e[i], n = !0) }), n ? r : null }, t.prepareVisualTypes = function (e) { if (me(e)) e = e.slice(); else if (V1e(e)) { var r = []; Tp(e, function (n, a) { r.push(a) }), e = r } else return []; return e.sort(function (n, a) { return a === "color" && n !== "color" && n.indexOf("color") === 0 ? 1 : -1 }), e }, t.dependsOn = function (e, r) { return r === "color" ? !!(e && e.indexOf(r) === 0) : e === r }, t.findPieceIndex = function (e, r, n) { for (var a, i = 1 / 0, o = 0, s = r.length; o < s; o++) { var l = r[o].value; if (l != null) { if (l === e || Oe(l) && l === e + "") return o; n && h(l, o) } } for (var o = 0, s = r.length; o < s; o++) { var u = r[o], c = u.interval, f = u.close; if (c) { if (c[0] === -1 / 0) { if (Em(f[1], e, c[1])) return o } else if (c[1] === 1 / 0) { if (Em(f[0], c[0], e)) return o } else if (Em(f[0], c[0], e) && Em(f[1], e, c[1])) return o; n && h(c[0], o), n && h(c[1], o) } } if (n) return e === 1 / 0 ? r.length - 1 : e === -1 / 0 ? 0 : a; function h(d, v) { var p = Math.abs(d - e); p < i && (i = p, a = v) } }, t.visualHandlers = { color: { applyVisual: Yd("color"), getColorMapper: function () { var e = this.option; return $e(e.mappingMethod === "category" ? function (r, n) { return !n && (r = this._normalizeData(r)), cv.call(this, r) } : function (r, n, a) { var i = !!a; return !n && (r = this._normalizeData(r)), a = Bb(r, e.parsedVisual, a), i ? a : Ts(a, "rgba") }, this) }, _normalizedToVisual: { linear: function (e) { return Ts(Bb(e, this.option.parsedVisual), "rgba") }, category: cv, piecewise: function (e, r) { var n = a2.call(this, r); return n == null && (n = Ts(Bb(e, this.option.parsedVisual), "rgba")), n }, fixed: Zu } }, colorHue: Om(function (e, r) { return Tv(e, r) }), colorSaturation: Om(function (e, r) { return Tv(e, null, r) }), colorLightness: Om(function (e, r) { return Tv(e, null, null, r) }), colorAlpha: Om(function (e, r) { return e0(e, r) }), decal: { applyVisual: Yd("decal"), _normalizedToVisual: { linear: null, category: cv, piecewise: null, fixed: null } }, opacity: { applyVisual: Yd("opacity"), _normalizedToVisual: n2([0, 1]) }, liftZ: { applyVisual: Yd("liftZ"), _normalizedToVisual: { linear: Zu, category: Zu, piecewise: Zu, fixed: Zu } }, symbol: { applyVisual: function (e, r, n) { var a = this.mapValueToVisual(e); n("symbol", a) }, _normalizedToVisual: { linear: fE, category: cv, piecewise: function (e, r) { var n = a2.call(this, r); return n == null && (n = fE.call(this, e)), n }, fixed: Zu } }, symbolSize: { applyVisual: Yd("symbolSize"), _normalizedToVisual: n2([0, 1]) } }, t }(); function z1e(t) { var e = t.pieceList; t.hasSpecialVisual = !1, E(e, function (r, n) { r.originIndex = n, r.visual != null && (t.hasSpecialVisual = !0) }) } function H1e(t) { var e = t.categories, r = t.categoryMap = {}, n = t.visual; if (Tp(e, function (o, s) { r[o] = s }), !me(n)) { var a = []; Qe(n) ? Tp(n, function (o, s) { var l = r[s]; a[l ?? L0] = o }) : a[L0] = n, n = wz(t, a) } for (var i = e.length - 1; i >= 0; i--)n[i] == null && (delete r[e[i]], e.pop()) } function eS(t, e) { var r = t.visual, n = []; Qe(r) ? Tp(r, function (i) { n.push(i) }) : r != null && n.push(r); var a = { color: 1, symbol: 1 }; !e && n.length === 1 && !a.hasOwnProperty(t.type) && (n[1] = n[0]), wz(t, n) } function Om(t) { return { applyVisual: function (e, r, n) { var a = this.mapValueToVisual(e); n("color", t(r("color"), a)) }, _normalizedToVisual: n2([0, 1]) } } function fE(t) { var e = this.option.visual; return e[Math.round(sr(t, [0, 1], [0, e.length - 1], !0))] || {} } function Yd(t) { return function (e, r, n) { n(t, this.mapValueToVisual(e)) } } function cv(t) { var e = this.option.visual; return e[this.option.loop && t !== L0 ? t % e.length : t] } function Zu() { return this.option.visual[0] } function n2(t) { return { linear: function (e) { return sr(e, t, this.option.visual, !0) }, category: cv, piecewise: function (e, r) { var n = a2.call(this, r); return n == null && (n = sr(e, t, this.option.visual, !0)), n }, fixed: Zu } } function a2(t) { var e = this.option, r = e.pieceList; if (e.hasSpecialVisual) { var n = lM.findPieceIndex(t, r), a = r[n]; if (a && a.visual) return a.visual[this.type] } } function wz(t, e) { return t.visual = e, t.type === "color" && (t.parsedVisual = _e(e, function (r) { var n = Ya(r); return n || [0, 0, 0, 1] })), e } var Y1e = { linear: function (t) { return sr(t, this.option.dataExtent, [0, 1], !0) }, piecewise: function (t) { var e = this.option.pieceList, r = lM.findPieceIndex(t, e, !0); if (r != null) return sr(r, [0, e.length - 1], [0, 1], !0) }, category: function (t) { var e = this.option.categories ? this.option.categoryMap[t] : t; return e ?? L0 }, fixed: nn }; function Em(t, e, r) { return t ? e <= r : e < r } const Yn = lM; var U1e = "itemStyle", Sz = zt(); const W1e = { seriesType: "treemap", reset: function (t) { var e = t.getData().tree, r = e.root; r.isRemoved() || xz(r, {}, t.getViewRoot().getAncestors(), t) } }; function xz(t, e, r, n) { var a = t.getModel(), i = t.getLayout(), o = t.hostTree.data; if (!(!i || i.invisible || !i.isInView)) { var s = a.getModel(U1e), l = G1e(s, e, n), u = o.ensureUniqueItemVisual(t.dataIndex, "style"), c = s.get("borderColor"), f = s.get("borderColorSaturation"), h; f != null && (h = hE(l), c = j1e(f, h)), u.stroke = c; var d = t.viewChildren; if (!d || !d.length) h = hE(l), u.fill = h; else { var v = Z1e(t, a, i, s, l, d); E(d, function (p, g) { if (p.depth >= r.length || p === r[p.depth]) { var m = q1e(a, l, p, g, v, n); xz(p, m, r, n) } }) } } } function G1e(t, e, r) { var n = he({}, e), a = r.designatedVisualItemStyle; return E(["color", "colorAlpha", "colorSaturation"], function (i) { a[i] = e[i]; var o = t.get(i); a[i] = null, o != null && (n[i] = o) }), n } function hE(t) { var e = tS(t, "color"); if (e) { var r = tS(t, "colorAlpha"), n = tS(t, "colorSaturation"); return n && (e = Tv(e, null, null, n)), r && (e = e0(e, r)), e } } function j1e(t, e) { return e != null ? Tv(e, null, null, t) : null } function tS(t, e) { var r = t[e]; if (r != null && r !== "none") return r } function Z1e(t, e, r, n, a, i) { if (!(!i || !i.length)) { var o = rS(e, "color") || a.color != null && a.color !== "none" && (rS(e, "colorAlpha") || rS(e, "colorSaturation")); if (o) { var s = e.get("visualMin"), l = e.get("visualMax"), u = r.dataExtent.slice(); s != null && s < u[0] && (u[0] = s), l != null && l > u[1] && (u[1] = l); var c = e.get("colorMappingBy"), f = { type: o.name, dataExtent: u, visual: o.range }; f.type === "color" && (c === "index" || c === "id") ? (f.mappingMethod = "category", f.loop = !0) : f.mappingMethod = "linear"; var h = new Yn(f); return Sz(h).drColorMappingBy = c, h } } } function rS(t, e) { var r = t.get(e); return me(r) && r.length ? { name: e, range: r } : null } function q1e(t, e, r, n, a, i) { var o = he({}, e); if (a) { var s = a.type, l = s === "color" && Sz(a).drColorMappingBy, u = l === "index" ? n : l === "id" ? i.mapIdToIndex(r.getId()) : r.getValue(t.get("visualDimension")); o[s] = a.mapValueToVisual(u) } return o } var Dp = Math.max, I0 = Math.min, dE = Nn, uM = E, Tz = ["itemStyle", "borderWidth"], X1e = ["itemStyle", "gapWidth"], K1e = ["upperLabel", "show"], Q1e = ["upperLabel", "height"]; const J1e = { seriesType: "treemap", reset: function (t, e, r, n) { var a = r.getWidth(), i = r.getHeight(), o = t.option, s = bn(t.getBoxLayoutParams(), { width: r.getWidth(), height: r.getHeight() }), l = o.size || [], u = Ae(dE(s.width, l[0]), a), c = Ae(dE(s.height, l[1]), i), f = n && n.type, h = ["treemapZoomToNode", "treemapRootToNode"], d = xp(n, h, t), v = f === "treemapRender" || f === "treemapMove" ? n.rootRect : null, p = t.getViewRoot(), g = yz(p); if (f !== "treemapMove") { var m = f === "treemapZoomToNode" ? ibe(t, d, p, u, c) : v ? [v.width, v.height] : [u, c], y = o.sort; y && y !== "asc" && y !== "desc" && (y = "desc"); var _ = { squareRatio: o.squareRatio, sort: y, leafDepth: o.leafDepth }; p.hostTree.clearLayouts(); var b = { x: 0, y: 0, width: m[0], height: m[1], area: m[0] * m[1] }; p.setLayout(b), Dz(p, _, !1, 0), b = p.getLayout(), uM(g, function (S, T) { var C = (g[T + 1] || p).getValue(); S.setLayout(he({ dataExtent: [C, C], borderWidth: 0, upperHeight: 0 }, b)) }) } var x = t.getData().tree.root; x.setLayout(obe(s, v, d), !0), t.setLayoutInfo(s), Cz(x, new wt(-s.x, -s.y, a, i), g, p, 0) } }; function Dz(t, e, r, n) { var a, i; if (!t.isRemoved()) { var o = t.getLayout(); a = o.width, i = o.height; var s = t.getModel(), l = s.get(Tz), u = s.get(X1e) / 2, c = Mz(s), f = Math.max(l, c), h = l - u, d = f - u; t.setLayout({ borderWidth: l, upperHeight: f, upperLabelHeight: c }, !0), a = Dp(a - 2 * h, 0), i = Dp(i - h - d, 0); var v = a * i, p = ebe(t, s, v, e, r, n); if (p.length) { var g = { x: h, y: d, width: a, height: i }, m = I0(a, i), y = 1 / 0, _ = []; _.area = 0; for (var b = 0, x = p.length; b < x;) { var S = p[b]; _.push(S), _.area += S.getLayout().area; var T = abe(_, m, e.squareRatio); T <= y ? (b++, y = T) : (_.area -= _.pop().getLayout().area, vE(_, m, g, u, !1), m = I0(g.width, g.height), _.length = _.area = 0, y = 1 / 0) } if (_.length && vE(_, m, g, u, !0), !r) { var C = s.get("childrenVisibleMin"); C != null && v < C && (r = !0) } for (var b = 0, x = p.length; b < x; b++)Dz(p[b], e, r, n + 1) } } } function ebe(t, e, r, n, a, i) { var o = t.children || [], s = n.sort; s !== "asc" && s !== "desc" && (s = null); var l = n.leafDepth != null && n.leafDepth <= i; if (a && !l) return t.viewChildren = []; o = hr(o, function (d) { return !d.isRemoved() }), rbe(o, s); var u = nbe(e, o, s); if (u.sum === 0) return t.viewChildren = []; if (u.sum = tbe(e, r, u.sum, s, o), u.sum === 0) return t.viewChildren = []; for (var c = 0, f = o.length; c < f; c++) { var h = o[c].getValue() / u.sum * r; o[c].setLayout({ area: h }) } return l && (o.length && t.setLayout({ isLeafRoot: !0 }, !0), o.length = 0), t.viewChildren = o, t.setLayout({ dataExtent: u.dataExtent }, !0), o } function tbe(t, e, r, n, a) { if (!n) return r; for (var i = t.get("visibleMin"), o = a.length, s = o, l = o - 1; l >= 0; l--) { var u = a[n === "asc" ? o - l - 1 : l].getValue(); u / r * e < i && (s = l, r -= u) } return n === "asc" ? a.splice(0, o - s) : a.splice(s, o - s), r } function rbe(t, e) { return e && t.sort(function (r, n) { var a = e === "asc" ? r.getValue() - n.getValue() : n.getValue() - r.getValue(); return a === 0 ? e === "asc" ? r.dataIndex - n.dataIndex : n.dataIndex - r.dataIndex : a }), t } function nbe(t, e, r) { for (var n = 0, a = 0, i = e.length; a < i; a++)n += e[a].getValue(); var o = t.get("visualDimension"), s; return !e || !e.length ? s = [NaN, NaN] : o === "value" && r ? (s = [e[e.length - 1].getValue(), e[0].getValue()], r === "asc" && s.reverse()) : (s = [1 / 0, -1 / 0], uM(e, function (l) { var u = l.getValue(o); u < s[0] && (s[0] = u), u > s[1] && (s[1] = u) })), { sum: n, dataExtent: s } } function abe(t, e, r) { for (var n = 0, a = 1 / 0, i = 0, o = void 0, s = t.length; i < s; i++)o = t[i].getLayout().area, o && (o < a && (a = o), o > n && (n = o)); var l = t.area * t.area, u = e * e * r; return l ? Dp(u * n / l, l / (u * a)) : 1 / 0 } function vE(t, e, r, n, a) { var i = e === r.width ? 0 : 1, o = 1 - i, s = ["x", "y"], l = ["width", "height"], u = r[s[i]], c = e ? t.area / e : 0; (a || c > r[l[o]]) && (c = r[l[o]]); for (var f = 0, h = t.length; f < h; f++) { var d = t[f], v = {}, p = c ? d.getLayout().area / c : 0, g = v[l[o]] = Dp(c - 2 * n, 0), m = r[s[i]] + r[l[i]] - u, y = f === h - 1 || m < p ? m : p, _ = v[l[i]] = Dp(y - 2 * n, 0); v[s[o]] = r[s[o]] + I0(n, g / 2), v[s[i]] = u + I0(n, _ / 2), u += y, d.setLayout(v, !0) } r[s[o]] += c, r[l[o]] -= c } function ibe(t, e, r, n, a) { var i = (e || {}).node, o = [n, a]; if (!i || i === r) return o; for (var s, l = n * a, u = l * t.option.zoomToNodeRatio; s = i.parentNode;) { for (var c = 0, f = s.children, h = 0, d = f.length; h < d; h++)c += f[h].getValue(); var v = i.getValue(); if (v === 0) return o; u *= c / v; var p = s.getModel(), g = p.get(Tz), m = Math.max(g, Mz(p)); u += 4 * g * g + (3 * g + m) * Math.pow(u, .5), u > BI && (u = BI), i = s } u < l && (u = l); var y = Math.pow(u / l, .5); return [n * y, a * y] } function obe(t, e, r) { if (e) return { x: e.x, y: e.y }; var n = { x: 0, y: 0 }; if (!r) return n; var a = r.node, i = a.getLayout(); if (!i) return n; for (var o = [i.width / 2, i.height / 2], s = a; s;) { var l = s.getLayout(); o[0] += l.x, o[1] += l.y, s = s.parentNode } return { x: t.width / 2 - o[0], y: t.height / 2 - o[1] } } function Cz(t, e, r, n, a) { var i = t.getLayout(), o = r[a], s = o && o === t; if (!(o && !s || a === r.length && t !== n)) { t.setLayout({ isInView: !0, invisible: !s && !e.intersect(i), isAboveViewRoot: s }, !0); var l = new wt(e.x - i.x, e.y - i.y, e.width, e.height); uM(t.viewChildren || [], function (u) { Cz(u, l, r, n, a + 1) }) } } function Mz(t) { return t.get(K1e) ? t.get(Q1e) : 0 } function sbe(t) { t.registerSeriesModel(D1e), t.registerChartView(B1e), t.registerVisual(W1e), t.registerLayout(J1e), S1e(t) } function lbe(t) { var e = t.findComponents({ mainType: "legend" }); !e || !e.length || t.eachSeriesByType("graph", function (r) { var n = r.getCategoriesData(), a = r.getGraph(), i = a.data, o = n.mapArray(n.getName); i.filterSelf(function (s) { var l = i.getItemModel(s), u = l.getShallow("category"); if (u != null) { Gt(u) && (u = o[u]); for (var c = 0; c < e.length; c++)if (!e[c].isSelected(u)) return !1 } return !0 }) }) } function ube(t) { var e = {}; t.eachSeriesByType("graph", function (r) { var n = r.getCategoriesData(), a = r.getData(), i = {}; n.each(function (o) { var s = n.getName(o); i["ec-" + s] = o; var l = n.getItemModel(o), u = l.getModel("itemStyle").getItemStyle(); u.fill || (u.fill = r.getColorFromPalette(s, e)), n.setItemVisual(o, "style", u); for (var c = ["symbol", "symbolSize", "symbolKeepAspect"], f = 0; f < c.length; f++) { var h = l.getShallow(c[f], !0); h != null && n.setItemVisual(o, c[f], h) } }), n.count() && a.each(function (o) { var s = a.getItemModel(o), l = s.getShallow("category"); if (l != null) { Oe(l) && (l = i["ec-" + l]); var u = n.getItemVisual(l, "style"), c = a.ensureUniqueItemVisual(o, "style"); he(c, u); for (var f = ["symbol", "symbolSize", "symbolKeepAspect"], h = 0; h < f.length; h++)a.setItemVisual(o, f[h], n.getItemVisual(l, f[h])) } }) }) } function Nm(t) { return t instanceof Array || (t = [t, t]), t } function cbe(t) { t.eachSeriesByType("graph", function (e) { var r = e.getGraph(), n = e.getEdgeData(), a = Nm(e.get("edgeSymbol")), i = Nm(e.get("edgeSymbolSize")); n.setVisual("fromSymbol", a && a[0]), n.setVisual("toSymbol", a && a[1]), n.setVisual("fromSymbolSize", i && i[0]), n.setVisual("toSymbolSize", i && i[1]), n.setVisual("style", e.getModel("lineStyle").getLineStyle()), n.each(function (o) { var s = n.getItemModel(o), l = r.getEdgeByIndex(o), u = Nm(s.getShallow("symbol", !0)), c = Nm(s.getShallow("symbolSize", !0)), f = s.getModel("lineStyle").getLineStyle(), h = n.ensureUniqueItemVisual(o, "style"); switch (he(h, f), h.stroke) { case "source": { var d = l.node1.getVisual("style"); h.stroke = d && d.fill; break } case "target": { var d = l.node2.getVisual("style"); h.stroke = d && d.fill; break } }u[0] && l.setVisual("fromSymbol", u[0]), u[1] && l.setVisual("toSymbol", u[1]), c[0] && l.setVisual("fromSymbolSize", c[0]), c[1] && l.setVisual("toSymbolSize", c[1]) }) }) } var i2 = "-->", w1 = function (t) { return t.get("autoCurveness") || null }, kz = function (t, e) { var r = w1(t), n = 20, a = []; if (Gt(r)) n = r; else if (me(r)) { t.__curvenessList = r; return } e > n && (n = e); var i = n % 2 ? n + 2 : n + 3; a = []; for (var o = 0; o < i; o++)a.push((o % 2 ? o + 1 : o) / 10 * (o % 2 ? -1 : 1)); t.__curvenessList = a }, Cp = function (t, e, r) { var n = [t.id, t.dataIndex].join("."), a = [e.id, e.dataIndex].join("."); return [r.uid, n, a].join(i2) }, Az = function (t) { var e = t.split(i2); return [e[0], e[2], e[1]].join(i2) }, fbe = function (t, e) { var r = Cp(t.node1, t.node2, e); return e.__edgeMap[r] }, hbe = function (t, e) { var r = o2(Cp(t.node1, t.node2, e), e), n = o2(Cp(t.node2, t.node1, e), e); return r + n }, o2 = function (t, e) { var r = e.__edgeMap; return r[t] ? r[t].length : 0 }; function dbe(t) { w1(t) && (t.__curvenessList = [], t.__edgeMap = {}, kz(t)) } function vbe(t, e, r, n) { if (w1(r)) { var a = Cp(t, e, r), i = r.__edgeMap, o = i[Az(a)]; i[a] && !o ? i[a].isForward = !0 : o && i[a] && (o.isForward = !0, i[a].isForward = !1), i[a] = i[a] || [], i[a].push(n) } } function cM(t, e, r, n) { var a = w1(e), i = me(a); if (!a) return null; var o = fbe(t, e); if (!o) return null; for (var s = -1, l = 0; l < o.length; l++)if (o[l] === r) { s = l; break } var u = hbe(t, e); kz(e, u), t.lineStyle = t.lineStyle || {}; var c = Cp(t.node1, t.node2, e), f = e.__curvenessList, h = i || u % 2 ? 0 : 1; if (o.isForward) return f[h + s]; var d = Az(c), v = o2(d, e), p = f[s + v + h]; return n ? i ? a && a[0] === 0 ? (v + h) % 2 ? p : -p : ((v % 2 ? 0 : 1) + h) % 2 ? p : -p : (v + h) % 2 ? p : -p : f[s + v + h] } function Lz(t) { var e = t.coordinateSystem; if (!(e && e.type !== "view")) { var r = t.getGraph(); r.eachNode(function (n) { var a = n.getModel(); n.setLayout([+a.get("x"), +a.get("y")]) }), fM(r, t) } } function fM(t, e) { t.eachEdge(function (r, n) { var a = Co(r.getModel().get(["lineStyle", "curveness"]), -cM(r, e, n, !0), 0), i = Ss(r.node1.getLayout()), o = Ss(r.node2.getLayout()), s = [i, o]; +a && s.push([(i[0] + o[0]) / 2 - (i[1] - o[1]) * a, (i[1] + o[1]) / 2 - (o[0] - i[0]) * a]), r.setLayout(s) }) } function pbe(t, e) { t.eachSeriesByType("graph", function (r) { var n = r.get("layout"), a = r.coordinateSystem; if (a && a.type !== "view") { var i = r.getData(), o = []; E(a.dimensions, function (h) { o = o.concat(i.mapDimensionsAll(h)) }); for (var s = 0; s < i.count(); s++) { for (var l = [], u = !1, c = 0; c < o.length; c++) { var f = i.get(o[c], s); isNaN(f) || (u = !0), l.push(f) } u ? i.setItemLayout(s, a.dataToPoint(l)) : i.setItemLayout(s, [NaN, NaN]) } fM(i.graph, r) } else (!n || n === "none") && Lz(r) }) } function fv(t) { var e = t.coordinateSystem; if (e.type !== "view") return 1; var r = t.option.nodeScaleRatio, n = e.scaleX, a = e.getZoom(), i = (a - 1) * r + 1; return i / n } function hv(t) { var e = t.getVisual("symbolSize"); return e instanceof Array && (e = (e[0] + e[1]) / 2), +e } var pE = Math.PI, nS = []; function hM(t, e, r, n) { var a = t.coordinateSystem; if (!(a && a.type !== "view")) { var i = a.getBoundingRect(), o = t.getData(), s = o.graph, l = i.width / 2 + i.x, u = i.height / 2 + i.y, c = Math.min(i.width, i.height) / 2, f = o.count(); if (o.setLayout({ cx: l, cy: u }), !!f) { if (r) { var h = a.pointToData(n), d = h[0], v = h[1], p = [d - l, v - u]; Vh(p, p), dy(p, p, c), r.setLayout([l + p[0], u + p[1]], !0); var g = t.get(["circular", "rotateLabel"]); Iz(r, g, l, u) } gbe[e](t, s, o, c, l, u, f), s.eachEdge(function (m, y) { var _ = Co(m.getModel().get(["lineStyle", "curveness"]), cM(m, t, y), 0), b = Ss(m.node1.getLayout()), x = Ss(m.node2.getLayout()), S, T = (b[0] + x[0]) / 2, C = (b[1] + x[1]) / 2; +_ && (_ *= 3, S = [l * _ + T * (1 - _), u * _ + C * (1 - _)]), m.setLayout([b, x, S]) }) } } } var gbe = { value: function (t, e, r, n, a, i, o) { var s = 0, l = r.getSum("value"), u = Math.PI * 2 / (l || o); e.eachNode(function (c) { var f = c.getValue("value"), h = u * (l ? f : 1) / 2; s += h, c.setLayout([n * Math.cos(s) + a, n * Math.sin(s) + i]), s += h }) }, symbolSize: function (t, e, r, n, a, i, o) { var s = 0; nS.length = o; var l = fv(t); e.eachNode(function (f) { var h = hv(f); isNaN(h) && (h = 2), h < 0 && (h = 0), h *= l; var d = Math.asin(h / 2 / n); isNaN(d) && (d = pE / 2), nS[f.dataIndex] = d, s += d * 2 }); var u = (2 * pE - s) / o / 2, c = 0; e.eachNode(function (f) { var h = u + nS[f.dataIndex]; c += h, (!f.getLayout() || !f.getLayout().fixed) && f.setLayout([n * Math.cos(c) + a, n * Math.sin(c) + i]), c += h }) } }; function Iz(t, e, r, n) { var a = t.getGraphicEl(); if (a) { var i = t.getModel(), o = i.get(["label", "rotate"]) || 0, s = a.getSymbolPath(); if (e) { var l = t.getLayout(), u = Math.atan2(l[1] - n, l[0] - r); u < 0 && (u = Math.PI * 2 + u); var c = l[0] < r; c && (u = u - Math.PI); var f = c ? "left" : "right"; s.setTextConfig({ rotation: -u, position: f, origin: "center" }); var h = s.ensureState("emphasis"); he(h.textConfig || (h.textConfig = {}), { position: f }) } else s.setTextConfig({ rotation: o *= Math.PI / 180 }) } } function mbe(t) { t.eachSeriesByType("graph", function (e) { e.get("layout") === "circular" && hM(e, "symbolSize") }) } var Af = Kx; function ybe(t, e, r) { for (var n = t, a = e, i = r.rect, o = i.width, s = i.height, l = [i.x + o / 2, i.y + s / 2], u = r.gravity == null ? .1 : r.gravity, c = 0; c < n.length; c++) { var f = n[c]; f.p || (f.p = jc(o * (Math.random() - .5) + l[0], s * (Math.random() - .5) + l[1])), f.pp = Ss(f.p), f.edges = null } var h = r.friction == null ? .6 : r.friction, d = h, v, p; return { warmUp: function () { d = h * .8 }, setFixed: function (g) { n[g].fixed = !0 }, setUnfixed: function (g) { n[g].fixed = !1 }, beforeStep: function (g) { v = g }, afterStep: function (g) { p = g }, step: function (g) { v && v(n, a); for (var m = [], y = n.length, _ = 0; _ < a.length; _++) { var b = a[_]; if (!b.ignoreForceLayout) { var x = b.n1, S = b.n2; sc(m, S.p, x.p); var T = Qx(m) - b.d, C = S.w / (x.w + S.w); isNaN(C) && (C = 0), Vh(m, m), !x.fixed && Af(x.p, x.p, m, C * T * d), !S.fixed && Af(S.p, S.p, m, -(1 - C) * T * d) } } for (var _ = 0; _ < y; _++) { var M = n[_]; M.fixed || (sc(m, l, M.p), Af(M.p, M.p, m, u * d)) } for (var _ = 0; _ < y; _++)for (var x = n[_], k = _ + 1; k < y; k++) { var S = n[k]; sc(m, S.p, x.p); var T = Qx(m); T === 0 && (bue(m, Math.random() - .5, Math.random() - .5), T = 1); var A = (x.rep + S.rep) / T / T; !x.fixed && Af(x.pp, x.pp, m, A), !S.fixed && Af(S.pp, S.pp, m, -A) } for (var R = [], _ = 0; _ < y; _++) { var M = n[_]; M.fixed || (sc(R, M.p, M.pp), Af(M.p, M.p, R, d), ca(M.pp, M.p)) } d = d * .992; var N = d < .01; p && p(n, a, N), g && g(N) } } } function _be(t) { t.eachSeriesByType("graph", function (e) { var r = e.coordinateSystem; if (!(r && r.type !== "view")) if (e.get("layout") === "force") { var n = e.preservedPoints || {}, a = e.getGraph(), i = a.data, o = a.edgeData, s = e.getModel("force"), l = s.get("initLayout"); e.preservedPoints ? i.each(function (_) { var b = i.getId(_); i.setItemLayout(_, n[b] || [NaN, NaN]) }) : !l || l === "none" ? Lz(e) : l === "circular" && hM(e, "value"); var u = i.getDataExtent("value"), c = o.getDataExtent("value"), f = s.get("repulsion"), h = s.get("edgeLength"), d = me(f) ? f : [f, f], v = me(h) ? h : [h, h]; v = [v[1], v[0]]; var p = i.mapArray("value", function (_, b) { var x = i.getItemLayout(b), S = sr(_, u, d); return isNaN(S) && (S = (d[0] + d[1]) / 2), { w: S, rep: S, fixed: i.getItemModel(b).get("fixed"), p: !x || isNaN(x[0]) || isNaN(x[1]) ? null : x } }), g = o.mapArray("value", function (_, b) { var x = a.getEdgeByIndex(b), S = sr(_, c, v); isNaN(S) && (S = (v[0] + v[1]) / 2); var T = x.getModel(), C = Co(x.getModel().get(["lineStyle", "curveness"]), -cM(x, e, b, !0), 0); return { n1: p[x.node1.dataIndex], n2: p[x.node2.dataIndex], d: S, curveness: C, ignoreForceLayout: T.get("ignoreForceLayout") } }), m = r.getBoundingRect(), y = ybe(p, g, { rect: m, gravity: s.get("gravity"), friction: s.get("friction") }); y.beforeStep(function (_, b) { for (var x = 0, S = _.length; x < S; x++)_[x].fixed && ca(_[x].p, a.getNodeByIndex(x).getLayout()) }), y.afterStep(function (_, b, x) { for (var S = 0, T = _.length; S < T; S++)_[S].fixed || a.getNodeByIndex(S).setLayout(_[S].p), n[i.getId(S)] = _[S].p; for (var S = 0, T = b.length; S < T; S++) { var C = b[S], M = a.getEdgeByIndex(S), k = C.n1.p, A = C.n2.p, R = M.getLayout(); R = R ? R.slice() : [], R[0] = R[0] || [], R[1] = R[1] || [], ca(R[0], k), ca(R[1], A), +C.curveness && (R[2] = [(k[0] + A[0]) / 2 - (k[1] - A[1]) * C.curveness, (k[1] + A[1]) / 2 - (A[0] - k[0]) * C.curveness]), M.setLayout(R) } }), e.forceLayout = y, e.preservedPoints = n, y.step() } else e.forceLayout = null }) } function bbe(t, e, r) { var n = he(t.getBoxLayoutParams(), { aspect: r }); return bn(n, { width: e.getWidth(), height: e.getHeight() }) } function wbe(t, e) { var r = []; return t.eachSeriesByType("graph", function (n) { var a = n.get("coordinateSystem"); if (!a || a === "view") { var i = n.getData(), o = i.mapArray(function (g) { var m = i.getItemModel(g); return [+m.get("x"), +m.get("y")] }), s = [], l = []; q_(o, s, l), l[0] - s[0] === 0 && (l[0] += 1, s[0] -= 1), l[1] - s[1] === 0 && (l[1] += 1, s[1] -= 1); var u = (l[0] - s[0]) / (l[1] - s[1]), c = bbe(n, e, u); isNaN(u) && (s = [c.x, c.y], l = [c.x + c.width, c.y + c.height]); var f = l[0] - s[0], h = l[1] - s[1], d = c.width, v = c.height, p = n.coordinateSystem = new gg; p.zoomLimit = n.get("scaleLimit"), p.setBoundingRect(s[0], s[1], f, h), p.setViewRect(c.x, c.y, d, v), p.setCenter(n.get("center"), e), p.setZoom(n.get("zoom")), r.push(p) } }), r } var gE = $n.prototype, aS = J_.prototype, Pz = function () { function t() { this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.percent = 1 } return t }(); (function (t) { ae(e, t); function e() { return t !== null && t.apply(this, arguments) || this } return e })(Pz); function iS(t) { return isNaN(+t.cpx1) || isNaN(+t.cpy1) } var Sbe = function (t) { ae(e, t); function e(r) { var n = t.call(this, r) || this; return n.type = "ec-line", n } return e.prototype.getDefaultStyle = function () { return { stroke: "#000", fill: null } }, e.prototype.getDefaultShape = function () { return new Pz }, e.prototype.buildPath = function (r, n) { iS(n) ? gE.buildPath.call(this, r, n) : aS.buildPath.call(this, r, n) }, e.prototype.pointAt = function (r) { return iS(this.shape) ? gE.pointAt.call(this, r) : aS.pointAt.call(this, r) }, e.prototype.tangentAt = function (r) { var n = this.shape, a = iS(n) ? [n.x2 - n.x1, n.y2 - n.y1] : aS.tangentAt.call(this, r); return Vh(a, a) }, e }(At); const xbe = Sbe; var oS = ["fromSymbol", "toSymbol"]; function mE(t) { return "_" + t + "Type" } function yE(t, e, r) { var n = e.getItemVisual(r, t); if (!n || n === "none") return n; var a = e.getItemVisual(r, t + "Size"), i = e.getItemVisual(r, t + "Rotate"), o = e.getItemVisual(r, t + "Offset"), s = e.getItemVisual(r, t + "KeepAspect"), l = ed(a), u = Xc(o || 0, l); return n + l + u + (i || "") + (s || "") } function _E(t, e, r) { var n = e.getItemVisual(r, t); if (!(!n || n === "none")) { var a = e.getItemVisual(r, t + "Size"), i = e.getItemVisual(r, t + "Rotate"), o = e.getItemVisual(r, t + "Offset"), s = e.getItemVisual(r, t + "KeepAspect"), l = ed(a), u = Xc(o || 0, l), c = gn(n, -l[0] / 2 + u[0], -l[1] / 2 + u[1], l[0], l[1], null, s); return c.__specifiedRotation = i == null || isNaN(i) ? void 0 : +i * Math.PI / 180 || 0, c.name = t, c } } function Tbe(t) { var e = new xbe({ name: "line", subPixelOptimize: !0 }); return s2(e.shape, t), e } function s2(t, e) { t.x1 = e[0][0], t.y1 = e[0][1], t.x2 = e[1][0], t.y2 = e[1][1], t.percent = 1; var r = e[2]; r ? (t.cpx1 = r[0], t.cpy1 = r[1]) : (t.cpx1 = NaN, t.cpy1 = NaN) } var Dbe = function (t) { ae(e, t); function e(r, n, a) { var i = t.call(this) || this; return i._createLine(r, n, a), i } return e.prototype._createLine = function (r, n, a) { var i = r.hostModel, o = r.getItemLayout(n), s = Tbe(o); s.shape.percent = 0, Or(s, { shape: { percent: 1 } }, i, n), this.add(s), E(oS, function (l) { var u = _E(l, r, n); this.add(u), this[mE(l)] = yE(l, r, n) }, this), this._updateCommonStl(r, n, a) }, e.prototype.updateData = function (r, n, a) { var i = r.hostModel, o = this.childOfName("line"), s = r.getItemLayout(n), l = { shape: {} }; s2(l.shape, s), jt(o, l, i, n), E(oS, function (u) { var c = yE(u, r, n), f = mE(u); if (this[f] !== c) { this.remove(this.childOfName(u)); var h = _E(u, r, n); this.add(h) } this[f] = c }, this), this._updateCommonStl(r, n, a) }, e.prototype.getLinePath = function () { return this.childAt(0) }, e.prototype._updateCommonStl = function (r, n, a) { var i = r.hostModel, o = this.childOfName("line"), s = a && a.emphasisLineStyle, l = a && a.blurLineStyle, u = a && a.selectLineStyle, c = a && a.labelStatesModels, f = a && a.emphasisDisabled, h = a && a.focus, d = a && a.blurScope; if (!a || r.hasItemOption) { var v = r.getItemModel(n), p = v.getModel("emphasis"); s = p.getModel("lineStyle").getLineStyle(), l = v.getModel(["blur", "lineStyle"]).getLineStyle(), u = v.getModel(["select", "lineStyle"]).getLineStyle(), f = p.get("disabled"), h = p.get("focus"), d = p.get("blurScope"), c = Pn(v) } var g = r.getItemVisual(n, "style"), m = g.stroke; o.useStyle(g), o.style.fill = null, o.style.strokeNoScale = !0, o.ensureState("emphasis").style = s, o.ensureState("blur").style = l, o.ensureState("select").style = u, E(oS, function (S) { var T = this.childOfName(S); if (T) { T.setColor(m), T.style.opacity = g.opacity; for (var C = 0; C < _a.length; C++) { var M = _a[C], k = o.getState(M); if (k) { var A = k.style || {}, R = T.ensureState(M), N = R.style || (R.style = {}); A.stroke != null && (N[T.__isEmptyBrush ? "stroke" : "fill"] = A.stroke), A.opacity != null && (N.opacity = A.opacity) } } T.markRedraw() } }, this); var y = i.getRawValue(n); Wn(this, c, { labelDataIndex: n, labelFetcher: { getFormattedLabel: function (S, T) { return i.getFormattedLabel(S, T, r.dataType) } }, inheritColor: m || "#000", defaultOpacity: g.opacity, defaultText: (y == null ? r.getName(n) : isFinite(y) ? en(y) : y) + "" }); var _ = this.getTextContent(); if (_) { var b = c.normal; _.__align = _.style.align, _.__verticalAlign = _.style.verticalAlign, _.__position = b.get("position") || "middle"; var x = b.get("distance"); me(x) || (x = [x, x]), _.__labelDistance = x } this.setTextConfig({ position: null, local: !0, inside: !1 }), Xr(this, h, d, f) }, e.prototype.highlight = function () { Ps(this) }, e.prototype.downplay = function () { Rs(this) }, e.prototype.updateLayout = function (r, n) { this.setLinePoints(r.getItemLayout(n)) }, e.prototype.setLinePoints = function (r) { var n = this.childOfName("line"); s2(n.shape, r), n.dirty() }, e.prototype.beforeUpdate = function () { var r = this, n = r.childOfName("fromSymbol"), a = r.childOfName("toSymbol"), i = r.getTextContent(); if (!n && !a && (!i || i.ignore)) return; for (var o = 1, s = this.parent; s;)s.scaleX && (o /= s.scaleX), s = s.parent; var l = r.childOfName("line"); if (!this.__dirty && !l.__dirty) return; var u = l.shape.percent, c = l.pointAt(0), f = l.pointAt(u), h = sc([], f, c); Vh(h, h); function d(k, A) { var R = k.__specifiedRotation; if (R == null) { var N = l.tangentAt(A); k.attr("rotation", (A === 1 ? -1 : 1) * Math.PI / 2 - Math.atan2(N[1], N[0])) } else k.attr("rotation", R) } if (n && (n.setPosition(c), d(n, 0), n.scaleX = n.scaleY = o * u, n.markRedraw()), a && (a.setPosition(f), d(a, 1), a.scaleX = a.scaleY = o * u, a.markRedraw()), i && !i.ignore) { i.x = i.y = 0, i.originX = i.originY = 0; var v = void 0, p = void 0, g = i.__labelDistance, m = g[0] * o, y = g[1] * o, _ = u / 2, b = l.tangentAt(_), x = [b[1], -b[0]], S = l.pointAt(_); x[1] > 0 && (x[0] = -x[0], x[1] = -x[1]); var T = b[0] < 0 ? -1 : 1; if (i.__position !== "start" && i.__position !== "end") { var C = -Math.atan2(b[1], b[0]); f[0] < c[0] && (C = Math.PI + C), i.rotation = C } var M = void 0; switch (i.__position) { case "insideStartTop": case "insideMiddleTop": case "insideEndTop": case "middle": M = -y, p = "bottom"; break; case "insideStartBottom": case "insideMiddleBottom": case "insideEndBottom": M = y, p = "top"; break; default: M = 0, p = "middle" }switch (i.__position) { case "end": i.x = h[0] * m + f[0], i.y = h[1] * y + f[1], v = h[0] > .8 ? "left" : h[0] < -.8 ? "right" : "center", p = h[1] > .8 ? "top" : h[1] < -.8 ? "bottom" : "middle"; break; case "start": i.x = -h[0] * m + c[0], i.y = -h[1] * y + c[1], v = h[0] > .8 ? "right" : h[0] < -.8 ? "left" : "center", p = h[1] > .8 ? "bottom" : h[1] < -.8 ? "top" : "middle"; break; case "insideStartTop": case "insideStart": case "insideStartBottom": i.x = m * T + c[0], i.y = c[1] + M, v = b[0] < 0 ? "right" : "left", i.originX = -m * T, i.originY = -M; break; case "insideMiddleTop": case "insideMiddle": case "insideMiddleBottom": case "middle": i.x = S[0], i.y = S[1] + M, v = "center", i.originY = -M; break; case "insideEndTop": case "insideEnd": case "insideEndBottom": i.x = -m * T + f[0], i.y = f[1] + M, v = b[0] >= 0 ? "right" : "left", i.originX = m * T, i.originY = -M; break }i.scaleX = i.scaleY = o, i.setStyle({ verticalAlign: i.__verticalAlign || p, align: i.__align || v }) } }, e }(it); const dM = Dbe; var Cbe = function () { function t(e) { this.group = new it, this._LineCtor = e || dM } return t.prototype.updateData = function (e) { var r = this; this._progressiveEls = null; var n = this, a = n.group, i = n._lineData; n._lineData = e, i || a.removeAll(); var o = bE(e); e.diff(i).add(function (s) { r._doAdd(e, s, o) }).update(function (s, l) { r._doUpdate(i, e, l, s, o) }).remove(function (s) { a.remove(i.getItemGraphicEl(s)) }).execute() }, t.prototype.updateLayout = function () { var e = this._lineData; e && e.eachItemGraphicEl(function (r, n) { r.updateLayout(e, n) }, this) }, t.prototype.incrementalPrepareUpdate = function (e) { this._seriesScope = bE(e), this._lineData = null, this.group.removeAll() }, t.prototype.incrementalUpdate = function (e, r) { this._progressiveEls = []; function n(s) { !s.isGroup && !Mbe(s) && (s.incremental = !0, s.ensureState("emphasis").hoverLayer = !0) } for (var a = e.start; a < e.end; a++) { var i = r.getItemLayout(a); if (sS(i)) { var o = new this._LineCtor(r, a, this._seriesScope); o.traverse(n), this.group.add(o), r.setItemGraphicEl(a, o), this._progressiveEls.push(o) } } }, t.prototype.remove = function () { this.group.removeAll() }, t.prototype.eachRendered = function (e) { ou(this._progressiveEls || this.group, e) }, t.prototype._doAdd = function (e, r, n) { var a = e.getItemLayout(r); if (sS(a)) { var i = new this._LineCtor(e, r, n); e.setItemGraphicEl(r, i), this.group.add(i) } }, t.prototype._doUpdate = function (e, r, n, a, i) { var o = e.getItemGraphicEl(n); if (!sS(r.getItemLayout(a))) { this.group.remove(o); return } o ? o.updateData(r, a, i) : o = new this._LineCtor(r, a, i), r.setItemGraphicEl(a, o), this.group.add(o) }, t }(); function Mbe(t) { return t.animators && t.animators.length > 0 } function bE(t) { var e = t.hostModel, r = e.getModel("emphasis"); return { lineStyle: e.getModel("lineStyle").getLineStyle(), emphasisLineStyle: r.getModel(["lineStyle"]).getLineStyle(), blurLineStyle: e.getModel(["blur", "lineStyle"]).getLineStyle(), selectLineStyle: e.getModel(["select", "lineStyle"]).getLineStyle(), emphasisDisabled: r.get("disabled"), blurScope: r.get("blurScope"), focus: r.get("focus"), labelStatesModels: Pn(e) } } function wE(t) { return isNaN(t[0]) || isNaN(t[1]) } function sS(t) { return t && !wE(t[0]) && !wE(t[1]) } const vM = Cbe; var lS = [], uS = [], cS = [], Lf = On, fS = wc, SE = Math.abs; function xE(t, e, r) { for (var n = t[0], a = t[1], i = t[2], o = 1 / 0, s, l = r * r, u = .1, c = .1; c <= .9; c += .1) { lS[0] = Lf(n[0], a[0], i[0], c), lS[1] = Lf(n[1], a[1], i[1], c); var f = SE(fS(lS, e) - l); f < o && (o = f, s = c) } for (var h = 0; h < 32; h++) { var d = s + u; uS[0] = Lf(n[0], a[0], i[0], s), uS[1] = Lf(n[1], a[1], i[1], s), cS[0] = Lf(n[0], a[0], i[0], d), cS[1] = Lf(n[1], a[1], i[1], d); var f = fS(uS, e) - l; if (SE(f) < .01) break; var v = fS(cS, e) - l; u /= 2, f < 0 ? v >= 0 ? s = s + u : s = s - u : v >= 0 ? s = s - u : s = s + u } return s } function hS(t, e) { var r = [], n = op, a = [[], [], []], i = [[], []], o = []; e /= 2, t.eachEdge(function (s, l) { var u = s.getLayout(), c = s.getVisual("fromSymbol"), f = s.getVisual("toSymbol"); u.__original || (u.__original = [Ss(u[0]), Ss(u[1])], u[2] && u.__original.push(Ss(u[2]))); var h = u.__original; if (u[2] != null) { if (ca(a[0], h[0]), ca(a[1], h[2]), ca(a[2], h[1]), c && c !== "none") { var d = hv(s.node1), v = xE(a, h[0], d * e); n(a[0][0], a[1][0], a[2][0], v, r), a[0][0] = r[3], a[1][0] = r[4], n(a[0][1], a[1][1], a[2][1], v, r), a[0][1] = r[3], a[1][1] = r[4] } if (f && f !== "none") { var d = hv(s.node2), v = xE(a, h[1], d * e); n(a[0][0], a[1][0], a[2][0], v, r), a[1][0] = r[1], a[2][0] = r[2], n(a[0][1], a[1][1], a[2][1], v, r), a[1][1] = r[1], a[2][1] = r[2] } ca(u[0], a[0]), ca(u[1], a[2]), ca(u[2], a[1]) } else { if (ca(i[0], h[0]), ca(i[1], h[1]), sc(o, i[1], i[0]), Vh(o, o), c && c !== "none") { var d = hv(s.node1); Kx(i[0], i[0], o, d * e) } if (f && f !== "none") { var d = hv(s.node2); Kx(i[1], i[1], o, -d * e) } ca(u[0], i[0]), ca(u[1], i[1]) } }) } function TE(t) { return t.type === "view" } var kbe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.init = function (r, n) { var a = new fg, i = new vM, o = this.group; this._controller = new pg(n.getZr()), this._controllerHost = { target: o }, o.add(a.group), o.add(i.group), this._symbolDraw = a, this._lineDraw = i, this._firstRender = !0 }, e.prototype.render = function (r, n, a) { var i = this, o = r.coordinateSystem; this._model = r; var s = this._symbolDraw, l = this._lineDraw, u = this.group; if (TE(o)) { var c = { x: o.x, y: o.y, scaleX: o.scaleX, scaleY: o.scaleY }; this._firstRender ? u.attr(c) : jt(u, c, r) } hS(r.getGraph(), fv(r)); var f = r.getData(); s.updateData(f); var h = r.getEdgeData(); l.updateData(h), this._updateNodeAndLinkScale(), this._updateController(r, n, a), clearTimeout(this._layoutTimeout); var d = r.forceLayout, v = r.get(["force", "layoutAnimation"]); d && this._startForceLayoutIteration(d, v); var p = r.get("layout"); f.graph.eachNode(function (_) { var b = _.dataIndex, x = _.getGraphicEl(), S = _.getModel(); if (x) { x.off("drag").off("dragend"); var T = S.get("draggable"); T && x.on("drag", function (M) { switch (p) { case "force": d.warmUp(), !i._layouting && i._startForceLayoutIteration(d, v), d.setFixed(b), f.setItemLayout(b, [x.x, x.y]); break; case "circular": f.setItemLayout(b, [x.x, x.y]), _.setLayout({ fixed: !0 }, !0), hM(r, "symbolSize", _, [M.offsetX, M.offsetY]), i.updateLayout(r); break; case "none": default: f.setItemLayout(b, [x.x, x.y]), fM(r.getGraph(), r), i.updateLayout(r); break } }).on("dragend", function () { d && d.setUnfixed(b) }), x.setDraggable(T, !!S.get("cursor")); var C = S.get(["emphasis", "focus"]); C === "adjacency" && (lt(x).focus = _.getAdjacentDataIndices()) } }), f.graph.eachEdge(function (_) { var b = _.getGraphicEl(), x = _.getModel().get(["emphasis", "focus"]); b && x === "adjacency" && (lt(b).focus = { edge: [_.dataIndex], node: [_.node1.dataIndex, _.node2.dataIndex] }) }); var g = r.get("layout") === "circular" && r.get(["circular", "rotateLabel"]), m = f.getLayout("cx"), y = f.getLayout("cy"); f.graph.eachNode(function (_) { Iz(_, g, m, y) }), this._firstRender = !1 }, e.prototype.dispose = function () { this._controller && this._controller.dispose(), this._controllerHost = null }, e.prototype._startForceLayoutIteration = function (r, n) { var a = this; (function i() { r.step(function (o) { a.updateLayout(a._model), (a._layouting = !o) && (n ? a._layoutTimeout = setTimeout(i, 16) : i()) }) })() }, e.prototype._updateController = function (r, n, a) { var i = this, o = this._controller, s = this._controllerHost, l = this.group; if (o.setPointerChecker(function (u, c, f) { var h = l.getBoundingRect(); return h.applyTransform(l.transform), h.contain(c, f) && !y1(u, a, r) }), !TE(r.coordinateSystem)) { o.disable(); return } o.enable(r.get("roam")), s.zoomLimit = r.get("scaleLimit"), s.zoom = r.coordinateSystem.getZoom(), o.off("pan").off("zoom").on("pan", function (u) { tM(s, u.dx, u.dy), a.dispatchAction({ seriesId: r.id, type: "graphRoam", dx: u.dx, dy: u.dy }) }).on("zoom", function (u) { rM(s, u.scale, u.originX, u.originY), a.dispatchAction({ seriesId: r.id, type: "graphRoam", zoom: u.scale, originX: u.originX, originY: u.originY }), i._updateNodeAndLinkScale(), hS(r.getGraph(), fv(r)), i._lineDraw.updateLayout(), a.updateLabelLayout() }) }, e.prototype._updateNodeAndLinkScale = function () { var r = this._model, n = r.getData(), a = fv(r); n.eachItemGraphicEl(function (i, o) { i && i.setSymbolScale(a) }) }, e.prototype.updateLayout = function (r) { hS(r.getGraph(), fv(r)), this._symbolDraw.updateLayout(), this._lineDraw.updateLayout() }, e.prototype.remove = function (r, n) { this._symbolDraw && this._symbolDraw.remove(), this._lineDraw && this._lineDraw.remove() }, e.type = "graph", e }(Ar); const Abe = kbe; function If(t) { return "_EC_" + t } var Lbe = function () { function t(e) { this.type = "graph", this.nodes = [], this.edges = [], this._nodesMap = {}, this._edgesMap = {}, this._directed = e || !1 } return t.prototype.isDirected = function () { return this._directed }, t.prototype.addNode = function (e, r) { e = e == null ? "" + r : "" + e; var n = this._nodesMap; if (!n[If(e)]) { var a = new qu(e, r); return a.hostGraph = this, this.nodes.push(a), n[If(e)] = a, a } }, t.prototype.getNodeByIndex = function (e) { var r = this.data.getRawIndex(e); return this.nodes[r] }, t.prototype.getNodeById = function (e) { return this._nodesMap[If(e)] }, t.prototype.addEdge = function (e, r, n) { var a = this._nodesMap, i = this._edgesMap; if (Gt(e) && (e = this.nodes[e]), Gt(r) && (r = this.nodes[r]), e instanceof qu || (e = a[If(e)]), r instanceof qu || (r = a[If(r)]), !(!e || !r)) { var o = e.id + "-" + r.id, s = new Rz(e, r, n); return s.hostGraph = this, this._directed && (e.outEdges.push(s), r.inEdges.push(s)), e.edges.push(s), e !== r && r.edges.push(s), this.edges.push(s), i[o] = s, s } }, t.prototype.getEdgeByIndex = function (e) { var r = this.edgeData.getRawIndex(e); return this.edges[r] }, t.prototype.getEdge = function (e, r) { e instanceof qu && (e = e.id), r instanceof qu && (r = r.id); var n = this._edgesMap; return this._directed ? n[e + "-" + r] : n[e + "-" + r] || n[r + "-" + e] }, t.prototype.eachNode = function (e, r) { for (var n = this.nodes, a = n.length, i = 0; i < a; i++)n[i].dataIndex >= 0 && e.call(r, n[i], i) }, t.prototype.eachEdge = function (e, r) { for (var n = this.edges, a = n.length, i = 0; i < a; i++)n[i].dataIndex >= 0 && n[i].node1.dataIndex >= 0 && n[i].node2.dataIndex >= 0 && e.call(r, n[i], i) }, t.prototype.breadthFirstTraverse = function (e, r, n, a) { if (r instanceof qu || (r = this._nodesMap[If(r)]), !!r) { for (var i = n === "out" ? "outEdges" : n === "in" ? "inEdges" : "edges", o = 0; o < this.nodes.length; o++)this.nodes[o].__visited = !1; if (!e.call(a, r, null)) for (var s = [r]; s.length;)for (var l = s.shift(), u = l[i], o = 0; o < u.length; o++) { var c = u[o], f = c.node1 === l ? c.node2 : c.node1; if (!f.__visited) { if (e.call(a, f, l)) return; s.push(f), f.__visited = !0 } } } }, t.prototype.update = function () { for (var e = this.data, r = this.edgeData, n = this.nodes, a = this.edges, i = 0, o = n.length; i < o; i++)n[i].dataIndex = -1; for (var i = 0, o = e.count(); i < o; i++)n[e.getRawIndex(i)].dataIndex = i; r.filterSelf(function (s) { var l = a[r.getRawIndex(s)]; return l.node1.dataIndex >= 0 && l.node2.dataIndex >= 0 }); for (var i = 0, o = a.length; i < o; i++)a[i].dataIndex = -1; for (var i = 0, o = r.count(); i < o; i++)a[r.getRawIndex(i)].dataIndex = i }, t.prototype.clone = function () { for (var e = new t(this._directed), r = this.nodes, n = this.edges, a = 0; a < r.length; a++)e.addNode(r[a].id, r[a].dataIndex); for (var a = 0; a < n.length; a++) { var i = n[a]; e.addEdge(i.node1.id, i.node2.id, i.dataIndex) } return e }, t }(), qu = function () { function t(e, r) { this.inEdges = [], this.outEdges = [], this.edges = [], this.dataIndex = -1, this.id = e ?? "", this.dataIndex = r ?? -1 } return t.prototype.degree = function () { return this.edges.length }, t.prototype.inDegree = function () { return this.inEdges.length }, t.prototype.outDegree = function () { return this.outEdges.length }, t.prototype.getModel = function (e) { if (!(this.dataIndex < 0)) { var r = this.hostGraph, n = r.data.getItemModel(this.dataIndex); return n.getModel(e) } }, t.prototype.getAdjacentDataIndices = function () { for (var e = { edge: [], node: [] }, r = 0; r < this.edges.length; r++) { var n = this.edges[r]; n.dataIndex < 0 || (e.edge.push(n.dataIndex), e.node.push(n.node1.dataIndex, n.node2.dataIndex)) } return e }, t.prototype.getTrajectoryDataIndices = function () { for (var e = He(), r = He(), n = 0; n < this.edges.length; n++) { var a = this.edges[n]; if (!(a.dataIndex < 0)) { e.set(a.dataIndex, !0); for (var i = [a.node1], o = [a.node2], s = 0; s < i.length;) { var l = i[s]; s++, r.set(l.dataIndex, !0); for (var u = 0; u < l.inEdges.length; u++)e.set(l.inEdges[u].dataIndex, !0), i.push(l.inEdges[u].node1) } for (s = 0; s < o.length;) { var c = o[s]; s++, r.set(c.dataIndex, !0); for (var u = 0; u < c.outEdges.length; u++)e.set(c.outEdges[u].dataIndex, !0), o.push(c.outEdges[u].node2) } } } return { edge: e.keys(), node: r.keys() } }, t }(), Rz = function () { function t(e, r, n) { this.dataIndex = -1, this.node1 = e, this.node2 = r, this.dataIndex = n ?? -1 } return t.prototype.getModel = function (e) { if (!(this.dataIndex < 0)) { var r = this.hostGraph, n = r.edgeData.getItemModel(this.dataIndex); return n.getModel(e) } }, t.prototype.getAdjacentDataIndices = function () { return { edge: [this.dataIndex], node: [this.node1.dataIndex, this.node2.dataIndex] } }, t.prototype.getTrajectoryDataIndices = function () { var e = He(), r = He(); e.set(this.dataIndex, !0); for (var n = [this.node1], a = [this.node2], i = 0; i < n.length;) { var o = n[i]; i++, r.set(o.dataIndex, !0); for (var s = 0; s < o.inEdges.length; s++)e.set(o.inEdges[s].dataIndex, !0), n.push(o.inEdges[s].node1) } for (i = 0; i < a.length;) { var l = a[i]; i++, r.set(l.dataIndex, !0); for (var s = 0; s < l.outEdges.length; s++)e.set(l.outEdges[s].dataIndex, !0), a.push(l.outEdges[s].node2) } return { edge: e.keys(), node: r.keys() } }, t }(); function Oz(t, e) { return { getValue: function (r) { var n = this[t][e]; return n.getStore().get(n.getDimensionIndex(r || "value"), this.dataIndex) }, setVisual: function (r, n) { this.dataIndex >= 0 && this[t][e].setItemVisual(this.dataIndex, r, n) }, getVisual: function (r) { return this[t][e].getItemVisual(this.dataIndex, r) }, setLayout: function (r, n) { this.dataIndex >= 0 && this[t][e].setItemLayout(this.dataIndex, r, n) }, getLayout: function () { return this[t][e].getItemLayout(this.dataIndex) }, getGraphicEl: function () { return this[t][e].getItemGraphicEl(this.dataIndex) }, getRawIndex: function () { return this[t][e].getRawIndex(this.dataIndex) } } } mn(qu, Oz("hostGraph", "data")); mn(Rz, Oz("hostGraph", "edgeData")); const Ibe = Lbe; function Ez(t, e, r, n, a) { for (var i = new Ibe(n), o = 0; o < t.length; o++)i.addNode(Nn(t[o].id, t[o].name, o), o); for (var s = [], l = [], u = 0, o = 0; o < e.length; o++) { var c = e[o], f = c.source, h = c.target; i.addEdge(f, h, u) && (l.push(c), s.push(Nn(yn(c.id, null), f + " > " + h)), u++) } var d = r.get("coordinateSystem"), v; if (d === "cartesian2d" || d === "polar") v = Hs(t, r); else { var p = ag.get(d), g = p ? p.dimensions || [] : []; Ct(g, "value") < 0 && g.concat(["value"]); var m = sg(t, { coordDimensions: g, encodeDefine: r.getEncode() }).dimensions; v = new ma(m, r), v.initData(t) } var y = new ma(["value"], r); return y.initData(l, s), a && a(v, y), gz({ mainData: v, struct: i, structAttr: "graph", datas: { node: v, edge: y }, datasAttr: { node: "data", edge: "edgeData" } }), i.update(), i } var Pbe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.hasSymbolVisual = !0, r } return e.prototype.init = function (r) { t.prototype.init.apply(this, arguments); var n = this; function a() { return n._categoriesData } this.legendVisualProvider = new vg(a, a), this.fillDataTextStyle(r.edges || r.links), this._updateCategoriesData() }, e.prototype.mergeOption = function (r) { t.prototype.mergeOption.apply(this, arguments), this.fillDataTextStyle(r.edges || r.links), this._updateCategoriesData() }, e.prototype.mergeDefaultAndTheme = function (r) { t.prototype.mergeDefaultAndTheme.apply(this, arguments), Oc(r, "edgeLabel", ["show"]) }, e.prototype.getInitialData = function (r, n) { var a = r.edges || r.links || [], i = r.data || r.nodes || [], o = this; if (i && a) { dbe(this); var s = Ez(i, a, this, !0, l); return E(s.edges, function (u) { vbe(u.node1, u.node2, this, u.dataIndex) }, this), s.data } function l(u, c) { u.wrapMethod("getItemModel", function (v) { var p = o._categoriesModels, g = v.getShallow("category"), m = p[g]; return m && (m.parentModel = v.parentModel, v.parentModel = m), v }); var f = kr.prototype.getModel; function h(v, p) { var g = f.call(this, v, p); return g.resolveParentPath = d, g } c.wrapMethod("getItemModel", function (v) { return v.resolveParentPath = d, v.getModel = h, v }); function d(v) { if (v && (v[0] === "label" || v[1] === "label")) { var p = v.slice(); return v[0] === "label" ? p[0] = "edgeLabel" : v[1] === "label" && (p[1] = "edgeLabel"), p } return v } } }, e.prototype.getGraph = function () { return this.getData().graph }, e.prototype.getEdgeData = function () { return this.getGraph().edgeData }, e.prototype.getCategoriesData = function () { return this._categoriesData }, e.prototype.formatTooltip = function (r, n, a) { if (a === "edge") { var i = this.getData(), o = this.getDataParams(r, a), s = i.graph.getEdgeByIndex(r), l = i.getName(s.node1.dataIndex), u = i.getName(s.node2.dataIndex), c = []; return l != null && c.push(l), u != null && c.push(u), Rn("nameValue", { name: c.join(" > "), value: o.value, noValue: o.value == null }) } var f = v6({ series: this, dataIndex: r, multipleSeries: n }); return f }, e.prototype._updateCategoriesData = function () { var r = _e(this.option.categories || [], function (a) { return a.value != null ? a : he({ value: 0 }, a) }), n = new ma(["value"], this); n.initData(r), this._categoriesData = n, this._categoriesModels = n.mapArray(function (a) { return n.getItemModel(a) }) }, e.prototype.setZoom = function (r) { this.option.zoom = r }, e.prototype.setCenter = function (r) { this.option.center = r }, e.prototype.isAnimationEnabled = function () { return t.prototype.isAnimationEnabled.call(this) && !(this.get("layout") === "force" && this.get(["force", "layoutAnimation"])) }, e.type = "series.graph", e.dependencies = ["grid", "polar", "geo", "singleAxis", "calendar"], e.defaultOption = { z: 2, coordinateSystem: "view", legendHoverLink: !0, layout: null, circular: { rotateLabel: !1 }, force: { initLayout: null, repulsion: [0, 50], gravity: .1, friction: .6, edgeLength: 30, layoutAnimation: !0 }, left: "center", top: "center", symbol: "circle", symbolSize: 10, edgeSymbol: ["none", "none"], edgeSymbolSize: 10, edgeLabel: { position: "middle", distance: 5 }, draggable: !1, roam: !1, center: null, zoom: 1, nodeScaleRatio: .6, label: { show: !1, formatter: "{b}" }, itemStyle: {}, lineStyle: { color: "#aaa", width: 1, opacity: .5 }, emphasis: { scale: !0, label: { show: !0 } }, select: { itemStyle: { borderColor: "#212121" } } }, e }($r); const Rbe = Pbe; var Obe = { type: "graphRoam", event: "graphRoam", update: "none" }; function Ebe(t) { t.registerChartView(Abe), t.registerSeriesModel(Rbe), t.registerProcessor(lbe), t.registerVisual(ube), t.registerVisual(cbe), t.registerLayout(pbe), t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT, mbe), t.registerLayout(_be), t.registerCoordinateSystem("graphView", { dimensions: gg.dimensions, create: wbe }), t.registerAction({ type: "focusNodeAdjacency", event: "focusNodeAdjacency", update: "series:focusNodeAdjacency" }, nn), t.registerAction({ type: "unfocusNodeAdjacency", event: "unfocusNodeAdjacency", update: "series:unfocusNodeAdjacency" }, nn), t.registerAction(Obe, function (e, r, n) { r.eachComponent({ mainType: "series", query: e }, function (a) { var i = a.coordinateSystem, o = aM(i, e, void 0, n); a.setCenter && a.setCenter(o.center), a.setZoom && a.setZoom(o.zoom) }) }) } var Nbe = function () { function t() { this.angle = 0, this.width = 10, this.r = 10, this.x = 0, this.y = 0 } return t }(), $be = function (t) { ae(e, t); function e(r) { var n = t.call(this, r) || this; return n.type = "pointer", n } return e.prototype.getDefaultShape = function () { return new Nbe }, e.prototype.buildPath = function (r, n) { var a = Math.cos, i = Math.sin, o = n.r, s = n.width, l = n.angle, u = n.x - a(l) * s * (s >= o / 3 ? 1 : 2), c = n.y - i(l) * s * (s >= o / 3 ? 1 : 2); l = n.angle - Math.PI / 2, r.moveTo(u, c), r.lineTo(n.x + a(l) * s, n.y + i(l) * s), r.lineTo(n.x + a(n.angle) * o, n.y + i(n.angle) * o), r.lineTo(n.x - a(l) * s, n.y - i(l) * s), r.lineTo(u, c) }, e }(At); const Fbe = $be; function Bbe(t, e) { var r = t.get("center"), n = e.getWidth(), a = e.getHeight(), i = Math.min(n, a), o = Ae(r[0], e.getWidth()), s = Ae(r[1], e.getHeight()), l = Ae(t.get("radius"), i / 2); return { cx: o, cy: s, r: l } } function $m(t, e) { var r = t == null ? "" : t + ""; return e && (Oe(e) ? r = e.replace("{value}", r) : je(e) && (r = e(t))), r } var Vbe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.render = function (r, n, a) { this.group.removeAll(); var i = r.get(["axisLine", "lineStyle", "color"]), o = Bbe(r, a); this._renderMain(r, n, a, i, o), this._data = r.getData() }, e.prototype.dispose = function () { }, e.prototype._renderMain = function (r, n, a, i, o) { var s = this.group, l = r.get("clockwise"), u = -r.get("startAngle") / 180 * Math.PI, c = -r.get("endAngle") / 180 * Math.PI, f = r.getModel("axisLine"), h = f.get("roundCap"), d = h ? C0 : Oa, v = f.get("show"), p = f.getModel("lineStyle"), g = p.get("width"), m = [u, c]; TF(m, !l), u = m[0], c = m[1]; for (var y = c - u, _ = u, b = [], x = 0; v && x < i.length; x++) { var S = Math.min(Math.max(i[x][0], 0), 1); c = u + y * S; var T = new d({ shape: { startAngle: _, endAngle: c, cx: o.cx, cy: o.cy, clockwise: l, r0: o.r - g, r: o.r }, silent: !0 }); T.setStyle({ fill: i[x][1] }), T.setStyle(p.getLineStyle(["color", "width"])), b.push(T), _ = c } b.reverse(), E(b, function (M) { return s.add(M) }); var C = function (M) { if (M <= 0) return i[0][1]; var k; for (k = 0; k < i.length; k++)if (i[k][0] >= M && (k === 0 ? 0 : i[k - 1][0]) < M) return i[k][1]; return i[k - 1][1] }; this._renderTicks(r, n, a, C, o, u, c, l, g), this._renderTitleAndDetail(r, n, a, C, o), this._renderAnchor(r, o), this._renderPointer(r, n, a, C, o, u, c, l, g) }, e.prototype._renderTicks = function (r, n, a, i, o, s, l, u, c) { for (var f = this.group, h = o.cx, d = o.cy, v = o.r, p = +r.get("min"), g = +r.get("max"), m = r.getModel("splitLine"), y = r.getModel("axisTick"), _ = r.getModel("axisLabel"), b = r.get("splitNumber"), x = y.get("splitNumber"), S = Ae(m.get("length"), v), T = Ae(y.get("length"), v), C = s, M = (l - s) / b, k = M / x, A = m.getModel("lineStyle").getLineStyle(), R = y.getModel("lineStyle").getLineStyle(), N = m.get("distance"), z, F, V = 0; V <= b; V++) { if (z = Math.cos(C), F = Math.sin(C), m.get("show")) { var L = N ? N + c : c, H = new $n({ shape: { x1: z * (v - L) + h, y1: F * (v - L) + d, x2: z * (v - S - L) + h, y2: F * (v - S - L) + d }, style: A, silent: !0 }); A.stroke === "auto" && H.setStyle({ stroke: i(V / b) }), f.add(H) } if (_.get("show")) { var L = _.get("distance") + N, q = $m(en(V / b * (g - p) + p), _.get("formatter")), K = i(V / b), te = z * (v - S - L) + h, oe = F * (v - S - L) + d, X = _.get("rotate"), U = 0; X === "radial" ? (U = -C + 2 * Math.PI, U > Math.PI / 2 && (U += Math.PI)) : X === "tangential" ? U = -C - Math.PI / 2 : Gt(X) && (U = X * Math.PI / 180), U === 0 ? f.add(new Wt({ style: Mr(_, { text: q, x: te, y: oe, verticalAlign: F < -.8 ? "top" : F > .8 ? "bottom" : "middle", align: z < -.4 ? "left" : z > .4 ? "right" : "center" }, { inheritColor: K }), silent: !0 })) : f.add(new Wt({ style: Mr(_, { text: q, x: te, y: oe, verticalAlign: "middle", align: "center" }, { inheritColor: K }), silent: !0, originX: te, originY: oe, rotation: U })) } if (y.get("show") && V !== b) { var L = y.get("distance"); L = L ? L + c : c; for (var B = 0; B <= x; B++) { z = Math.cos(C), F = Math.sin(C); var ee = new $n({ shape: { x1: z * (v - L) + h, y1: F * (v - L) + d, x2: z * (v - T - L) + h, y2: F * (v - T - L) + d }, silent: !0, style: R }); R.stroke === "auto" && ee.setStyle({ stroke: i((V + B / x) / b) }), f.add(ee), C += k } C -= k } else C += M } }, e.prototype._renderPointer = function (r, n, a, i, o, s, l, u, c) { var f = this.group, h = this._data, d = this._progressEls, v = [], p = r.get(["pointer", "show"]), g = r.getModel("progress"), m = g.get("show"), y = r.getData(), _ = y.mapDimension("value"), b = +r.get("min"), x = +r.get("max"), S = [b, x], T = [s, l]; function C(k, A) { var R = y.getItemModel(k), N = R.getModel("pointer"), z = Ae(N.get("width"), o.r), F = Ae(N.get("length"), o.r), V = r.get(["pointer", "icon"]), L = N.get("offsetCenter"), H = Ae(L[0], o.r), q = Ae(L[1], o.r), K = N.get("keepAspect"), te; return V ? te = gn(V, H - z / 2, q - F, z, F, null, K) : te = new Fbe({ shape: { angle: -Math.PI / 2, width: z, r: F, x: H, y: q } }), te.rotation = -(A + Math.PI / 2), te.x = o.cx, te.y = o.cy, te } function M(k, A) { var R = g.get("roundCap"), N = R ? C0 : Oa, z = g.get("overlap"), F = z ? g.get("width") : c / y.count(), V = z ? o.r - F : o.r - (k + 1) * F, L = z ? o.r : o.r - k * F, H = new N({ shape: { startAngle: s, endAngle: A, cx: o.cx, cy: o.cy, clockwise: u, r0: V, r: L } }); return z && (H.z2 = x - y.get(_, k) % x), H } (m || p) && (y.diff(h).add(function (k) { var A = y.get(_, k); if (p) { var R = C(k, s); Or(R, { rotation: -((isNaN(+A) ? T[0] : sr(A, S, T, !0)) + Math.PI / 2) }, r), f.add(R), y.setItemGraphicEl(k, R) } if (m) { var N = M(k, s), z = g.get("clip"); Or(N, { shape: { endAngle: sr(A, S, T, z) } }, r), f.add(N), ST(r.seriesIndex, y.dataType, k, N), v[k] = N } }).update(function (k, A) { var R = y.get(_, k); if (p) { var N = h.getItemGraphicEl(A), z = N ? N.rotation : s, F = C(k, z); F.rotation = z, jt(F, { rotation: -((isNaN(+R) ? T[0] : sr(R, S, T, !0)) + Math.PI / 2) }, r), f.add(F), y.setItemGraphicEl(k, F) } if (m) { var V = d[A], L = V ? V.shape.endAngle : s, H = M(k, L), q = g.get("clip"); jt(H, { shape: { endAngle: sr(R, S, T, q) } }, r), f.add(H), ST(r.seriesIndex, y.dataType, k, H), v[k] = H } }).execute(), y.each(function (k) { var A = y.getItemModel(k), R = A.getModel("emphasis"), N = R.get("focus"), z = R.get("blurScope"), F = R.get("disabled"); if (p) { var V = y.getItemGraphicEl(k), L = y.getItemVisual(k, "style"), H = L.fill; if (V instanceof Gn) { var q = V.style; V.useStyle(he({ image: q.image, x: q.x, y: q.y, width: q.width, height: q.height }, L)) } else V.useStyle(L), V.type !== "pointer" && V.setColor(H); V.setStyle(A.getModel(["pointer", "itemStyle"]).getItemStyle()), V.style.fill === "auto" && V.setStyle("fill", i(sr(y.get(_, k), S, [0, 1], !0))), V.z2EmphasisLift = 0, Un(V, A), Xr(V, N, z, F) } if (m) { var K = v[k]; K.useStyle(y.getItemVisual(k, "style")), K.setStyle(A.getModel(["progress", "itemStyle"]).getItemStyle()), K.z2EmphasisLift = 0, Un(K, A), Xr(K, N, z, F) } }), this._progressEls = v) }, e.prototype._renderAnchor = function (r, n) { var a = r.getModel("anchor"), i = a.get("show"); if (i) { var o = a.get("size"), s = a.get("icon"), l = a.get("offsetCenter"), u = a.get("keepAspect"), c = gn(s, n.cx - o / 2 + Ae(l[0], n.r), n.cy - o / 2 + Ae(l[1], n.r), o, o, null, u); c.z2 = a.get("showAbove") ? 1 : 0, c.setStyle(a.getModel("itemStyle").getItemStyle()), this.group.add(c) } }, e.prototype._renderTitleAndDetail = function (r, n, a, i, o) { var s = this, l = r.getData(), u = l.mapDimension("value"), c = +r.get("min"), f = +r.get("max"), h = new it, d = [], v = [], p = r.isAnimationEnabled(), g = r.get(["pointer", "showAbove"]); l.diff(this._data).add(function (m) { d[m] = new Wt({ silent: !0 }), v[m] = new Wt({ silent: !0 }) }).update(function (m, y) { d[m] = s._titleEls[y], v[m] = s._detailEls[y] }).execute(), l.each(function (m) { var y = l.getItemModel(m), _ = l.get(u, m), b = new it, x = i(sr(_, [c, f], [0, 1], !0)), S = y.getModel("title"); if (S.get("show")) { var T = S.get("offsetCenter"), C = o.cx + Ae(T[0], o.r), M = o.cy + Ae(T[1], o.r), k = d[m]; k.attr({ z2: g ? 0 : 2, style: Mr(S, { x: C, y: M, text: l.getName(m), align: "center", verticalAlign: "middle" }, { inheritColor: x }) }), b.add(k) } var A = y.getModel("detail"); if (A.get("show")) { var R = A.get("offsetCenter"), N = o.cx + Ae(R[0], o.r), z = o.cy + Ae(R[1], o.r), F = Ae(A.get("width"), o.r), V = Ae(A.get("height"), o.r), L = r.get(["progress", "show"]) ? l.getItemVisual(m, "style").fill : x, k = v[m], H = A.get("formatter"); k.attr({ z2: g ? 0 : 2, style: Mr(A, { x: N, y: z, text: $m(_, H), width: isNaN(F) ? null : F, height: isNaN(V) ? null : V, align: "center", verticalAlign: "middle" }, { inheritColor: L }) }), gB(k, { normal: A }, _, function (K) { return $m(K, H) }), p && mB(k, m, l, r, { getFormattedLabel: function (K, te, oe, X, U, B) { return $m(B ? B.interpolatedValue : _, H) } }), b.add(k) } h.add(b) }), this.group.add(h), this._titleEls = d, this._detailEls = v }, e.type = "gauge", e }(Ar); const zbe = Vbe; var Hbe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.visualStyleAccessPath = "itemStyle", r } return e.prototype.getInitialData = function (r, n) { return td(this, ["value"]) }, e.type = "series.gauge", e.defaultOption = { z: 2, colorBy: "data", center: ["50%", "50%"], legendHoverLink: !0, radius: "75%", startAngle: 225, endAngle: -45, clockwise: !0, min: 0, max: 100, splitNumber: 10, axisLine: { show: !0, roundCap: !1, lineStyle: { color: [[1, "#E6EBF8"]], width: 10 } }, progress: { show: !1, overlap: !0, width: 10, roundCap: !1, clip: !0 }, splitLine: { show: !0, length: 10, distance: 10, lineStyle: { color: "#63677A", width: 3, type: "solid" } }, axisTick: { show: !0, splitNumber: 5, length: 6, distance: 10, lineStyle: { color: "#63677A", width: 1, type: "solid" } }, axisLabel: { show: !0, distance: 15, color: "#464646", fontSize: 12, rotate: 0 }, pointer: { icon: null, offsetCenter: [0, 0], show: !0, showAbove: !0, length: "60%", width: 6, keepAspect: !1 }, anchor: { show: !1, showAbove: !1, size: 6, icon: "circle", offsetCenter: [0, 0], keepAspect: !1, itemStyle: { color: "#fff", borderWidth: 0, borderColor: "#5470c6" } }, title: { show: !0, offsetCenter: [0, "20%"], color: "#464646", fontSize: 16, valueAnimation: !1 }, detail: { show: !0, backgroundColor: "rgba(0,0,0,0)", borderWidth: 0, borderColor: "#ccc", width: 100, height: null, padding: [5, 10], offsetCenter: [0, "40%"], color: "#464646", fontSize: 30, fontWeight: "bold", lineHeight: 30, valueAnimation: !1 } }, e }($r); const Ybe = Hbe; function Ube(t) { t.registerChartView(zbe), t.registerSeriesModel(Ybe) } var Wbe = ["itemStyle", "opacity"], Gbe = function (t) { ae(e, t); function e(r, n) { var a = t.call(this) || this, i = a, o = new Na, s = new Wt; return i.setTextContent(s), a.setTextGuideLine(o), a.updateData(r, n, !0), a } return e.prototype.updateData = function (r, n, a) { var i = this, o = r.hostModel, s = r.getItemModel(n), l = r.getItemLayout(n), u = s.getModel("emphasis"), c = s.get(Wbe); c = c ?? 1, a || Zi(i), i.useStyle(r.getItemVisual(n, "style")), i.style.lineJoin = "round", a ? (i.setShape({ points: l.points }), i.style.opacity = 0, Or(i, { style: { opacity: c } }, o, n)) : jt(i, { style: { opacity: c }, shape: { points: l.points } }, o, n), Un(i, s), this._updateLabel(r, n), Xr(this, u.get("focus"), u.get("blurScope"), u.get("disabled")) }, e.prototype._updateLabel = function (r, n) { var a = this, i = this.getTextGuideLine(), o = a.getTextContent(), s = r.hostModel, l = r.getItemModel(n), u = r.getItemLayout(n), c = u.label, f = r.getItemVisual(n, "style"), h = f.fill; Wn(o, Pn(l), { labelFetcher: r.hostModel, labelDataIndex: n, defaultOpacity: f.opacity, defaultText: r.getName(n) }, { normal: { align: c.textAlign, verticalAlign: c.verticalAlign } }), a.setTextConfig({ local: !0, inside: !!c.inside, insideStroke: h, outsideFill: h }); var d = c.linePoints; i.setShape({ points: d }), a.textGuideLineConfig = { anchor: d ? new gt(d[0][0], d[0][1]) : null }, jt(o, { style: { x: c.x, y: c.y } }, s, n), o.attr({ rotation: c.rotation, originX: c.x, originY: c.y, z2: 10 }), qC(a, XC(l), { stroke: h }) }, e }(Ea), jbe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.ignoreLabelLineUpdate = !0, r } return e.prototype.render = function (r, n, a) { var i = r.getData(), o = this._data, s = this.group; i.diff(o).add(function (l) { var u = new Gbe(i, l); i.setItemGraphicEl(l, u), s.add(u) }).update(function (l, u) { var c = o.getItemGraphicEl(u); c.updateData(i, l), s.add(c), i.setItemGraphicEl(l, c) }).remove(function (l) { var u = o.getItemGraphicEl(l); dp(u, r, l) }).execute(), this._data = i }, e.prototype.remove = function () { this.group.removeAll(), this._data = null }, e.prototype.dispose = function () { }, e.type = "funnel", e }(Ar); const Zbe = jbe; var qbe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.init = function (r) { t.prototype.init.apply(this, arguments), this.legendVisualProvider = new vg($e(this.getData, this), $e(this.getRawData, this)), this._defaultLabelLine(r) }, e.prototype.getInitialData = function (r, n) { return td(this, { coordDimensions: ["value"], encodeDefaulter: ut(DC, this) }) }, e.prototype._defaultLabelLine = function (r) { Oc(r, "labelLine", ["show"]); var n = r.labelLine, a = r.emphasis.labelLine; n.show = n.show && r.label.show, a.show = a.show && r.emphasis.label.show }, e.prototype.getDataParams = function (r) { var n = this.getData(), a = t.prototype.getDataParams.call(this, r), i = n.mapDimension("value"), o = n.getSum(i); return a.percent = o ? +(n.get(i, r) / o * 100).toFixed(2) : 0, a.$vars.push("percent"), a }, e.type = "series.funnel", e.defaultOption = { z: 2, legendHoverLink: !0, colorBy: "data", left: 80, top: 60, right: 80, bottom: 60, minSize: "0%", maxSize: "100%", sort: "descending", orient: "vertical", gap: 0, funnelAlign: "center", label: { show: !0, position: "outer" }, labelLine: { show: !0, length: 20, lineStyle: { width: 1 } }, itemStyle: { borderColor: "#fff", borderWidth: 1 }, emphasis: { label: { show: !0 } }, select: { itemStyle: { borderColor: "#212121" } } }, e }($r); const Xbe = qbe; function Kbe(t, e) { return bn(t.getBoxLayoutParams(), { width: e.getWidth(), height: e.getHeight() }) } function Qbe(t, e) { for (var r = t.mapDimension("value"), n = t.mapArray(r, function (l) { return l }), a = [], i = e === "ascending", o = 0, s = t.count(); o < s; o++)a[o] = o; return je(e) ? a.sort(e) : e !== "none" && a.sort(function (l, u) { return i ? n[l] - n[u] : n[u] - n[l] }), a } function Jbe(t) { var e = t.hostModel, r = e.get("orient"); t.each(function (n) { var a = t.getItemModel(n), i = a.getModel("label"), o = i.get("position"), s = a.getModel("labelLine"), l = t.getItemLayout(n), u = l.points, c = o === "inner" || o === "inside" || o === "center" || o === "insideLeft" || o === "insideRight", f, h, d, v; if (c) o === "insideLeft" ? (h = (u[0][0] + u[3][0]) / 2 + 5, d = (u[0][1] + u[3][1]) / 2, f = "left") : o === "insideRight" ? (h = (u[1][0] + u[2][0]) / 2 - 5, d = (u[1][1] + u[2][1]) / 2, f = "right") : (h = (u[0][0] + u[1][0] + u[2][0] + u[3][0]) / 4, d = (u[0][1] + u[1][1] + u[2][1] + u[3][1]) / 4, f = "center"), v = [[h, d], [h, d]]; else { var p = void 0, g = void 0, m = void 0, y = void 0, _ = s.get("length"); o === "left" ? (p = (u[3][0] + u[0][0]) / 2, g = (u[3][1] + u[0][1]) / 2, m = p - _, h = m - 5, f = "right") : o === "right" ? (p = (u[1][0] + u[2][0]) / 2, g = (u[1][1] + u[2][1]) / 2, m = p + _, h = m + 5, f = "left") : o === "top" ? (p = (u[3][0] + u[0][0]) / 2, g = (u[3][1] + u[0][1]) / 2, y = g - _, d = y - 5, f = "center") : o === "bottom" ? (p = (u[1][0] + u[2][0]) / 2, g = (u[1][1] + u[2][1]) / 2, y = g + _, d = y + 5, f = "center") : o === "rightTop" ? (p = r === "horizontal" ? u[3][0] : u[1][0], g = r === "horizontal" ? u[3][1] : u[1][1], r === "horizontal" ? (y = g - _, d = y - 5, f = "center") : (m = p + _, h = m + 5, f = "top")) : o === "rightBottom" ? (p = u[2][0], g = u[2][1], r === "horizontal" ? (y = g + _, d = y + 5, f = "center") : (m = p + _, h = m + 5, f = "bottom")) : o === "leftTop" ? (p = u[0][0], g = r === "horizontal" ? u[0][1] : u[1][1], r === "horizontal" ? (y = g - _, d = y - 5, f = "center") : (m = p - _, h = m - 5, f = "right")) : o === "leftBottom" ? (p = r === "horizontal" ? u[1][0] : u[3][0], g = r === "horizontal" ? u[1][1] : u[2][1], r === "horizontal" ? (y = g + _, d = y + 5, f = "center") : (m = p - _, h = m - 5, f = "right")) : (p = (u[1][0] + u[2][0]) / 2, g = (u[1][1] + u[2][1]) / 2, r === "horizontal" ? (y = g + _, d = y + 5, f = "center") : (m = p + _, h = m + 5, f = "left")), r === "horizontal" ? (m = p, h = m) : (y = g, d = y), v = [[p, g], [m, y]] } l.label = { linePoints: v, x: h, y: d, verticalAlign: "middle", textAlign: f, inside: c } }) } function ewe(t, e) { t.eachSeriesByType("funnel", function (r) { var n = r.getData(), a = n.mapDimension("value"), i = r.get("sort"), o = Kbe(r, e), s = r.get("orient"), l = o.width, u = o.height, c = Qbe(n, i), f = o.x, h = o.y, d = s === "horizontal" ? [Ae(r.get("minSize"), u), Ae(r.get("maxSize"), u)] : [Ae(r.get("minSize"), l), Ae(r.get("maxSize"), l)], v = n.getDataExtent(a), p = r.get("min"), g = r.get("max"); p == null && (p = Math.min(v[0], 0)), g == null && (g = v[1]); var m = r.get("funnelAlign"), y = r.get("gap"), _ = s === "horizontal" ? l : u, b = (_ - y * (n.count() - 1)) / n.count(), x = function (z, F) { if (s === "horizontal") { var V = n.get(a, z) || 0, L = sr(V, [p, g], d, !0), H = void 0; switch (m) { case "top": H = h; break; case "center": H = h + (u - L) / 2; break; case "bottom": H = h + (u - L); break }return [[F, H], [F, H + L]] } var q = n.get(a, z) || 0, K = sr(q, [p, g], d, !0), te; switch (m) { case "left": te = f; break; case "center": te = f + (l - K) / 2; break; case "right": te = f + l - K; break }return [[te, F], [te + K, F]] }; i === "ascending" && (b = -b, y = -y, s === "horizontal" ? f += l : h += u, c = c.reverse()); for (var S = 0; S < c.length; S++) { var T = c[S], C = c[S + 1], M = n.getItemModel(T); if (s === "horizontal") { var k = M.get(["itemStyle", "width"]); k == null ? k = b : (k = Ae(k, l), i === "ascending" && (k = -k)); var A = x(T, f), R = x(C, f + k); f += k + y, n.setItemLayout(T, { points: A.concat(R.slice().reverse()) }) } else { var N = M.get(["itemStyle", "height"]); N == null ? N = b : (N = Ae(N, u), i === "ascending" && (N = -N)); var A = x(T, h), R = x(C, h + N); h += N + y, n.setItemLayout(T, { points: A.concat(R.slice().reverse()) }) } } Jbe(n) }) } function twe(t) { t.registerChartView(Zbe), t.registerSeriesModel(Xbe), t.registerLayout(ewe), t.registerProcessor(dg("funnel")) } var rwe = .3, nwe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r._dataGroup = new it, r._initialized = !1, r } return e.prototype.init = function () { this.group.add(this._dataGroup) }, e.prototype.render = function (r, n, a, i) { this._progressiveEls = null; var o = this._dataGroup, s = r.getData(), l = this._data, u = r.coordinateSystem, c = u.dimensions, f = CE(r); s.diff(l).add(h).update(d).remove(v).execute(); function h(g) { var m = DE(s, o, g, c, u); dS(m, s, g, f) } function d(g, m) { var y = l.getItemGraphicEl(m), _ = Nz(s, g, c, u); s.setItemGraphicEl(g, y), jt(y, { shape: { points: _ } }, r, g), Zi(y), dS(y, s, g, f) } function v(g) { var m = l.getItemGraphicEl(g); o.remove(m) } if (!this._initialized) { this._initialized = !0; var p = awe(u, r, function () { setTimeout(function () { o.removeClipPath() }) }); o.setClipPath(p) } this._data = s }, e.prototype.incrementalPrepareRender = function (r, n, a) { this._initialized = !0, this._data = null, this._dataGroup.removeAll() }, e.prototype.incrementalRender = function (r, n, a) { for (var i = n.getData(), o = n.coordinateSystem, s = o.dimensions, l = CE(n), u = this._progressiveEls = [], c = r.start; c < r.end; c++) { var f = DE(i, this._dataGroup, c, s, o); f.incremental = !0, dS(f, i, c, l), u.push(f) } }, e.prototype.remove = function () { this._dataGroup && this._dataGroup.removeAll(), this._data = null }, e.type = "parallel", e }(Ar); function awe(t, e, r) { var n = t.model, a = t.getRect(), i = new Bt({ shape: { x: a.x, y: a.y, width: a.width, height: a.height } }), o = n.get("layout") === "horizontal" ? "width" : "height"; return i.setShape(o, 0), Or(i, { shape: { width: a.width, height: a.height } }, e, r), i } function Nz(t, e, r, n) { for (var a = [], i = 0; i < r.length; i++) { var o = r[i], s = t.get(t.mapDimension(o), e); iwe(s, n.getAxis(o).type) || a.push(n.dataToPoint(s, o)) } return a } function DE(t, e, r, n, a) { var i = Nz(t, r, n, a), o = new Na({ shape: { points: i }, z2: 10 }); return e.add(o), t.setItemGraphicEl(r, o), o } function CE(t) { var e = t.get("smooth", !0); return e === !0 && (e = rwe), e = Is(e), ip(e) && (e = 0), { smooth: e } } function dS(t, e, r, n) { t.useStyle(e.getItemVisual(r, "style")), t.style.fill = null, t.setShape("smooth", n.smooth); var a = e.getItemModel(r), i = a.getModel("emphasis"); Un(t, a, "lineStyle"), Xr(t, i.get("focus"), i.get("blurScope"), i.get("disabled")) } function iwe(t, e) { return e === "category" ? t == null : t == null || isNaN(t) } const owe = nwe; var swe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.visualStyleAccessPath = "lineStyle", r.visualDrawType = "stroke", r } return e.prototype.getInitialData = function (r, n) { return Hs(null, this, { useEncodeDefaulter: $e(lwe, null, this) }) }, e.prototype.getRawIndicesByActiveState = function (r) { var n = this.coordinateSystem, a = this.getData(), i = []; return n.eachActiveState(a, function (o, s) { r === o && i.push(a.getRawIndex(s)) }), i }, e.type = "series.parallel", e.dependencies = ["parallel"], e.defaultOption = { z: 2, coordinateSystem: "parallel", parallelIndex: 0, label: { show: !1 }, inactiveOpacity: .05, activeOpacity: 1, lineStyle: { width: 1, opacity: .45, type: "solid" }, emphasis: { label: { show: !1 } }, progressive: 500, smooth: !1, animationEasing: "linear" }, e }($r); function lwe(t) { var e = t.ecModel.getComponent("parallel", t.get("parallelIndex")); if (e) { var r = {}; return E(e.dimensions, function (n) { var a = uwe(n); r[n] = a }), r } } function uwe(t) { return +t.replace("dim", "") } const cwe = swe; var fwe = ["lineStyle", "opacity"], hwe = { seriesType: "parallel", reset: function (t, e) { var r = t.coordinateSystem, n = { normal: t.get(["lineStyle", "opacity"]), active: t.get("activeOpacity"), inactive: t.get("inactiveOpacity") }; return { progress: function (a, i) { r.eachActiveState(i, function (o, s) { var l = n[o]; if (o === "normal" && i.hasItemOption) { var u = i.getItemModel(s).get(fwe, !0); u != null && (l = u) } var c = i.ensureUniqueItemVisual(s, "style"); c.opacity = l }, a.start, a.end) } } } }; const dwe = hwe; function vwe(t) { pwe(t), gwe(t) } function pwe(t) { if (!t.parallel) { var e = !1; E(t.series, function (r) { r && r.type === "parallel" && (e = !0) }), e && (t.parallel = [{}]) } } function gwe(t) { var e = mr(t.parallelAxis); E(e, function (r) { if (Qe(r)) { var n = r.parallelIndex || 0, a = mr(t.parallel)[n]; a && a.parallelAxisDefault && bt(r, a.parallelAxisDefault, !1) } }) } var mwe = 5, ywe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.render = function (r, n, a) { this._model = r, this._api = a, this._handlers || (this._handlers = {}, E(_we, function (i, o) { a.getZr().on(o, this._handlers[o] = $e(i, this)) }, this)), Jh(this, "_throttledDispatchExpand", r.get("axisExpandRate"), "fixRate") }, e.prototype.dispose = function (r, n) { yp(this, "_throttledDispatchExpand"), E(this._handlers, function (a, i) { n.getZr().off(i, a) }), this._handlers = null }, e.prototype._throttledDispatchExpand = function (r) { this._dispatchExpand(r) }, e.prototype._dispatchExpand = function (r) { r && this._api.dispatchAction(he({ type: "parallelAxisExpand" }, r)) }, e.type = "parallel", e }(Kr), _we = { mousedown: function (t) { vS(this, "click") && (this._mouseDownPoint = [t.offsetX, t.offsetY]) }, mouseup: function (t) { var e = this._mouseDownPoint; if (vS(this, "click") && e) { var r = [t.offsetX, t.offsetY], n = Math.pow(e[0] - r[0], 2) + Math.pow(e[1] - r[1], 2); if (n > mwe) return; var a = this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX, t.offsetY]); a.behavior !== "none" && this._dispatchExpand({ axisExpandWindow: a.axisExpandWindow }) } this._mouseDownPoint = null }, mousemove: function (t) { if (!(this._mouseDownPoint || !vS(this, "mousemove"))) { var e = this._model, r = e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX, t.offsetY]), n = r.behavior; n === "jump" && this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")), this._throttledDispatchExpand(n === "none" ? null : { axisExpandWindow: r.axisExpandWindow, animation: n === "jump" ? null : { duration: 0 } }) } } }; function vS(t, e) { var r = t._model; return r.get("axisExpandable") && r.get("axisExpandTriggerOn") === e } const bwe = ywe; var wwe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.init = function () { t.prototype.init.apply(this, arguments), this.mergeOption({}) }, e.prototype.mergeOption = function (r) { var n = this.option; r && bt(n, r, !0), this._initDimensions() }, e.prototype.contains = function (r, n) { var a = r.get("parallelIndex"); return a != null && n.getComponent("parallel", a) === this }, e.prototype.setAxisExpand = function (r) { E(["axisExpandable", "axisExpandCenter", "axisExpandCount", "axisExpandWidth", "axisExpandWindow"], function (n) { r.hasOwnProperty(n) && (this.option[n] = r[n]) }, this) }, e.prototype._initDimensions = function () { var r = this.dimensions = [], n = this.parallelAxisIndex = [], a = hr(this.ecModel.queryComponents({ mainType: "parallelAxis" }), function (i) { return (i.get("parallelIndex") || 0) === this.componentIndex }, this); E(a, function (i) { r.push("dim" + i.get("dim")), n.push(i.componentIndex) }) }, e.type = "parallel", e.dependencies = ["parallelAxis"], e.layoutMode = "box", e.defaultOption = { z: 0, left: 80, top: 60, right: 80, bottom: 60, layout: "horizontal", axisExpandable: !1, axisExpandCenter: null, axisExpandCount: 0, axisExpandWidth: 50, axisExpandRate: 17, axisExpandDebounce: 50, axisExpandSlideTriggerArea: [-.15, .05, .4], axisExpandTriggerOn: "click", parallelAxisDefault: null }, e }(Yt); const Swe = wwe; var xwe = function (t) { ae(e, t); function e(r, n, a, i, o) { var s = t.call(this, r, n, a) || this; return s.type = i || "value", s.axisIndex = o, s } return e.prototype.isHorizontal = function () { return this.coordinateSystem.getModel().get("layout") !== "horizontal" }, e }(Ji); const Twe = xwe; function ef(t, e, r, n, a, i) { t = t || 0; var o = r[1] - r[0]; if (a != null && (a = Pf(a, [0, o])), i != null && (i = Math.max(i, a ?? 0)), n === "all") { var s = Math.abs(e[1] - e[0]); s = Pf(s, [0, o]), a = i = Pf(s, [a, i]), n = 0 } e[0] = Pf(e[0], r), e[1] = Pf(e[1], r); var l = pS(e, n); e[n] += t; var u = a || 0, c = r.slice(); l.sign < 0 ? c[0] += u : c[1] -= u, e[n] = Pf(e[n], c); var f; return f = pS(e, n), a != null && (f.sign !== l.sign || f.span < a) && (e[1 - n] = e[n] + l.sign * a), f = pS(e, n), i != null && f.span > i && (e[1 - n] = e[n] + f.sign * i), e } function pS(t, e) { var r = t[e] - t[1 - e]; return { span: Math.abs(r), sign: r > 0 ? -1 : r < 0 ? 1 : e ? -1 : 1 } } function Pf(t, e) { return Math.min(e[1] != null ? e[1] : 1 / 0, Math.max(e[0] != null ? e[0] : -1 / 0, t)) } var gS = E, $z = Math.min, Fz = Math.max, ME = Math.floor, Dwe = Math.ceil, kE = en, Cwe = Math.PI, Mwe = function () { function t(e, r, n) { this.type = "parallel", this._axesMap = He(), this._axesLayout = {}, this.dimensions = e.dimensions, this._model = e, this._init(e, r, n) } return t.prototype._init = function (e, r, n) { var a = e.dimensions, i = e.parallelAxisIndex; gS(a, function (o, s) { var l = i[s], u = r.getComponent("parallelAxis", l), c = this._axesMap.set(o, new Twe(o, g1(u), [0, 0], u.get("type"), l)), f = c.type === "category"; c.onBand = f && u.get("boundaryGap"), c.inverse = u.get("inverse"), u.axis = c, c.model = u, c.coordinateSystem = u.coordinateSystem = this }, this) }, t.prototype.update = function (e, r) { this._updateAxesFromSeries(this._model, e) }, t.prototype.containPoint = function (e) { var r = this._makeLayoutInfo(), n = r.axisBase, a = r.layoutBase, i = r.pixelDimIndex, o = e[1 - i], s = e[i]; return o >= n && o <= n + r.axisLength && s >= a && s <= a + r.layoutLength }, t.prototype.getModel = function () { return this._model }, t.prototype._updateAxesFromSeries = function (e, r) { r.eachSeries(function (n) { if (e.contains(n, r)) { var a = n.getData(); gS(this.dimensions, function (i) { var o = this._axesMap.get(i); o.scale.unionExtentFromData(a, a.mapDimension(i)), kh(o.scale, o.model) }, this) } }, this) }, t.prototype.resize = function (e, r) { this._rect = bn(e.getBoxLayoutParams(), { width: r.getWidth(), height: r.getHeight() }), this._layoutAxes() }, t.prototype.getRect = function () { return this._rect }, t.prototype._makeLayoutInfo = function () { var e = this._model, r = this._rect, n = ["x", "y"], a = ["width", "height"], i = e.get("layout"), o = i === "horizontal" ? 0 : 1, s = r[a[o]], l = [0, s], u = this.dimensions.length, c = Fm(e.get("axisExpandWidth"), l), f = Fm(e.get("axisExpandCount") || 0, [0, u]), h = e.get("axisExpandable") && u > 3 && u > f && f > 1 && c > 0 && s > 0, d = e.get("axisExpandWindow"), v; if (d) v = Fm(d[1] - d[0], l), d[1] = d[0] + v; else { v = Fm(c * (f - 1), l); var p = e.get("axisExpandCenter") || ME(u / 2); d = [c * p - v / 2], d[1] = d[0] + v } var g = (s - v) / (u - f); g < 3 && (g = 0); var m = [ME(kE(d[0] / c, 1)) + 1, Dwe(kE(d[1] / c, 1)) - 1], y = g / c * d[0]; return { layout: i, pixelDimIndex: o, layoutBase: r[n[o]], layoutLength: s, axisBase: r[n[1 - o]], axisLength: r[a[1 - o]], axisExpandable: h, axisExpandWidth: c, axisCollapseWidth: g, axisExpandWindow: d, axisCount: u, winInnerIndices: m, axisExpandWindow0Pos: y } }, t.prototype._layoutAxes = function () { var e = this._rect, r = this._axesMap, n = this.dimensions, a = this._makeLayoutInfo(), i = a.layout; r.each(function (o) { var s = [0, a.axisLength], l = o.inverse ? 1 : 0; o.setExtent(s[l], s[1 - l]) }), gS(n, function (o, s) { var l = (a.axisExpandable ? Awe : kwe)(s, a), u = { horizontal: { x: l.position, y: a.axisLength }, vertical: { x: 0, y: l.position } }, c = { horizontal: Cwe / 2, vertical: 0 }, f = [u[i].x + e.x, u[i].y + e.y], h = c[i], d = yi(); Zc(d, d, h), Ro(d, d, f), this._axesLayout[o] = { position: f, rotation: h, transform: d, axisNameAvailableWidth: l.axisNameAvailableWidth, axisLabelShow: l.axisLabelShow, nameTruncateMaxWidth: l.nameTruncateMaxWidth, tickDirection: 1, labelDirection: 1 } }, this) }, t.prototype.getAxis = function (e) { return this._axesMap.get(e) }, t.prototype.dataToPoint = function (e, r) { return this.axisCoordToPoint(this._axesMap.get(r).dataToCoord(e), r) }, t.prototype.eachActiveState = function (e, r, n, a) { n == null && (n = 0), a == null && (a = e.count()); var i = this._axesMap, o = this.dimensions, s = [], l = []; E(o, function (g) { s.push(e.mapDimension(g)), l.push(i.get(g).model) }); for (var u = this.hasAxisBrushed(), c = n; c < a; c++) { var f = void 0; if (!u) f = "normal"; else { f = "active"; for (var h = e.getValues(s, c), d = 0, v = o.length; d < v; d++) { var p = l[d].getActiveState(h[d]); if (p === "inactive") { f = "inactive"; break } } } r(f, c) } }, t.prototype.hasAxisBrushed = function () { for (var e = this.dimensions, r = this._axesMap, n = !1, a = 0, i = e.length; a < i; a++)r.get(e[a]).model.getActiveState() !== "normal" && (n = !0); return n }, t.prototype.axisCoordToPoint = function (e, r) { var n = this._axesLayout[r]; return Yi([e, 0], n.transform) }, t.prototype.getAxisLayout = function (e) { return rt(this._axesLayout[e]) }, t.prototype.getSlidedAxisExpandWindow = function (e) { var r = this._makeLayoutInfo(), n = r.pixelDimIndex, a = r.axisExpandWindow.slice(), i = a[1] - a[0], o = [0, r.axisExpandWidth * (r.axisCount - 1)]; if (!this.containPoint(e)) return { behavior: "none", axisExpandWindow: a }; var s = e[n] - r.layoutBase - r.axisExpandWindow0Pos, l, u = "slide", c = r.axisCollapseWidth, f = this._model.get("axisExpandSlideTriggerArea"), h = f[0] != null; if (c) h && c && s < i * f[0] ? (u = "jump", l = s - i * f[2]) : h && c && s > i * (1 - f[0]) ? (u = "jump", l = s - i * (1 - f[2])) : (l = s - i * f[1]) >= 0 && (l = s - i * (1 - f[1])) <= 0 && (l = 0), l *= r.axisExpandWidth / c, l ? ef(l, a, o, "all") : u = "none"; else { var d = a[1] - a[0], v = o[1] * s / d; a = [Fz(0, v - d / 2)], a[1] = $z(o[1], a[0] + d), a[0] = a[1] - d } return { axisExpandWindow: a, behavior: u } }, t }(); function Fm(t, e) { return $z(Fz(t, e[0]), e[1]) } function kwe(t, e) { var r = e.layoutLength / (e.axisCount - 1); return { position: r * t, axisNameAvailableWidth: r, axisLabelShow: !0 } } function Awe(t, e) { var r = e.layoutLength, n = e.axisExpandWidth, a = e.axisCount, i = e.axisCollapseWidth, o = e.winInnerIndices, s, l = i, u = !1, c; return t < o[0] ? (s = t * i, c = i) : t <= o[1] ? (s = e.axisExpandWindow0Pos + t * n - e.axisExpandWindow[0], l = n, u = !0) : (s = r - (a - 1 - t) * i, c = i), { position: s, axisNameAvailableWidth: l, axisLabelShow: u, nameTruncateMaxWidth: c } } const Lwe = Mwe; function Iwe(t, e) { var r = []; return t.eachComponent("parallel", function (n, a) { var i = new Lwe(n, t, e); i.name = "parallel_" + a, i.resize(n, e), n.coordinateSystem = i, i.model = n, r.push(i) }), t.eachSeries(function (n) { if (n.get("coordinateSystem") === "parallel") { var a = n.getReferringComponents("parallel", dn).models[0]; n.coordinateSystem = a.coordinateSystem } }), r } var Pwe = { create: Iwe }; const Rwe = Pwe; var Bz = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.activeIntervals = [], r } return e.prototype.getAreaSelectStyle = function () { return Nc([["fill", "color"], ["lineWidth", "borderWidth"], ["stroke", "borderColor"], ["width", "width"], ["opacity", "opacity"]])(this.getModel("areaSelectStyle")) }, e.prototype.setActiveIntervals = function (r) { var n = this.activeIntervals = rt(r); if (n) for (var a = n.length - 1; a >= 0; a--)hi(n[a]) }, e.prototype.getActiveState = function (r) { var n = this.activeIntervals; if (!n.length) return "normal"; if (r == null || isNaN(+r)) return "inactive"; if (n.length === 1) { var a = n[0]; if (a[0] <= r && r <= a[1]) return "active" } else for (var i = 0, o = n.length; i < o; i++)if (n[i][0] <= r && r <= n[i][1]) return "active"; return "inactive" }, e }(Yt); mn(Bz, ug); const AE = Bz; var Bc = !0, Mp = Math.min, Ih = Math.max, Owe = Math.pow, Ewe = 1e4, Nwe = 6, $we = 6, LE = "globalPan", Fwe = { w: [0, 0], e: [0, 1], n: [1, 0], s: [1, 1] }, Bwe = { w: "ew", e: "ew", n: "ns", s: "ns", ne: "nesw", sw: "nesw", nw: "nwse", se: "nwse" }, IE = { brushStyle: { lineWidth: 2, stroke: "rgba(210,219,238,0.3)", fill: "#D2DBEE" }, transformable: !0, brushMode: "single", removeOnClick: !1 }, Vwe = 0, zwe = function (t) { ae(e, t); function e(r) { var n = t.call(this) || this; return n._track = [], n._covers = [], n._handlers = {}, n._zr = r, n.group = new it, n._uid = "brushController_" + Vwe++, E(Zwe, function (a, i) { this._handlers[i] = $e(a, this) }, n), n } return e.prototype.enableBrush = function (r) { return this._brushType && this._doDisableBrush(), r.brushType && this._doEnableBrush(r), this }, e.prototype._doEnableBrush = function (r) { var n = this._zr; this._enableGlobalPan || K0e(n, LE, this._uid), E(this._handlers, function (a, i) { n.on(i, a) }), this._brushType = r.brushType, this._brushOption = bt(rt(IE), r, !0) }, e.prototype._doDisableBrush = function () { var r = this._zr; Q0e(r, LE, this._uid), E(this._handlers, function (n, a) { r.off(a, n) }), this._brushType = this._brushOption = null }, e.prototype.setPanels = function (r) { if (r && r.length) { var n = this._panels = {}; E(r, function (a) { n[a.panelId] = rt(a) }) } else this._panels = null; return this }, e.prototype.mount = function (r) { r = r || {}, this._enableGlobalPan = r.enableGlobalPan; var n = this.group; return this._zr.add(n), n.attr({ x: r.x || 0, y: r.y || 0, rotation: r.rotation || 0, scaleX: r.scaleX || 1, scaleY: r.scaleY || 1 }), this._transform = n.getLocalTransform(), this }, e.prototype.updateCovers = function (r) { r = _e(r, function (h) { return bt(rt(IE), h, !0) }); var n = "\0-brush-index-", a = this._covers, i = this._covers = [], o = this, s = this._creatingCover; return new Os(a, r, u, l).add(c).update(c).remove(f).execute(), this; function l(h, d) { return (h.id != null ? h.id : n + d) + "-" + h.brushType } function u(h, d) { return l(h.__brushOption, d) } function c(h, d) { var v = r[h]; if (d != null && a[d] === s) i[h] = a[d]; else { var p = i[h] = d != null ? (a[d].__brushOption = v, a[d]) : zz(o, Vz(o, v)); pM(o, p) } } function f(h) { a[h] !== s && o.group.remove(a[h]) } }, e.prototype.unmount = function () { return this.enableBrush(!1), l2(this), this._zr.remove(this.group), this }, e.prototype.dispose = function () { this.unmount(), this.off() }, e }(wi); function Vz(t, e) { var r = S1[e.brushType].createCover(t, e); return r.__brushOption = e, Yz(r, e), t.group.add(r), r } function zz(t, e) { var r = gM(e); return r.endCreating && (r.endCreating(t, e), Yz(e, e.__brushOption)), e } function Hz(t, e) { var r = e.__brushOption; gM(e).updateCoverShape(t, e, r.range, r) } function Yz(t, e) { var r = e.z; r == null && (r = Ewe), t.traverse(function (n) { n.z = r, n.z2 = r }) } function pM(t, e) { gM(e).updateCommon(t, e), Hz(t, e) } function gM(t) { return S1[t.__brushOption.brushType] } function mM(t, e, r) { var n = t._panels; if (!n) return Bc; var a, i = t._transform; return E(n, function (o) { o.isTargetByCursor(e, r, i) && (a = o) }), a } function Uz(t, e) { var r = t._panels; if (!r) return Bc; var n = e.__brushOption.panelId; return n != null ? r[n] : Bc } function l2(t) { var e = t._covers, r = e.length; return E(e, function (n) { t.group.remove(n) }, t), e.length = 0, !!r } function Vc(t, e) { var r = _e(t._covers, function (n) { var a = n.__brushOption, i = rt(a.range); return { brushType: a.brushType, panelId: a.panelId, range: i } }); t.trigger("brush", { areas: r, isEnd: !!e.isEnd, removeOnClick: !!e.removeOnClick }) } function Hwe(t) { var e = t._track; if (!e.length) return !1; var r = e[e.length - 1], n = e[0], a = r[0] - n[0], i = r[1] - n[1], o = Owe(a * a + i * i, .5); return o > Nwe } function Wz(t) { var e = t.length - 1; return e < 0 && (e = 0), [t[0], t[e]] } function Gz(t, e, r, n) { var a = new it; return a.add(new Bt({ name: "main", style: yM(r), silent: !0, draggable: !0, cursor: "move", drift: ut(PE, t, e, a, ["n", "s", "w", "e"]), ondragend: ut(Vc, e, { isEnd: !0 }) })), E(n, function (i) { a.add(new Bt({ name: i.join(""), style: { opacity: 0 }, draggable: !0, silent: !0, invisible: !0, drift: ut(PE, t, e, a, i), ondragend: ut(Vc, e, { isEnd: !0 }) })) }), a } function jz(t, e, r, n) { var a = n.brushStyle.lineWidth || 0, i = Ih(a, $we), o = r[0][0], s = r[1][0], l = o - a / 2, u = s - a / 2, c = r[0][1], f = r[1][1], h = c - i + a / 2, d = f - i + a / 2, v = c - o, p = f - s, g = v + a, m = p + a; is(t, e, "main", o, s, v, p), n.transformable && (is(t, e, "w", l, u, i, m), is(t, e, "e", h, u, i, m), is(t, e, "n", l, u, g, i), is(t, e, "s", l, d, g, i), is(t, e, "nw", l, u, i, i), is(t, e, "ne", h, u, i, i), is(t, e, "sw", l, d, i, i), is(t, e, "se", h, d, i, i)) } function u2(t, e) { var r = e.__brushOption, n = r.transformable, a = e.childAt(0); a.useStyle(yM(r)), a.attr({ silent: !n, cursor: n ? "move" : "default" }), E([["w"], ["e"], ["n"], ["s"], ["s", "e"], ["s", "w"], ["n", "e"], ["n", "w"]], function (i) { var o = e.childOfName(i.join("")), s = i.length === 1 ? c2(t, i[0]) : Uwe(t, i); o && o.attr({ silent: !n, invisible: !n, cursor: n ? Bwe[s] + "-resize" : null }) }) } function is(t, e, r, n, a, i, o) { var s = e.childOfName(r); s && s.setShape(Gwe(_M(t, e, [[n, a], [n + i, a + o]]))) } function yM(t) { return Xe({ strokeNoScale: !0 }, t.brushStyle) } function Zz(t, e, r, n) { var a = [Mp(t, r), Mp(e, n)], i = [Ih(t, r), Ih(e, n)]; return [[a[0], i[0]], [a[1], i[1]]] } function Ywe(t) { return Cc(t.group) } function c2(t, e) { var r = { w: "left", e: "right", n: "top", s: "bottom" }, n = { left: "w", right: "e", top: "n", bottom: "s" }, a = t1(r[e], Ywe(t)); return n[a] } function Uwe(t, e) { var r = [c2(t, e[0]), c2(t, e[1])]; return (r[0] === "e" || r[0] === "w") && r.reverse(), r.join("") } function PE(t, e, r, n, a, i) { var o = r.__brushOption, s = t.toRectRange(o.range), l = qz(e, a, i); E(n, function (u) { var c = Fwe[u]; s[c[0]][c[1]] += l[c[0]] }), o.range = t.fromRectRange(Zz(s[0][0], s[1][0], s[0][1], s[1][1])), pM(e, r), Vc(e, { isEnd: !1 }) } function Wwe(t, e, r, n) { var a = e.__brushOption.range, i = qz(t, r, n); E(a, function (o) { o[0] += i[0], o[1] += i[1] }), pM(t, e), Vc(t, { isEnd: !1 }) } function qz(t, e, r) { var n = t.group, a = n.transformCoordToLocal(e, r), i = n.transformCoordToLocal(0, 0); return [a[0] - i[0], a[1] - i[1]] } function _M(t, e, r) { var n = Uz(t, e); return n && n !== Bc ? n.clipPath(r, t._transform) : rt(r) } function Gwe(t) { var e = Mp(t[0][0], t[1][0]), r = Mp(t[0][1], t[1][1]), n = Ih(t[0][0], t[1][0]), a = Ih(t[0][1], t[1][1]); return { x: e, y: r, width: n - e, height: a - r } } function jwe(t, e, r) { if (!(!t._brushType || qwe(t, e.offsetX, e.offsetY))) { var n = t._zr, a = t._covers, i = mM(t, e, r); if (!t._dragging) for (var o = 0; o < a.length; o++) { var s = a[o].__brushOption; if (i && (i === Bc || s.panelId === i.panelId) && S1[s.brushType].contain(a[o], r[0], r[1])) return } i && n.setCursorStyle("crosshair") } } function f2(t) { var e = t.event; e.preventDefault && e.preventDefault() } function h2(t, e, r) { return t.childOfName("main").contain(e, r) } function Xz(t, e, r, n) { var a = t._creatingCover, i = t._creatingPanel, o = t._brushOption, s; if (t._track.push(r.slice()), Hwe(t) || a) { if (i && !a) { o.brushMode === "single" && l2(t); var l = rt(o); l.brushType = RE(l.brushType, i), l.panelId = i === Bc ? null : i.panelId, a = t._creatingCover = Vz(t, l), t._covers.push(a) } if (a) { var u = S1[RE(t._brushType, i)], c = a.__brushOption; c.range = u.getCreatingRange(_M(t, a, t._track)), n && (zz(t, a), u.updateCommon(t, a)), Hz(t, a), s = { isEnd: n } } } else n && o.brushMode === "single" && o.removeOnClick && mM(t, e, r) && l2(t) && (s = { isEnd: n, removeOnClick: !0 }); return s } function RE(t, e) { return t === "auto" ? e.defaultBrushType : t } var Zwe = { mousedown: function (t) { if (this._dragging) OE(this, t); else if (!t.target || !t.target.draggable) { f2(t); var e = this.group.transformCoordToLocal(t.offsetX, t.offsetY); this._creatingCover = null; var r = this._creatingPanel = mM(this, t, e); r && (this._dragging = !0, this._track = [e.slice()]) } }, mousemove: function (t) { var e = t.offsetX, r = t.offsetY, n = this.group.transformCoordToLocal(e, r); if (jwe(this, t, n), this._dragging) { f2(t); var a = Xz(this, t, n, !1); a && Vc(this, a) } }, mouseup: function (t) { OE(this, t) } }; function OE(t, e) { if (t._dragging) { f2(e); var r = e.offsetX, n = e.offsetY, a = t.group.transformCoordToLocal(r, n), i = Xz(t, e, a, !0); t._dragging = !1, t._track = [], t._creatingCover = null, i && Vc(t, i) } } function qwe(t, e, r) { var n = t._zr; return e < 0 || e > n.getWidth() || r < 0 || r > n.getHeight() } var S1 = { lineX: EE(0), lineY: EE(1), rect: { createCover: function (t, e) { function r(n) { return n } return Gz({ toRectRange: r, fromRectRange: r }, t, e, [["w"], ["e"], ["n"], ["s"], ["s", "e"], ["s", "w"], ["n", "e"], ["n", "w"]]) }, getCreatingRange: function (t) { var e = Wz(t); return Zz(e[1][0], e[1][1], e[0][0], e[0][1]) }, updateCoverShape: function (t, e, r, n) { jz(t, e, r, n) }, updateCommon: u2, contain: h2 }, polygon: { createCover: function (t, e) { var r = new it; return r.add(new Na({ name: "main", style: yM(e), silent: !0 })), r }, getCreatingRange: function (t) { return t }, endCreating: function (t, e) { e.remove(e.childAt(0)), e.add(new Ea({ name: "main", draggable: !0, drift: ut(Wwe, t, e), ondragend: ut(Vc, t, { isEnd: !0 }) })) }, updateCoverShape: function (t, e, r, n) { e.childAt(0).setShape({ points: _M(t, e, r) }) }, updateCommon: u2, contain: h2 } }; function EE(t) { return { createCover: function (e, r) { return Gz({ toRectRange: function (n) { var a = [n, [0, 100]]; return t && a.reverse(), a }, fromRectRange: function (n) { return n[t] } }, e, r, [[["w"], ["e"]], [["n"], ["s"]]][t]) }, getCreatingRange: function (e) { var r = Wz(e), n = Mp(r[0][t], r[1][t]), a = Ih(r[0][t], r[1][t]); return [n, a] }, updateCoverShape: function (e, r, n, a) { var i, o = Uz(e, r); if (o !== Bc && o.getLinearBrushOtherExtent) i = o.getLinearBrushOtherExtent(t); else { var s = e._zr; i = [0, [s.getWidth(), s.getHeight()][1 - t]] } var l = [n, i]; t && l.reverse(), jz(e, r, l, a) }, updateCommon: u2, contain: h2 } } const bM = zwe; function Kz(t) { return t = wM(t), function (e) { return hB(e, t) } } function Qz(t, e) { return t = wM(t), function (r) { var n = e ?? r, a = n ? t.width : t.height, i = n ? t.x : t.y; return [i, i + (a || 0)] } } function Jz(t, e, r) { var n = wM(t); return function (a, i) { return n.contain(i[0], i[1]) && !y1(a, e, r) } } function wM(t) { return wt.create(t) } var Xwe = ["axisLine", "axisTickLabel", "axisName"], Kwe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.init = function (r, n) { t.prototype.init.apply(this, arguments), (this._brushController = new bM(n.getZr())).on("brush", $e(this._onBrush, this)) }, e.prototype.render = function (r, n, a, i) { if (!Qwe(r, n, i)) { this.axisModel = r, this.api = a, this.group.removeAll(); var o = this._axisGroup; if (this._axisGroup = new it, this.group.add(this._axisGroup), !!r.get("show")) { var s = eSe(r, n), l = s.coordinateSystem, u = r.getAreaSelectStyle(), c = u.width, f = r.axis.dim, h = l.getAxisLayout(f), d = he({ strokeContainThreshold: c }, h), v = new Es(r, d); E(Xwe, v.add, v), this._axisGroup.add(v.getGroup()), this._refreshBrushController(d, u, r, s, c, a), tg(o, this._axisGroup, r) } } }, e.prototype._refreshBrushController = function (r, n, a, i, o, s) { var l = a.axis.getExtent(), u = l[1] - l[0], c = Math.min(30, Math.abs(u) * .1), f = wt.create({ x: l[0], y: -o / 2, width: u, height: o }); f.x -= c, f.width += 2 * c, this._brushController.mount({ enableGlobalPan: !0, rotation: r.rotation, x: r.position[0], y: r.position[1] }).setPanels([{ panelId: "pl", clipPath: Kz(f), isTargetByCursor: Jz(f, s, i), getLinearBrushOtherExtent: Qz(f, 0) }]).enableBrush({ brushType: "lineX", brushStyle: n, removeOnClick: !0 }).updateCovers(Jwe(a)) }, e.prototype._onBrush = function (r) { var n = r.areas, a = this.axisModel, i = a.axis, o = _e(n, function (s) { return [i.coordToData(s.range[0], !0), i.coordToData(s.range[1], !0)] }); (!a.option.realtime === r.isEnd || r.removeOnClick) && this.api.dispatchAction({ type: "axisAreaSelect", parallelAxisId: a.id, intervals: o }) }, e.prototype.dispose = function () { this._brushController.dispose() }, e.type = "parallelAxis", e }(Kr); function Qwe(t, e, r) { return r && r.type === "axisAreaSelect" && e.findComponents({ mainType: "parallelAxis", query: r })[0] === t } function Jwe(t) { var e = t.axis; return _e(t.activeIntervals, function (r) { return { brushType: "lineX", panelId: "pl", range: [e.dataToCoord(r[0], !0), e.dataToCoord(r[1], !0)] } }) } function eSe(t, e) { return e.getComponent("parallel", t.get("parallelIndex")) } const tSe = Kwe; var rSe = { type: "axisAreaSelect", event: "axisAreaSelected" }; function nSe(t) { t.registerAction(rSe, function (e, r) { r.eachComponent({ mainType: "parallelAxis", query: e }, function (n) { n.axis.model.setActiveIntervals(e.intervals) }) }), t.registerAction("parallelAxisExpand", function (e, r) { r.eachComponent({ mainType: "parallel", query: e }, function (n) { n.setAxisExpand(e) }) }) } var aSe = { type: "value", areaSelectStyle: { width: 20, borderWidth: 1, borderColor: "rgba(160,197,232)", color: "rgba(160,197,232)", opacity: .3 }, realtime: !0, z: 10 }; function e9(t) { t.registerComponentView(bwe), t.registerComponentModel(Swe), t.registerCoordinateSystem("parallel", Rwe), t.registerPreprocessor(vwe), t.registerComponentModel(AE), t.registerComponentView(tSe), Lh(t, "parallel", AE, aSe), nSe(t) } function iSe(t) { Dt(e9), t.registerChartView(owe), t.registerSeriesModel(cwe), t.registerVisual(t.PRIORITY.VISUAL.BRUSH, dwe) } var oSe = function () { function t() { this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.cpx1 = 0, this.cpy1 = 0, this.cpx2 = 0, this.cpy2 = 0, this.extent = 0 } return t }(), sSe = function (t) { ae(e, t); function e(r) { return t.call(this, r) || this } return e.prototype.getDefaultShape = function () { return new oSe }, e.prototype.buildPath = function (r, n) { var a = n.extent; r.moveTo(n.x1, n.y1), r.bezierCurveTo(n.cpx1, n.cpy1, n.cpx2, n.cpy2, n.x2, n.y2), n.orient === "vertical" ? (r.lineTo(n.x2 + a, n.y2), r.bezierCurveTo(n.cpx2 + a, n.cpy2, n.cpx1 + a, n.cpy1, n.x1 + a, n.y1)) : (r.lineTo(n.x2, n.y2 + a), r.bezierCurveTo(n.cpx2, n.cpy2 + a, n.cpx1, n.cpy1 + a, n.x1, n.y1 + a)), r.closePath() }, e.prototype.highlight = function () { Ps(this) }, e.prototype.downplay = function () { Rs(this) }, e }(At), lSe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r._focusAdjacencyDisabled = !1, r } return e.prototype.render = function (r, n, a) { var i = this, o = r.getGraph(), s = this.group, l = r.layoutInfo, u = l.width, c = l.height, f = r.getData(), h = r.getData("edge"), d = r.get("orient"); this._model = r, s.removeAll(), s.x = l.x, s.y = l.y, o.eachEdge(function (v) { var p = new sSe, g = lt(p); g.dataIndex = v.dataIndex, g.seriesIndex = r.seriesIndex, g.dataType = "edge"; var m = v.getModel(), y = m.getModel("lineStyle"), _ = y.get("curveness"), b = v.node1.getLayout(), x = v.node1.getModel(), S = x.get("localX"), T = x.get("localY"), C = v.node2.getLayout(), M = v.node2.getModel(), k = M.get("localX"), A = M.get("localY"), R = v.getLayout(), N, z, F, V, L, H, q, K; p.shape.extent = Math.max(1, R.dy), p.shape.orient = d, d === "vertical" ? (N = (S != null ? S * u : b.x) + R.sy, z = (T != null ? T * c : b.y) + b.dy, F = (k != null ? k * u : C.x) + R.ty, V = A != null ? A * c : C.y, L = N, H = z * (1 - _) + V * _, q = F, K = z * _ + V * (1 - _)) : (N = (S != null ? S * u : b.x) + b.dx, z = (T != null ? T * c : b.y) + R.sy, F = k != null ? k * u : C.x, V = (A != null ? A * c : C.y) + R.ty, L = N * (1 - _) + F * _, H = z, q = N * _ + F * (1 - _), K = V), p.setShape({ x1: N, y1: z, x2: F, y2: V, cpx1: L, cpy1: H, cpx2: q, cpy2: K }), p.useStyle(y.getItemStyle()), NE(p.style, d, v); var te = "" + m.get("value"), oe = Pn(m, "edgeLabel"); Wn(p, oe, { labelFetcher: { getFormattedLabel: function (B, ee, Q, se, ue, pe) { return r.getFormattedLabel(B, ee, "edge", se, Co(ue, oe.normal && oe.normal.get("formatter"), te), pe) } }, labelDataIndex: v.dataIndex, defaultText: te }), p.setTextConfig({ position: "inside" }); var X = m.getModel("emphasis"); Un(p, m, "lineStyle", function (B) { var ee = B.getItemStyle(); return NE(ee, d, v), ee }), s.add(p), h.setItemGraphicEl(v.dataIndex, p); var U = X.get("focus"); Xr(p, U === "adjacency" ? v.getAdjacentDataIndices() : U === "trajectory" ? v.getTrajectoryDataIndices() : U, X.get("blurScope"), X.get("disabled")) }), o.eachNode(function (v) { var p = v.getLayout(), g = v.getModel(), m = g.get("localX"), y = g.get("localY"), _ = g.getModel("emphasis"), b = new Bt({ shape: { x: m != null ? m * u : p.x, y: y != null ? y * c : p.y, width: p.dx, height: p.dy }, style: g.getModel("itemStyle").getItemStyle(), z2: 10 }); Wn(b, Pn(g), { labelFetcher: { getFormattedLabel: function (S, T) { return r.getFormattedLabel(S, T, "node") } }, labelDataIndex: v.dataIndex, defaultText: v.id }), b.disableLabelAnimation = !0, b.setStyle("fill", v.getVisual("color")), b.setStyle("decal", v.getVisual("style").decal), Un(b, g), s.add(b), f.setItemGraphicEl(v.dataIndex, b), lt(b).dataType = "node"; var x = _.get("focus"); Xr(b, x === "adjacency" ? v.getAdjacentDataIndices() : x === "trajectory" ? v.getTrajectoryDataIndices() : x, _.get("blurScope"), _.get("disabled")) }), f.eachItemGraphicEl(function (v, p) { var g = f.getItemModel(p); g.get("draggable") && (v.drift = function (m, y) { i._focusAdjacencyDisabled = !0, this.shape.x += m, this.shape.y += y, this.dirty(), a.dispatchAction({ type: "dragNode", seriesId: r.id, dataIndex: f.getRawIndex(p), localX: this.shape.x / u, localY: this.shape.y / c }) }, v.ondragend = function () { i._focusAdjacencyDisabled = !1 }, v.draggable = !0, v.cursor = "move") }), !this._data && r.isAnimationEnabled() && s.setClipPath(uSe(s.getBoundingRect(), r, function () { s.removeClipPath() })), this._data = r.getData() }, e.prototype.dispose = function () { }, e.type = "sankey", e }(Ar); function NE(t, e, r) { switch (t.fill) { case "source": t.fill = r.node1.getVisual("color"), t.decal = r.node1.getVisual("style").decal; break; case "target": t.fill = r.node2.getVisual("color"), t.decal = r.node2.getVisual("style").decal; break; case "gradient": var n = r.node1.getVisual("color"), a = r.node2.getVisual("color"); Oe(n) && Oe(a) && (t.fill = new eg(0, 0, +(e === "horizontal"), +(e === "vertical"), [{ color: n, offset: 0 }, { color: a, offset: 1 }])) } } function uSe(t, e, r) { var n = new Bt({ shape: { x: t.x - 10, y: t.y - 10, width: 0, height: t.height + 20 } }); return Or(n, { shape: { width: t.width + 20 } }, e, r), n } const cSe = lSe; var fSe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.getInitialData = function (r, n) { var a = r.edges || r.links, i = r.data || r.nodes, o = r.levels; this.levelModels = []; for (var s = this.levelModels, l = 0; l < o.length; l++)o[l].depth != null && o[l].depth >= 0 && (s[o[l].depth] = new kr(o[l], this, n)); if (i && a) { var u = Ez(i, a, this, !0, c); return u.data } function c(f, h) { f.wrapMethod("getItemModel", function (d, v) { var p = d.parentModel, g = p.getData().getItemLayout(v); if (g) { var m = g.depth, y = p.levelModels[m]; y && (d.parentModel = y) } return d }), h.wrapMethod("getItemModel", function (d, v) { var p = d.parentModel, g = p.getGraph().getEdgeByIndex(v), m = g.node1.getLayout(); if (m) { var y = m.depth, _ = p.levelModels[y]; _ && (d.parentModel = _) } return d }) } }, e.prototype.setNodePosition = function (r, n) { var a = this.option.data || this.option.nodes, i = a[r]; i.localX = n[0], i.localY = n[1] }, e.prototype.getGraph = function () { return this.getData().graph }, e.prototype.getEdgeData = function () { return this.getGraph().edgeData }, e.prototype.formatTooltip = function (r, n, a) { function i(d) { return isNaN(d) || d == null } if (a === "edge") { var o = this.getDataParams(r, a), s = o.data, l = o.value, u = s.source + " -- " + s.target; return Rn("nameValue", { name: u, value: l, noValue: i(l) }) } else { var c = this.getGraph().getNodeByIndex(r), f = c.getLayout().value, h = this.getDataParams(r, a).data.name; return Rn("nameValue", { name: h != null ? h + "" : null, value: f, noValue: i(f) }) } }, e.prototype.optionUpdated = function () { }, e.prototype.getDataParams = function (r, n) { var a = t.prototype.getDataParams.call(this, r, n); if (a.value == null && n === "node") { var i = this.getGraph().getNodeByIndex(r), o = i.getLayout().value; a.value = o } return a }, e.type = "series.sankey", e.defaultOption = { z: 2, coordinateSystem: "view", left: "5%", top: "5%", right: "20%", bottom: "5%", orient: "horizontal", nodeWidth: 20, nodeGap: 8, draggable: !0, layoutIterations: 32, label: { show: !0, position: "right", fontSize: 12 }, edgeLabel: { show: !1, fontSize: 12 }, levels: [], nodeAlign: "justify", lineStyle: { color: "#314656", opacity: .2, curveness: .5 }, emphasis: { label: { show: !0 }, lineStyle: { opacity: .5 } }, select: { itemStyle: { borderColor: "#212121" } }, animationEasing: "linear", animationDuration: 1e3 }, e }($r); const hSe = fSe; function dSe(t, e) { t.eachSeriesByType("sankey", function (r) { var n = r.get("nodeWidth"), a = r.get("nodeGap"), i = vSe(r, e); r.layoutInfo = i; var o = i.width, s = i.height, l = r.getGraph(), u = l.nodes, c = l.edges; gSe(u); var f = hr(u, function (p) { return p.getLayout().value === 0 }), h = f.length !== 0 ? 0 : r.get("layoutIterations"), d = r.get("orient"), v = r.get("nodeAlign"); pSe(u, c, n, a, o, s, h, d, v) }) } function vSe(t, e) { return bn(t.getBoxLayoutParams(), { width: e.getWidth(), height: e.getHeight() }) } function pSe(t, e, r, n, a, i, o, s, l) { mSe(t, e, r, a, i, s, l), wSe(t, e, i, a, n, o, s), LSe(t, s) } function gSe(t) { E(t, function (e) { var r = Fl(e.outEdges, P0), n = Fl(e.inEdges, P0), a = e.getValue() || 0, i = Math.max(r, n, a); e.setLayout({ value: i }, !0) }) } function mSe(t, e, r, n, a, i, o) { for (var s = [], l = [], u = [], c = [], f = 0, h = 0; h < e.length; h++)s[h] = 1; for (var h = 0; h < t.length; h++)l[h] = t[h].inEdges.length, l[h] === 0 && u.push(t[h]); for (var d = -1; u.length;) { for (var v = 0; v < u.length; v++) { var p = u[v], g = p.hostGraph.data.getRawDataItem(p.dataIndex), m = g.depth != null && g.depth >= 0; m && g.depth > d && (d = g.depth), p.setLayout({ depth: m ? g.depth : f }, !0), i === "vertical" ? p.setLayout({ dy: r }, !0) : p.setLayout({ dx: r }, !0); for (var y = 0; y < p.outEdges.length; y++) { var _ = p.outEdges[y], b = e.indexOf(_); s[b] = 0; var x = _.node2, S = t.indexOf(x); --l[S] === 0 && c.indexOf(x) < 0 && c.push(x) } } ++f, u = c, c = [] } for (var h = 0; h < s.length; h++)if (s[h] === 1) throw new Error("Sankey is a DAG, the original data has cycle!"); var T = d > f - 1 ? d : f - 1; o && o !== "left" && ySe(t, o, i, T); var C = i === "vertical" ? (a - r) / T : (n - r) / T; bSe(t, C, i) } function t9(t) { var e = t.hostGraph.data.getRawDataItem(t.dataIndex); return e.depth != null && e.depth >= 0 } function ySe(t, e, r, n) { if (e === "right") { for (var a = [], i = t, o = 0; i.length;) { for (var s = 0; s < i.length; s++) { var l = i[s]; l.setLayout({ skNodeHeight: o }, !0); for (var u = 0; u < l.inEdges.length; u++) { var c = l.inEdges[u]; a.indexOf(c.node1) < 0 && a.push(c.node1) } } i = a, a = [], ++o } E(t, function (f) { t9(f) || f.setLayout({ depth: Math.max(0, n - f.getLayout().skNodeHeight) }, !0) }) } else e === "justify" && _Se(t, n) } function _Se(t, e) { E(t, function (r) { !t9(r) && !r.outEdges.length && r.setLayout({ depth: e }, !0) }) } function bSe(t, e, r) { E(t, function (n) { var a = n.getLayout().depth * e; r === "vertical" ? n.setLayout({ y: a }, !0) : n.setLayout({ x: a }, !0) }) } function wSe(t, e, r, n, a, i, o) { var s = SSe(t, o); xSe(s, e, r, n, a, o), mS(s, a, r, n, o); for (var l = 1; i > 0; i--)l *= .99, TSe(s, l, o), mS(s, a, r, n, o), ASe(s, l, o), mS(s, a, r, n, o) } function SSe(t, e) { var r = [], n = e === "vertical" ? "y" : "x", a = yT(t, function (i) { return i.getLayout()[n] }); return a.keys.sort(function (i, o) { return i - o }), E(a.keys, function (i) { r.push(a.buckets.get(i)) }), r } function xSe(t, e, r, n, a, i) { var o = 1 / 0; E(t, function (s) { var l = s.length, u = 0; E(s, function (f) { u += f.getLayout().value }); var c = i === "vertical" ? (n - (l - 1) * a) / u : (r - (l - 1) * a) / u; c < o && (o = c) }), E(t, function (s) { E(s, function (l, u) { var c = l.getLayout().value * o; i === "vertical" ? (l.setLayout({ x: u }, !0), l.setLayout({ dx: c }, !0)) : (l.setLayout({ y: u }, !0), l.setLayout({ dy: c }, !0)) }) }), E(e, function (s) { var l = +s.getValue() * o; s.setLayout({ dy: l }, !0) }) } function mS(t, e, r, n, a) { var i = a === "vertical" ? "x" : "y"; E(t, function (o) { o.sort(function (p, g) { return p.getLayout()[i] - g.getLayout()[i] }); for (var s, l, u, c = 0, f = o.length, h = a === "vertical" ? "dx" : "dy", d = 0; d < f; d++)l = o[d], u = c - l.getLayout()[i], u > 0 && (s = l.getLayout()[i] + u, a === "vertical" ? l.setLayout({ x: s }, !0) : l.setLayout({ y: s }, !0)), c = l.getLayout()[i] + l.getLayout()[h] + e; var v = a === "vertical" ? n : r; if (u = c - e - v, u > 0) { s = l.getLayout()[i] - u, a === "vertical" ? l.setLayout({ x: s }, !0) : l.setLayout({ y: s }, !0), c = s; for (var d = f - 2; d >= 0; --d)l = o[d], u = l.getLayout()[i] + l.getLayout()[h] + e - c, u > 0 && (s = l.getLayout()[i] - u, a === "vertical" ? l.setLayout({ x: s }, !0) : l.setLayout({ y: s }, !0)), c = l.getLayout()[i] } }) } function TSe(t, e, r) { E(t.slice().reverse(), function (n) { E(n, function (a) { if (a.outEdges.length) { var i = Fl(a.outEdges, DSe, r) / Fl(a.outEdges, P0); if (isNaN(i)) { var o = a.outEdges.length; i = o ? Fl(a.outEdges, CSe, r) / o : 0 } if (r === "vertical") { var s = a.getLayout().x + (i - tu(a, r)) * e; a.setLayout({ x: s }, !0) } else { var l = a.getLayout().y + (i - tu(a, r)) * e; a.setLayout({ y: l }, !0) } } }) }) } function DSe(t, e) { return tu(t.node2, e) * t.getValue() } function CSe(t, e) { return tu(t.node2, e) } function MSe(t, e) { return tu(t.node1, e) * t.getValue() } function kSe(t, e) { return tu(t.node1, e) } function tu(t, e) { return e === "vertical" ? t.getLayout().x + t.getLayout().dx / 2 : t.getLayout().y + t.getLayout().dy / 2 } function P0(t) { return t.getValue() } function Fl(t, e, r) { for (var n = 0, a = t.length, i = -1; ++i < a;) { var o = +e(t[i], r); isNaN(o) || (n += o) } return n } function ASe(t, e, r) { E(t, function (n) { E(n, function (a) { if (a.inEdges.length) { var i = Fl(a.inEdges, MSe, r) / Fl(a.inEdges, P0); if (isNaN(i)) { var o = a.inEdges.length; i = o ? Fl(a.inEdges, kSe, r) / o : 0 } if (r === "vertical") { var s = a.getLayout().x + (i - tu(a, r)) * e; a.setLayout({ x: s }, !0) } else { var l = a.getLayout().y + (i - tu(a, r)) * e; a.setLayout({ y: l }, !0) } } }) }) } function LSe(t, e) { var r = e === "vertical" ? "x" : "y"; E(t, function (n) { n.outEdges.sort(function (a, i) { return a.node2.getLayout()[r] - i.node2.getLayout()[r] }), n.inEdges.sort(function (a, i) { return a.node1.getLayout()[r] - i.node1.getLayout()[r] }) }), E(t, function (n) { var a = 0, i = 0; E(n.outEdges, function (o) { o.setLayout({ sy: a }, !0), a += o.getLayout().dy }), E(n.inEdges, function (o) { o.setLayout({ ty: i }, !0), i += o.getLayout().dy }) }) } function ISe(t) { t.eachSeriesByType("sankey", function (e) { var r = e.getGraph(), n = r.nodes, a = r.edges; if (n.length) { var i = 1 / 0, o = -1 / 0; E(n, function (s) { var l = s.getLayout().value; l < i && (i = l), l > o && (o = l) }), E(n, function (s) { var l = new Yn({ type: "color", mappingMethod: "linear", dataExtent: [i, o], visual: e.get("color") }), u = l.mapValueToVisual(s.getLayout().value), c = s.getModel().get(["itemStyle", "color"]); c != null ? (s.setVisual("color", c), s.setVisual("style", { fill: c })) : (s.setVisual("color", u), s.setVisual("style", { fill: u })) }) } a.length && E(a, function (s) { var l = s.getModel().get("lineStyle"); s.setVisual("style", l) }) }) } function PSe(t) { t.registerChartView(cSe), t.registerSeriesModel(hSe), t.registerLayout(dSe), t.registerVisual(ISe), t.registerAction({ type: "dragNode", event: "dragnode", update: "update" }, function (e, r) { r.eachComponent({ mainType: "series", subType: "sankey", query: e }, function (n) { n.setNodePosition(e.dataIndex, [e.localX, e.localY]) }) }) } var r9 = function () { function t() { } return t.prototype.getInitialData = function (e, r) { var n, a = r.getComponent("xAxis", this.get("xAxisIndex")), i = r.getComponent("yAxis", this.get("yAxisIndex")), o = a.get("type"), s = i.get("type"), l; o === "category" ? (e.layout = "horizontal", n = a.getOrdinalMeta(), l = !0) : s === "category" ? (e.layout = "vertical", n = i.getOrdinalMeta(), l = !0) : e.layout = e.layout || "horizontal"; var u = ["x", "y"], c = e.layout === "horizontal" ? 0 : 1, f = this._baseAxisDim = u[c], h = u[1 - c], d = [a, i], v = d[c].get("type"), p = d[1 - c].get("type"), g = e.data; if (g && l) { var m = []; E(g, function (b, x) { var S; me(b) ? (S = b.slice(), b.unshift(x)) : me(b.value) ? (S = he({}, b), S.value = S.value.slice(), b.value.unshift(x)) : S = b, m.push(S) }), e.data = m } var y = this.defaultValueDimensions, _ = [{ name: f, type: w0(v), ordinalMeta: n, otherDims: { tooltip: !1, itemName: 0 }, dimsDef: ["base"] }, { name: h, type: w0(p), dimsDef: y.slice() }]; return td(this, { coordDimensions: _, dimensionsCount: y.length + 1, encodeDefaulter: ut(BB, _, this) }) }, t.prototype.getBaseAxis = function () { var e = this._baseAxisDim; return this.ecModel.getComponent(e + "Axis", this.get(e + "AxisIndex")).axis }, t }(), n9 = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.defaultValueDimensions = [{ name: "min", defaultTooltip: !0 }, { name: "Q1", defaultTooltip: !0 }, { name: "median", defaultTooltip: !0 }, { name: "Q3", defaultTooltip: !0 }, { name: "max", defaultTooltip: !0 }], r.visualDrawType = "stroke", r } return e.type = "series.boxplot", e.dependencies = ["xAxis", "yAxis", "grid"], e.defaultOption = { z: 2, coordinateSystem: "cartesian2d", legendHoverLink: !0, layout: null, boxWidth: [7, 50], itemStyle: { color: "#fff", borderWidth: 1 }, emphasis: { scale: !0, itemStyle: { borderWidth: 2, shadowBlur: 5, shadowOffsetX: 1, shadowOffsetY: 1, shadowColor: "rgba(0,0,0,0.2)" } }, animationDuration: 800 }, e }($r); mn(n9, r9, !0); const RSe = n9; var OSe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.render = function (r, n, a) { var i = r.getData(), o = this.group, s = this._data; this._data || o.removeAll(); var l = r.get("layout") === "horizontal" ? 1 : 0; i.diff(s).add(function (u) { if (i.hasValue(u)) { var c = i.getItemLayout(u), f = $E(c, i, u, l, !0); i.setItemGraphicEl(u, f), o.add(f) } }).update(function (u, c) { var f = s.getItemGraphicEl(c); if (!i.hasValue(u)) { o.remove(f); return } var h = i.getItemLayout(u); f ? (Zi(f), a9(h, f, i, u)) : f = $E(h, i, u, l), o.add(f), i.setItemGraphicEl(u, f) }).remove(function (u) { var c = s.getItemGraphicEl(u); c && o.remove(c) }).execute(), this._data = i }, e.prototype.remove = function (r) { var n = this.group, a = this._data; this._data = null, a && a.eachItemGraphicEl(function (i) { i && n.remove(i) }) }, e.type = "boxplot", e }(Ar), ESe = function () { function t() { } return t }(), NSe = function (t) { ae(e, t); function e(r) { var n = t.call(this, r) || this; return n.type = "boxplotBoxPath", n } return e.prototype.getDefaultShape = function () { return new ESe }, e.prototype.buildPath = function (r, n) { var a = n.points, i = 0; for (r.moveTo(a[i][0], a[i][1]), i++; i < 4; i++)r.lineTo(a[i][0], a[i][1]); for (r.closePath(); i < a.length; i++)r.moveTo(a[i][0], a[i][1]), i++, r.lineTo(a[i][0], a[i][1]) }, e }(At); function $E(t, e, r, n, a) { var i = t.ends, o = new NSe({ shape: { points: a ? $Se(i, n, t) : i } }); return a9(t, o, e, r, a), o } function a9(t, e, r, n, a) { var i = r.hostModel, o = ng[a ? "initProps" : "updateProps"]; o(e, { shape: { points: t.ends } }, i, n), e.useStyle(r.getItemVisual(n, "style")), e.style.strokeNoScale = !0, e.z2 = 100; var s = r.getItemModel(n), l = s.getModel("emphasis"); Un(e, s), Xr(e, l.get("focus"), l.get("blurScope"), l.get("disabled")) } function $Se(t, e, r) { return _e(t, function (n) { return n = n.slice(), n[e] = r.initBaseline, n }) } const FSe = OSe; var Nv = E; function BSe(t) { var e = VSe(t); Nv(e, function (r) { var n = r.seriesModels; n.length && (zSe(r), Nv(n, function (a, i) { HSe(a, r.boxOffsetList[i], r.boxWidthList[i]) })) }) } function VSe(t) { var e = [], r = []; return t.eachSeriesByType("boxplot", function (n) { var a = n.getBaseAxis(), i = Ct(r, a); i < 0 && (i = r.length, r[i] = a, e[i] = { axis: a, seriesModels: [] }), e[i].seriesModels.push(n) }), e } function zSe(t) { var e = t.axis, r = t.seriesModels, n = r.length, a = t.boxWidthList = [], i = t.boxOffsetList = [], o = [], s; if (e.type === "category") s = e.getBandWidth(); else { var l = 0; Nv(r, function (v) { l = Math.max(l, v.getData().count()) }); var u = e.getExtent(); s = Math.abs(u[1] - u[0]) / l } Nv(r, function (v) { var p = v.get("boxWidth"); me(p) || (p = [p, p]), o.push([Ae(p[0], s) || 0, Ae(p[1], s) || 0]) }); var c = s * .8 - 2, f = c / n * .3, h = (c - f * (n - 1)) / n, d = h / 2 - c / 2; Nv(r, function (v, p) { i.push(d), d += f + h, a.push(Math.min(Math.max(h, o[p][0]), o[p][1])) }) } function HSe(t, e, r) { var n = t.coordinateSystem, a = t.getData(), i = r / 2, o = t.get("layout") === "horizontal" ? 0 : 1, s = 1 - o, l = ["x", "y"], u = a.mapDimension(l[o]), c = a.mapDimensionsAll(l[s]); if (u == null || c.length < 5) return; for (var f = 0; f < a.count(); f++) { var h = a.get(u, f), d = _(h, c[2], f), v = _(h, c[0], f), p = _(h, c[1], f), g = _(h, c[3], f), m = _(h, c[4], f), y = []; b(y, p, !1), b(y, g, !0), y.push(v, p, m, g), x(y, v), x(y, m), x(y, d), a.setItemLayout(f, { initBaseline: d[s], ends: y }) } function _(S, T, C) { var M = a.get(T, C), k = []; k[o] = S, k[s] = M; var A; return isNaN(S) || isNaN(M) ? A = [NaN, NaN] : (A = n.dataToPoint(k), A[o] += e), A } function b(S, T, C) { var M = T.slice(), k = T.slice(); M[o] += i, k[o] -= i, C ? S.push(M, k) : S.push(k, M) } function x(S, T) { var C = T.slice(), M = T.slice(); C[o] -= i, M[o] += i, S.push(C, M) } } function YSe(t, e) { e = e || {}; for (var r = [], n = [], a = e.boundIQR, i = a === "none" || a === 0, o = 0; o < t.length; o++) { var s = hi(t[o].slice()), l = Kb(s, .25), u = Kb(s, .5), c = Kb(s, .75), f = s[0], h = s[s.length - 1], d = (a ?? 1.5) * (c - l), v = i ? f : Math.max(f, l - d), p = i ? h : Math.min(h, c + d), g = e.itemNameFormatter, m = je(g) ? g({ value: o }) : Oe(g) ? g.replace("{value}", o + "") : o + ""; r.push([m, v, l, u, c, p]); for (var y = 0; y < s.length; y++) { var _ = s[y]; if (_ < v || _ > p) { var b = [m, _]; n.push(b) } } } return { boxData: r, outliers: n } } var USe = { type: "echarts:boxplot", transform: function (e) { var r = e.upstream; if (r.sourceFormat !== aa) { var n = ""; Kt(n) } var a = YSe(r.getRawData(), e.config); return [{ dimensions: ["ItemName", "Low", "Q1", "Q2", "Q3", "High"], data: a.boxData }, { data: a.outliers }] } }; function WSe(t) { t.registerSeriesModel(RSe), t.registerChartView(FSe), t.registerLayout(BSe), t.registerTransform(USe) } var GSe = ["color", "borderColor"], jSe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.render = function (r, n, a) { this.group.removeClipPath(), this._progressiveEls = null, this._updateDrawMode(r), this._isLargeDraw ? this._renderLarge(r) : this._renderNormal(r) }, e.prototype.incrementalPrepareRender = function (r, n, a) { this._clear(), this._updateDrawMode(r) }, e.prototype.incrementalRender = function (r, n, a, i) { this._progressiveEls = [], this._isLargeDraw ? this._incrementalRenderLarge(r, n) : this._incrementalRenderNormal(r, n) }, e.prototype.eachRendered = function (r) { ou(this._progressiveEls || this.group, r) }, e.prototype._updateDrawMode = function (r) { var n = r.pipelineContext.large; (this._isLargeDraw == null || n !== this._isLargeDraw) && (this._isLargeDraw = n, this._clear()) }, e.prototype._renderNormal = function (r) { var n = r.getData(), a = this._data, i = this.group, o = n.getLayout("isSimpleBox"), s = r.get("clip", !0), l = r.coordinateSystem, u = l.getArea && l.getArea(); this._data || i.removeAll(), n.diff(a).add(function (c) { if (n.hasValue(c)) { var f = n.getItemLayout(c); if (s && FE(u, f)) return; var h = yS(f, c, !0); Or(h, { shape: { points: f.ends } }, r, c), _S(h, n, c, o), i.add(h), n.setItemGraphicEl(c, h) } }).update(function (c, f) { var h = a.getItemGraphicEl(f); if (!n.hasValue(c)) { i.remove(h); return } var d = n.getItemLayout(c); if (s && FE(u, d)) { i.remove(h); return } h ? (jt(h, { shape: { points: d.ends } }, r, c), Zi(h)) : h = yS(d), _S(h, n, c, o), i.add(h), n.setItemGraphicEl(c, h) }).remove(function (c) { var f = a.getItemGraphicEl(c); f && i.remove(f) }).execute(), this._data = n }, e.prototype._renderLarge = function (r) { this._clear(), BE(r, this.group); var n = r.get("clip", !0) ? m1(r.coordinateSystem, !1, r) : null; n ? this.group.setClipPath(n) : this.group.removeClipPath() }, e.prototype._incrementalRenderNormal = function (r, n) { for (var a = n.getData(), i = a.getLayout("isSimpleBox"), o; (o = r.next()) != null;) { var s = a.getItemLayout(o), l = yS(s); _S(l, a, o, i), l.incremental = !0, this.group.add(l), this._progressiveEls.push(l) } }, e.prototype._incrementalRenderLarge = function (r, n) { BE(n, this.group, this._progressiveEls, !0) }, e.prototype.remove = function (r) { this._clear() }, e.prototype._clear = function () { this.group.removeAll(), this._data = null }, e.type = "candlestick", e }(Ar), ZSe = function () { function t() { } return t }(), qSe = function (t) { ae(e, t); function e(r) { var n = t.call(this, r) || this; return n.type = "normalCandlestickBox", n } return e.prototype.getDefaultShape = function () { return new ZSe }, e.prototype.buildPath = function (r, n) { var a = n.points; this.__simpleBox ? (r.moveTo(a[4][0], a[4][1]), r.lineTo(a[6][0], a[6][1])) : (r.moveTo(a[0][0], a[0][1]), r.lineTo(a[1][0], a[1][1]), r.lineTo(a[2][0], a[2][1]), r.lineTo(a[3][0], a[3][1]), r.closePath(), r.moveTo(a[4][0], a[4][1]), r.lineTo(a[5][0], a[5][1]), r.moveTo(a[6][0], a[6][1]), r.lineTo(a[7][0], a[7][1])) }, e }(At); function yS(t, e, r) { var n = t.ends; return new qSe({ shape: { points: r ? XSe(n, t) : n }, z2: 100 }) } function FE(t, e) { for (var r = !0, n = 0; n < e.ends.length; n++)if (t.contain(e.ends[n][0], e.ends[n][1])) { r = !1; break } return r } function _S(t, e, r, n) { var a = e.getItemModel(r); t.useStyle(e.getItemVisual(r, "style")), t.style.strokeNoScale = !0, t.__simpleBox = n, Un(t, a) } function XSe(t, e) { return _e(t, function (r) { return r = r.slice(), r[1] = e.initBaseline, r }) } var KSe = function () { function t() { } return t }(), bS = function (t) { ae(e, t); function e(r) { var n = t.call(this, r) || this; return n.type = "largeCandlestickBox", n } return e.prototype.getDefaultShape = function () { return new KSe }, e.prototype.buildPath = function (r, n) { for (var a = n.points, i = 0; i < a.length;)if (this.__sign === a[i++]) { var o = a[i++]; r.moveTo(o, a[i++]), r.lineTo(o, a[i++]) } else i += 3 }, e }(At); function BE(t, e, r, n) { var a = t.getData(), i = a.getLayout("largePoints"), o = new bS({ shape: { points: i }, __sign: 1, ignoreCoarsePointer: !0 }); e.add(o); var s = new bS({ shape: { points: i }, __sign: -1, ignoreCoarsePointer: !0 }); e.add(s); var l = new bS({ shape: { points: i }, __sign: 0, ignoreCoarsePointer: !0 }); e.add(l), wS(1, o, t), wS(-1, s, t), wS(0, l, t), n && (o.incremental = !0, s.incremental = !0), r && r.push(o, s) } function wS(t, e, r, n) { var a = r.get(["itemStyle", t > 0 ? "borderColor" : "borderColor0"]) || r.get(["itemStyle", t > 0 ? "color" : "color0"]); t === 0 && (a = r.get(["itemStyle", "borderColorDoji"])); var i = r.getModel("itemStyle").getItemStyle(GSe); e.useStyle(i), e.style.fill = null, e.style.stroke = a } const QSe = jSe; var i9 = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.defaultValueDimensions = [{ name: "open", defaultTooltip: !0 }, { name: "close", defaultTooltip: !0 }, { name: "lowest", defaultTooltip: !0 }, { name: "highest", defaultTooltip: !0 }], r } return e.prototype.getShadowDim = function () { return "open" }, e.prototype.brushSelector = function (r, n, a) { var i = n.getItemLayout(r); return i && a.rect(i.brushRect) }, e.type = "series.candlestick", e.dependencies = ["xAxis", "yAxis", "grid"], e.defaultOption = { z: 2, coordinateSystem: "cartesian2d", legendHoverLink: !0, layout: null, clip: !0, itemStyle: { color: "#eb5454", color0: "#47b262", borderColor: "#eb5454", borderColor0: "#47b262", borderColorDoji: null, borderWidth: 1 }, emphasis: { scale: !0, itemStyle: { borderWidth: 2 } }, barMaxWidth: null, barMinWidth: null, barWidth: null, large: !0, largeThreshold: 600, progressive: 3e3, progressiveThreshold: 1e4, progressiveChunkMode: "mod", animationEasing: "linear", animationDuration: 300 }, e }($r); mn(i9, r9, !0); const JSe = i9; function exe(t) { !t || !me(t.series) || E(t.series, function (e) { Qe(e) && e.type === "k" && (e.type = "candlestick") }) } var txe = ["itemStyle", "borderColor"], rxe = ["itemStyle", "borderColor0"], nxe = ["itemStyle", "borderColorDoji"], axe = ["itemStyle", "color"], ixe = ["itemStyle", "color0"], oxe = { seriesType: "candlestick", plan: Qh(), performRawSeries: !0, reset: function (t, e) { function r(i, o) { return o.get(i > 0 ? axe : ixe) } function n(i, o) { return o.get(i === 0 ? nxe : i > 0 ? txe : rxe) } if (!e.isSeriesFiltered(t)) { var a = t.pipelineContext.large; return !a && { progress: function (i, o) { for (var s; (s = i.next()) != null;) { var l = o.getItemModel(s), u = o.getItemLayout(s).sign, c = l.getItemStyle(); c.fill = r(u, l), c.stroke = n(u, l) || c.fill; var f = o.ensureUniqueItemVisual(s, "style"); he(f, c) } } } } } }; const sxe = oxe; var lxe = { seriesType: "candlestick", plan: Qh(), reset: function (t) { var e = t.coordinateSystem, r = t.getData(), n = uxe(t, r), a = 0, i = 1, o = ["x", "y"], s = r.getDimensionIndex(r.mapDimension(o[a])), l = _e(r.mapDimensionsAll(o[i]), r.getDimensionIndex, r), u = l[0], c = l[1], f = l[2], h = l[3]; if (r.setLayout({ candleWidth: n, isSimpleBox: n <= 1.3 }), s < 0 || l.length < 4) return; return { progress: t.pipelineContext.large ? v : d }; function d(p, g) { for (var m, y = g.getStore(); (m = p.next()) != null;) { var _ = y.get(s, m), b = y.get(u, m), x = y.get(c, m), S = y.get(f, m), T = y.get(h, m), C = Math.min(b, x), M = Math.max(b, x), k = L(C, _), A = L(M, _), R = L(S, _), N = L(T, _), z = []; H(z, A, 0), H(z, k, 1), z.push(K(N), K(A), K(R), K(k)); var F = g.getItemModel(m), V = !!F.get(["itemStyle", "borderColorDoji"]); g.setItemLayout(m, { sign: VE(y, m, b, x, c, V), initBaseline: b > x ? A[i] : k[i], ends: z, brushRect: q(S, T, _) }) } function L(te, oe) { var X = []; return X[a] = oe, X[i] = te, isNaN(oe) || isNaN(te) ? [NaN, NaN] : e.dataToPoint(X) } function H(te, oe, X) { var U = oe.slice(), B = oe.slice(); U[a] = xy(U[a] + n / 2, 1, !1), B[a] = xy(B[a] - n / 2, 1, !0), X ? te.push(U, B) : te.push(B, U) } function q(te, oe, X) { var U = L(te, X), B = L(oe, X); return U[a] -= n / 2, B[a] -= n / 2, { x: U[0], y: U[1], width: n, height: B[1] - U[1] } } function K(te) { return te[a] = xy(te[a], 1), te } } function v(p, g) { for (var m = xo(p.count * 4), y = 0, _, b = [], x = [], S, T = g.getStore(), C = !!t.get(["itemStyle", "borderColorDoji"]); (S = p.next()) != null;) { var M = T.get(s, S), k = T.get(u, S), A = T.get(c, S), R = T.get(f, S), N = T.get(h, S); if (isNaN(M) || isNaN(R) || isNaN(N)) { m[y++] = NaN, y += 3; continue } m[y++] = VE(T, S, k, A, c, C), b[a] = M, b[i] = R, _ = e.dataToPoint(b, null, x), m[y++] = _ ? _[0] : NaN, m[y++] = _ ? _[1] : NaN, b[i] = N, _ = e.dataToPoint(b, null, x), m[y++] = _ ? _[1] : NaN } g.setLayout("largePoints", m) } } }; function VE(t, e, r, n, a, i) { var o; return r > n ? o = -1 : r < n ? o = 1 : o = i ? 0 : e > 0 ? t.get(a, e - 1) <= n ? 1 : -1 : 1, o } function uxe(t, e) { var r = t.getBaseAxis(), n, a = r.type === "category" ? r.getBandWidth() : (n = r.getExtent(), Math.abs(n[1] - n[0]) / e.count()), i = Ae(_t(t.get("barMaxWidth"), a), a), o = Ae(_t(t.get("barMinWidth"), 1), a), s = t.get("barWidth"); return s != null ? Ae(s, a) : Math.max(Math.min(a / 2, i), o) } const cxe = lxe; function fxe(t) { t.registerChartView(QSe), t.registerSeriesModel(JSe), t.registerPreprocessor(exe), t.registerVisual(sxe), t.registerLayout(cxe) } function zE(t, e) { var r = e.rippleEffectColor || e.color; t.eachChild(function (n) { n.attr({ z: e.z, zlevel: e.zlevel, style: { stroke: e.brushType === "stroke" ? r : null, fill: e.brushType === "fill" ? r : null } }) }) } var hxe = function (t) { ae(e, t); function e(r, n) { var a = t.call(this) || this, i = new cg(r, n), o = new it; return a.add(i), a.add(o), a.updateData(r, n), a } return e.prototype.stopEffectAnimation = function () { this.childAt(1).removeAll() }, e.prototype.startEffectAnimation = function (r) { for (var n = r.symbolType, a = r.color, i = r.rippleNumber, o = this.childAt(1), s = 0; s < i; s++) { var l = gn(n, -1, -1, 2, 2, a); l.attr({ style: { strokeNoScale: !0 }, z2: 99, silent: !0, scaleX: .5, scaleY: .5 }); var u = -s / i * r.period + r.effectOffset; l.animate("", !0).when(r.period, { scaleX: r.rippleScale / 2, scaleY: r.rippleScale / 2 }).delay(u).start(), l.animateStyle(!0).when(r.period, { opacity: 0 }).delay(u).start(), o.add(l) } zE(o, r) }, e.prototype.updateEffectAnimation = function (r) { for (var n = this._effectCfg, a = this.childAt(1), i = ["symbolType", "period", "rippleScale", "rippleNumber"], o = 0; o < i.length; o++) { var s = i[o]; if (n[s] !== r[s]) { this.stopEffectAnimation(), this.startEffectAnimation(r); return } } zE(a, r) }, e.prototype.highlight = function () { Ps(this) }, e.prototype.downplay = function () { Rs(this) }, e.prototype.getSymbolType = function () { var r = this.childAt(0); return r && r.getSymbolType() }, e.prototype.updateData = function (r, n) { var a = this, i = r.hostModel; this.childAt(0).updateData(r, n); var o = this.childAt(1), s = r.getItemModel(n), l = r.getItemVisual(n, "symbol"), u = ed(r.getItemVisual(n, "symbolSize")), c = r.getItemVisual(n, "style"), f = c && c.fill, h = s.getModel("emphasis"); o.setScale(u), o.traverse(function (g) { g.setStyle("fill", f) }); var d = Xc(r.getItemVisual(n, "symbolOffset"), u); d && (o.x = d[0], o.y = d[1]); var v = r.getItemVisual(n, "symbolRotate"); o.rotation = (v || 0) * Math.PI / 180 || 0; var p = {}; p.showEffectOn = i.get("showEffectOn"), p.rippleScale = s.get(["rippleEffect", "scale"]), p.brushType = s.get(["rippleEffect", "brushType"]), p.period = s.get(["rippleEffect", "period"]) * 1e3, p.effectOffset = n / r.count(), p.z = i.getShallow("z") || 0, p.zlevel = i.getShallow("zlevel") || 0, p.symbolType = l, p.color = f, p.rippleEffectColor = s.get(["rippleEffect", "color"]), p.rippleNumber = s.get(["rippleEffect", "number"]), p.showEffectOn === "render" ? (this._effectCfg ? this.updateEffectAnimation(p) : this.startEffectAnimation(p), this._effectCfg = p) : (this._effectCfg = null, this.stopEffectAnimation(), this.onHoverStateChange = function (g) { g === "emphasis" ? p.showEffectOn !== "render" && a.startEffectAnimation(p) : g === "normal" && p.showEffectOn !== "render" && a.stopEffectAnimation() }), this._effectCfg = p, Xr(this, h.get("focus"), h.get("blurScope"), h.get("disabled")) }, e.prototype.fadeOut = function (r) { r && r() }, e }(it); const dxe = hxe; var vxe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.init = function () { this._symbolDraw = new fg(dxe) }, e.prototype.render = function (r, n, a) { var i = r.getData(), o = this._symbolDraw; o.updateData(i, { clipShape: this._getClipShape(r) }), this.group.add(o.group) }, e.prototype._getClipShape = function (r) { var n = r.coordinateSystem, a = n && n.getArea && n.getArea(); return r.get("clip", !0) ? a : null }, e.prototype.updateTransform = function (r, n, a) { var i = r.getData(); this.group.dirty(); var o = hg("").reset(r, n, a); o.progress && o.progress({ start: 0, end: i.count(), count: i.count() }, i), this._symbolDraw.updateLayout() }, e.prototype._updateGroupTransform = function (r) { var n = r.coordinateSystem; n && n.getRoamTransform && (this.group.transform = Fue(n.getRoamTransform()), this.group.decomposeTransform()) }, e.prototype.remove = function (r, n) { this._symbolDraw && this._symbolDraw.remove(!0) }, e.type = "effectScatter", e }(Ar); const pxe = vxe; var gxe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.hasSymbolVisual = !0, r } return e.prototype.getInitialData = function (r, n) { return Hs(null, this, { useEncodeDefaulter: !0 }) }, e.prototype.brushSelector = function (r, n, a) { return a.point(n.getItemLayout(r)) }, e.type = "series.effectScatter", e.dependencies = ["grid", "polar"], e.defaultOption = { coordinateSystem: "cartesian2d", z: 2, legendHoverLink: !0, effectType: "ripple", progressive: 0, showEffectOn: "render", clip: !0, rippleEffect: { period: 4, scale: 2.5, brushType: "fill", number: 3 }, universalTransition: { divideShape: "clone" }, symbolSize: 10 }, e }($r); const mxe = gxe; function yxe(t) { t.registerChartView(pxe), t.registerSeriesModel(mxe), t.registerLayout(hg("effectScatter")) } var _xe = function (t) { ae(e, t); function e(r, n, a) { var i = t.call(this) || this; return i.add(i.createLine(r, n, a)), i._updateEffectSymbol(r, n), i } return e.prototype.createLine = function (r, n, a) { return new dM(r, n, a) }, e.prototype._updateEffectSymbol = function (r, n) { var a = r.getItemModel(n), i = a.getModel("effect"), o = i.get("symbolSize"), s = i.get("symbol"); me(o) || (o = [o, o]); var l = r.getItemVisual(n, "style"), u = i.get("color") || l && l.stroke, c = this.childAt(1); this._symbolType !== s && (this.remove(c), c = gn(s, -.5, -.5, 1, 1, u), c.z2 = 100, c.culling = !0, this.add(c)), c && (c.setStyle("shadowColor", u), c.setStyle(i.getItemStyle(["color"])), c.scaleX = o[0], c.scaleY = o[1], c.setColor(u), this._symbolType = s, this._symbolScale = o, this._updateEffectAnimation(r, i, n)) }, e.prototype._updateEffectAnimation = function (r, n, a) { var i = this.childAt(1); if (i) { var o = r.getItemLayout(a), s = n.get("period") * 1e3, l = n.get("loop"), u = n.get("roundTrip"), c = n.get("constantSpeed"), f = Nn(n.get("delay"), function (d) { return d / r.count() * s / 3 }); if (i.ignore = !0, this._updateAnimationPoints(i, o), c > 0 && (s = this._getLineLength(i) / c * 1e3), s !== this._period || l !== this._loop || u !== this._roundTrip) { i.stopAnimation(); var h = void 0; je(f) ? h = f(a) : h = f, i.__t > 0 && (h = -s * i.__t), this._animateSymbol(i, s, h, l, u) } this._period = s, this._loop = l, this._roundTrip = u } }, e.prototype._animateSymbol = function (r, n, a, i, o) { if (n > 0) { r.__t = 0; var s = this, l = r.animate("", i).when(o ? n * 2 : n, { __t: o ? 2 : 1 }).delay(a).during(function () { s._updateSymbolPosition(r) }); i || l.done(function () { s.remove(r) }), l.start() } }, e.prototype._getLineLength = function (r) { return Sl(r.__p1, r.__cp1) + Sl(r.__cp1, r.__p2) }, e.prototype._updateAnimationPoints = function (r, n) { r.__p1 = n[0], r.__p2 = n[1], r.__cp1 = n[2] || [(n[0][0] + n[1][0]) / 2, (n[0][1] + n[1][1]) / 2] }, e.prototype.updateData = function (r, n, a) { this.childAt(0).updateData(r, n, a), this._updateEffectSymbol(r, n) }, e.prototype._updateSymbolPosition = function (r) { var n = r.__p1, a = r.__p2, i = r.__cp1, o = r.__t < 1 ? r.__t : 2 - r.__t, s = [r.x, r.y], l = s.slice(), u = On, c = iT; s[0] = u(n[0], i[0], a[0], o), s[1] = u(n[1], i[1], a[1], o); var f = r.__t < 1 ? c(n[0], i[0], a[0], o) : c(a[0], i[0], n[0], 1 - o), h = r.__t < 1 ? c(n[1], i[1], a[1], o) : c(a[1], i[1], n[1], 1 - o); r.rotation = -Math.atan2(h, f) - Math.PI / 2, (this._symbolType === "line" || this._symbolType === "rect" || this._symbolType === "roundRect") && (r.__lastT !== void 0 && r.__lastT < r.__t ? (r.scaleY = Sl(l, s) * 1.05, o === 1 && (s[0] = l[0] + (s[0] - l[0]) / 2, s[1] = l[1] + (s[1] - l[1]) / 2)) : r.__lastT === 1 ? r.scaleY = 2 * Sl(n, s) : r.scaleY = this._symbolScale[1]), r.__lastT = r.__t, r.ignore = !1, r.x = s[0], r.y = s[1] }, e.prototype.updateLayout = function (r, n) { this.childAt(0).updateLayout(r, n); var a = r.getItemModel(n).getModel("effect"); this._updateEffectAnimation(r, a, n) }, e }(it); const o9 = _xe; var bxe = function (t) { ae(e, t); function e(r, n, a) { var i = t.call(this) || this; return i._createPolyline(r, n, a), i } return e.prototype._createPolyline = function (r, n, a) { var i = r.getItemLayout(n), o = new Na({ shape: { points: i } }); this.add(o), this._updateCommonStl(r, n, a) }, e.prototype.updateData = function (r, n, a) { var i = r.hostModel, o = this.childAt(0), s = { shape: { points: r.getItemLayout(n) } }; jt(o, s, i, n), this._updateCommonStl(r, n, a) }, e.prototype._updateCommonStl = function (r, n, a) { var i = this.childAt(0), o = r.getItemModel(n), s = a && a.emphasisLineStyle, l = a && a.focus, u = a && a.blurScope, c = a && a.emphasisDisabled; if (!a || r.hasItemOption) { var f = o.getModel("emphasis"); s = f.getModel("lineStyle").getLineStyle(), c = f.get("disabled"), l = f.get("focus"), u = f.get("blurScope") } i.useStyle(r.getItemVisual(n, "style")), i.style.fill = null, i.style.strokeNoScale = !0; var h = i.ensureState("emphasis"); h.style = s, Xr(this, l, u, c) }, e.prototype.updateLayout = function (r, n) { var a = this.childAt(0); a.setShape("points", r.getItemLayout(n)) }, e }(it); const s9 = bxe; var wxe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r._lastFrame = 0, r._lastFramePercent = 0, r } return e.prototype.createLine = function (r, n, a) { return new s9(r, n, a) }, e.prototype._updateAnimationPoints = function (r, n) { this._points = n; for (var a = [0], i = 0, o = 1; o < n.length; o++) { var s = n[o - 1], l = n[o]; i += Sl(s, l), a.push(i) } if (i === 0) { this._length = 0; return } for (var o = 0; o < a.length; o++)a[o] /= i; this._offsets = a, this._length = i }, e.prototype._getLineLength = function () { return this._length }, e.prototype._updateSymbolPosition = function (r) { var n = r.__t < 1 ? r.__t : 2 - r.__t, a = this._points, i = this._offsets, o = a.length; if (i) { var s = this._lastFrame, l; if (n < this._lastFramePercent) { var u = Math.min(s + 1, o - 1); for (l = u; l >= 0 && !(i[l] <= n); l--); l = Math.min(l, o - 2) } else { for (l = s; l < o && !(i[l] > n); l++); l = Math.min(l - 1, o - 2) } var c = (n - i[l]) / (i[l + 1] - i[l]), f = a[l], h = a[l + 1]; r.x = f[0] * (1 - c) + c * h[0], r.y = f[1] * (1 - c) + c * h[1]; var d = r.__t < 1 ? h[0] - f[0] : f[0] - h[0], v = r.__t < 1 ? h[1] - f[1] : f[1] - h[1]; r.rotation = -Math.atan2(v, d) - Math.PI / 2, this._lastFrame = l, this._lastFramePercent = n, r.ignore = !1 } }, e }(o9); const Sxe = wxe; var xxe = function () { function t() { this.polyline = !1, this.curveness = 0, this.segs = [] } return t }(), Txe = function (t) { ae(e, t); function e(r) { var n = t.call(this, r) || this; return n._off = 0, n.hoverDataIdx = -1, n } return e.prototype.reset = function () { this.notClear = !1, this._off = 0 }, e.prototype.getDefaultStyle = function () { return { stroke: "#000", fill: null } }, e.prototype.getDefaultShape = function () { return new xxe }, e.prototype.buildPath = function (r, n) { var a = n.segs, i = n.curveness, o; if (n.polyline) for (o = this._off; o < a.length;) { var s = a[o++]; if (s > 0) { r.moveTo(a[o++], a[o++]); for (var l = 1; l < s; l++)r.lineTo(a[o++], a[o++]) } } else for (o = this._off; o < a.length;) { var u = a[o++], c = a[o++], f = a[o++], h = a[o++]; if (r.moveTo(u, c), i > 0) { var d = (u + f) / 2 - (c - h) * i, v = (c + h) / 2 - (f - u) * i; r.quadraticCurveTo(d, v, f, h) } else r.lineTo(f, h) } this.incremental && (this._off = o, this.notClear = !0) }, e.prototype.findDataIndex = function (r, n) { var a = this.shape, i = a.segs, o = a.curveness, s = this.style.lineWidth; if (a.polyline) for (var l = 0, u = 0; u < i.length;) { var c = i[u++]; if (c > 0) for (var f = i[u++], h = i[u++], d = 1; d < c; d++) { var v = i[u++], p = i[u++]; if (bl(f, h, v, p, s, r, n)) return l } l++ } else for (var l = 0, u = 0; u < i.length;) { var f = i[u++], h = i[u++], v = i[u++], p = i[u++]; if (o > 0) { var g = (f + v) / 2 - (h - p) * o, m = (h + p) / 2 - (v - f) * o; if (DF(f, h, g, m, v, p, s, r, n)) return l } else if (bl(f, h, v, p, s, r, n)) return l; l++ } return -1 }, e.prototype.contain = function (r, n) { var a = this.transformCoordToLocal(r, n), i = this.getBoundingRect(); if (r = a[0], n = a[1], i.contain(r, n)) { var o = this.hoverDataIdx = this.findDataIndex(r, n); return o >= 0 } return this.hoverDataIdx = -1, !1 }, e.prototype.getBoundingRect = function () { var r = this._rect; if (!r) { for (var n = this.shape, a = n.segs, i = 1 / 0, o = 1 / 0, s = -1 / 0, l = -1 / 0, u = 0; u < a.length;) { var c = a[u++], f = a[u++]; i = Math.min(c, i), s = Math.max(c, s), o = Math.min(f, o), l = Math.max(f, l) } r = this._rect = new wt(i, o, s, l) } return r }, e }(At), Dxe = function () { function t() { this.group = new it } return t.prototype.updateData = function (e) { this._clear(); var r = this._create(); r.setShape({ segs: e.getLayout("linesPoints") }), this._setCommon(r, e) }, t.prototype.incrementalPrepareUpdate = function (e) { this.group.removeAll(), this._clear() }, t.prototype.incrementalUpdate = function (e, r) { var n = this._newAdded[0], a = r.getLayout("linesPoints"), i = n && n.shape.segs; if (i && i.length < 2e4) { var o = i.length, s = new Float32Array(o + a.length); s.set(i), s.set(a, o), n.setShape({ segs: s }) } else { this._newAdded = []; var l = this._create(); l.incremental = !0, l.setShape({ segs: a }), this._setCommon(l, r), l.__startIndex = e.start } }, t.prototype.remove = function () { this._clear() }, t.prototype.eachRendered = function (e) { this._newAdded[0] && e(this._newAdded[0]) }, t.prototype._create = function () { var e = new Txe({ cursor: "default", ignoreCoarsePointer: !0 }); return this._newAdded.push(e), this.group.add(e), e }, t.prototype._setCommon = function (e, r, n) { var a = r.hostModel; e.setShape({ polyline: a.get("polyline"), curveness: a.get(["lineStyle", "curveness"]) }), e.useStyle(a.getModel("lineStyle").getLineStyle()), e.style.strokeNoScale = !0; var i = r.getVisual("style"); i && i.stroke && e.setStyle("stroke", i.stroke), e.setStyle("fill", null); var o = lt(e); o.seriesIndex = a.seriesIndex, e.on("mousemove", function (s) { o.dataIndex = null; var l = e.hoverDataIdx; l > 0 && (o.dataIndex = l + e.__startIndex) }) }, t.prototype._clear = function () { this._newAdded = [], this.group.removeAll() }, t }(); const Cxe = Dxe; var Mxe = { seriesType: "lines", plan: Qh(), reset: function (t) { var e = t.coordinateSystem; if (e) { var r = t.get("polyline"), n = t.pipelineContext.large; return { progress: function (a, i) { var o = []; if (n) { var s = void 0, l = a.end - a.start; if (r) { for (var u = 0, c = a.start; c < a.end; c++)u += t.getLineCoordsCount(c); s = new Float32Array(l + u * 2) } else s = new Float32Array(l * 4); for (var f = 0, h = [], c = a.start; c < a.end; c++) { var d = t.getLineCoords(c, o); r && (s[f++] = d); for (var v = 0; v < d; v++)h = e.dataToPoint(o[v], !1, h), s[f++] = h[0], s[f++] = h[1] } i.setLayout("linesPoints", s) } else for (var c = a.start; c < a.end; c++) { var p = i.getItemModel(c), d = t.getLineCoords(c, o), g = []; if (r) for (var m = 0; m < d; m++)g.push(e.dataToPoint(o[m])); else { g[0] = e.dataToPoint(o[0]), g[1] = e.dataToPoint(o[1]); var y = p.get(["lineStyle", "curveness"]); +y && (g[2] = [(g[0][0] + g[1][0]) / 2 - (g[0][1] - g[1][1]) * y, (g[0][1] + g[1][1]) / 2 - (g[1][0] - g[0][0]) * y]) } i.setItemLayout(c, g) } } } } } }; const l9 = Mxe; var kxe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.render = function (r, n, a) { var i = r.getData(), o = this._updateLineDraw(i, r), s = r.get("zlevel"), l = r.get(["effect", "trailLength"]), u = a.getZr(), c = u.painter.getType() === "svg"; c || u.painter.getLayer(s).clear(!0), this._lastZlevel != null && !c && u.configLayer(this._lastZlevel, { motionBlur: !1 }), this._showEffect(r) && l > 0 && (c || u.configLayer(s, { motionBlur: !0, lastFrameAlpha: Math.max(Math.min(l / 10 + .9, 1), 0) })), o.updateData(i); var f = r.get("clip", !0) && m1(r.coordinateSystem, !1, r); f ? this.group.setClipPath(f) : this.group.removeClipPath(), this._lastZlevel = s, this._finished = !0 }, e.prototype.incrementalPrepareRender = function (r, n, a) { var i = r.getData(), o = this._updateLineDraw(i, r); o.incrementalPrepareUpdate(i), this._clearLayer(a), this._finished = !1 }, e.prototype.incrementalRender = function (r, n, a) { this._lineDraw.incrementalUpdate(r, n.getData()), this._finished = r.end === n.getData().count() }, e.prototype.eachRendered = function (r) { this._lineDraw && this._lineDraw.eachRendered(r) }, e.prototype.updateTransform = function (r, n, a) { var i = r.getData(), o = r.pipelineContext; if (!this._finished || o.large || o.progressiveRender) return { update: !0 }; var s = l9.reset(r, n, a); s.progress && s.progress({ start: 0, end: i.count(), count: i.count() }, i), this._lineDraw.updateLayout(), this._clearLayer(a) }, e.prototype._updateLineDraw = function (r, n) { var a = this._lineDraw, i = this._showEffect(n), o = !!n.get("polyline"), s = n.pipelineContext, l = s.large; return (!a || i !== this._hasEffet || o !== this._isPolyline || l !== this._isLargeDraw) && (a && a.remove(), a = this._lineDraw = l ? new Cxe : new vM(o ? i ? Sxe : s9 : i ? o9 : dM), this._hasEffet = i, this._isPolyline = o, this._isLargeDraw = l), this.group.add(a.group), a }, e.prototype._showEffect = function (r) { return !!r.get(["effect", "show"]) }, e.prototype._clearLayer = function (r) { var n = r.getZr(), a = n.painter.getType() === "svg"; !a && this._lastZlevel != null && n.painter.getLayer(this._lastZlevel).clear(!0) }, e.prototype.remove = function (r, n) { this._lineDraw && this._lineDraw.remove(), this._lineDraw = null, this._clearLayer(n) }, e.prototype.dispose = function (r, n) { this.remove(r, n) }, e.type = "lines", e }(Ar); const Axe = kxe; var Lxe = typeof Uint32Array > "u" ? Array : Uint32Array, Ixe = typeof Float64Array > "u" ? Array : Float64Array; function HE(t) { var e = t.data; e && e[0] && e[0][0] && e[0][0].coord && (t.data = _e(e, function (r) { var n = [r[0].coord, r[1].coord], a = { coords: n }; return r[0].name && (a.fromName = r[0].name), r[1].name && (a.toName = r[1].name), jD([a, r[0], r[1]]) })) } var Pxe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.visualStyleAccessPath = "lineStyle", r.visualDrawType = "stroke", r } return e.prototype.init = function (r) { r.data = r.data || [], HE(r); var n = this._processFlatCoordsArray(r.data); this._flatCoords = n.flatCoords, this._flatCoordsOffset = n.flatCoordsOffset, n.flatCoords && (r.data = new Float32Array(n.count)), t.prototype.init.apply(this, arguments) }, e.prototype.mergeOption = function (r) { if (HE(r), r.data) { var n = this._processFlatCoordsArray(r.data); this._flatCoords = n.flatCoords, this._flatCoordsOffset = n.flatCoordsOffset, n.flatCoords && (r.data = new Float32Array(n.count)) } t.prototype.mergeOption.apply(this, arguments) }, e.prototype.appendData = function (r) { var n = this._processFlatCoordsArray(r.data); n.flatCoords && (this._flatCoords ? (this._flatCoords = Ky(this._flatCoords, n.flatCoords), this._flatCoordsOffset = Ky(this._flatCoordsOffset, n.flatCoordsOffset)) : (this._flatCoords = n.flatCoords, this._flatCoordsOffset = n.flatCoordsOffset), r.data = new Float32Array(n.count)), this.getRawData().appendData(r.data) }, e.prototype._getCoordsFromItemModel = function (r) { var n = this.getData().getItemModel(r), a = n.option instanceof Array ? n.option : n.getShallow("coords"); return a }, e.prototype.getLineCoordsCount = function (r) { return this._flatCoordsOffset ? this._flatCoordsOffset[r * 2 + 1] : this._getCoordsFromItemModel(r).length }, e.prototype.getLineCoords = function (r, n) { if (this._flatCoordsOffset) { for (var a = this._flatCoordsOffset[r * 2], i = this._flatCoordsOffset[r * 2 + 1], o = 0; o < i; o++)n[o] = n[o] || [], n[o][0] = this._flatCoords[a + o * 2], n[o][1] = this._flatCoords[a + o * 2 + 1]; return i } else { for (var s = this._getCoordsFromItemModel(r), o = 0; o < s.length; o++)n[o] = n[o] || [], n[o][0] = s[o][0], n[o][1] = s[o][1]; return s.length } }, e.prototype._processFlatCoordsArray = function (r) { var n = 0; if (this._flatCoords && (n = this._flatCoords.length), Gt(r[0])) { for (var a = r.length, i = new Lxe(a), o = new Ixe(a), s = 0, l = 0, u = 0, c = 0; c < a;) { u++; var f = r[c++]; i[l++] = s + n, i[l++] = f; for (var h = 0; h < f; h++) { var d = r[c++], v = r[c++]; o[s++] = d, o[s++] = v } } return { flatCoordsOffset: new Uint32Array(i.buffer, 0, l), flatCoords: o, count: u } } return { flatCoordsOffset: null, flatCoords: null, count: r.length } }, e.prototype.getInitialData = function (r, n) { var a = new ma(["value"], this); return a.hasItemOption = !1, a.initData(r.data, [], function (i, o, s, l) { if (i instanceof Array) return NaN; a.hasItemOption = !0; var u = i.value; if (u != null) return u instanceof Array ? u[l] : u }), a }, e.prototype.formatTooltip = function (r, n, a) { var i = this.getData(), o = i.getItemModel(r), s = o.get("name"); if (s) return s; var l = o.get("fromName"), u = o.get("toName"), c = []; return l != null && c.push(l), u != null && c.push(u), Rn("nameValue", { name: c.join(" > ") }) }, e.prototype.preventIncremental = function () { return !!this.get(["effect", "show"]) }, e.prototype.getProgressive = function () { var r = this.option.progressive; return r ?? (this.option.large ? 1e4 : this.get("progressive")) }, e.prototype.getProgressiveThreshold = function () { var r = this.option.progressiveThreshold; return r ?? (this.option.large ? 2e4 : this.get("progressiveThreshold")) }, e.prototype.getZLevelKey = function () { var r = this.getModel("effect"), n = r.get("trailLength"); return this.getData().count() > this.getProgressiveThreshold() ? this.id : r.get("show") && n > 0 ? n + "" : "" }, e.type = "series.lines", e.dependencies = ["grid", "polar", "geo", "calendar"], e.defaultOption = { coordinateSystem: "geo", z: 2, legendHoverLink: !0, xAxisIndex: 0, yAxisIndex: 0, symbol: ["none", "none"], symbolSize: [10, 10], geoIndex: 0, effect: { show: !1, period: 4, constantSpeed: 0, symbol: "circle", symbolSize: 3, loop: !0, trailLength: .2 }, large: !1, largeThreshold: 2e3, polyline: !1, clip: !0, label: { show: !1, position: "end" }, lineStyle: { opacity: .5 } }, e }($r); const Rxe = Pxe; function Bm(t) { return t instanceof Array || (t = [t, t]), t } var Oxe = { seriesType: "lines", reset: function (t) { var e = Bm(t.get("symbol")), r = Bm(t.get("symbolSize")), n = t.getData(); n.setVisual("fromSymbol", e && e[0]), n.setVisual("toSymbol", e && e[1]), n.setVisual("fromSymbolSize", r && r[0]), n.setVisual("toSymbolSize", r && r[1]); function a(i, o) { var s = i.getItemModel(o), l = Bm(s.getShallow("symbol", !0)), u = Bm(s.getShallow("symbolSize", !0)); l[0] && i.setItemVisual(o, "fromSymbol", l[0]), l[1] && i.setItemVisual(o, "toSymbol", l[1]), u[0] && i.setItemVisual(o, "fromSymbolSize", u[0]), u[1] && i.setItemVisual(o, "toSymbolSize", u[1]) } return { dataEach: n.hasItemOption ? a : null } } }; const Exe = Oxe; function Nxe(t) { t.registerChartView(Axe), t.registerSeriesModel(Rxe), t.registerLayout(l9), t.registerVisual(Exe) } var $xe = 256, Fxe = function () { function t() { this.blurSize = 30, this.pointSize = 20, this.maxOpacity = 1, this.minOpacity = 0, this._gradientPixels = { inRange: null, outOfRange: null }; var e = ql.createCanvas(); this.canvas = e } return t.prototype.update = function (e, r, n, a, i, o) { var s = this._getBrush(), l = this._getGradient(i, "inRange"), u = this._getGradient(i, "outOfRange"), c = this.pointSize + this.blurSize, f = this.canvas, h = f.getContext("2d"), d = e.length; f.width = r, f.height = n; for (var v = 0; v < d; ++v) { var p = e[v], g = p[0], m = p[1], y = p[2], _ = a(y); h.globalAlpha = _, h.drawImage(s, g - c, m - c) } if (!f.width || !f.height) return f; for (var b = h.getImageData(0, 0, f.width, f.height), x = b.data, S = 0, T = x.length, C = this.minOpacity, M = this.maxOpacity, k = M - C; S < T;) { var _ = x[S + 3] / 256, A = Math.floor(_ * ($xe - 1)) * 4; if (_ > 0) { var R = o(_) ? l : u; _ > 0 && (_ = _ * k + C), x[S++] = R[A], x[S++] = R[A + 1], x[S++] = R[A + 2], x[S++] = R[A + 3] * _ * 256 } else S += 4 } return h.putImageData(b, 0, 0), f }, t.prototype._getBrush = function () { var e = this._brushCanvas || (this._brushCanvas = ql.createCanvas()), r = this.pointSize + this.blurSize, n = r * 2; e.width = n, e.height = n; var a = e.getContext("2d"); return a.clearRect(0, 0, n, n), a.shadowOffsetX = n, a.shadowBlur = this.blurSize, a.shadowColor = "#000", a.beginPath(), a.arc(-r, r, this.pointSize, 0, Math.PI * 2, !0), a.closePath(), a.fill(), e }, t.prototype._getGradient = function (e, r) { for (var n = this._gradientPixels, a = n[r] || (n[r] = new Uint8ClampedArray(256 * 4)), i = [0, 0, 0, 0], o = 0, s = 0; s < 256; s++)e[r](s / 255, !0, i), a[o++] = i[0], a[o++] = i[1], a[o++] = i[2], a[o++] = i[3]; return a }, t }(); const Bxe = Fxe; function Vxe(t, e, r) { var n = t[1] - t[0]; e = _e(e, function (o) { return { interval: [(o.interval[0] - t[0]) / n, (o.interval[1] - t[0]) / n] } }); var a = e.length, i = 0; return function (o) { var s; for (s = i; s < a; s++) { var l = e[s].interval; if (l[0] <= o && o <= l[1]) { i = s; break } } if (s === a) for (s = i - 1; s >= 0; s--) { var l = e[s].interval; if (l[0] <= o && o <= l[1]) { i = s; break } } return s >= 0 && s < a && r[s] } } function zxe(t, e) { var r = t[1] - t[0]; return e = [(e[0] - t[0]) / r, (e[1] - t[0]) / r], function (n) { return n >= e[0] && n <= e[1] } } function YE(t) { var e = t.dimensions; return e[0] === "lng" && e[1] === "lat" } var Hxe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.render = function (r, n, a) { var i; n.eachComponent("visualMap", function (s) { s.eachTargetSeries(function (l) { l === r && (i = s) }) }), this._progressiveEls = null, this.group.removeAll(); var o = r.coordinateSystem; o.type === "cartesian2d" || o.type === "calendar" ? this._renderOnCartesianAndCalendar(r, a, 0, r.getData().count()) : YE(o) && this._renderOnGeo(o, r, i, a) }, e.prototype.incrementalPrepareRender = function (r, n, a) { this.group.removeAll() }, e.prototype.incrementalRender = function (r, n, a, i) { var o = n.coordinateSystem; o && (YE(o) ? this.render(n, a, i) : (this._progressiveEls = [], this._renderOnCartesianAndCalendar(n, i, r.start, r.end, !0))) }, e.prototype.eachRendered = function (r) { ou(this._progressiveEls || this.group, r) }, e.prototype._renderOnCartesianAndCalendar = function (r, n, a, i, o) { var s = r.coordinateSystem, l = Qc(s, "cartesian2d"), u, c, f, h; if (l) { var d = s.getAxis("x"), v = s.getAxis("y"); u = d.getBandWidth() + .5, c = v.getBandWidth() + .5, f = d.scale.getExtent(), h = v.scale.getExtent() } for (var p = this.group, g = r.getData(), m = r.getModel(["emphasis", "itemStyle"]).getItemStyle(), y = r.getModel(["blur", "itemStyle"]).getItemStyle(), _ = r.getModel(["select", "itemStyle"]).getItemStyle(), b = r.get(["itemStyle", "borderRadius"]), x = Pn(r), S = r.getModel("emphasis"), T = S.get("focus"), C = S.get("blurScope"), M = S.get("disabled"), k = l ? [g.mapDimension("x"), g.mapDimension("y"), g.mapDimension("value")] : [g.mapDimension("time"), g.mapDimension("value")], A = a; A < i; A++) { var R = void 0, N = g.getItemVisual(A, "style"); if (l) { var z = g.get(k[0], A), F = g.get(k[1], A); if (isNaN(g.get(k[2], A)) || isNaN(z) || isNaN(F) || z < f[0] || z > f[1] || F < h[0] || F > h[1]) continue; var V = s.dataToPoint([z, F]); R = new Bt({ shape: { x: V[0] - u / 2, y: V[1] - c / 2, width: u, height: c }, style: N }) } else { if (isNaN(g.get(k[1], A))) continue; R = new Bt({ z2: 1, shape: s.dataToRect([g.get(k[0], A)]).contentShape, style: N }) } if (g.hasItemOption) { var L = g.getItemModel(A), H = L.getModel("emphasis"); m = H.getModel("itemStyle").getItemStyle(), y = L.getModel(["blur", "itemStyle"]).getItemStyle(), _ = L.getModel(["select", "itemStyle"]).getItemStyle(), b = L.get(["itemStyle", "borderRadius"]), T = H.get("focus"), C = H.get("blurScope"), M = H.get("disabled"), x = Pn(L) } R.shape.r = b; var q = r.getRawValue(A), K = "-"; q && q[2] != null && (K = q[2] + ""), Wn(R, x, { labelFetcher: r, labelDataIndex: A, defaultOpacity: N.opacity, defaultText: K }), R.ensureState("emphasis").style = m, R.ensureState("blur").style = y, R.ensureState("select").style = _, Xr(R, T, C, M), R.incremental = o, o && (R.states.emphasis.hoverLayer = !0), p.add(R), g.setItemGraphicEl(A, R), this._progressiveEls && this._progressiveEls.push(R) } }, e.prototype._renderOnGeo = function (r, n, a, i) { var o = a.targetVisuals.inRange, s = a.targetVisuals.outOfRange, l = n.getData(), u = this._hmLayer || this._hmLayer || new Bxe; u.blurSize = n.get("blurSize"), u.pointSize = n.get("pointSize"), u.minOpacity = n.get("minOpacity"), u.maxOpacity = n.get("maxOpacity"); var c = r.getViewRect().clone(), f = r.getRoamTransform(); c.applyTransform(f); var h = Math.max(c.x, 0), d = Math.max(c.y, 0), v = Math.min(c.width + c.x, i.getWidth()), p = Math.min(c.height + c.y, i.getHeight()), g = v - h, m = p - d, y = [l.mapDimension("lng"), l.mapDimension("lat"), l.mapDimension("value")], _ = l.mapArray(y, function (T, C, M) { var k = r.dataToPoint([T, C]); return k[0] -= h, k[1] -= d, k.push(M), k }), b = a.getExtent(), x = a.type === "visualMap.continuous" ? zxe(b, a.option.range) : Vxe(b, a.getPieceList(), a.option.selected); u.update(_, g, m, o.color.getNormalizer(), { inRange: o.color.getColorMapper(), outOfRange: s.color.getColorMapper() }, x); var S = new Gn({ style: { width: g, height: m, x: h, y: d, image: u.canvas }, silent: !0 }); this.group.add(S) }, e.type = "heatmap", e }(Ar); const Yxe = Hxe; var Uxe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.getInitialData = function (r, n) { return Hs(null, this, { generateCoord: "value" }) }, e.prototype.preventIncremental = function () { var r = ag.get(this.get("coordinateSystem")); if (r && r.dimensions) return r.dimensions[0] === "lng" && r.dimensions[1] === "lat" }, e.type = "series.heatmap", e.dependencies = ["grid", "geo", "calendar"], e.defaultOption = { coordinateSystem: "cartesian2d", z: 2, geoIndex: 0, blurSize: 30, pointSize: 20, maxOpacity: 1, minOpacity: 0, select: { itemStyle: { borderColor: "#212121" } } }, e }($r); const Wxe = Uxe; function Gxe(t) { t.registerChartView(Yxe), t.registerSeriesModel(Wxe) } var jxe = ["itemStyle", "borderWidth"], UE = [{ xy: "x", wh: "width", index: 0, posDesc: ["left", "right"] }, { xy: "y", wh: "height", index: 1, posDesc: ["top", "bottom"] }], SS = new $o, Zxe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.render = function (r, n, a) { var i = this.group, o = r.getData(), s = this._data, l = r.coordinateSystem, u = l.getBaseAxis(), c = u.isHorizontal(), f = l.master.getRect(), h = { ecSize: { width: a.getWidth(), height: a.getHeight() }, seriesModel: r, coordSys: l, coordSysExtent: [[f.x, f.x + f.width], [f.y, f.y + f.height]], isHorizontal: c, valueDim: UE[+c], categoryDim: UE[1 - +c] }; return o.diff(s).add(function (d) { if (o.hasValue(d)) { var v = GE(o, d), p = WE(o, d, v, h), g = jE(o, h, p); o.setItemGraphicEl(d, g), i.add(g), qE(g, h, p) } }).update(function (d, v) { var p = s.getItemGraphicEl(v); if (!o.hasValue(d)) { i.remove(p); return } var g = GE(o, d), m = WE(o, d, g, h), y = v9(o, m); p && y !== p.__pictorialShapeStr && (i.remove(p), o.setItemGraphicEl(d, null), p = null), p ? tTe(p, h, m) : p = jE(o, h, m, !0), o.setItemGraphicEl(d, p), p.__pictorialSymbolMeta = m, i.add(p), qE(p, h, m) }).remove(function (d) { var v = s.getItemGraphicEl(d); v && ZE(s, d, v.__pictorialSymbolMeta.animationModel, v) }).execute(), this._data = o, this.group }, e.prototype.remove = function (r, n) { var a = this.group, i = this._data; r.get("animation") ? i && i.eachItemGraphicEl(function (o) { ZE(i, lt(o).dataIndex, r, o) }) : a.removeAll() }, e.type = "pictorialBar", e }(Ar); function WE(t, e, r, n) { var a = t.getItemLayout(e), i = r.get("symbolRepeat"), o = r.get("symbolClip"), s = r.get("symbolPosition") || "start", l = r.get("symbolRotate"), u = (l || 0) * Math.PI / 180 || 0, c = r.get("symbolPatternSize") || 2, f = r.isAnimationEnabled(), h = { dataIndex: e, layout: a, itemModel: r, symbolType: t.getItemVisual(e, "symbol") || "circle", style: t.getItemVisual(e, "style"), symbolClip: o, symbolRepeat: i, symbolRepeatDirection: r.get("symbolRepeatDirection"), symbolPatternSize: c, rotation: u, animationModel: f ? r : null, hoverScale: f && r.get(["emphasis", "scale"]), z2: r.getShallow("z", !0) || 0 }; qxe(r, i, a, n, h), Xxe(t, e, a, i, o, h.boundingLength, h.pxSign, c, n, h), Kxe(r, h.symbolScale, u, n, h); var d = h.symbolSize, v = Xc(r.get("symbolOffset"), d); return Qxe(r, d, a, i, o, v, s, h.valueLineWidth, h.boundingLength, h.repeatCutLength, n, h), h } function qxe(t, e, r, n, a) { var i = n.valueDim, o = t.get("symbolBoundingData"), s = n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()), l = s.toGlobalCoord(s.dataToCoord(0)), u = 1 - +(r[i.wh] <= 0), c; if (me(o)) { var f = [xS(s, o[0]) - l, xS(s, o[1]) - l]; f[1] < f[0] && f.reverse(), c = f[u] } else o != null ? c = xS(s, o) - l : e ? c = n.coordSysExtent[i.index][u] - l : c = r[i.wh]; a.boundingLength = c, e && (a.repeatCutLength = r[i.wh]), a.pxSign = c > 0 ? 1 : -1 } function xS(t, e) { return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e))) } function Xxe(t, e, r, n, a, i, o, s, l, u) { var c = l.valueDim, f = l.categoryDim, h = Math.abs(r[f.wh]), d = t.getItemVisual(e, "symbolSize"), v; me(d) ? v = d.slice() : d == null ? v = ["100%", "100%"] : v = [d, d], v[f.index] = Ae(v[f.index], h), v[c.index] = Ae(v[c.index], n ? h : Math.abs(i)), u.symbolSize = v; var p = u.symbolScale = [v[0] / s, v[1] / s]; p[c.index] *= (l.isHorizontal ? -1 : 1) * o } function Kxe(t, e, r, n, a) { var i = t.get(jxe) || 0; i && (SS.attr({ scaleX: e[0], scaleY: e[1], rotation: r }), SS.updateTransform(), i /= SS.getLineScale(), i *= e[n.valueDim.index]), a.valueLineWidth = i || 0 } function Qxe(t, e, r, n, a, i, o, s, l, u, c, f) { var h = c.categoryDim, d = c.valueDim, v = f.pxSign, p = Math.max(e[d.index] + s, 0), g = p; if (n) { var m = Math.abs(l), y = Nn(t.get("symbolMargin"), "15%") + "", _ = !1; y.lastIndexOf("!") === y.length - 1 && (_ = !0, y = y.slice(0, y.length - 1)); var b = Ae(y, e[d.index]), x = Math.max(p + b * 2, 0), S = _ ? 0 : b * 2, T = cF(n), C = T ? n : XE((m + S) / x), M = m - C * p; b = M / 2 / (_ ? C : Math.max(C - 1, 1)), x = p + b * 2, S = _ ? 0 : b * 2, !T && n !== "fixed" && (C = u ? XE((Math.abs(u) + S) / x) : 0), g = C * x - S, f.repeatTimes = C, f.symbolMargin = b } var k = v * (g / 2), A = f.pathPosition = []; A[h.index] = r[h.wh] / 2, A[d.index] = o === "start" ? k : o === "end" ? l - k : l / 2, i && (A[0] += i[0], A[1] += i[1]); var R = f.bundlePosition = []; R[h.index] = r[h.xy], R[d.index] = r[d.xy]; var N = f.barRectShape = he({}, r); N[d.wh] = v * Math.max(Math.abs(r[d.wh]), Math.abs(A[d.index] + k)), N[h.wh] = r[h.wh]; var z = f.clipShape = {}; z[h.xy] = -r[h.xy], z[h.wh] = c.ecSize[h.wh], z[d.xy] = 0, z[d.wh] = r[d.wh] } function u9(t) { var e = t.symbolPatternSize, r = gn(t.symbolType, -e / 2, -e / 2, e, e); return r.attr({ culling: !0 }), r.type !== "image" && r.setStyle({ strokeNoScale: !0 }), r } function c9(t, e, r, n) { var a = t.__pictorialBundle, i = r.symbolSize, o = r.valueLineWidth, s = r.pathPosition, l = e.valueDim, u = r.repeatTimes || 0, c = 0, f = i[e.valueDim.index] + o + r.symbolMargin * 2; for (SM(t, function (p) { p.__pictorialAnimationIndex = c, p.__pictorialRepeatTimes = u, c < u ? hh(p, null, v(c), r, n) : hh(p, null, { scaleX: 0, scaleY: 0 }, r, n, function () { a.remove(p) }), c++ }); c < u; c++) { var h = u9(r); h.__pictorialAnimationIndex = c, h.__pictorialRepeatTimes = u, a.add(h); var d = v(c); hh(h, { x: d.x, y: d.y, scaleX: 0, scaleY: 0 }, { scaleX: d.scaleX, scaleY: d.scaleY, rotation: d.rotation }, r, n) } function v(p) { var g = s.slice(), m = r.pxSign, y = p; return (r.symbolRepeatDirection === "start" ? m > 0 : m < 0) && (y = u - 1 - p), g[l.index] = f * (y - u / 2 + .5) + s[l.index], { x: g[0], y: g[1], scaleX: r.symbolScale[0], scaleY: r.symbolScale[1], rotation: r.rotation } } } function f9(t, e, r, n) { var a = t.__pictorialBundle, i = t.__pictorialMainPath; i ? hh(i, null, { x: r.pathPosition[0], y: r.pathPosition[1], scaleX: r.symbolScale[0], scaleY: r.symbolScale[1], rotation: r.rotation }, r, n) : (i = t.__pictorialMainPath = u9(r), a.add(i), hh(i, { x: r.pathPosition[0], y: r.pathPosition[1], scaleX: 0, scaleY: 0, rotation: r.rotation }, { scaleX: r.symbolScale[0], scaleY: r.symbolScale[1] }, r, n)) } function h9(t, e, r) { var n = he({}, e.barRectShape), a = t.__pictorialBarRect; a ? hh(a, null, { shape: n }, e, r) : (a = t.__pictorialBarRect = new Bt({ z2: 2, shape: n, silent: !0, style: { stroke: "transparent", fill: "transparent", lineWidth: 0 } }), a.disableMorphing = !0, t.add(a)) } function d9(t, e, r, n) { if (r.symbolClip) { var a = t.__pictorialClipPath, i = he({}, r.clipShape), o = e.valueDim, s = r.animationModel, l = r.dataIndex; if (a) jt(a, { shape: i }, s, l); else { i[o.wh] = 0, a = new Bt({ shape: i }), t.__pictorialBundle.setClipPath(a), t.__pictorialClipPath = a; var u = {}; u[o.wh] = r.clipShape[o.wh], ng[n ? "updateProps" : "initProps"](a, { shape: u }, s, l) } } } function GE(t, e) { var r = t.getItemModel(e); return r.getAnimationDelayParams = Jxe, r.isAnimationEnabled = eTe, r } function Jxe(t) { return { index: t.__pictorialAnimationIndex, count: t.__pictorialRepeatTimes } } function eTe() { return this.parentModel.isAnimationEnabled() && !!this.getShallow("animation") } function jE(t, e, r, n) { var a = new it, i = new it; return a.add(i), a.__pictorialBundle = i, i.x = r.bundlePosition[0], i.y = r.bundlePosition[1], r.symbolRepeat ? c9(a, e, r) : f9(a, e, r), h9(a, r, n), d9(a, e, r, n), a.__pictorialShapeStr = v9(t, r), a.__pictorialSymbolMeta = r, a } function tTe(t, e, r) { var n = r.animationModel, a = r.dataIndex, i = t.__pictorialBundle; jt(i, { x: r.bundlePosition[0], y: r.bundlePosition[1] }, n, a), r.symbolRepeat ? c9(t, e, r, !0) : f9(t, e, r, !0), h9(t, r, !0), d9(t, e, r, !0) } function ZE(t, e, r, n) { var a = n.__pictorialBarRect; a && a.removeTextContent(); var i = []; SM(n, function (o) { i.push(o) }), n.__pictorialMainPath && i.push(n.__pictorialMainPath), n.__pictorialClipPath && (r = null), E(i, function (o) { Kl(o, { scaleX: 0, scaleY: 0 }, r, e, function () { n.parent && n.parent.remove(n) }) }), t.setItemGraphicEl(e, null) } function v9(t, e) { return [t.getItemVisual(e.dataIndex, "symbol") || "none", !!e.symbolRepeat, !!e.symbolClip].join(":") } function SM(t, e, r) { E(t.__pictorialBundle.children(), function (n) { n !== t.__pictorialBarRect && e.call(r, n) }) } function hh(t, e, r, n, a, i) { e && t.attr(e), n.symbolClip && !a ? r && t.attr(r) : r && ng[a ? "updateProps" : "initProps"](t, r, n.animationModel, n.dataIndex, i) } function qE(t, e, r) { var n = r.dataIndex, a = r.itemModel, i = a.getModel("emphasis"), o = i.getModel("itemStyle").getItemStyle(), s = a.getModel(["blur", "itemStyle"]).getItemStyle(), l = a.getModel(["select", "itemStyle"]).getItemStyle(), u = a.getShallow("cursor"), c = i.get("focus"), f = i.get("blurScope"), h = i.get("scale"); SM(t, function (p) { if (p instanceof Gn) { var g = p.style; p.useStyle(he({ image: g.image, x: g.x, y: g.y, width: g.width, height: g.height }, r.style)) } else p.useStyle(r.style); var m = p.ensureState("emphasis"); m.style = o, h && (m.scaleX = p.scaleX * 1.1, m.scaleY = p.scaleY * 1.1), p.ensureState("blur").style = s, p.ensureState("select").style = l, u && (p.cursor = u), p.z2 = r.z2 }); var d = e.valueDim.posDesc[+(r.boundingLength > 0)], v = t.__pictorialBarRect; Wn(v, Pn(a), { labelFetcher: e.seriesModel, labelDataIndex: n, defaultText: Ah(e.seriesModel.getData(), n), inheritColor: r.style.fill, defaultOpacity: r.style.opacity, defaultOutsidePosition: d }), Xr(t, c, f, i.get("disabled")) } function XE(t) { var e = Math.round(t); return Math.abs(t - e) < 1e-4 ? e : Math.ceil(t) } const rTe = Zxe; var nTe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.hasSymbolVisual = !0, r.defaultSymbol = "roundRect", r } return e.prototype.getInitialData = function (r) { return r.stack = null, t.prototype.getInitialData.apply(this, arguments) }, e.type = "series.pictorialBar", e.dependencies = ["grid"], e.defaultOption = su(D0.defaultOption, { symbol: "circle", symbolSize: null, symbolRotate: null, symbolPosition: null, symbolOffset: null, symbolMargin: null, symbolRepeat: !1, symbolRepeatDirection: "end", symbolClip: !1, symbolBoundingData: null, symbolPatternSize: 400, barGap: "-100%", progressive: 0, emphasis: { scale: !1 }, select: { itemStyle: { borderColor: "#212121" } } }), e }(D0); const aTe = nTe; function iTe(t) { t.registerChartView(rTe), t.registerSeriesModel(aTe), t.registerLayout(t.PRIORITY.VISUAL.LAYOUT, ut(sV, "pictorialBar")), t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT, lV("pictorialBar")) } var oTe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r._layers = [], r } return e.prototype.render = function (r, n, a) { var i = r.getData(), o = this, s = this.group, l = r.getLayerSeries(), u = i.getLayout("layoutInfo"), c = u.rect, f = u.boundaryGap; s.x = 0, s.y = c.y + f[0]; function h(g) { return g.name } var d = new Os(this._layersSeries || [], l, h, h), v = []; d.add($e(p, this, "add")).update($e(p, this, "update")).remove($e(p, this, "remove")).execute(); function p(g, m, y) { var _ = o._layers; if (g === "remove") { s.remove(_[m]); return } for (var b = [], x = [], S, T = l[m].indices, C = 0; C < T.length; C++) { var M = i.getItemLayout(T[C]), k = M.x, A = M.y0, R = M.y; b.push(k, A), x.push(k, A + R), S = i.getItemVisual(T[C], "style") } var N, z = i.getItemLayout(T[0]), F = r.getModel("label"), V = F.get("margin"), L = r.getModel("emphasis"); if (g === "add") { var H = v[m] = new it; N = new NV({ shape: { points: b, stackedOnPoints: x, smooth: .4, stackedOnSmooth: .4, smoothConstraint: !1 }, z2: 0 }), H.add(N), s.add(H), r.isAnimationEnabled() && N.setClipPath(sTe(N.getBoundingRect(), r, function () { N.removeClipPath() })) } else { var H = _[y]; N = H.childAt(0), s.add(H), v[m] = H, jt(N, { shape: { points: b, stackedOnPoints: x } }, r), Zi(N) } Wn(N, Pn(r), { labelDataIndex: T[C - 1], defaultText: i.getName(T[C - 1]), inheritColor: S.fill }, { normal: { verticalAlign: "middle" } }), N.setTextConfig({ position: null, local: !0 }); var q = N.getTextContent(); q && (q.x = z.x - V, q.y = z.y0 + z.y / 2), N.useStyle(S), i.setItemGraphicEl(m, N), Un(N, r), Xr(N, L.get("focus"), L.get("blurScope"), L.get("disabled")) } this._layersSeries = l, this._layers = v }, e.type = "themeRiver", e }(Ar); function sTe(t, e, r) { var n = new Bt({ shape: { x: t.x - 10, y: t.y - 10, width: 0, height: t.height + 20 } }); return Or(n, { shape: { x: t.x - 50, width: t.width + 100, height: t.height + 20 } }, e, r), n } const lTe = oTe; var TS = 2, uTe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.init = function (r) { t.prototype.init.apply(this, arguments), this.legendVisualProvider = new vg($e(this.getData, this), $e(this.getRawData, this)) }, e.prototype.fixData = function (r) { var n = r.length, a = {}, i = yT(r, function (h) { return a.hasOwnProperty(h[0] + "") || (a[h[0] + ""] = -1), h[2] }), o = []; i.buckets.each(function (h, d) { o.push({ name: d, dataList: h }) }); for (var s = o.length, l = 0; l < s; ++l) { for (var u = o[l].name, c = 0; c < o[l].dataList.length; ++c) { var f = o[l].dataList[c][0] + ""; a[f] = l } for (var f in a) a.hasOwnProperty(f) && a[f] !== l && (a[f] = l, r[n] = [f, 0, u], n++) } return r }, e.prototype.getInitialData = function (r, n) { for (var a = this.getReferringComponents("singleAxis", dn).models[0], i = a.get("type"), o = hr(r.data, function (v) { return v[2] !== void 0 }), s = this.fixData(o || []), l = [], u = this.nameMap = He(), c = 0, f = 0; f < s.length; ++f)l.push(s[f][TS]), u.get(s[f][TS]) || (u.set(s[f][TS], c), c++); var h = sg(s, { coordDimensions: ["single"], dimensionsDefine: [{ name: "time", type: w0(i) }, { name: "value", type: "float" }, { name: "name", type: "ordinal" }], encodeDefine: { single: 0, value: 1, itemName: 2 } }).dimensions, d = new ma(h, this); return d.initData(s), d }, e.prototype.getLayerSeries = function () { for (var r = this.getData(), n = r.count(), a = [], i = 0; i < n; ++i)a[i] = i; var o = r.mapDimension("single"), s = yT(a, function (u) { return r.get("name", u) }), l = []; return s.buckets.each(function (u, c) { u.sort(function (f, h) { return r.get(o, f) - r.get(o, h) }), l.push({ name: c, indices: u }) }), l }, e.prototype.getAxisTooltipData = function (r, n, a) { me(r) || (r = r ? [r] : []); for (var i = this.getData(), o = this.getLayerSeries(), s = [], l = o.length, u, c = 0; c < l; ++c) { for (var f = Number.MAX_VALUE, h = -1, d = o[c].indices.length, v = 0; v < d; ++v) { var p = i.get(r[0], o[c].indices[v]), g = Math.abs(p - n); g <= f && (u = p, f = g, h = o[c].indices[v]) } s.push(h) } return { dataIndices: s, nestestValue: u } }, e.prototype.formatTooltip = function (r, n, a) { var i = this.getData(), o = i.getName(r), s = i.get(i.mapDimension("value"), r); return Rn("nameValue", { name: o, value: s }) }, e.type = "series.themeRiver", e.dependencies = ["singleAxis"], e.defaultOption = { z: 2, colorBy: "data", coordinateSystem: "singleAxis", boundaryGap: ["10%", "10%"], singleAxisIndex: 0, animationEasing: "linear", label: { margin: 4, show: !0, position: "left", fontSize: 11 }, emphasis: { label: { show: !0 } } }, e }($r); const cTe = uTe; function fTe(t, e) { t.eachSeriesByType("themeRiver", function (r) { var n = r.getData(), a = r.coordinateSystem, i = {}, o = a.getRect(); i.rect = o; var s = r.get("boundaryGap"), l = a.getAxis(); if (i.boundaryGap = s, l.orient === "horizontal") { s[0] = Ae(s[0], o.height), s[1] = Ae(s[1], o.height); var u = o.height - s[0] - s[1]; KE(n, r, u) } else { s[0] = Ae(s[0], o.width), s[1] = Ae(s[1], o.width); var c = o.width - s[0] - s[1]; KE(n, r, c) } n.setLayout("layoutInfo", i) }) } function KE(t, e, r) { if (t.count()) for (var n = e.coordinateSystem, a = e.getLayerSeries(), i = t.mapDimension("single"), o = t.mapDimension("value"), s = _e(a, function (g) { return _e(g.indices, function (m) { var y = n.dataToPoint(t.get(i, m)); return y[1] = t.get(o, m), y }) }), l = hTe(s), u = l.y0, c = r / l.max, f = a.length, h = a[0].indices.length, d, v = 0; v < h; ++v) { d = u[v] * c, t.setItemLayout(a[0].indices[v], { layerIndex: 0, x: s[0][v][0], y0: d, y: s[0][v][1] * c }); for (var p = 1; p < f; ++p)d += s[p - 1][v][1] * c, t.setItemLayout(a[p].indices[v], { layerIndex: p, x: s[p][v][0], y0: d, y: s[p][v][1] * c }) } } function hTe(t) { for (var e = t.length, r = t[0].length, n = [], a = [], i = 0, o = 0; o < r; ++o) { for (var s = 0, l = 0; l < e; ++l)s += t[l][o][1]; s > i && (i = s), n.push(s) } for (var u = 0; u < r; ++u)a[u] = (i - n[u]) / 2; i = 0; for (var c = 0; c < r; ++c) { var f = n[c] + a[c]; f > i && (i = f) } return { y0: a, max: i } } function dTe(t) { t.registerChartView(lTe), t.registerSeriesModel(cTe), t.registerLayout(fTe), t.registerProcessor(dg("themeRiver")) } var vTe = 2, pTe = 4, gTe = function (t) { ae(e, t); function e(r, n, a, i) { var o = t.call(this) || this; o.z2 = vTe, o.textConfig = { inside: !0 }, lt(o).seriesIndex = n.seriesIndex; var s = new Wt({ z2: pTe, silent: r.getModel().get(["label", "silent"]) }); return o.setTextContent(s), o.updateData(!0, r, n, a, i), o } return e.prototype.updateData = function (r, n, a, i, o) { this.node = n, n.piece = this, a = a || this._seriesModel, i = i || this._ecModel; var s = this; lt(s).dataIndex = n.dataIndex; var l = n.getModel(), u = l.getModel("emphasis"), c = n.getLayout(), f = he({}, c); f.label = null; var h = n.getVisual("style"); h.lineJoin = "bevel"; var d = n.getVisual("decal"); d && (h.decal = Mh(d, o)); var v = vc(l.getModel("itemStyle"), f, !0); he(f, v), E(_a, function (y) { var _ = s.ensureState(y), b = l.getModel([y, "itemStyle"]); _.style = b.getItemStyle(); var x = vc(b, f); x && (_.shape = x) }), r ? (s.setShape(f), s.shape.r = c.r0, Or(s, { shape: { r: c.r } }, a, n.dataIndex)) : (jt(s, { shape: f }, a), Zi(s)), s.useStyle(h), this._updateLabel(a); var p = l.getShallow("cursor"); p && s.attr("cursor", p), this._seriesModel = a || this._seriesModel, this._ecModel = i || this._ecModel; var g = u.get("focus"), m = g === "ancestor" ? n.getAncestorsIndices() : g === "descendant" ? n.getDescendantIndices() : g; Xr(this, m, u.get("blurScope"), u.get("disabled")) }, e.prototype._updateLabel = function (r) { var n = this, a = this.node.getModel(), i = a.getModel("label"), o = this.node.getLayout(), s = o.endAngle - o.startAngle, l = (o.startAngle + o.endAngle) / 2, u = Math.cos(l), c = Math.sin(l), f = this, h = f.getTextContent(), d = this.node.dataIndex, v = i.get("minAngle") / 180 * Math.PI, p = i.get("show") && !(v != null && Math.abs(s) < v); h.ignore = !p, E(fp, function (m) { var y = m === "normal" ? a.getModel("label") : a.getModel([m, "label"]), _ = m === "normal", b = _ ? h : h.ensureState(m), x = r.getFormattedLabel(d, m); _ && (x = x || n.node.name), b.style = Mr(y, {}, null, m !== "normal", !0), x && (b.style.text = x); var S = y.get("show"); S != null && !_ && (b.ignore = !S); var T = g(y, "position"), C = _ ? f : f.states[m], M = C.style.fill; C.textConfig = { outsideFill: y.get("color") === "inherit" ? M : null, inside: T !== "outside" }; var k, A = g(y, "distance") || 0, R = g(y, "align"); T === "outside" ? (k = o.r + A, R = l > Math.PI / 2 ? "right" : "left") : !R || R === "center" ? (s === 2 * Math.PI && o.r0 === 0 ? k = 0 : k = (o.r + o.r0) / 2, R = "center") : R === "left" ? (k = o.r0 + A, l > Math.PI / 2 && (R = "right")) : R === "right" && (k = o.r - A, l > Math.PI / 2 && (R = "left")), b.style.align = R, b.style.verticalAlign = g(y, "verticalAlign") || "middle", b.x = k * u + o.cx, b.y = k * c + o.cy; var N = g(y, "rotate"), z = 0; N === "radial" ? (z = Bi(-l), z > Math.PI / 2 && z < Math.PI * 1.5 && (z += Math.PI)) : N === "tangential" ? (z = Math.PI / 2 - l, z > Math.PI / 2 ? z -= Math.PI : z < -Math.PI / 2 && (z += Math.PI)) : Gt(N) && (z = N * Math.PI / 180), b.rotation = Bi(z) }); function g(m, y) { var _ = m.get(y); return _ ?? i.get(y) } h.dirtyStyle() }, e }(Oa); const QE = gTe; var d2 = "sunburstRootToNode", JE = "sunburstHighlight", mTe = "sunburstUnhighlight"; function yTe(t) { t.registerAction({ type: d2, update: "updateView" }, function (e, r) { r.eachComponent({ mainType: "series", subType: "sunburst", query: e }, n); function n(a, i) { var o = xp(e, [d2], a); if (o) { var s = a.getViewRoot(); s && (e.direction = sM(s, o.node) ? "rollUp" : "drillDown"), a.resetViewRoot(o.node) } } }), t.registerAction({ type: JE, update: "none" }, function (e, r, n) { e = he({}, e), r.eachComponent({ mainType: "series", subType: "sunburst", query: e }, a); function a(i) { var o = xp(e, [JE], i); o && (e.dataIndex = o.node.dataIndex) } n.dispatchAction(he(e, { type: "highlight" })) }), t.registerAction({ type: mTe, update: "updateView" }, function (e, r, n) { e = he({}, e), n.dispatchAction(he(e, { type: "downplay" })) }) } var _Te = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.render = function (r, n, a, i) { var o = this; this.seriesModel = r, this.api = a, this.ecModel = n; var s = r.getData(), l = s.tree.root, u = r.getViewRoot(), c = this.group, f = r.get("renderLabelForZeroData"), h = []; u.eachNode(function (y) { h.push(y) }); var d = this._oldChildren || []; v(h, d), m(l, u), this._initEvents(), this._oldChildren = h; function v(y, _) { if (y.length === 0 && _.length === 0) return; new Os(_, y, b, b).add(x).update(x).remove(ut(x, null)).execute(); function b(S) { return S.getId() } function x(S, T) { var C = S == null ? null : y[S], M = T == null ? null : _[T]; p(C, M) } } function p(y, _) { if (!f && y && !y.getValue() && (y = null), y !== l && _ !== l) { if (_ && _.piece) y ? (_.piece.updateData(!1, y, r, n, a), s.setItemGraphicEl(y.dataIndex, _.piece)) : g(_); else if (y) { var b = new QE(y, r, n, a); c.add(b), s.setItemGraphicEl(y.dataIndex, b) } } } function g(y) { y && y.piece && (c.remove(y.piece), y.piece = null) } function m(y, _) { _.depth > 0 ? (o.virtualPiece ? o.virtualPiece.updateData(!1, y, r, n, a) : (o.virtualPiece = new QE(y, r, n, a), c.add(o.virtualPiece)), _.piece.off("click"), o.virtualPiece.on("click", function (b) { o._rootToNode(_.parentNode) })) : o.virtualPiece && (c.remove(o.virtualPiece), o.virtualPiece = null) } }, e.prototype._initEvents = function () { var r = this; this.group.off("click"), this.group.on("click", function (n) { var a = !1, i = r.seriesModel.getViewRoot(); i.eachNode(function (o) { if (!a && o.piece && o.piece === n.target) { var s = o.getModel().get("nodeClick"); if (s === "rootToNode") r._rootToNode(o); else if (s === "link") { var l = o.getModel(), u = l.get("link"); if (u) { var c = l.get("target", !0) || "_blank"; d0(u, c) } } a = !0 } }) }) }, e.prototype._rootToNode = function (r) { r !== this.seriesModel.getViewRoot() && this.api.dispatchAction({ type: d2, from: this.uid, seriesId: this.seriesModel.id, targetNode: r }) }, e.prototype.containPoint = function (r, n) { var a = n.getData(), i = a.getItemLayout(0); if (i) { var o = r[0] - i.cx, s = r[1] - i.cy, l = Math.sqrt(o * o + s * s); return l <= i.r && l >= i.r0 } }, e.type = "sunburst", e }(Ar); const bTe = _Te; var wTe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.ignoreStyleOnData = !0, r } return e.prototype.getInitialData = function (r, n) { var a = { name: r.name, children: r.data }; p9(a); var i = this._levelModels = _e(r.levels || [], function (l) { return new kr(l, this, n) }, this), o = oM.createTree(a, this, s); function s(l) { l.wrapMethod("getItemModel", function (u, c) { var f = o.getNodeByDataIndex(c), h = i[f.depth]; return h && (u.parentModel = h), u }) } return o.data }, e.prototype.optionUpdated = function () { this.resetViewRoot() }, e.prototype.getDataParams = function (r) { var n = t.prototype.getDataParams.apply(this, arguments), a = this.getData().tree.getNodeByDataIndex(r); return n.treePathInfo = b1(a, this), n }, e.prototype.getLevelModel = function (r) { return this._levelModels && this._levelModels[r.depth] }, e.prototype.getViewRoot = function () { return this._viewRoot }, e.prototype.resetViewRoot = function (r) { r ? this._viewRoot = r : r = this._viewRoot; var n = this.getRawData().tree.root; (!r || r !== n && !n.contains(r)) && (this._viewRoot = n) }, e.prototype.enableAriaDecal = function () { _z(this) }, e.type = "series.sunburst", e.defaultOption = { z: 2, center: ["50%", "50%"], radius: [0, "75%"], clockwise: !0, startAngle: 90, minAngle: 0, stillShowZeroSum: !0, nodeClick: "rootToNode", renderLabelForZeroData: !1, label: { rotate: "radial", show: !0, opacity: 1, align: "center", position: "inside", distance: 5, silent: !0 }, itemStyle: { borderWidth: 1, borderColor: "white", borderType: "solid", shadowBlur: 0, shadowColor: "rgba(0, 0, 0, 0.2)", shadowOffsetX: 0, shadowOffsetY: 0, opacity: 1 }, emphasis: { focus: "descendant" }, blur: { itemStyle: { opacity: .2 }, label: { opacity: .1 } }, animationType: "expansion", animationDuration: 1e3, animationDurationUpdate: 500, data: [], sort: "desc" }, e }($r); function p9(t) { var e = 0; E(t.children, function (n) { p9(n); var a = n.value; me(a) && (a = a[0]), e += a }); var r = t.value; me(r) && (r = r[0]), (r == null || isNaN(r)) && (r = e), r < 0 && (r = 0), me(t.value) ? t.value[0] = r : t.value = r } const STe = wTe; var e3 = Math.PI / 180; function xTe(t, e, r) { e.eachSeriesByType(t, function (n) { var a = n.get("center"), i = n.get("radius"); me(i) || (i = [0, i]), me(a) || (a = [a, a]); var o = r.getWidth(), s = r.getHeight(), l = Math.min(o, s), u = Ae(a[0], o), c = Ae(a[1], s), f = Ae(i[0], l / 2), h = Ae(i[1], l / 2), d = -n.get("startAngle") * e3, v = n.get("minAngle") * e3, p = n.getData().tree.root, g = n.getViewRoot(), m = g.depth, y = n.get("sort"); y != null && g9(g, y); var _ = 0; E(g.children, function (V) { !isNaN(V.getValue()) && _++ }); var b = g.getValue(), x = Math.PI / (b || _) * 2, S = g.depth > 0, T = g.height - (S ? -1 : 1), C = (h - f) / (T || 1), M = n.get("clockwise"), k = n.get("stillShowZeroSum"), A = M ? 1 : -1, R = function (V, L) { if (V) { var H = L; if (V !== p) { var q = V.getValue(), K = b === 0 && k ? x : q * x; K < v && (K = v), H = L + A * K; var te = V.depth - m - (S ? -1 : 1), oe = f + C * te, X = f + C * (te + 1), U = n.getLevelModel(V); if (U) { var B = U.get("r0", !0), ee = U.get("r", !0), Q = U.get("radius", !0); Q != null && (B = Q[0], ee = Q[1]), B != null && (oe = Ae(B, l / 2)), ee != null && (X = Ae(ee, l / 2)) } V.setLayout({ angle: K, startAngle: L, endAngle: H, clockwise: M, cx: u, cy: c, r0: oe, r: X }) } if (V.children && V.children.length) { var se = 0; E(V.children, function (ue) { se += R(ue, L + se) }) } return H - L } }; if (S) { var N = f, z = f + C, F = Math.PI * 2; p.setLayout({ angle: F, startAngle: d, endAngle: d + F, clockwise: M, cx: u, cy: c, r0: N, r: z }) } R(g, d) }) } function g9(t, e) { var r = t.children || []; t.children = TTe(r, e), r.length && E(t.children, function (n) { g9(n, e) }) } function TTe(t, e) { if (je(e)) { var r = _e(t, function (a, i) { var o = a.getValue(); return { params: { depth: a.depth, height: a.height, dataIndex: a.dataIndex, getValue: function () { return o } }, index: i } }); return r.sort(function (a, i) { return e(a.params, i.params) }), _e(r, function (a) { return t[a.index] }) } else { var n = e === "asc"; return t.sort(function (a, i) { var o = (a.getValue() - i.getValue()) * (n ? 1 : -1); return o === 0 ? (a.dataIndex - i.dataIndex) * (n ? -1 : 1) : o }) } } function DTe(t) { var e = {}; function r(n, a, i) { for (var o = n; o && o.depth > 1;)o = o.parentNode; var s = a.getColorFromPalette(o.name || o.dataIndex + "", e); return n.depth > 1 && Oe(s) && (s = lT(s, (n.depth - 1) / (i - 1) * .5)), s } t.eachSeriesByType("sunburst", function (n) { var a = n.getData(), i = a.tree; i.eachNode(function (o) { var s = o.getModel(), l = s.getModel("itemStyle").getItemStyle(); l.fill || (l.fill = r(o, n, i.root.height)); var u = a.ensureUniqueItemVisual(o.dataIndex, "style"); he(u, l) }) }) } function CTe(t) { t.registerChartView(bTe), t.registerSeriesModel(STe), t.registerLayout(ut(xTe, "sunburst")), t.registerProcessor(ut(dg, "sunburst")), t.registerVisual(DTe), yTe(t) } var t3 = { color: "fill", borderColor: "stroke" }, MTe = { symbol: 1, symbolSize: 1, symbolKeepAspect: 1, legendIcon: 1, visualMeta: 1, liftZ: 1, decal: 1 }, Ds = zt(), kTe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.optionUpdated = function () { this.currentZLevel = this.get("zlevel", !0), this.currentZ = this.get("z", !0) }, e.prototype.getInitialData = function (r, n) { return Hs(null, this) }, e.prototype.getDataParams = function (r, n, a) { var i = t.prototype.getDataParams.call(this, r, n); return a && (i.info = Ds(a).info), i }, e.type = "series.custom", e.dependencies = ["grid", "polar", "geo", "singleAxis", "calendar"], e.defaultOption = { coordinateSystem: "cartesian2d", z: 2, legendHoverLink: !0, clip: !1 }, e }($r); const ATe = kTe; function LTe(t, e) { return e = e || [0, 0], _e(["x", "y"], function (r, n) { var a = this.getAxis(r), i = e[n], o = t[n] / 2; return a.type === "category" ? a.getBandWidth() : Math.abs(a.dataToCoord(i - o) - a.dataToCoord(i + o)) }, this) } function ITe(t) { var e = t.master.getRect(); return { coordSys: { type: "cartesian2d", x: e.x, y: e.y, width: e.width, height: e.height }, api: { coord: function (r) { return t.dataToPoint(r) }, size: $e(LTe, t) } } } function PTe(t, e) { return e = e || [0, 0], _e([0, 1], function (r) { var n = e[r], a = t[r] / 2, i = [], o = []; return i[r] = n - a, o[r] = n + a, i[1 - r] = o[1 - r] = e[1 - r], Math.abs(this.dataToPoint(i)[r] - this.dataToPoint(o)[r]) }, this) } function RTe(t) { var e = t.getBoundingRect(); return { coordSys: { type: "geo", x: e.x, y: e.y, width: e.width, height: e.height, zoom: t.getZoom() }, api: { coord: function (r) { return t.dataToPoint(r) }, size: $e(PTe, t) } } } function OTe(t, e) { var r = this.getAxis(), n = e instanceof Array ? e[0] : e, a = (t instanceof Array ? t[0] : t) / 2; return r.type === "category" ? r.getBandWidth() : Math.abs(r.dataToCoord(n - a) - r.dataToCoord(n + a)) } function ETe(t) { var e = t.getRect(); return { coordSys: { type: "singleAxis", x: e.x, y: e.y, width: e.width, height: e.height }, api: { coord: function (r) { return t.dataToPoint(r) }, size: $e(OTe, t) } } } function NTe(t, e) { return e = e || [0, 0], _e(["Radius", "Angle"], function (r, n) { var a = "get" + r + "Axis", i = this[a](), o = e[n], s = t[n] / 2, l = i.type === "category" ? i.getBandWidth() : Math.abs(i.dataToCoord(o - s) - i.dataToCoord(o + s)); return r === "Angle" && (l = l * Math.PI / 180), l }, this) } function $Te(t) { var e = t.getRadiusAxis(), r = t.getAngleAxis(), n = e.getExtent(); return n[0] > n[1] && n.reverse(), { coordSys: { type: "polar", cx: t.cx, cy: t.cy, r: n[1], r0: n[0] }, api: { coord: function (a) { var i = e.dataToRadius(a[0]), o = r.dataToAngle(a[1]), s = t.coordToPoint([i, o]); return s.push(i, o * Math.PI / 180), s }, size: $e(NTe, t) } } } function FTe(t) { var e = t.getRect(), r = t.getRangeInfo(); return { coordSys: { type: "calendar", x: e.x, y: e.y, width: e.width, height: e.height, cellWidth: t.getCellWidth(), cellHeight: t.getCellHeight(), rangeInfo: { start: r.start, end: r.end, weeks: r.weeks, dayCount: r.allDay } }, api: { coord: function (n, a) { return t.dataToPoint(n, a) } } } } function m9(t, e, r, n) { return t && (t.legacy || t.legacy !== !1 && !r && !n && e !== "tspan" && (e === "text" || Fe(t, "text"))) } function y9(t, e, r) { var n = t, a, i, o; if (e === "text") o = n; else { o = {}, Fe(n, "text") && (o.text = n.text), Fe(n, "rich") && (o.rich = n.rich), Fe(n, "textFill") && (o.fill = n.textFill), Fe(n, "textStroke") && (o.stroke = n.textStroke), Fe(n, "fontFamily") && (o.fontFamily = n.fontFamily), Fe(n, "fontSize") && (o.fontSize = n.fontSize), Fe(n, "fontStyle") && (o.fontStyle = n.fontStyle), Fe(n, "fontWeight") && (o.fontWeight = n.fontWeight), i = { type: "text", style: o, silent: !0 }, a = {}; var s = Fe(n, "textPosition"); r ? a.position = s ? n.textPosition : "inside" : s && (a.position = n.textPosition), Fe(n, "textPosition") && (a.position = n.textPosition), Fe(n, "textOffset") && (a.offset = n.textOffset), Fe(n, "textRotation") && (a.rotation = n.textRotation), Fe(n, "textDistance") && (a.distance = n.textDistance) } return r3(o, t), E(o.rich, function (l) { r3(l, l) }), { textConfig: a, textContent: i } } function r3(t, e) { e && (e.font = e.textFont || e.font, Fe(e, "textStrokeWidth") && (t.lineWidth = e.textStrokeWidth), Fe(e, "textAlign") && (t.align = e.textAlign), Fe(e, "textVerticalAlign") && (t.verticalAlign = e.textVerticalAlign), Fe(e, "textLineHeight") && (t.lineHeight = e.textLineHeight), Fe(e, "textWidth") && (t.width = e.textWidth), Fe(e, "textHeight") && (t.height = e.textHeight), Fe(e, "textBackgroundColor") && (t.backgroundColor = e.textBackgroundColor), Fe(e, "textPadding") && (t.padding = e.textPadding), Fe(e, "textBorderColor") && (t.borderColor = e.textBorderColor), Fe(e, "textBorderWidth") && (t.borderWidth = e.textBorderWidth), Fe(e, "textBorderRadius") && (t.borderRadius = e.textBorderRadius), Fe(e, "textBoxShadowColor") && (t.shadowColor = e.textBoxShadowColor), Fe(e, "textBoxShadowBlur") && (t.shadowBlur = e.textBoxShadowBlur), Fe(e, "textBoxShadowOffsetX") && (t.shadowOffsetX = e.textBoxShadowOffsetX), Fe(e, "textBoxShadowOffsetY") && (t.shadowOffsetY = e.textBoxShadowOffsetY)) } function n3(t, e, r) { var n = t; n.textPosition = n.textPosition || r.position || "inside", r.offset != null && (n.textOffset = r.offset), r.rotation != null && (n.textRotation = r.rotation), r.distance != null && (n.textDistance = r.distance); var a = n.textPosition.indexOf("inside") >= 0, i = t.fill || "#000"; a3(n, e); var o = n.textFill == null; return a ? o && (n.textFill = r.insideFill || "#fff", !n.textStroke && r.insideStroke && (n.textStroke = r.insideStroke), !n.textStroke && (n.textStroke = i), n.textStrokeWidth == null && (n.textStrokeWidth = 2)) : (o && (n.textFill = t.fill || r.outsideFill || "#000"), !n.textStroke && r.outsideStroke && (n.textStroke = r.outsideStroke)), n.text = e.text, n.rich = e.rich, E(e.rich, function (s) { a3(s, s) }), n } function a3(t, e) { e && (Fe(e, "fill") && (t.textFill = e.fill), Fe(e, "stroke") && (t.textStroke = e.fill), Fe(e, "lineWidth") && (t.textStrokeWidth = e.lineWidth), Fe(e, "font") && (t.font = e.font), Fe(e, "fontStyle") && (t.fontStyle = e.fontStyle), Fe(e, "fontWeight") && (t.fontWeight = e.fontWeight), Fe(e, "fontSize") && (t.fontSize = e.fontSize), Fe(e, "fontFamily") && (t.fontFamily = e.fontFamily), Fe(e, "align") && (t.textAlign = e.align), Fe(e, "verticalAlign") && (t.textVerticalAlign = e.verticalAlign), Fe(e, "lineHeight") && (t.textLineHeight = e.lineHeight), Fe(e, "width") && (t.textWidth = e.width), Fe(e, "height") && (t.textHeight = e.height), Fe(e, "backgroundColor") && (t.textBackgroundColor = e.backgroundColor), Fe(e, "padding") && (t.textPadding = e.padding), Fe(e, "borderColor") && (t.textBorderColor = e.borderColor), Fe(e, "borderWidth") && (t.textBorderWidth = e.borderWidth), Fe(e, "borderRadius") && (t.textBorderRadius = e.borderRadius), Fe(e, "shadowColor") && (t.textBoxShadowColor = e.shadowColor), Fe(e, "shadowBlur") && (t.textBoxShadowBlur = e.shadowBlur), Fe(e, "shadowOffsetX") && (t.textBoxShadowOffsetX = e.shadowOffsetX), Fe(e, "shadowOffsetY") && (t.textBoxShadowOffsetY = e.shadowOffsetY), Fe(e, "textShadowColor") && (t.textShadowColor = e.textShadowColor), Fe(e, "textShadowBlur") && (t.textShadowBlur = e.textShadowBlur), Fe(e, "textShadowOffsetX") && (t.textShadowOffsetX = e.textShadowOffsetX), Fe(e, "textShadowOffsetY") && (t.textShadowOffsetY = e.textShadowOffsetY)) } var _9 = { position: ["x", "y"], scale: ["scaleX", "scaleY"], origin: ["originX", "originY"] }, i3 = Nt(_9); Po(Oo, function (t, e) { return t[e] = 1, t }, {}); Oo.join(", "); var R0 = ["", "style", "shape", "extra"], Ph = zt(); function xM(t, e, r, n, a) { var i = t + "Animation", o = Uh(t, n, a) || {}, s = Ph(e).userDuring; return o.duration > 0 && (o.during = s ? $e(YTe, { el: e, userDuring: s }) : null, o.setToFinal = !0, o.scope = t), he(o, r[i]), o } function Ay(t, e, r, n) { n = n || {}; var a = n.dataIndex, i = n.isInit, o = n.clearStyle, s = r.isAnimationEnabled(), l = Ph(t), u = e.style; l.userDuring = e.during; var c = {}, f = {}; if (WTe(t, e, f), s3("shape", e, f), s3("extra", e, f), !i && s && (UTe(t, e, c), o3("shape", t, e, c), o3("extra", t, e, c), GTe(t, e, u, c)), f.style = u, BTe(t, f, o), zTe(t, e), s) if (i) { var h = {}; E(R0, function (v) { var p = v ? e[v] : e; p && p.enterFrom && (v && (h[v] = h[v] || {}), he(v ? h[v] : h, p.enterFrom)) }); var d = xM("enter", t, e, r, a); d.duration > 0 && t.animateFrom(h, d) } else VTe(t, e, a || 0, r, c); b9(t, e), u ? t.dirty() : t.markRedraw() } function b9(t, e) { for (var r = Ph(t).leaveToProps, n = 0; n < R0.length; n++) { var a = R0[n], i = a ? e[a] : e; i && i.leaveTo && (r || (r = Ph(t).leaveToProps = {}), a && (r[a] = r[a] || {}), he(a ? r[a] : r, i.leaveTo)) } } function x1(t, e, r, n) { if (t) { var a = t.parent, i = Ph(t).leaveToProps; if (i) { var o = xM("update", t, e, r, 0); o.done = function () { a.remove(t), n && n() }, t.animateTo(i, o) } else a.remove(t), n && n() } } function Lc(t) { return t === "all" } function BTe(t, e, r) { var n = e.style; if (!t.isGroup && n) { if (r) { t.useStyle({}); for (var a = t.animators, i = 0; i < a.length; i++) { var o = a[i]; o.targetName === "style" && o.changeTarget(t.style) } } t.setStyle(n) } e && (e.style = null, e && t.attr(e), e.style = n) } function VTe(t, e, r, n, a) { if (a) { var i = xM("update", t, e, n, r); i.duration > 0 && t.animateFrom(a, i) } } function zTe(t, e) { Fe(e, "silent") && (t.silent = e.silent), Fe(e, "ignore") && (t.ignore = e.ignore), t instanceof _i && Fe(e, "invisible") && (t.invisible = e.invisible), t instanceof At && Fe(e, "autoBatch") && (t.autoBatch = e.autoBatch) } var lo = {}, HTe = { setTransform: function (t, e) { return lo.el[t] = e, this }, getTransform: function (t) { return lo.el[t] }, setShape: function (t, e) { var r = lo.el, n = r.shape || (r.shape = {}); return n[t] = e, r.dirtyShape && r.dirtyShape(), this }, getShape: function (t) { var e = lo.el.shape; if (e) return e[t] }, setStyle: function (t, e) { var r = lo.el, n = r.style; return n && (n[t] = e, r.dirtyStyle && r.dirtyStyle()), this }, getStyle: function (t) { var e = lo.el.style; if (e) return e[t] }, setExtra: function (t, e) { var r = lo.el.extra || (lo.el.extra = {}); return r[t] = e, this }, getExtra: function (t) { var e = lo.el.extra; if (e) return e[t] } }; function YTe() { var t = this, e = t.el; if (e) { var r = Ph(e).userDuring, n = t.userDuring; if (r !== n) { t.el = t.userDuring = null; return } lo.el = e, n(HTe) } } function o3(t, e, r, n) { var a = r[t]; if (a) { var i = e[t], o; if (i) { var s = r.transition, l = a.transition; if (l) if (!o && (o = n[t] = {}), Lc(l)) he(o, i); else for (var u = mr(l), c = 0; c < u.length; c++) { var f = u[c], h = i[f]; o[f] = h } else if (Lc(s) || Ct(s, t) >= 0) { !o && (o = n[t] = {}); for (var d = Nt(i), c = 0; c < d.length; c++) { var f = d[c], h = i[f]; jTe(a[f], h) && (o[f] = h) } } } } } function s3(t, e, r) { var n = e[t]; if (n) for (var a = r[t] = {}, i = Nt(n), o = 0; o < i.length; o++) { var s = i[o]; a[s] = Dv(n[s]) } } function UTe(t, e, r) { for (var n = e.transition, a = Lc(n) ? Oo : mr(n || []), i = 0; i < a.length; i++) { var o = a[i]; if (!(o === "style" || o === "shape" || o === "extra")) { var s = t[o]; r[o] = s } } } function WTe(t, e, r) { for (var n = 0; n < i3.length; n++) { var a = i3[n], i = _9[a], o = e[a]; o && (r[i[0]] = o[0], r[i[1]] = o[1]) } for (var n = 0; n < Oo.length; n++) { var s = Oo[n]; e[s] != null && (r[s] = e[s]) } } function GTe(t, e, r, n) { if (r) { var a = t.style, i; if (a) { var o = r.transition, s = e.transition; if (o && !Lc(o)) { var l = mr(o); !i && (i = n.style = {}); for (var u = 0; u < l.length; u++) { var c = l[u], f = a[c]; i[c] = f } } else if (t.getAnimationStyleProps && (Lc(s) || Lc(o) || Ct(s, "style") >= 0)) { var h = t.getAnimationStyleProps(), d = h ? h.style : null; if (d) { !i && (i = n.style = {}); for (var v = Nt(r), u = 0; u < v.length; u++) { var c = v[u]; if (d[c]) { var f = a[c]; i[c] = f } } } } } } } function jTe(t, e) { return na(t) ? t !== e : t != null && isFinite(t) } var w9 = zt(), ZTe = ["percent", "easing", "shape", "style", "extra"]; function S9(t) { t.stopAnimation("keyframe"), t.attr(w9(t)) } function O0(t, e, r) { if (!(!r.isAnimationEnabled() || !e)) { if (me(e)) { E(e, function (s) { O0(t, s, r) }); return } var n = e.keyframes, a = e.duration; if (r && a == null) { var i = Uh("enter", r, 0); a = i && i.duration } if (!(!n || !a)) { var o = w9(t); E(R0, function (s) { if (!(s && !t[s])) { var l; n.sort(function (u, c) { return u.percent - c.percent }), E(n, function (u) { var c = t.animators, f = s ? u[s] : u; if (f) { var h = Nt(f); if (s || (h = hr(h, function (p) { return Ct(ZTe, p) < 0 })), !!h.length) { l || (l = t.animate(s, e.loop, !0), l.scope = "keyframe"); for (var d = 0; d < c.length; d++)c[d] !== l && c[d].targetName === l.targetName && c[d].stopTracks(h); s && (o[s] = o[s] || {}); var v = s ? o[s] : o; E(h, function (p) { v[p] = ((s ? t[s] : t) || {})[p] }), l.whenWithKeys(a * u.percent, f, h, u.easing) } } }), l && l.delay(e.delay || 0).duration(a).start(e.easing) } }) } } } var Cs = "emphasis", Al = "normal", TM = "blur", DM = "select", ru = [Al, Cs, TM, DM], DS = { normal: ["itemStyle"], emphasis: [Cs, "itemStyle"], blur: [TM, "itemStyle"], select: [DM, "itemStyle"] }, CS = { normal: ["label"], emphasis: [Cs, "label"], blur: [TM, "label"], select: [DM, "label"] }, qTe = ["x", "y"], XTe = "e\0\0", Ja = { normal: {}, emphasis: {}, blur: {}, select: {} }, KTe = { cartesian2d: ITe, geo: RTe, single: ETe, polar: $Te, calendar: FTe }; function v2(t) { return t instanceof At } function p2(t) { return t instanceof _i } function QTe(t, e) { e.copyTransform(t), p2(e) && p2(t) && (e.setStyle(t.style), e.z = t.z, e.z2 = t.z2, e.zlevel = t.zlevel, e.invisible = t.invisible, e.ignore = t.ignore, v2(e) && v2(t) && e.setShape(t.shape)) } var JTe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.render = function (r, n, a, i) { this._progressiveEls = null; var o = this._data, s = r.getData(), l = this.group, u = l3(r, s, n, a); o || l.removeAll(), s.diff(o).add(function (f) { MS(a, null, f, u(f, i), r, l, s) }).remove(function (f) { var h = o.getItemGraphicEl(f); h && x1(h, Ds(h).option, r) }).update(function (f, h) { var d = o.getItemGraphicEl(h); MS(a, d, f, u(f, i), r, l, s) }).execute(); var c = r.get("clip", !0) ? m1(r.coordinateSystem, !1, r) : null; c ? l.setClipPath(c) : l.removeClipPath(), this._data = s }, e.prototype.incrementalPrepareRender = function (r, n, a) { this.group.removeAll(), this._data = null }, e.prototype.incrementalRender = function (r, n, a, i, o) { var s = n.getData(), l = l3(n, s, a, i), u = this._progressiveEls = []; function c(d) { d.isGroup || (d.incremental = !0, d.ensureState("emphasis").hoverLayer = !0) } for (var f = r.start; f < r.end; f++) { var h = MS(null, null, f, l(f, o), n, this.group, s); h && (h.traverse(c), u.push(h)) } }, e.prototype.eachRendered = function (r) { ou(this._progressiveEls || this.group, r) }, e.prototype.filterForExposedEvent = function (r, n, a, i) { var o = n.element; if (o == null || a.name === o) return !0; for (; (a = a.__hostTarget || a.parent) && a !== this.group;)if (a.name === o) return !0; return !1 }, e.type = "custom", e }(Ar); const e2e = JTe; function CM(t) { var e = t.type, r; if (e === "path") { var n = t.shape, a = n.width != null && n.height != null ? { x: n.x || 0, y: n.y || 0, width: n.width, height: n.height } : null, i = D9(n); r = e1(i, null, a, n.layout || "center"), Ds(r).customPathData = i } else if (e === "image") r = new Gn({}), Ds(r).customImagePath = t.style.image; else if (e === "text") r = new Wt({}); else if (e === "group") r = new it; else { if (e === "compoundPath") throw new Error('"compoundPath" is not supported yet.'); var o = yC(e); if (!o) { var s = ""; Kt(s) } r = new o } return Ds(r).customGraphicType = e, r.name = t.name, r.z2EmphasisLift = 1, r.z2SelectLift = 1, r } function MM(t, e, r, n, a, i, o) { S9(e); var s = a && a.normal.cfg; s && e.setTextConfig(s), n && n.transition == null && (n.transition = qTe); var l = n && n.style; if (l) { if (e.type === "text") { var u = l; Fe(u, "textFill") && (u.fill = u.textFill), Fe(u, "textStroke") && (u.stroke = u.textStroke) } var c = void 0, f = v2(e) ? l.decal : null; t && f && (f.dirty = !0, c = Mh(f, t)), l.__decalPattern = c } if (p2(e) && l) { var c = l.__decalPattern; c && (l.decal = c) } Ay(e, n, i, { dataIndex: r, isInit: o, clearStyle: !0 }), O0(e, n.keyframeAnimation, i) } function x9(t, e, r, n, a) { var i = e.isGroup ? null : e, o = a && a[t].cfg; if (i) { var s = i.ensureState(t); if (n === !1) { var l = i.getState(t); l && (l.style = null) } else s.style = n || null; o && (s.textConfig = o), $c(i) } } function t2e(t, e, r) { if (!t.isGroup) { var n = t, a = r.currentZ, i = r.currentZLevel; n.z = a, n.zlevel = i; var o = e.z2; o != null && (n.z2 = o || 0); for (var s = 0; s < ru.length; s++)r2e(n, e, ru[s]) } } function r2e(t, e, r) { var n = r === Al, a = n ? e : E0(e, r), i = a ? a.z2 : null, o; i != null && (o = n ? t : t.ensureState(r), o.z2 = i || 0) } function l3(t, e, r, n) { var a = t.get("renderItem"), i = t.coordinateSystem, o = {}; i && (o = i.prepareCustoms ? i.prepareCustoms(i) : KTe[i.type](i)); for (var s = Xe({ getWidth: n.getWidth, getHeight: n.getHeight, getZr: n.getZr, getDevicePixelRatio: n.getDevicePixelRatio, value: b, style: S, ordinalRawValue: x, styleEmphasis: T, visual: k, barLayout: A, currentSeriesIndices: R, font: N }, o.api || {}), l = { context: {}, seriesId: t.id, seriesName: t.name, seriesIndex: t.seriesIndex, coordSys: o.coordSys, dataInsideLength: e.count(), encode: n2e(t.getData()) }, u, c, f = {}, h = {}, d = {}, v = {}, p = 0; p < ru.length; p++) { var g = ru[p]; d[g] = t.getModel(DS[g]), v[g] = t.getModel(CS[g]) } function m(z) { return z === u ? c || (c = e.getItemModel(z)) : e.getItemModel(z) } function y(z, F) { return e.hasItemOption ? z === u ? f[F] || (f[F] = m(z).getModel(DS[F])) : m(z).getModel(DS[F]) : d[F] } function _(z, F) { return e.hasItemOption ? z === u ? h[F] || (h[F] = m(z).getModel(CS[F])) : m(z).getModel(CS[F]) : v[F] } return function (z, F) { return u = z, c = null, f = {}, h = {}, a && a(Xe({ dataIndexInside: z, dataIndex: e.getRawIndex(z), actionType: F ? F.type : null }, l), s) }; function b(z, F) { return F == null && (F = u), e.getStore().get(e.getDimensionIndex(z || 0), F) } function x(z, F) { F == null && (F = u), z = z || 0; var V = e.getDimensionInfo(z); if (!V) { var L = e.getDimensionIndex(z); return L >= 0 ? e.getStore().get(L, F) : void 0 } var H = e.get(V.name, F), q = V && V.ordinalMeta; return q ? q.categories[H] : H } function S(z, F) { F == null && (F = u); var V = e.getItemVisual(F, "style"), L = V && V.fill, H = V && V.opacity, q = y(F, Al).getItemStyle(); L != null && (q.fill = L), H != null && (q.opacity = H); var K = { inheritColor: Oe(L) ? L : "#000" }, te = _(F, Al), oe = Mr(te, null, K, !1, !0); oe.text = te.getShallow("show") ? _t(t.getFormattedLabel(F, Al), Ah(e, F)) : null; var X = f0(te, K, !1); return M(z, q), q = n3(q, oe, X), z && C(q, z), q.legacy = !0, q } function T(z, F) { F == null && (F = u); var V = y(F, Cs).getItemStyle(), L = _(F, Cs), H = Mr(L, null, null, !0, !0); H.text = L.getShallow("show") ? Co(t.getFormattedLabel(F, Cs), t.getFormattedLabel(F, Al), Ah(e, F)) : null; var q = f0(L, null, !0); return M(z, V), V = n3(V, H, q), z && C(V, z), V.legacy = !0, V } function C(z, F) { for (var V in F) Fe(F, V) && (z[V] = F[V]) } function M(z, F) { z && (z.textFill && (F.textFill = z.textFill), z.textPosition && (F.textPosition = z.textPosition)) } function k(z, F) { if (F == null && (F = u), Fe(t3, z)) { var V = e.getItemVisual(F, "style"); return V ? V[t3[z]] : null } if (Fe(MTe, z)) return e.getItemVisual(F, z) } function A(z) { if (i.type === "cartesian2d") { var F = i.getBaseAxis(); return Zge(Xe({ axis: F }, z)) } } function R() { return r.getCurrentSeriesIndices() } function N(z) { return pB(z, r) } } function n2e(t) { var e = {}; return E(t.dimensions, function (r) { var n = t.getDimensionInfo(r); if (!n.isExtraCoord) { var a = n.coordDim, i = e[a] = e[a] || []; i[n.coordDimIndex] = t.getDimensionIndex(r) } }), e } function MS(t, e, r, n, a, i, o) { if (!n) { i.remove(e); return } var s = kM(t, e, r, n, a, i); return s && o.setItemGraphicEl(r, s), s && Xr(s, n.focus, n.blurScope, n.emphasisDisabled), s } function kM(t, e, r, n, a, i) { var o = -1, s = e; e && T9(e, n, a) && (o = Ct(i.childrenRef(), e), e = null); var l = !e, u = e; u ? u.clearStates() : (u = CM(n), s && QTe(s, u)), n.morph === !1 ? u.disableMorphing = !0 : u.disableMorphing && (u.disableMorphing = !1), Ja.normal.cfg = Ja.normal.conOpt = Ja.emphasis.cfg = Ja.emphasis.conOpt = Ja.blur.cfg = Ja.blur.conOpt = Ja.select.cfg = Ja.select.conOpt = null, Ja.isLegacy = !1, i2e(u, r, n, a, l, Ja), a2e(u, r, n, a, l), MM(t, u, r, n, Ja, a, l), Fe(n, "info") && (Ds(u).info = n.info); for (var c = 0; c < ru.length; c++) { var f = ru[c]; if (f !== Al) { var h = E0(n, f), d = AM(n, h, f); x9(f, u, h, d, Ja) } } return t2e(u, n, a), n.type === "group" && o2e(t, u, r, n, a), o >= 0 ? i.replaceAt(u, o) : i.add(u), u } function T9(t, e, r) { var n = Ds(t), a = e.type, i = e.shape, o = e.style; return r.isUniversalTransitionEnabled() || a != null && a !== n.customGraphicType || a === "path" && c2e(i) && D9(i) !== n.customPathData || a === "image" && Fe(o, "image") && o.image !== n.customImagePath } function a2e(t, e, r, n, a) { var i = r.clipPath; if (i === !1) t && t.getClipPath() && t.removeClipPath(); else if (i) { var o = t.getClipPath(); o && T9(o, i, n) && (o = null), o || (o = CM(i), t.setClipPath(o)), MM(null, o, e, i, null, n, a) } } function i2e(t, e, r, n, a, i) { if (!t.isGroup) { u3(r, null, i), u3(r, Cs, i); var o = i.normal.conOpt, s = i.emphasis.conOpt, l = i.blur.conOpt, u = i.select.conOpt; if (o != null || s != null || u != null || l != null) { var c = t.getTextContent(); if (o === !1) c && t.removeTextContent(); else { o = i.normal.conOpt = o || { type: "text" }, c ? c.clearStates() : (c = CM(o), t.setTextContent(c)), MM(null, c, e, o, null, n, a); for (var f = o && o.style, h = 0; h < ru.length; h++) { var d = ru[h]; if (d !== Al) { var v = i[d].conOpt; x9(d, c, v, AM(o, v, d), null) } } f ? c.dirty() : c.markRedraw() } } } } function u3(t, e, r) { var n = e ? E0(t, e) : t, a = e ? AM(t, n, Cs) : t.style, i = t.type, o = n ? n.textConfig : null, s = t.textContent, l = s ? e ? E0(s, e) : s : null; if (a && (r.isLegacy || m9(a, i, !!o, !!l))) { r.isLegacy = !0; var u = y9(a, i, !e); !o && u.textConfig && (o = u.textConfig), !l && u.textContent && (l = u.textContent) } if (!e && l) { var c = l; !c.type && (c.type = "text") } var f = e ? r[e] : r.normal; f.cfg = o, f.conOpt = l } function E0(t, e) { return e ? t ? t[e] : null : t } function AM(t, e, r) { var n = e && e.style; return n == null && r === Cs && t && (n = t.styleEmphasis), n } function o2e(t, e, r, n, a) { var i = n.children, o = i ? i.length : 0, s = n.$mergeChildren, l = s === "byName" || n.diffChildrenByName, u = s === !1; if (!(!o && !l && !u)) { if (l) { l2e({ api: t, oldChildren: e.children() || [], newChildren: i || [], dataIndex: r, seriesModel: a, group: e }); return } u && e.removeAll(); for (var c = 0; c < o; c++) { var f = i[c], h = e.childAt(c); f ? (f.ignore == null && (f.ignore = !1), kM(t, h, r, f, a, e)) : h.ignore = !0 } for (var d = e.childCount() - 1; d >= c; d--) { var v = e.childAt(d); s2e(e, v, a) } } } function s2e(t, e, r) { e && x1(e, Ds(t).option, r) } function l2e(t) { new Os(t.oldChildren, t.newChildren, c3, c3, t).add(f3).update(f3).remove(u2e).execute() } function c3(t, e) { var r = t && t.name; return r ?? XTe + e } function f3(t, e) { var r = this.context, n = t != null ? r.newChildren[t] : null, a = e != null ? r.oldChildren[e] : null; kM(r.api, a, r.dataIndex, n, r.seriesModel, r.group) } function u2e(t) { var e = this.context, r = e.oldChildren[t]; r && x1(r, Ds(r).option, e.seriesModel) } function D9(t) { return t && (t.pathData || t.d) } function c2e(t) { return t && (Fe(t, "pathData") || Fe(t, "d")) } function f2e(t) { t.registerChartView(e2e), t.registerSeriesModel(ATe) } var ac = zt(), h3 = rt, kS = $e, h2e = function () { function t() { this._dragging = !1, this.animationThreshold = 15 } return t.prototype.render = function (e, r, n, a) { var i = r.get("value"), o = r.get("status"); if (this._axisModel = e, this._axisPointerModel = r, this._api = n, !(!a && this._lastValue === i && this._lastStatus === o)) { this._lastValue = i, this._lastStatus = o; var s = this._group, l = this._handle; if (!o || o === "hide") { s && s.hide(), l && l.hide(); return } s && s.show(), l && l.show(); var u = {}; this.makeElOption(u, i, e, r, n); var c = u.graphicKey; c !== this._lastGraphicKey && this.clear(n), this._lastGraphicKey = c; var f = this._moveAnimation = this.determineAnimation(e, r); if (!s) s = this._group = new it, this.createPointerEl(s, u, e, r), this.createLabelEl(s, u, e, r), n.getZr().add(s); else { var h = ut(d3, r, f); this.updatePointerEl(s, u, h), this.updateLabelEl(s, u, h, r) } p3(s, r, !0), this._renderHandle(i) } }, t.prototype.remove = function (e) { this.clear(e) }, t.prototype.dispose = function (e) { this.clear(e) }, t.prototype.determineAnimation = function (e, r) { var n = r.get("animation"), a = e.axis, i = a.type === "category", o = r.get("snap"); if (!o && !i) return !1; if (n === "auto" || n == null) { var s = this.animationThreshold; if (i && a.getBandWidth() > s) return !0; if (o) { var l = JC(e).seriesDataCount, u = a.getExtent(); return Math.abs(u[0] - u[1]) / l > s } return !1 } return n === !0 }, t.prototype.makeElOption = function (e, r, n, a, i) { }, t.prototype.createPointerEl = function (e, r, n, a) { var i = r.pointer; if (i) { var o = ac(e).pointerEl = new ng[i.type](h3(r.pointer)); e.add(o) } }, t.prototype.createLabelEl = function (e, r, n, a) { if (r.label) { var i = ac(e).labelEl = new Wt(h3(r.label)); e.add(i), v3(i, a) } }, t.prototype.updatePointerEl = function (e, r, n) { var a = ac(e).pointerEl; a && r.pointer && (a.setStyle(r.pointer.style), n(a, { shape: r.pointer.shape })) }, t.prototype.updateLabelEl = function (e, r, n, a) { var i = ac(e).labelEl; i && (i.setStyle(r.label.style), n(i, { x: r.label.x, y: r.label.y }), v3(i, a)) }, t.prototype._renderHandle = function (e) { if (!(this._dragging || !this.updateHandleTransform)) { var r = this._axisPointerModel, n = this._api.getZr(), a = this._handle, i = r.getModel("handle"), o = r.get("status"); if (!i.get("show") || !o || o === "hide") { a && n.remove(a), this._handle = null; return } var s; this._handle || (s = !0, a = this._handle = rg(i.get("icon"), { cursor: "move", draggable: !0, onmousemove: function (u) { Ls(u.event) }, onmousedown: kS(this._onHandleDragMove, this, 0, 0), drift: kS(this._onHandleDragMove, this), ondragend: kS(this._onHandleDragEnd, this) }), n.add(a)), p3(a, r, !1), a.setStyle(i.getItemStyle(null, ["color", "borderColor", "borderWidth", "opacity", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"])); var l = i.get("size"); me(l) || (l = [l, l]), a.scaleX = l[0] / 2, a.scaleY = l[1] / 2, Jh(this, "_doDispatchAxisPointer", i.get("throttle") || 0, "fixRate"), this._moveHandleToValue(e, s) } }, t.prototype._moveHandleToValue = function (e, r) { d3(this._axisPointerModel, !r && this._moveAnimation, this._handle, AS(this.getHandleTransform(e, this._axisModel, this._axisPointerModel))) }, t.prototype._onHandleDragMove = function (e, r) { var n = this._handle; if (n) { this._dragging = !0; var a = this.updateHandleTransform(AS(n), [e, r], this._axisModel, this._axisPointerModel); this._payloadInfo = a, n.stopAnimation(), n.attr(AS(a)), ac(n).lastProp = null, this._doDispatchAxisPointer() } }, t.prototype._doDispatchAxisPointer = function () { var e = this._handle; if (e) { var r = this._payloadInfo, n = this._axisModel; this._api.dispatchAction({ type: "updateAxisPointer", x: r.cursorPoint[0], y: r.cursorPoint[1], tooltipOption: r.tooltipOption, axesInfo: [{ axisDim: n.axis.dim, axisIndex: n.componentIndex }] }) } }, t.prototype._onHandleDragEnd = function () { this._dragging = !1; var e = this._handle; if (e) { var r = this._axisPointerModel.get("value"); this._moveHandleToValue(r), this._api.dispatchAction({ type: "hideTip" }) } }, t.prototype.clear = function (e) { this._lastValue = null, this._lastStatus = null; var r = e.getZr(), n = this._group, a = this._handle; r && n && (this._lastGraphicKey = null, n && r.remove(n), a && r.remove(a), this._group = null, this._handle = null, this._payloadInfo = null), yp(this, "_doDispatchAxisPointer") }, t.prototype.doClear = function () { }, t.prototype.buildLabel = function (e, r, n) { return n = n || 0, { x: e[n], y: e[1 - n], width: r[n], height: r[1 - n] } }, t }(); function d3(t, e, r, n) { C9(ac(r).lastProp, n) || (ac(r).lastProp = n, e ? jt(r, n, t) : (r.stopAnimation(), r.attr(n))) } function C9(t, e) { if (Qe(t) && Qe(e)) { var r = !0; return E(e, function (n, a) { r = r && C9(t[a], n) }), !!r } else return t === e } function v3(t, e) { t[e.get(["label", "show"]) ? "show" : "hide"]() } function AS(t) { return { x: t.x || 0, y: t.y || 0, rotation: t.rotation || 0 } } function p3(t, e, r) { var n = e.get("z"), a = e.get("zlevel"); t && t.traverse(function (i) { i.type !== "group" && (n != null && (i.z = n), a != null && (i.zlevel = a), i.silent = r) }) } const LM = h2e; function IM(t) { var e = t.get("type"), r = t.getModel(e + "Style"), n; return e === "line" ? (n = r.getLineStyle(), n.fill = null) : e === "shadow" && (n = r.getAreaStyle(), n.stroke = null), n } function M9(t, e, r, n, a) { var i = r.get("value"), o = k9(i, e.axis, e.ecModel, r.get("seriesDataIndices"), { precision: r.get(["label", "precision"]), formatter: r.get(["label", "formatter"]) }), s = r.getModel("label"), l = Zh(s.get("padding") || 0), u = s.getFont(), c = Kp(o, u), f = a.position, h = c.width + l[1] + l[3], d = c.height + l[0] + l[2], v = a.align; v === "right" && (f[0] -= h), v === "center" && (f[0] -= h / 2); var p = a.verticalAlign; p === "bottom" && (f[1] -= d), p === "middle" && (f[1] -= d / 2), d2e(f, h, d, n); var g = s.get("backgroundColor"); (!g || g === "auto") && (g = e.get(["axisLine", "lineStyle", "color"])), t.label = { x: f[0], y: f[1], style: Mr(s, { text: o, font: u, fill: s.getTextColor(), padding: l, backgroundColor: g }), z2: 10 } } function d2e(t, e, r, n) { var a = n.getWidth(), i = n.getHeight(); t[0] = Math.min(t[0] + e, a) - e, t[1] = Math.min(t[1] + r, i) - r, t[0] = Math.max(t[0], 0), t[1] = Math.max(t[1], 0) } function k9(t, e, r, n, a) { t = e.scale.parse(t); var i = e.scale.getLabel({ value: t }, { precision: a.precision }), o = a.formatter; if (o) { var s = { value: jC(e, { value: t }), axisDimension: e.dim, axisIndex: e.index, seriesData: [] }; E(n, function (l) { var u = r.getSeriesByIndex(l.seriesIndex), c = l.dataIndexInside, f = u && u.getDataParams(c); f && s.seriesData.push(f) }), Oe(o) ? i = o.replace("{value}", i) : je(o) && (i = o(s)) } return i } function PM(t, e, r) { var n = yi(); return Zc(n, n, r.rotation), Ro(n, n, r.position), Yi([t.dataToCoord(e), (r.labelOffset || 0) + (r.labelDirection || 1) * (r.labelMargin || 0)], n) } function A9(t, e, r, n, a, i) { var o = Es.innerTextLayout(r.rotation, 0, r.labelDirection); r.labelMargin = a.get(["label", "margin"]), M9(e, n, a, i, { position: PM(n.axis, t, r), align: o.textAlign, verticalAlign: o.textVerticalAlign }) } function RM(t, e, r) { return r = r || 0, { x1: t[r], y1: t[1 - r], x2: e[r], y2: e[1 - r] } } function L9(t, e, r) { return r = r || 0, { x: t[r], y: t[1 - r], width: e[r], height: e[1 - r] } } function g3(t, e, r, n, a, i) { return { cx: t, cy: e, r0: r, r: n, startAngle: a, endAngle: i, clockwise: !0 } } var v2e = function (t) { ae(e, t); function e() { return t !== null && t.apply(this, arguments) || this } return e.prototype.makeElOption = function (r, n, a, i, o) { var s = a.axis, l = s.grid, u = i.get("type"), c = m3(l, s).getOtherAxis(s).getGlobalExtent(), f = s.toGlobalCoord(s.dataToCoord(n, !0)); if (u && u !== "none") { var h = IM(i), d = p2e[u](s, f, c); d.style = h, r.graphicKey = d.type, r.pointer = d } var v = KT(l.model, a); A9(n, r, v, a, i, o) }, e.prototype.getHandleTransform = function (r, n, a) { var i = KT(n.axis.grid.model, n, { labelInside: !1 }); i.labelMargin = a.get(["handle", "margin"]); var o = PM(n.axis, r, i); return { x: o[0], y: o[1], rotation: i.rotation + (i.labelDirection < 0 ? Math.PI : 0) } }, e.prototype.updateHandleTransform = function (r, n, a, i) { var o = a.axis, s = o.grid, l = o.getGlobalExtent(!0), u = m3(s, o).getOtherAxis(o).getGlobalExtent(), c = o.dim === "x" ? 0 : 1, f = [r.x, r.y]; f[c] += n[c], f[c] = Math.min(l[1], f[c]), f[c] = Math.max(l[0], f[c]); var h = (u[1] + u[0]) / 2, d = [h, h]; d[c] = f[c]; var v = [{ verticalAlign: "middle" }, { align: "center" }]; return { x: f[0], y: f[1], rotation: r.rotation, cursorPoint: d, tooltipOption: v[c] } }, e }(LM); function m3(t, e) { var r = {}; return r[e.dim + "AxisIndex"] = e.index, t.getCartesian(r) } var p2e = { line: function (t, e, r) { var n = RM([e, r[0]], [e, r[1]], y3(t)); return { type: "Line", subPixelOptimize: !0, shape: n } }, shadow: function (t, e, r) { var n = Math.max(1, t.getBandWidth()), a = r[1] - r[0]; return { type: "Rect", shape: L9([e - n / 2, r[0]], [n, a], y3(t)) } } }; function y3(t) { return t.dim === "x" ? 0 : 1 } const g2e = v2e; var m2e = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.type = "axisPointer", e.defaultOption = { show: "auto", z: 50, type: "line", snap: !1, triggerTooltip: !0, triggerEmphasis: !0, value: null, status: null, link: [], animation: null, animationDurationUpdate: 200, lineStyle: { color: "#B9BEC9", width: 1, type: "dashed" }, shadowStyle: { color: "rgba(210,219,238,0.2)" }, label: { show: !0, formatter: null, precision: "auto", margin: 3, color: "#fff", padding: [5, 7, 5, 7], backgroundColor: "auto", borderColor: null, borderWidth: 0, borderRadius: 3 }, handle: { show: !1, icon: "M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z", size: 45, margin: 50, color: "#333", shadowBlur: 3, shadowColor: "#aaa", shadowOffsetX: 0, shadowOffsetY: 2, throttle: 40 } }, e }(Yt); const y2e = m2e; var gs = zt(), _2e = E; function I9(t, e, r) { if (!Ut.node) { var n = e.getZr(); gs(n).records || (gs(n).records = {}), b2e(n, e); var a = gs(n).records[t] || (gs(n).records[t] = {}); a.handler = r } } function b2e(t, e) { if (gs(t).initialized) return; gs(t).initialized = !0, r("click", ut(_3, "click")), r("mousemove", ut(_3, "mousemove")), r("globalout", S2e); function r(n, a) { t.on(n, function (i) { var o = x2e(e); _2e(gs(t).records, function (s) { s && a(s, i, o.dispatchAction) }), w2e(o.pendings, e) }) } } function w2e(t, e) { var r = t.showTip.length, n = t.hideTip.length, a; r ? a = t.showTip[r - 1] : n && (a = t.hideTip[n - 1]), a && (a.dispatchAction = null, e.dispatchAction(a)) } function S2e(t, e, r) { t.handler("leave", null, r) } function _3(t, e, r, n) { e.handler(t, r, n) } function x2e(t) { var e = { showTip: [], hideTip: [] }, r = function (n) { var a = e[n.type]; a ? a.push(n) : (n.dispatchAction = r, t.dispatchAction(n)) }; return { dispatchAction: r, pendings: e } } function g2(t, e) { if (!Ut.node) { var r = e.getZr(), n = (gs(r).records || {})[t]; n && (gs(r).records[t] = null) } } var T2e = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.render = function (r, n, a) { var i = n.getComponent("tooltip"), o = r.get("triggerOn") || i && i.get("triggerOn") || "mousemove|click"; I9("axisPointer", a, function (s, l, u) { o !== "none" && (s === "leave" || o.indexOf(s) >= 0) && u({ type: "updateAxisPointer", currTrigger: s, x: l && l.offsetX, y: l && l.offsetY }) }) }, e.prototype.remove = function (r, n) { g2("axisPointer", n) }, e.prototype.dispose = function (r, n) { g2("axisPointer", n) }, e.type = "axisPointer", e }(Kr); const D2e = T2e; function P9(t, e) { var r = [], n = t.seriesIndex, a; if (n == null || !(a = e.getSeriesByIndex(n))) return { point: [] }; var i = a.getData(), o = Ec(i, t); if (o == null || o < 0 || me(o)) return { point: [] }; var s = i.getItemGraphicEl(o), l = a.coordinateSystem; if (a.getTooltipPosition) r = a.getTooltipPosition(o) || []; else if (l && l.dataToPoint) if (t.isStacked) { var u = l.getBaseAxis(), c = l.getOtherAxis(u), f = c.dim, h = u.dim, d = f === "x" || f === "radius" ? 1 : 0, v = i.mapDimension(h), p = []; p[d] = i.get(v, o), p[1 - d] = i.get(i.getCalculationInfo("stackResultDimension"), o), r = l.dataToPoint(p) || [] } else r = l.dataToPoint(i.getValues(_e(l.dimensions, function (m) { return i.mapDimension(m) }), o)) || []; else if (s) { var g = s.getBoundingRect().clone(); g.applyTransform(s.transform), r = [g.x + g.width / 2, g.y + g.height / 2] } return { point: r, el: s } } var b3 = zt(); function C2e(t, e, r) { var n = t.currTrigger, a = [t.x, t.y], i = t, o = t.dispatchAction || $e(r.dispatchAction, r), s = e.getComponent("axisPointer").coordSysAxesInfo; if (s) { Ly(a) && (a = P9({ seriesIndex: i.seriesIndex, dataIndex: i.dataIndex }, e).point); var l = Ly(a), u = i.axesInfo, c = s.axesInfo, f = n === "leave" || Ly(a), h = {}, d = {}, v = { list: [], map: {} }, p = { showPointer: ut(k2e, d), showTooltip: ut(A2e, v) }; E(s.coordSysMap, function (m, y) { var _ = l || m.containPoint(a); E(s.coordSysAxesInfo[y], function (b, x) { var S = b.axis, T = R2e(u, b); if (!f && _ && (!u || T)) { var C = T && T.value; C == null && !l && (C = S.pointToData(a)), C != null && w3(b, C, p, !1, h) } }) }); var g = {}; return E(c, function (m, y) { var _ = m.linkGroup; _ && !d[y] && E(_.axesInfo, function (b, x) { var S = d[x]; if (b !== m && S) { var T = S.value; _.mapper && (T = m.axis.scale.parse(_.mapper(T, S3(b), S3(m)))), g[m.key] = T } }) }), E(g, function (m, y) { w3(c[y], m, p, !0, h) }), L2e(d, c, h), I2e(v, a, t, o), P2e(c, o, r), h } } function w3(t, e, r, n, a) { var i = t.axis; if (!(i.scale.isBlank() || !i.containData(e))) { if (!t.involveSeries) { r.showPointer(t, e); return } var o = M2e(e, t), s = o.payloadBatch, l = o.snapToValue; s[0] && a.seriesIndex == null && he(a, s[0]), !n && t.snap && i.containData(l) && l != null && (e = l), r.showPointer(t, e, s), r.showTooltip(t, o, l) } } function M2e(t, e) { var r = e.axis, n = r.dim, a = t, i = [], o = Number.MAX_VALUE, s = -1; return E(e.seriesModels, function (l, u) { var c = l.getData().mapDimensionsAll(n), f, h; if (l.getAxisTooltipData) { var d = l.getAxisTooltipData(c, t, r); h = d.dataIndices, f = d.nestestValue } else { if (h = l.getData().indicesOfNearest(c[0], t, r.type === "category" ? .5 : null), !h.length) return; f = l.getData().get(c[0], h[0]) } if (!(f == null || !isFinite(f))) { var v = t - f, p = Math.abs(v); p <= o && ((p < o || v >= 0 && s < 0) && (o = p, s = v, a = f, i.length = 0), E(h, function (g) { i.push({ seriesIndex: l.seriesIndex, dataIndexInside: g, dataIndex: l.getData().getRawIndex(g) }) })) } }), { payloadBatch: i, snapToValue: a } } function k2e(t, e, r, n) { t[e.key] = { value: r, payloadBatch: n } } function A2e(t, e, r, n) { var a = r.payloadBatch, i = e.axis, o = i.model, s = e.axisPointerModel; if (!(!e.triggerTooltip || !a.length)) { var l = e.coordSys.model, u = Sp(l), c = t.map[u]; c || (c = t.map[u] = { coordSysId: l.id, coordSysIndex: l.componentIndex, coordSysType: l.type, coordSysMainType: l.mainType, dataByAxis: [] }, t.list.push(c)), c.dataByAxis.push({ axisDim: i.dim, axisIndex: o.componentIndex, axisType: o.type, axisId: o.id, value: n, valueLabelOpt: { precision: s.get(["label", "precision"]), formatter: s.get(["label", "formatter"]) }, seriesDataIndices: a.slice() }) } } function L2e(t, e, r) { var n = r.axesInfo = []; E(e, function (a, i) { var o = a.axisPointerModel.option, s = t[i]; s ? (!a.useHandle && (o.status = "show"), o.value = s.value, o.seriesDataIndices = (s.payloadBatch || []).slice()) : !a.useHandle && (o.status = "hide"), o.status === "show" && n.push({ axisDim: a.axis.dim, axisIndex: a.axis.model.componentIndex, value: o.value }) }) } function I2e(t, e, r, n) { if (Ly(e) || !t.list.length) { n({ type: "hideTip" }); return } var a = ((t.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {}; n({ type: "showTip", escapeConnect: !0, x: e[0], y: e[1], tooltipOption: r.tooltipOption, position: r.position, dataIndexInside: a.dataIndexInside, dataIndex: a.dataIndex, seriesIndex: a.seriesIndex, dataByCoordSys: t.list }) } function P2e(t, e, r) { var n = r.getZr(), a = "axisPointerLastHighlights", i = b3(n)[a] || {}, o = b3(n)[a] = {}; E(t, function (u, c) { var f = u.axisPointerModel.option; f.status === "show" && u.triggerEmphasis && E(f.seriesDataIndices, function (h) { var d = h.seriesIndex + " | " + h.dataIndex; o[d] = h }) }); var s = [], l = []; E(i, function (u, c) { !o[c] && l.push(u) }), E(o, function (u, c) { !i[c] && s.push(u) }), l.length && r.dispatchAction({ type: "downplay", escapeConnect: !0, notBlur: !0, batch: l }), s.length && r.dispatchAction({ type: "highlight", escapeConnect: !0, notBlur: !0, batch: s }) } function R2e(t, e) { for (var r = 0; r < (t || []).length; r++) { var n = t[r]; if (e.axis.dim === n.axisDim && e.axis.model.componentIndex === n.axisIndex) return n } } function S3(t) { var e = t.axis.model, r = {}, n = r.axisDim = t.axis.dim; return r.axisIndex = r[n + "AxisIndex"] = e.componentIndex, r.axisName = r[n + "AxisName"] = e.name, r.axisId = r[n + "AxisId"] = e.id, r } function Ly(t) { return !t || t[0] == null || isNaN(t[0]) || t[1] == null || isNaN(t[1]) } function mg(t) { Jc.registerAxisPointerClass("CartesianAxisPointer", g2e), t.registerComponentModel(y2e), t.registerComponentView(D2e), t.registerPreprocessor(function (e) { if (e) { (!e.axisPointer || e.axisPointer.length === 0) && (e.axisPointer = {}); var r = e.axisPointer.link; r && !me(r) && (e.axisPointer.link = [r]) } }), t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC, function (e, r) { e.getComponent("axisPointer").coordSysAxesInfo = b0e(e, r) }), t.registerAction({ type: "updateAxisPointer", event: "updateAxisPointer", update: ":updateAxisPointer" }, C2e) } function OM(t) { Dt(az), Dt(mg) } var O2e = function (t) { ae(e, t); function e() { return t !== null && t.apply(this, arguments) || this } return e.prototype.makeElOption = function (r, n, a, i, o) { var s = a.axis; s.dim === "angle" && (this.animationThreshold = Math.PI / 18); var l = s.polar, u = l.getOtherAxis(s), c = u.getExtent(), f = s.dataToCoord(n), h = i.get("type"); if (h && h !== "none") { var d = IM(i), v = N2e[h](s, l, f, c); v.style = d, r.graphicKey = v.type, r.pointer = v } var p = i.get(["label", "margin"]), g = E2e(n, a, i, l, p); M9(r, a, i, o, g) }, e }(LM); function E2e(t, e, r, n, a) { var i = e.axis, o = i.dataToCoord(t), s = n.getAngleAxis().getExtent()[0]; s = s / 180 * Math.PI; var l = n.getRadiusAxis().getExtent(), u, c, f; if (i.dim === "radius") { var h = yi(); Zc(h, h, s), Ro(h, h, [n.cx, n.cy]), u = Yi([o, -a], h); var d = e.getModel("axisLabel").get("rotate") || 0, v = Es.innerTextLayout(s, d * Math.PI / 180, -1); c = v.textAlign, f = v.textVerticalAlign } else { var p = l[1]; u = n.coordToPoint([p + a, o]); var g = n.cx, m = n.cy; c = Math.abs(u[0] - g) / p < .3 ? "center" : u[0] > g ? "left" : "right", f = Math.abs(u[1] - m) / p < .3 ? "middle" : u[1] > m ? "top" : "bottom" } return { position: u, align: c, verticalAlign: f } } var N2e = { line: function (t, e, r, n) { return t.dim === "angle" ? { type: "Line", shape: RM(e.coordToPoint([n[0], r]), e.coordToPoint([n[1], r])) } : { type: "Circle", shape: { cx: e.cx, cy: e.cy, r } } }, shadow: function (t, e, r, n) { var a = Math.max(1, t.getBandWidth()), i = Math.PI / 180; return t.dim === "angle" ? { type: "Sector", shape: g3(e.cx, e.cy, n[0], n[1], (-r - a / 2) * i, (-r + a / 2) * i) } : { type: "Sector", shape: g3(e.cx, e.cy, r - a / 2, r + a / 2, 0, Math.PI * 2) } } }; const $2e = O2e; var F2e = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.findAxisModel = function (r) { var n, a = this.ecModel; return a.eachComponent(r, function (i) { i.getCoordSysModel() === this && (n = i) }, this), n }, e.type = "polar", e.dependencies = ["radiusAxis", "angleAxis"], e.defaultOption = { z: 0, center: ["50%", "50%"], radius: "80%" }, e }(Yt); const B2e = F2e; var EM = function (t) { ae(e, t); function e() { return t !== null && t.apply(this, arguments) || this } return e.prototype.getCoordSysModel = function () { return this.getReferringComponents("polar", dn).models[0] }, e.type = "polarAxis", e }(Yt); mn(EM, ug); var V2e = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.type = "angleAxis", e }(EM), z2e = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.type = "radiusAxis", e }(EM), NM = function (t) { ae(e, t); function e(r, n) { return t.call(this, "radius", r, n) || this } return e.prototype.pointToData = function (r, n) { return this.polar.pointToData(r, n)[this.dim === "radius" ? 0 : 1] }, e }(Ji); NM.prototype.dataToRadius = Ji.prototype.dataToCoord; NM.prototype.radiusToData = Ji.prototype.coordToData; const H2e = NM; var Y2e = zt(), $M = function (t) { ae(e, t); function e(r, n) { return t.call(this, "angle", r, n || [0, 360]) || this } return e.prototype.pointToData = function (r, n) { return this.polar.pointToData(r, n)[this.dim === "radius" ? 0 : 1] }, e.prototype.calculateCategoryInterval = function () { var r = this, n = r.getLabelModel(), a = r.scale, i = a.getExtent(), o = a.count(); if (i[1] - i[0] < 1) return 0; var s = i[0], l = r.dataToCoord(s + 1) - r.dataToCoord(s), u = Math.abs(l), c = Kp(s == null ? "" : s + "", n.getFont(), "center", "top"), f = Math.max(c.height, 7), h = f / u; isNaN(h) && (h = 1 / 0); var d = Math.max(0, Math.floor(h)), v = Y2e(r.model), p = v.lastAutoInterval, g = v.lastTickCount; return p != null && g != null && Math.abs(p - d) <= 1 && Math.abs(g - o) <= 1 && p > d ? d = p : (v.lastTickCount = o, v.lastAutoInterval = d), d }, e }(Ji); $M.prototype.dataToAngle = Ji.prototype.dataToCoord; $M.prototype.angleToData = Ji.prototype.coordToData; const U2e = $M; var R9 = ["radius", "angle"], W2e = function () { function t(e) { this.dimensions = R9, this.type = "polar", this.cx = 0, this.cy = 0, this._radiusAxis = new H2e, this._angleAxis = new U2e, this.axisPointerEnabled = !0, this.name = e || "", this._radiusAxis.polar = this._angleAxis.polar = this } return t.prototype.containPoint = function (e) { var r = this.pointToCoord(e); return this._radiusAxis.contain(r[0]) && this._angleAxis.contain(r[1]) }, t.prototype.containData = function (e) { return this._radiusAxis.containData(e[0]) && this._angleAxis.containData(e[1]) }, t.prototype.getAxis = function (e) { var r = "_" + e + "Axis"; return this[r] }, t.prototype.getAxes = function () { return [this._radiusAxis, this._angleAxis] }, t.prototype.getAxesByScale = function (e) { var r = [], n = this._angleAxis, a = this._radiusAxis; return n.scale.type === e && r.push(n), a.scale.type === e && r.push(a), r }, t.prototype.getAngleAxis = function () { return this._angleAxis }, t.prototype.getRadiusAxis = function () { return this._radiusAxis }, t.prototype.getOtherAxis = function (e) { var r = this._angleAxis; return e === r ? this._radiusAxis : r }, t.prototype.getBaseAxis = function () { return this.getAxesByScale("ordinal")[0] || this.getAxesByScale("time")[0] || this.getAngleAxis() }, t.prototype.getTooltipAxes = function (e) { var r = e != null && e !== "auto" ? this.getAxis(e) : this.getBaseAxis(); return { baseAxes: [r], otherAxes: [this.getOtherAxis(r)] } }, t.prototype.dataToPoint = function (e, r) { return this.coordToPoint([this._radiusAxis.dataToRadius(e[0], r), this._angleAxis.dataToAngle(e[1], r)]) }, t.prototype.pointToData = function (e, r) { var n = this.pointToCoord(e); return [this._radiusAxis.radiusToData(n[0], r), this._angleAxis.angleToData(n[1], r)] }, t.prototype.pointToCoord = function (e) { var r = e[0] - this.cx, n = e[1] - this.cy, a = this.getAngleAxis(), i = a.getExtent(), o = Math.min(i[0], i[1]), s = Math.max(i[0], i[1]); a.inverse ? o = s - 360 : s = o + 360; var l = Math.sqrt(r * r + n * n); r /= l, n /= l; for (var u = Math.atan2(-n, r) / Math.PI * 180, c = u < o ? 1 : -1; u < o || u > s;)u += c * 360; return [l, u] }, t.prototype.coordToPoint = function (e) { var r = e[0], n = e[1] / 180 * Math.PI, a = Math.cos(n) * r + this.cx, i = -Math.sin(n) * r + this.cy; return [a, i] }, t.prototype.getArea = function () { var e = this.getAngleAxis(), r = this.getRadiusAxis(), n = r.getExtent().slice(); n[0] > n[1] && n.reverse(); var a = e.getExtent(), i = Math.PI / 180; return { cx: this.cx, cy: this.cy, r0: n[0], r: n[1], startAngle: -a[0] * i, endAngle: -a[1] * i, clockwise: e.inverse, contain: function (o, s) { var l = o - this.cx, u = s - this.cy, c = l * l + u * u - 1e-4, f = this.r, h = this.r0; return c <= f * f && c >= h * h } } }, t.prototype.convertToPixel = function (e, r, n) { var a = x3(r); return a === this ? this.dataToPoint(n) : null }, t.prototype.convertFromPixel = function (e, r, n) { var a = x3(r); return a === this ? this.pointToData(n) : null }, t }(); function x3(t) { var e = t.seriesModel, r = t.polarModel; return r && r.coordinateSystem || e && e.coordinateSystem } const G2e = W2e; function j2e(t, e, r) { var n = e.get("center"), a = r.getWidth(), i = r.getHeight(); t.cx = Ae(n[0], a), t.cy = Ae(n[1], i); var o = t.getRadiusAxis(), s = Math.min(a, i) / 2, l = e.get("radius"); l == null ? l = [0, "100%"] : me(l) || (l = [0, l]); var u = [Ae(l[0], s), Ae(l[1], s)]; o.inverse ? o.setExtent(u[1], u[0]) : o.setExtent(u[0], u[1]) } function Z2e(t, e) { var r = this, n = r.getAngleAxis(), a = r.getRadiusAxis(); if (n.scale.setExtent(1 / 0, -1 / 0), a.scale.setExtent(1 / 0, -1 / 0), t.eachSeries(function (s) { if (s.coordinateSystem === r) { var l = s.getData(); E(S0(l, "radius"), function (u) { a.scale.unionExtentFromData(l, u) }), E(S0(l, "angle"), function (u) { n.scale.unionExtentFromData(l, u) }) } }), kh(n.scale, n.model), kh(a.scale, a.model), n.type === "category" && !n.onBand) { var i = n.getExtent(), o = 360 / n.scale.count(); n.inverse ? i[1] += o : i[1] -= o, n.setExtent(i[0], i[1]) } } function q2e(t) { return t.mainType === "angleAxis" } function T3(t, e) { if (t.type = e.get("type"), t.scale = g1(e), t.onBand = e.get("boundaryGap") && t.type === "category", t.inverse = e.get("inverse"), q2e(e)) { t.inverse = t.inverse !== e.get("clockwise"); var r = e.get("startAngle"); t.setExtent(r, r + (t.inverse ? -360 : 360)) } e.axis = t, t.model = e } var X2e = { dimensions: R9, create: function (t, e) { var r = []; return t.eachComponent("polar", function (n, a) { var i = new G2e(a + ""); i.update = Z2e; var o = i.getRadiusAxis(), s = i.getAngleAxis(), l = n.findAxisModel("radiusAxis"), u = n.findAxisModel("angleAxis"); T3(o, l), T3(s, u), j2e(i, n, e), r.push(i), n.coordinateSystem = i, i.model = n }), t.eachSeries(function (n) { if (n.get("coordinateSystem") === "polar") { var a = n.getReferringComponents("polar", dn).models[0]; n.coordinateSystem = a.coordinateSystem } }), r } }; const K2e = X2e; var Q2e = ["axisLine", "axisLabel", "axisTick", "minorTick", "splitLine", "minorSplitLine", "splitArea"]; function Vm(t, e, r) { e[1] > e[0] && (e = e.slice().reverse()); var n = t.coordToPoint([e[0], r]), a = t.coordToPoint([e[1], r]); return { x1: n[0], y1: n[1], x2: a[0], y2: a[1] } } function zm(t) { var e = t.getRadiusAxis(); return e.inverse ? 0 : 1 } function D3(t) { var e = t[0], r = t[t.length - 1]; e && r && Math.abs(Math.abs(e.coord - r.coord) - 360) < 1e-4 && t.pop() } var J2e = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.axisPointerClass = "PolarAxisPointer", r } return e.prototype.render = function (r, n) { if (this.group.removeAll(), !!r.get("show")) { var a = r.axis, i = a.polar, o = i.getRadiusAxis().getExtent(), s = a.getTicksCoords(), l = a.getMinorTicksCoords(), u = _e(a.getViewLabels(), function (c) { c = rt(c); var f = a.scale, h = f.type === "ordinal" ? f.getRawOrdinalNumber(c.tickValue) : c.tickValue; return c.coord = a.dataToCoord(h), c }); D3(u), D3(s), E(Q2e, function (c) { r.get([c, "show"]) && (!a.scale.isBlank() || c === "axisLine") && eDe[c](this.group, r, i, s, l, o, u) }, this) } }, e.type = "angleAxis", e }(Jc), eDe = { axisLine: function (t, e, r, n, a, i) { var o = e.getModel(["axisLine", "lineStyle"]), s = zm(r), l = s ? 0 : 1, u; i[l] === 0 ? u = new $o({ shape: { cx: r.cx, cy: r.cy, r: i[s] }, style: o.getLineStyle(), z2: 1, silent: !0 }) : u = new Q_({ shape: { cx: r.cx, cy: r.cy, r: i[s], r0: i[l] }, style: o.getLineStyle(), z2: 1, silent: !0 }), u.style.fill = null, t.add(u) }, axisTick: function (t, e, r, n, a, i) { var o = e.getModel("axisTick"), s = (o.get("inside") ? -1 : 1) * o.get("length"), l = i[zm(r)], u = _e(n, function (c) { return new $n({ shape: Vm(r, [l, l + s], c.coord) }) }); t.add(ci(u, { style: Xe(o.getModel("lineStyle").getLineStyle(), { stroke: e.get(["axisLine", "lineStyle", "color"]) }) })) }, minorTick: function (t, e, r, n, a, i) { if (a.length) { for (var o = e.getModel("axisTick"), s = e.getModel("minorTick"), l = (o.get("inside") ? -1 : 1) * s.get("length"), u = i[zm(r)], c = [], f = 0; f < a.length; f++)for (var h = 0; h < a[f].length; h++)c.push(new $n({ shape: Vm(r, [u, u + l], a[f][h].coord) })); t.add(ci(c, { style: Xe(s.getModel("lineStyle").getLineStyle(), Xe(o.getLineStyle(), { stroke: e.get(["axisLine", "lineStyle", "color"]) })) })) } }, axisLabel: function (t, e, r, n, a, i, o) { var s = e.getCategories(!0), l = e.getModel("axisLabel"), u = l.get("margin"), c = e.get("triggerEvent"); E(o, function (f, h) { var d = l, v = f.tickValue, p = i[zm(r)], g = r.coordToPoint([p + u, f.coord]), m = r.cx, y = r.cy, _ = Math.abs(g[0] - m) / p < .3 ? "center" : g[0] > m ? "left" : "right", b = Math.abs(g[1] - y) / p < .3 ? "middle" : g[1] > y ? "top" : "bottom"; if (s && s[v]) { var x = s[v]; Qe(x) && x.textStyle && (d = new kr(x.textStyle, l, l.ecModel)) } var S = new Wt({ silent: Es.isLabelSilent(e), style: Mr(d, { x: g[0], y: g[1], fill: d.getTextColor() || e.get(["axisLine", "lineStyle", "color"]), text: f.formattedLabel, align: _, verticalAlign: b }) }); if (t.add(S), c) { var T = Es.makeAxisEventDataBase(e); T.targetType = "axisLabel", T.value = f.rawLabel, lt(S).eventData = T } }, this) }, splitLine: function (t, e, r, n, a, i) { var o = e.getModel("splitLine"), s = o.getModel("lineStyle"), l = s.get("color"), u = 0; l = l instanceof Array ? l : [l]; for (var c = [], f = 0; f < n.length; f++) { var h = u++ % l.length; c[h] = c[h] || [], c[h].push(new $n({ shape: Vm(r, i, n[f].coord) })) } for (var f = 0; f < c.length; f++)t.add(ci(c[f], { style: Xe({ stroke: l[f % l.length] }, s.getLineStyle()), silent: !0, z: e.get("z") })) }, minorSplitLine: function (t, e, r, n, a, i) { if (a.length) { for (var o = e.getModel("minorSplitLine"), s = o.getModel("lineStyle"), l = [], u = 0; u < a.length; u++)for (var c = 0; c < a[u].length; c++)l.push(new $n({ shape: Vm(r, i, a[u][c].coord) })); t.add(ci(l, { style: s.getLineStyle(), silent: !0, z: e.get("z") })) } }, splitArea: function (t, e, r, n, a, i) { if (n.length) { var o = e.getModel("splitArea"), s = o.getModel("areaStyle"), l = s.get("color"), u = 0; l = l instanceof Array ? l : [l]; for (var c = [], f = Math.PI / 180, h = -n[0].coord * f, d = Math.min(i[0], i[1]), v = Math.max(i[0], i[1]), p = e.get("clockwise"), g = 1, m = n.length; g <= m; g++) { var y = g === m ? n[0].coord : n[g].coord, _ = u++ % l.length; c[_] = c[_] || [], c[_].push(new Oa({ shape: { cx: r.cx, cy: r.cy, r0: d, r: v, startAngle: h, endAngle: -y * f, clockwise: p }, silent: !0 })), h = -y * f } for (var g = 0; g < c.length; g++)t.add(ci(c[g], { style: Xe({ fill: l[g % l.length] }, s.getAreaStyle()), silent: !0 })) } } }; const tDe = J2e; var rDe = ["axisLine", "axisTickLabel", "axisName"], nDe = ["splitLine", "splitArea", "minorSplitLine"], aDe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.axisPointerClass = "PolarAxisPointer", r } return e.prototype.render = function (r, n) { if (this.group.removeAll(), !!r.get("show")) { var a = this._axisGroup, i = this._axisGroup = new it; this.group.add(i); var o = r.axis, s = o.polar, l = s.getAngleAxis(), u = o.getTicksCoords(), c = o.getMinorTicksCoords(), f = l.getExtent()[0], h = o.getExtent(), d = oDe(s, r, f), v = new Es(r, d); E(rDe, v.add, v), i.add(v.getGroup()), tg(a, i, r), E(nDe, function (p) { r.get([p, "show"]) && !o.scale.isBlank() && iDe[p](this.group, r, s, f, h, u, c) }, this) } }, e.type = "radiusAxis", e }(Jc), iDe = { splitLine: function (t, e, r, n, a, i) { var o = e.getModel("splitLine"), s = o.getModel("lineStyle"), l = s.get("color"), u = 0; l = l instanceof Array ? l : [l]; for (var c = [], f = 0; f < i.length; f++) { var h = u++ % l.length; c[h] = c[h] || [], c[h].push(new $o({ shape: { cx: r.cx, cy: r.cy, r: Math.max(i[f].coord, 0) } })) } for (var f = 0; f < c.length; f++)t.add(ci(c[f], { style: Xe({ stroke: l[f % l.length], fill: null }, s.getLineStyle()), silent: !0 })) }, minorSplitLine: function (t, e, r, n, a, i, o) { if (o.length) { for (var s = e.getModel("minorSplitLine"), l = s.getModel("lineStyle"), u = [], c = 0; c < o.length; c++)for (var f = 0; f < o[c].length; f++)u.push(new $o({ shape: { cx: r.cx, cy: r.cy, r: o[c][f].coord } })); t.add(ci(u, { style: Xe({ fill: null }, l.getLineStyle()), silent: !0 })) } }, splitArea: function (t, e, r, n, a, i) { if (i.length) { var o = e.getModel("splitArea"), s = o.getModel("areaStyle"), l = s.get("color"), u = 0; l = l instanceof Array ? l : [l]; for (var c = [], f = i[0].coord, h = 1; h < i.length; h++) { var d = u++ % l.length; c[d] = c[d] || [], c[d].push(new Oa({ shape: { cx: r.cx, cy: r.cy, r0: f, r: i[h].coord, startAngle: 0, endAngle: Math.PI * 2 }, silent: !0 })), f = i[h].coord } for (var h = 0; h < c.length; h++)t.add(ci(c[h], { style: Xe({ fill: l[h % l.length] }, s.getAreaStyle()), silent: !0 })) } } }; function oDe(t, e, r) { return { position: [t.cx, t.cy], rotation: r / 180 * Math.PI, labelDirection: -1, tickDirection: -1, nameDirection: 1, labelRotate: e.getModel("axisLabel").get("rotate"), z2: 1 } } const sDe = aDe; function O9(t) { return t.get("stack") || "__ec_stack_" + t.seriesIndex } function E9(t, e) { return e.dim + t.model.componentIndex } function lDe(t, e, r) { var n = {}, a = uDe(hr(e.getSeriesByType(t), function (i) { return !e.isSeriesFiltered(i) && i.coordinateSystem && i.coordinateSystem.type === "polar" })); e.eachSeriesByType(t, function (i) { if (i.coordinateSystem.type === "polar") { var o = i.getData(), s = i.coordinateSystem, l = s.getBaseAxis(), u = E9(s, l), c = O9(i), f = a[u][c], h = f.offset, d = f.width, v = s.getOtherAxis(l), p = i.coordinateSystem.cx, g = i.coordinateSystem.cy, m = i.get("barMinHeight") || 0, y = i.get("barMinAngle") || 0; n[c] = n[c] || []; for (var _ = o.mapDimension(v.dim), b = o.mapDimension(l.dim), x = Jl(o, _), S = l.dim !== "radius" || !i.get("roundCap", !0), T = v.dataToCoord(0), C = 0, M = o.count(); C < M; C++) { var k = o.get(_, C), A = o.get(b, C), R = k >= 0 ? "p" : "n", N = T; x && (n[c][A] || (n[c][A] = { p: T, n: T }), N = n[c][A][R]); var z = void 0, F = void 0, V = void 0, L = void 0; if (v.dim === "radius") { var H = v.dataToCoord(k) - T, q = l.dataToCoord(A); Math.abs(H) < m && (H = (H < 0 ? -1 : 1) * m), z = N, F = N + H, V = q - h, L = V - d, x && (n[c][A][R] = F) } else { var K = v.dataToCoord(k, S) - T, te = l.dataToCoord(A); Math.abs(K) < y && (K = (K < 0 ? -1 : 1) * y), z = te + h, F = z + d, V = N, L = N + K, x && (n[c][A][R] = L) } o.setItemLayout(C, { cx: p, cy: g, r0: z, r: F, startAngle: -V * Math.PI / 180, endAngle: -L * Math.PI / 180, clockwise: V >= L }) } } }) } function uDe(t) { var e = {}; E(t, function (n, a) { var i = n.getData(), o = n.coordinateSystem, s = o.getBaseAxis(), l = E9(o, s), u = s.getExtent(), c = s.type === "category" ? s.getBandWidth() : Math.abs(u[1] - u[0]) / i.count(), f = e[l] || { bandWidth: c, remainedWidth: c, autoWidthCount: 0, categoryGap: "20%", gap: "30%", stacks: {} }, h = f.stacks; e[l] = f; var d = O9(n); h[d] || f.autoWidthCount++, h[d] = h[d] || { width: 0, maxWidth: 0 }; var v = Ae(n.get("barWidth"), c), p = Ae(n.get("barMaxWidth"), c), g = n.get("barGap"), m = n.get("barCategoryGap"); v && !h[d].width && (v = Math.min(f.remainedWidth, v), h[d].width = v, f.remainedWidth -= v), p && (h[d].maxWidth = p), g != null && (f.gap = g), m != null && (f.categoryGap = m) }); var r = {}; return E(e, function (n, a) { r[a] = {}; var i = n.stacks, o = n.bandWidth, s = Ae(n.categoryGap, o), l = Ae(n.gap, 1), u = n.remainedWidth, c = n.autoWidthCount, f = (u - s) / (c + (c - 1) * l); f = Math.max(f, 0), E(i, function (p, g) { var m = p.maxWidth; m && m < f && (m = Math.min(m, u), p.width && (m = Math.min(m, p.width)), u -= m, p.width = m, c--) }), f = (u - s) / (c + (c - 1) * l), f = Math.max(f, 0); var h = 0, d; E(i, function (p, g) { p.width || (p.width = f), d = p, h += p.width * (1 + l) }), d && (h -= d.width * l); var v = -h / 2; E(i, function (p, g) { r[a][g] = r[a][g] || { offset: v, width: p.width }, v += p.width * (1 + l) }) }), r } var cDe = { startAngle: 90, clockwise: !0, splitNumber: 12, axisLabel: { rotate: 0 } }, fDe = { splitNumber: 5 }, hDe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.type = "polar", e }(Kr); function dDe(t) { Dt(mg), Jc.registerAxisPointerClass("PolarAxisPointer", $2e), t.registerCoordinateSystem("polar", K2e), t.registerComponentModel(B2e), t.registerComponentView(hDe), Lh(t, "angle", V2e, cDe), Lh(t, "radius", z2e, fDe), t.registerComponentView(tDe), t.registerComponentView(sDe), t.registerLayout(ut(lDe, "bar")) } function m2(t, e) { e = e || {}; var r = t.coordinateSystem, n = t.axis, a = {}, i = n.position, o = n.orient, s = r.getRect(), l = [s.x, s.x + s.width, s.y, s.y + s.height], u = { horizontal: { top: l[2], bottom: l[3] }, vertical: { left: l[0], right: l[1] } }; a.position = [o === "vertical" ? u.vertical[i] : l[0], o === "horizontal" ? u.horizontal[i] : l[3]]; var c = { horizontal: 0, vertical: 1 }; a.rotation = Math.PI / 2 * c[o]; var f = { top: -1, bottom: 1, right: 1, left: -1 }; a.labelDirection = a.tickDirection = a.nameDirection = f[i], t.get(["axisTick", "inside"]) && (a.tickDirection = -a.tickDirection), Nn(e.labelInside, t.get(["axisLabel", "inside"])) && (a.labelDirection = -a.labelDirection); var h = e.rotate; return h == null && (h = t.get(["axisLabel", "rotate"])), a.labelRotation = i === "top" ? -h : h, a.z2 = 1, a } var vDe = ["axisLine", "axisTickLabel", "axisName"], pDe = ["splitArea", "splitLine"], gDe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.axisPointerClass = "SingleAxisPointer", r } return e.prototype.render = function (r, n, a, i) { var o = this.group; o.removeAll(); var s = this._axisGroup; this._axisGroup = new it; var l = m2(r), u = new Es(r, l); E(vDe, u.add, u), o.add(this._axisGroup), o.add(u.getGroup()), E(pDe, function (c) { r.get([c, "show"]) && mDe[c](this, this.group, this._axisGroup, r) }, this), tg(s, this._axisGroup, r), t.prototype.render.call(this, r, n, a, i) }, e.prototype.remove = function () { tz(this) }, e.type = "singleAxis", e }(Jc), mDe = { splitLine: function (t, e, r, n) { var a = n.axis; if (!a.scale.isBlank()) { var i = n.getModel("splitLine"), o = i.getModel("lineStyle"), s = o.get("color"); s = s instanceof Array ? s : [s]; for (var l = o.get("width"), u = n.coordinateSystem.getRect(), c = a.isHorizontal(), f = [], h = 0, d = a.getTicksCoords({ tickModel: i }), v = [], p = [], g = 0; g < d.length; ++g) { var m = a.toGlobalCoord(d[g].coord); c ? (v[0] = m, v[1] = u.y, p[0] = m, p[1] = u.y + u.height) : (v[0] = u.x, v[1] = m, p[0] = u.x + u.width, p[1] = m); var y = new $n({ shape: { x1: v[0], y1: v[1], x2: p[0], y2: p[1] }, silent: !0 }); Dh(y.shape, l); var _ = h++ % s.length; f[_] = f[_] || [], f[_].push(y) } for (var b = o.getLineStyle(["color"]), g = 0; g < f.length; ++g)e.add(ci(f[g], { style: Xe({ stroke: s[g % s.length] }, b), silent: !0 })) } }, splitArea: function (t, e, r, n) { ez(t, r, n, n) } }; const yDe = gDe; var N9 = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.getCoordSysModel = function () { return this }, e.type = "singleAxis", e.layoutMode = "box", e.defaultOption = { left: "5%", top: "5%", right: "5%", bottom: "5%", type: "value", position: "bottom", orient: "horizontal", axisLine: { show: !0, lineStyle: { width: 1, type: "solid" } }, tooltip: { show: !0 }, axisTick: { show: !0, length: 6, lineStyle: { width: 1 } }, axisLabel: { show: !0, interval: "auto" }, splitLine: { show: !0, lineStyle: { type: "dashed", opacity: .2 } } }, e }(Yt); mn(N9, ug.prototype); const LS = N9; var _De = function (t) { ae(e, t); function e(r, n, a, i, o) { var s = t.call(this, r, n, a) || this; return s.type = i || "value", s.position = o || "bottom", s } return e.prototype.isHorizontal = function () { var r = this.position; return r === "top" || r === "bottom" }, e.prototype.pointToData = function (r, n) { return this.coordinateSystem.pointToData(r)[0] }, e }(Ji); const bDe = _De; var $9 = ["single"], wDe = function () { function t(e, r, n) { this.type = "single", this.dimension = "single", this.dimensions = $9, this.axisPointerEnabled = !0, this.model = e, this._init(e, r, n) } return t.prototype._init = function (e, r, n) { var a = this.dimension, i = new bDe(a, g1(e), [0, 0], e.get("type"), e.get("position")), o = i.type === "category"; i.onBand = o && e.get("boundaryGap"), i.inverse = e.get("inverse"), i.orient = e.get("orient"), e.axis = i, i.model = e, i.coordinateSystem = this, this._axis = i }, t.prototype.update = function (e, r) { e.eachSeries(function (n) { if (n.coordinateSystem === this) { var a = n.getData(); E(a.mapDimensionsAll(this.dimension), function (i) { this._axis.scale.unionExtentFromData(a, i) }, this), kh(this._axis.scale, this._axis.model) } }, this) }, t.prototype.resize = function (e, r) { this._rect = bn({ left: e.get("left"), top: e.get("top"), right: e.get("right"), bottom: e.get("bottom"), width: e.get("width"), height: e.get("height") }, { width: r.getWidth(), height: r.getHeight() }), this._adjustAxis() }, t.prototype.getRect = function () { return this._rect }, t.prototype._adjustAxis = function () { var e = this._rect, r = this._axis, n = r.isHorizontal(), a = n ? [0, e.width] : [0, e.height], i = r.inverse ? 1 : 0; r.setExtent(a[i], a[1 - i]), this._updateAxisTransform(r, n ? e.x : e.y) }, t.prototype._updateAxisTransform = function (e, r) { var n = e.getExtent(), a = n[0] + n[1], i = e.isHorizontal(); e.toGlobalCoord = i ? function (o) { return o + r } : function (o) { return a - o + r }, e.toLocalCoord = i ? function (o) { return o - r } : function (o) { return a - o + r } }, t.prototype.getAxis = function () { return this._axis }, t.prototype.getBaseAxis = function () { return this._axis }, t.prototype.getAxes = function () { return [this._axis] }, t.prototype.getTooltipAxes = function () { return { baseAxes: [this.getAxis()], otherAxes: [] } }, t.prototype.containPoint = function (e) { var r = this.getRect(), n = this.getAxis(), a = n.orient; return a === "horizontal" ? n.contain(n.toLocalCoord(e[0])) && e[1] >= r.y && e[1] <= r.y + r.height : n.contain(n.toLocalCoord(e[1])) && e[0] >= r.y && e[0] <= r.y + r.height }, t.prototype.pointToData = function (e) { var r = this.getAxis(); return [r.coordToData(r.toLocalCoord(e[r.orient === "horizontal" ? 0 : 1]))] }, t.prototype.dataToPoint = function (e) { var r = this.getAxis(), n = this.getRect(), a = [], i = r.orient === "horizontal" ? 0 : 1; return e instanceof Array && (e = e[0]), a[i] = r.toGlobalCoord(r.dataToCoord(+e)), a[1 - i] = i === 0 ? n.y + n.height / 2 : n.x + n.width / 2, a }, t.prototype.convertToPixel = function (e, r, n) { var a = C3(r); return a === this ? this.dataToPoint(n) : null }, t.prototype.convertFromPixel = function (e, r, n) { var a = C3(r); return a === this ? this.pointToData(n) : null }, t }(); function C3(t) { var e = t.seriesModel, r = t.singleAxisModel; return r && r.coordinateSystem || e && e.coordinateSystem } function SDe(t, e) { var r = []; return t.eachComponent("singleAxis", function (n, a) { var i = new wDe(n, t, e); i.name = "single_" + a, i.resize(n, e), n.coordinateSystem = i, r.push(i) }), t.eachSeries(function (n) { if (n.get("coordinateSystem") === "singleAxis") { var a = n.getReferringComponents("singleAxis", dn).models[0]; n.coordinateSystem = a && a.coordinateSystem } }), r } var xDe = { create: SDe, dimensions: $9 }; const TDe = xDe; var M3 = ["x", "y"], DDe = ["width", "height"], CDe = function (t) { ae(e, t); function e() { return t !== null && t.apply(this, arguments) || this } return e.prototype.makeElOption = function (r, n, a, i, o) { var s = a.axis, l = s.coordinateSystem, u = IS(l, 1 - N0(s)), c = l.dataToPoint(n)[0], f = i.get("type"); if (f && f !== "none") { var h = IM(i), d = MDe[f](s, c, u); d.style = h, r.graphicKey = d.type, r.pointer = d } var v = m2(a); A9(n, r, v, a, i, o) }, e.prototype.getHandleTransform = function (r, n, a) { var i = m2(n, { labelInside: !1 }); i.labelMargin = a.get(["handle", "margin"]); var o = PM(n.axis, r, i); return { x: o[0], y: o[1], rotation: i.rotation + (i.labelDirection < 0 ? Math.PI : 0) } }, e.prototype.updateHandleTransform = function (r, n, a, i) { var o = a.axis, s = o.coordinateSystem, l = N0(o), u = IS(s, l), c = [r.x, r.y]; c[l] += n[l], c[l] = Math.min(u[1], c[l]), c[l] = Math.max(u[0], c[l]); var f = IS(s, 1 - l), h = (f[1] + f[0]) / 2, d = [h, h]; return d[l] = c[l], { x: c[0], y: c[1], rotation: r.rotation, cursorPoint: d, tooltipOption: { verticalAlign: "middle" } } }, e }(LM), MDe = { line: function (t, e, r) { var n = RM([e, r[0]], [e, r[1]], N0(t)); return { type: "Line", subPixelOptimize: !0, shape: n } }, shadow: function (t, e, r) { var n = t.getBandWidth(), a = r[1] - r[0]; return { type: "Rect", shape: L9([e - n / 2, r[0]], [n, a], N0(t)) } } }; function N0(t) { return t.isHorizontal() ? 0 : 1 } function IS(t, e) { var r = t.getRect(); return [r[M3[e]], r[M3[e]] + r[DDe[e]]] } const kDe = CDe; var ADe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.type = "single", e }(Kr); function LDe(t) { Dt(mg), Jc.registerAxisPointerClass("SingleAxisPointer", kDe), t.registerComponentView(ADe), t.registerComponentView(yDe), t.registerComponentModel(LS), Lh(t, "single", LS, LS.defaultOption), t.registerCoordinateSystem("single", TDe) } var IDe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.init = function (r, n, a) { var i = qh(r); t.prototype.init.apply(this, arguments), k3(r, i) }, e.prototype.mergeOption = function (r) { t.prototype.mergeOption.apply(this, arguments), k3(this.option, r) }, e.prototype.getCellSize = function () { return this.option.cellSize }, e.type = "calendar", e.defaultOption = { z: 2, left: 80, top: 60, cellSize: 20, orient: "horizontal", splitLine: { show: !0, lineStyle: { color: "#000", width: 1, type: "solid" } }, itemStyle: { color: "#fff", borderWidth: 1, borderColor: "#ccc" }, dayLabel: { show: !0, firstDay: 0, position: "start", margin: "50%", color: "#000" }, monthLabel: { show: !0, position: "start", margin: 5, align: "center", formatter: null, color: "#000" }, yearLabel: { show: !0, position: null, margin: 30, formatter: null, color: "#ccc", fontFamily: "sans-serif", fontWeight: "bolder", fontSize: 20 } }, e }(Yt); function k3(t, e) { var r = t.cellSize, n; me(r) ? n = r : n = t.cellSize = [r, r], n.length === 1 && (n[1] = n[0]); var a = _e([0, 1], function (i) { return Lde(e, i) && (n[i] = "auto"), n[i] != null && n[i] !== "auto" }); Ql(t, e, { type: "box", ignoreSize: a }) } const PDe = IDe; var RDe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.render = function (r, n, a) { var i = this.group; i.removeAll(); var o = r.coordinateSystem, s = o.getRangeInfo(), l = o.getOrient(), u = n.getLocaleModel(); this._renderDayRect(r, s, i), this._renderLines(r, s, l, i), this._renderYearText(r, s, l, i), this._renderMonthText(r, u, l, i), this._renderWeekText(r, u, s, l, i) }, e.prototype._renderDayRect = function (r, n, a) { for (var i = r.coordinateSystem, o = r.getModel("itemStyle").getItemStyle(), s = i.getCellWidth(), l = i.getCellHeight(), u = n.start.time; u <= n.end.time; u = i.getNextNDay(u, 1).time) { var c = i.dataToRect([u], !1).tl, f = new Bt({ shape: { x: c[0], y: c[1], width: s, height: l }, cursor: "default", style: o }); a.add(f) } }, e.prototype._renderLines = function (r, n, a, i) { var o = this, s = r.coordinateSystem, l = r.getModel(["splitLine", "lineStyle"]).getLineStyle(), u = r.get(["splitLine", "show"]), c = l.lineWidth; this._tlpoints = [], this._blpoints = [], this._firstDayOfMonth = [], this._firstDayPoints = []; for (var f = n.start, h = 0; f.time <= n.end.time; h++) { v(f.formatedDate), h === 0 && (f = s.getDateInfo(n.start.y + "-" + n.start.m)); var d = f.date; d.setMonth(d.getMonth() + 1), f = s.getDateInfo(d) } v(s.getNextNDay(n.end.time, 1).formatedDate); function v(p) { o._firstDayOfMonth.push(s.getDateInfo(p)), o._firstDayPoints.push(s.dataToRect([p], !1).tl); var g = o._getLinePointsOfOneWeek(r, p, a); o._tlpoints.push(g[0]), o._blpoints.push(g[g.length - 1]), u && o._drawSplitline(g, l, i) } u && this._drawSplitline(o._getEdgesPoints(o._tlpoints, c, a), l, i), u && this._drawSplitline(o._getEdgesPoints(o._blpoints, c, a), l, i) }, e.prototype._getEdgesPoints = function (r, n, a) { var i = [r[0].slice(), r[r.length - 1].slice()], o = a === "horizontal" ? 0 : 1; return i[0][o] = i[0][o] - n / 2, i[1][o] = i[1][o] + n / 2, i }, e.prototype._drawSplitline = function (r, n, a) { var i = new Na({ z2: 20, shape: { points: r }, style: n }); a.add(i) }, e.prototype._getLinePointsOfOneWeek = function (r, n, a) { for (var i = r.coordinateSystem, o = i.getDateInfo(n), s = [], l = 0; l < 7; l++) { var u = i.getNextNDay(o.time, l), c = i.dataToRect([u.time], !1); s[2 * u.day] = c.tl, s[2 * u.day + 1] = c[a === "horizontal" ? "bl" : "tr"] } return s }, e.prototype._formatterLabel = function (r, n) { return Oe(r) && r ? Mde(r, n) : je(r) ? r(n) : n.nameMap }, e.prototype._yearTextPositionControl = function (r, n, a, i, o) { var s = n[0], l = n[1], u = ["center", "bottom"]; i === "bottom" ? (l += o, u = ["center", "top"]) : i === "left" ? s -= o : i === "right" ? (s += o, u = ["center", "top"]) : l -= o; var c = 0; return (i === "left" || i === "right") && (c = Math.PI / 2), { rotation: c, x: s, y: l, style: { align: u[0], verticalAlign: u[1] } } }, e.prototype._renderYearText = function (r, n, a, i) { var o = r.getModel("yearLabel"); if (o.get("show")) { var s = o.get("margin"), l = o.get("position"); l || (l = a !== "horizontal" ? "top" : "left"); var u = [this._tlpoints[this._tlpoints.length - 1], this._blpoints[0]], c = (u[0][0] + u[1][0]) / 2, f = (u[0][1] + u[1][1]) / 2, h = a === "horizontal" ? 0 : 1, d = { top: [c, u[h][1]], bottom: [c, u[1 - h][1]], left: [u[1 - h][0], f], right: [u[h][0], f] }, v = n.start.y; +n.end.y > +n.start.y && (v = v + "-" + n.end.y); var p = o.get("formatter"), g = { start: n.start.y, end: n.end.y, nameMap: v }, m = this._formatterLabel(p, g), y = new Wt({ z2: 30, style: Mr(o, { text: m }) }); y.attr(this._yearTextPositionControl(y, d[l], a, l, s)), i.add(y) } }, e.prototype._monthTextPositionControl = function (r, n, a, i, o) { var s = "left", l = "top", u = r[0], c = r[1]; return a === "horizontal" ? (c = c + o, n && (s = "center"), i === "start" && (l = "bottom")) : (u = u + o, n && (l = "middle"), i === "start" && (s = "right")), { x: u, y: c, align: s, verticalAlign: l } }, e.prototype._renderMonthText = function (r, n, a, i) { var o = r.getModel("monthLabel"); if (o.get("show")) { var s = o.get("nameMap"), l = o.get("margin"), u = o.get("position"), c = o.get("align"), f = [this._tlpoints, this._blpoints]; (!s || Oe(s)) && (s && (n = LT(s) || n), s = n.get(["time", "monthAbbr"]) || []); var h = u === "start" ? 0 : 1, d = a === "horizontal" ? 0 : 1; l = u === "start" ? -l : l; for (var v = c === "center", p = 0; p < f[h].length - 1; p++) { var g = f[h][p].slice(), m = this._firstDayOfMonth[p]; if (v) { var y = this._firstDayPoints[p]; g[d] = (y[d] + f[0][p + 1][d]) / 2 } var _ = o.get("formatter"), b = s[+m.m - 1], x = { yyyy: m.y, yy: (m.y + "").slice(2), MM: m.m, M: +m.m, nameMap: b }, S = this._formatterLabel(_, x), T = new Wt({ z2: 30, style: he(Mr(o, { text: S }), this._monthTextPositionControl(g, v, a, u, l)) }); i.add(T) } } }, e.prototype._weekTextPositionControl = function (r, n, a, i, o) { var s = "center", l = "middle", u = r[0], c = r[1], f = a === "start"; return n === "horizontal" ? (u = u + i + (f ? 1 : -1) * o[0] / 2, s = f ? "right" : "left") : (c = c + i + (f ? 1 : -1) * o[1] / 2, l = f ? "bottom" : "top"), { x: u, y: c, align: s, verticalAlign: l } }, e.prototype._renderWeekText = function (r, n, a, i, o) { var s = r.getModel("dayLabel"); if (s.get("show")) { var l = r.coordinateSystem, u = s.get("position"), c = s.get("nameMap"), f = s.get("margin"), h = l.getFirstDayOfWeek(); if (!c || Oe(c)) { c && (n = LT(c) || n); var d = n.get(["time", "dayOfWeekShort"]); c = d || _e(n.get(["time", "dayOfWeekAbbr"]), function (x) { return x[0] }) } var v = l.getNextNDay(a.end.time, 7 - a.lweek).time, p = [l.getCellWidth(), l.getCellHeight()]; f = Ae(f, Math.min(p[1], p[0])), u === "start" && (v = l.getNextNDay(a.start.time, -(7 + a.fweek)).time, f = -f); for (var g = 0; g < 7; g++) { var m = l.getNextNDay(v, g), y = l.dataToRect([m.time], !1).center, _ = g; _ = Math.abs((g + h) % 7); var b = new Wt({ z2: 30, style: he(Mr(s, { text: c[_] }), this._weekTextPositionControl(y, i, u, f, p)) }); o.add(b) } } }, e.type = "calendar", e }(Kr); const ODe = RDe; var PS = 864e5, EDe = function () { function t(e, r, n) { this.type = "calendar", this.dimensions = t.dimensions, this.getDimensionsInfo = t.getDimensionsInfo, this._model = e } return t.getDimensionsInfo = function () { return [{ name: "time", type: "time" }, "value"] }, t.prototype.getRangeInfo = function () { return this._rangeInfo }, t.prototype.getModel = function () { return this._model }, t.prototype.getRect = function () { return this._rect }, t.prototype.getCellWidth = function () { return this._sw }, t.prototype.getCellHeight = function () { return this._sh }, t.prototype.getOrient = function () { return this._orient }, t.prototype.getFirstDayOfWeek = function () { return this._firstDayOfWeek }, t.prototype.getDateInfo = function (e) { e = Eo(e); var r = e.getFullYear(), n = e.getMonth() + 1, a = n < 10 ? "0" + n : "" + n, i = e.getDate(), o = i < 10 ? "0" + i : "" + i, s = e.getDay(); return s = Math.abs((s + 7 - this.getFirstDayOfWeek()) % 7), { y: r + "", m: a, d: o, day: s, time: e.getTime(), formatedDate: r + "-" + a + "-" + o, date: e } }, t.prototype.getNextNDay = function (e, r) { return r = r || 0, r === 0 ? this.getDateInfo(e) : (e = new Date(this.getDateInfo(e).time), e.setDate(e.getDate() + r), this.getDateInfo(e)) }, t.prototype.update = function (e, r) { this._firstDayOfWeek = +this._model.getModel("dayLabel").get("firstDay"), this._orient = this._model.get("orient"), this._lineWidth = this._model.getModel("itemStyle").getItemStyle().lineWidth || 0, this._rangeInfo = this._getRangeInfo(this._initRangeOption()); var n = this._rangeInfo.weeks || 1, a = ["width", "height"], i = this._model.getCellSize().slice(), o = this._model.getBoxLayoutParams(), s = this._orient === "horizontal" ? [n, 7] : [7, n]; E([0, 1], function (f) { c(i, f) && (o[a[f]] = i[f] * s[f]) }); var l = { width: r.getWidth(), height: r.getHeight() }, u = this._rect = bn(o, l); E([0, 1], function (f) { c(i, f) || (i[f] = u[a[f]] / s[f]) }); function c(f, h) { return f[h] != null && f[h] !== "auto" } this._sw = i[0], this._sh = i[1] }, t.prototype.dataToPoint = function (e, r) { me(e) && (e = e[0]), r == null && (r = !0); var n = this.getDateInfo(e), a = this._rangeInfo, i = n.formatedDate; if (r && !(n.time >= a.start.time && n.time < a.end.time + PS)) return [NaN, NaN]; var o = n.day, s = this._getRangeInfo([a.start.time, i]).nthWeek; return this._orient === "vertical" ? [this._rect.x + o * this._sw + this._sw / 2, this._rect.y + s * this._sh + this._sh / 2] : [this._rect.x + s * this._sw + this._sw / 2, this._rect.y + o * this._sh + this._sh / 2] }, t.prototype.pointToData = function (e) { var r = this.pointToDate(e); return r && r.time }, t.prototype.dataToRect = function (e, r) { var n = this.dataToPoint(e, r); return { contentShape: { x: n[0] - (this._sw - this._lineWidth) / 2, y: n[1] - (this._sh - this._lineWidth) / 2, width: this._sw - this._lineWidth, height: this._sh - this._lineWidth }, center: n, tl: [n[0] - this._sw / 2, n[1] - this._sh / 2], tr: [n[0] + this._sw / 2, n[1] - this._sh / 2], br: [n[0] + this._sw / 2, n[1] + this._sh / 2], bl: [n[0] - this._sw / 2, n[1] + this._sh / 2] } }, t.prototype.pointToDate = function (e) { var r = Math.floor((e[0] - this._rect.x) / this._sw) + 1, n = Math.floor((e[1] - this._rect.y) / this._sh) + 1, a = this._rangeInfo.range; return this._orient === "vertical" ? this._getDateByWeeksAndDay(n, r - 1, a) : this._getDateByWeeksAndDay(r, n - 1, a) }, t.prototype.convertToPixel = function (e, r, n) { var a = A3(r); return a === this ? a.dataToPoint(n) : null }, t.prototype.convertFromPixel = function (e, r, n) { var a = A3(r); return a === this ? a.pointToData(n) : null }, t.prototype.containPoint = function (e) { return console.warn("Not implemented."), !1 }, t.prototype._initRangeOption = function () { var e = this._model.get("range"), r; if (me(e) && e.length === 1 && (e = e[0]), me(e)) r = e; else { var n = e.toString(); if (/^\d{4}$/.test(n) && (r = [n + "-01-01", n + "-12-31"]), /^\d{4}[\/|-]\d{1,2}$/.test(n)) { var a = this.getDateInfo(n), i = a.date; i.setMonth(i.getMonth() + 1); var o = this.getNextNDay(i, -1); r = [a.formatedDate, o.formatedDate] } /^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n) && (r = [n, n]) } if (!r) return e; var s = this._getRangeInfo(r); return s.start.time > s.end.time && r.reverse(), r }, t.prototype._getRangeInfo = function (e) { var r = [this.getDateInfo(e[0]), this.getDateInfo(e[1])], n; r[0].time > r[1].time && (n = !0, r.reverse()); var a = Math.floor(r[1].time / PS) - Math.floor(r[0].time / PS) + 1, i = new Date(r[0].time), o = i.getDate(), s = r[1].date.getDate(); i.setDate(o + a - 1); var l = i.getDate(); if (l !== s) for (var u = i.getTime() - r[1].time > 0 ? 1 : -1; (l = i.getDate()) !== s && (i.getTime() - r[1].time) * u > 0;)a -= u, i.setDate(l - u); var c = Math.floor((a + r[0].day + 6) / 7), f = n ? -c + 1 : c - 1; return n && r.reverse(), { range: [r[0].formatedDate, r[1].formatedDate], start: r[0], end: r[1], allDay: a, weeks: c, nthWeek: f, fweek: r[0].day, lweek: r[1].day } }, t.prototype._getDateByWeeksAndDay = function (e, r, n) { var a = this._getRangeInfo(n); if (e > a.weeks || e === 0 && r < a.fweek || e === a.weeks && r > a.lweek) return null; var i = (e - 1) * 7 - a.fweek + r, o = new Date(a.start.time); return o.setDate(+a.start.d + i), this.getDateInfo(o) }, t.create = function (e, r) { var n = []; return e.eachComponent("calendar", function (a) { var i = new t(a); n.push(i), a.coordinateSystem = i }), e.eachSeries(function (a) { a.get("coordinateSystem") === "calendar" && (a.coordinateSystem = n[a.get("calendarIndex") || 0]) }), n }, t.dimensions = ["time", "value"], t }(); function A3(t) { var e = t.calendarModel, r = t.seriesModel, n = e ? e.coordinateSystem : r ? r.coordinateSystem : null; return n } const NDe = EDe; function $De(t) { t.registerComponentModel(PDe), t.registerComponentView(ODe), t.registerCoordinateSystem("calendar", NDe) } function FDe(t, e) { var r = t.existing; if (e.id = t.keyInfo.id, !e.type && r && (e.type = r.type), e.parentId == null) { var n = e.parentOption; n ? e.parentId = n.id : r && (e.parentId = r.parentId) } e.parentOption = null } function L3(t, e) { var r; return E(e, function (n) { t[n] != null && t[n] !== "auto" && (r = !0) }), r } function BDe(t, e, r) { var n = he({}, r), a = t[e], i = r.$action || "merge"; i === "merge" ? a ? (bt(a, n, !0), Ql(a, n, { ignoreSize: !0 }), OB(r, a), Hm(r, a), Hm(r, a, "shape"), Hm(r, a, "style"), Hm(r, a, "extra"), r.clipPath = a.clipPath) : t[e] = n : i === "replace" ? t[e] = n : i === "remove" && a && (t[e] = null) } var F9 = ["transition", "enterFrom", "leaveTo"], VDe = F9.concat(["enterAnimation", "updateAnimation", "leaveAnimation"]); function Hm(t, e, r) { if (r && (!t[r] && e[r] && (t[r] = {}), t = t[r], e = e[r]), !(!t || !e)) for (var n = r ? F9 : VDe, a = 0; a < n.length; a++) { var i = n[a]; t[i] == null && e[i] != null && (t[i] = e[i]) } } function zDe(t, e) { if (t && (t.hv = e.hv = [L3(e, ["left", "right"]), L3(e, ["top", "bottom"])], t.type === "group")) { var r = t, n = e; r.width == null && (r.width = n.width = 0), r.height == null && (r.height = n.height = 0) } } var HDe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.preventAutoZ = !0, r } return e.prototype.mergeOption = function (r, n) { var a = this.option.elements; this.option.elements = null, t.prototype.mergeOption.call(this, r, n), this.option.elements = a }, e.prototype.optionUpdated = function (r, n) { var a = this.option, i = (n ? a : r).elements, o = a.elements = n ? [] : a.elements, s = []; this._flatten(i, s, null); var l = pF(o, s, "normalMerge"), u = this._elOptionsToUpdate = []; E(l, function (c, f) { var h = c.newOption; h && (u.push(h), FDe(c, h), BDe(o, f, h), zDe(o[f], h)) }, this), a.elements = hr(o, function (c) { return c && delete c.$action, c != null }) }, e.prototype._flatten = function (r, n, a) { E(r, function (i) { if (i) { a && (i.parentOption = a), n.push(i); var o = i.children; o && o.length && this._flatten(o, n, i), delete i.children } }, this) }, e.prototype.useElOptionsToUpdate = function () { var r = this._elOptionsToUpdate; return this._elOptionsToUpdate = null, r }, e.type = "graphic", e.defaultOption = { elements: [] }, e }(Yt), I3 = { path: null, compoundPath: null, group: it, image: Gn, text: Wt }, ii = zt(), YDe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.init = function () { this._elMap = He() }, e.prototype.render = function (r, n, a) { r !== this._lastGraphicModel && this._clear(), this._lastGraphicModel = r, this._updateElements(r), this._relocate(r, a) }, e.prototype._updateElements = function (r) { var n = r.useElOptionsToUpdate(); if (n) { var a = this._elMap, i = this.group, o = r.get("z"), s = r.get("zlevel"); E(n, function (l) { var u = yn(l.id, null), c = u != null ? a.get(u) : null, f = yn(l.parentId, null), h = f != null ? a.get(f) : i, d = l.type, v = l.style; d === "text" && v && l.hv && l.hv[1] && (v.textVerticalAlign = v.textBaseline = v.verticalAlign = v.align = null); var p = l.textContent, g = l.textConfig; if (v && m9(v, d, !!g, !!p)) { var m = y9(v, d, !0); !g && m.textConfig && (g = l.textConfig = m.textConfig), !p && m.textContent && (p = m.textContent) } var y = UDe(l), _ = l.$action || "merge", b = _ === "merge", x = _ === "replace"; if (b) { var S = !c, T = c; S ? T = P3(u, h, l.type, a) : (T && (ii(T).isNew = !1), S9(T)), T && (Ay(T, y, r, { isInit: S }), R3(T, l, o, s)) } else if (x) { Iy(c, l, a, r); var C = P3(u, h, l.type, a); C && (Ay(C, y, r, { isInit: !0 }), R3(C, l, o, s)) } else _ === "remove" && (b9(c, l), Iy(c, l, a, r)); var M = a.get(u); if (M && p) if (b) { var k = M.getTextContent(); k ? k.attr(p) : M.setTextContent(new Wt(p)) } else x && M.setTextContent(new Wt(p)); if (M) { var A = l.clipPath; if (A) { var R = A.type, N = void 0, S = !1; if (b) { var z = M.getClipPath(); S = !z || ii(z).type !== R, N = S ? y2(R) : z } else x && (S = !0, N = y2(R)); M.setClipPath(N), Ay(N, A, r, { isInit: S }), O0(N, A.keyframeAnimation, r) } var F = ii(M); M.setTextConfig(g), F.option = l, WDe(M, r, l), Wh({ el: M, componentModel: r, itemName: M.name, itemTooltipOption: l.tooltip }), O0(M, l.keyframeAnimation, r) } }) } }, e.prototype._relocate = function (r, n) { for (var a = r.option.elements, i = this.group, o = this._elMap, s = n.getWidth(), l = n.getHeight(), u = ["x", "y"], c = 0; c < a.length; c++) { var f = a[c], h = yn(f.id, null), d = h != null ? o.get(h) : null; if (!(!d || !d.isGroup)) { var v = d.parent, p = v === i, g = ii(d), m = ii(v); g.width = Ae(g.option.width, p ? s : m.width) || 0, g.height = Ae(g.option.height, p ? l : m.height) || 0 } } for (var c = a.length - 1; c >= 0; c--) { var f = a[c], h = yn(f.id, null), d = h != null ? o.get(h) : null; if (d) { var v = d.parent, m = ii(v), y = v === i ? { width: s, height: l } : { width: m.width, height: m.height }, _ = {}, b = l1(d, f, y, null, { hv: f.hv, boundingMode: f.bounding }, _); if (!ii(d).isNew && b) { for (var x = f.transition, S = {}, T = 0; T < u.length; T++) { var C = u[T], M = _[C]; x && (Lc(x) || Ct(x, C) >= 0) ? S[C] = M : d[C] = M } jt(d, S, r, 0) } else d.attr(_) } } }, e.prototype._clear = function () { var r = this, n = this._elMap; n.each(function (a) { Iy(a, ii(a).option, n, r._lastGraphicModel) }), this._elMap = He() }, e.prototype.dispose = function () { this._clear() }, e.type = "graphic", e }(Kr); function y2(t) { var e = Fe(I3, t) ? I3[t] : yC(t), r = new e({}); return ii(r).type = t, r } function P3(t, e, r, n) { var a = y2(r); return e.add(a), n.set(t, a), ii(a).id = t, ii(a).isNew = !0, a } function Iy(t, e, r, n) { var a = t && t.parent; a && (t.type === "group" && t.traverse(function (i) { Iy(i, e, r, n) }), x1(t, e, n), r.removeKey(ii(t).id)) } function R3(t, e, r, n) { t.isGroup || E([["cursor", _i.prototype.cursor], ["zlevel", n || 0], ["z", r || 0], ["z2", 0]], function (a) { var i = a[0]; Fe(e, i) ? t[i] = _t(e[i], a[1]) : t[i] == null && (t[i] = a[1]) }), E(Nt(e), function (a) { if (a.indexOf("on") === 0) { var i = e[a]; t[a] = je(i) ? i : null } }), Fe(e, "draggable") && (t.draggable = e.draggable), e.name != null && (t.name = e.name), e.id != null && (t.id = e.id) } function UDe(t) { return t = he({}, t), E(["id", "parentId", "$action", "hv", "bounding", "textContent", "clipPath"].concat(RB), function (e) { delete t[e] }), t } function WDe(t, e, r) { var n = lt(t).eventData; !t.silent && !t.ignore && !n && (n = lt(t).eventData = { componentType: "graphic", componentIndex: e.componentIndex, name: t.name }), n && (n.info = r.info) } function GDe(t) { t.registerComponentModel(HDe), t.registerComponentView(YDe), t.registerPreprocessor(function (e) { var r = e.graphic; me(r) ? !r[0] || !r[0].elements ? e.graphic = [{ elements: r }] : e.graphic = [e.graphic[0]] : r && !r.elements && (e.graphic = [{ elements: [r] }]) }) } var O3 = ["x", "y", "radius", "angle", "single"], jDe = ["cartesian2d", "polar", "singleAxis"]; function ZDe(t) { var e = t.get("coordinateSystem"); return Ct(jDe, e) >= 0 } function Ll(t) { return t + "Axis" } function qDe(t, e) { var r = He(), n = [], a = He(); t.eachComponent({ mainType: "dataZoom", query: e }, function (c) { a.get(c.uid) || s(c) }); var i; do i = !1, t.eachComponent("dataZoom", o); while (i); function o(c) { !a.get(c.uid) && l(c) && (s(c), i = !0) } function s(c) { a.set(c.uid, !0), n.push(c), u(c) } function l(c) { var f = !1; return c.eachTargetAxis(function (h, d) { var v = r.get(h); v && v[d] && (f = !0) }), f } function u(c) { c.eachTargetAxis(function (f, h) { (r.get(f) || r.set(f, []))[h] = !0 }) } return n } function B9(t) { var e = t.ecModel, r = { infoList: [], infoMap: He() }; return t.eachTargetAxis(function (n, a) { var i = e.getComponent(Ll(n), a); if (i) { var o = i.getCoordSysModel(); if (o) { var s = o.uid, l = r.infoMap.get(s); l || (l = { model: o, axisModels: [] }, r.infoList.push(l), r.infoMap.set(s, l)), l.axisModels.push(i) } } }), r } var RS = function () { function t() { this.indexList = [], this.indexMap = [] } return t.prototype.add = function (e) { this.indexMap[e] || (this.indexList.push(e), this.indexMap[e] = !0) }, t }(), XDe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r._autoThrottle = !0, r._noTarget = !0, r._rangePropMode = ["percent", "percent"], r } return e.prototype.init = function (r, n, a) { var i = E3(r); this.settledOption = i, this.mergeDefaultAndTheme(r, a), this._doInit(i) }, e.prototype.mergeOption = function (r) { var n = E3(r); bt(this.option, r, !0), bt(this.settledOption, n, !0), this._doInit(n) }, e.prototype._doInit = function (r) { var n = this.option; this._setDefaultThrottle(r), this._updateRangeUse(r); var a = this.settledOption; E([["start", "startValue"], ["end", "endValue"]], function (i, o) { this._rangePropMode[o] === "value" && (n[i[0]] = a[i[0]] = null) }, this), this._resetTarget() }, e.prototype._resetTarget = function () { var r = this.get("orient", !0), n = this._targetAxisInfoMap = He(), a = this._fillSpecifiedTargetAxis(n); a ? this._orient = r || this._makeAutoOrientByTargetAxis() : (this._orient = r || "horizontal", this._fillAutoTargetAxisByOrient(n, this._orient)), this._noTarget = !0, n.each(function (i) { i.indexList.length && (this._noTarget = !1) }, this) }, e.prototype._fillSpecifiedTargetAxis = function (r) { var n = !1; return E(O3, function (a) { var i = this.getReferringComponents(Ll(a), sfe); if (i.specified) { n = !0; var o = new RS; E(i.models, function (s) { o.add(s.componentIndex) }), r.set(a, o) } }, this), n }, e.prototype._fillAutoTargetAxisByOrient = function (r, n) { var a = this.ecModel, i = !0; if (i) { var o = n === "vertical" ? "y" : "x", s = a.findComponents({ mainType: o + "Axis" }); l(s, o) } if (i) { var s = a.findComponents({ mainType: "singleAxis", filter: function (c) { return c.get("orient", !0) === n } }); l(s, "single") } function l(u, c) { var f = u[0]; if (f) { var h = new RS; if (h.add(f.componentIndex), r.set(c, h), i = !1, c === "x" || c === "y") { var d = f.getReferringComponents("grid", dn).models[0]; d && E(u, function (v) { f.componentIndex !== v.componentIndex && d === v.getReferringComponents("grid", dn).models[0] && h.add(v.componentIndex) }) } } } i && E(O3, function (u) { if (i) { var c = a.findComponents({ mainType: Ll(u), filter: function (h) { return h.get("type", !0) === "category" } }); if (c[0]) { var f = new RS; f.add(c[0].componentIndex), r.set(u, f), i = !1 } } }, this) }, e.prototype._makeAutoOrientByTargetAxis = function () { var r; return this.eachTargetAxis(function (n) { !r && (r = n) }, this), r === "y" ? "vertical" : "horizontal" }, e.prototype._setDefaultThrottle = function (r) { if (r.hasOwnProperty("throttle") && (this._autoThrottle = !1), this._autoThrottle) { var n = this.ecModel.option; this.option.throttle = n.animation && n.animationDurationUpdate > 0 ? 100 : 20 } }, e.prototype._updateRangeUse = function (r) { var n = this._rangePropMode, a = this.get("rangeMode"); E([["start", "startValue"], ["end", "endValue"]], function (i, o) { var s = r[i[0]] != null, l = r[i[1]] != null; s && !l ? n[o] = "percent" : !s && l ? n[o] = "value" : a ? n[o] = a[o] : s && (n[o] = "percent") }) }, e.prototype.noTarget = function () { return this._noTarget }, e.prototype.getFirstTargetAxisModel = function () { var r; return this.eachTargetAxis(function (n, a) { r == null && (r = this.ecModel.getComponent(Ll(n), a)) }, this), r }, e.prototype.eachTargetAxis = function (r, n) { this._targetAxisInfoMap.each(function (a, i) { E(a.indexList, function (o) { r.call(n, i, o) }) }) }, e.prototype.getAxisProxy = function (r, n) { var a = this.getAxisModel(r, n); if (a) return a.__dzAxisProxy }, e.prototype.getAxisModel = function (r, n) { var a = this._targetAxisInfoMap.get(r); if (a && a.indexMap[n]) return this.ecModel.getComponent(Ll(r), n) }, e.prototype.setRawRange = function (r) { var n = this.option, a = this.settledOption; E([["start", "startValue"], ["end", "endValue"]], function (i) { (r[i[0]] != null || r[i[1]] != null) && (n[i[0]] = a[i[0]] = r[i[0]], n[i[1]] = a[i[1]] = r[i[1]]) }, this), this._updateRangeUse(r) }, e.prototype.setCalculatedRange = function (r) { var n = this.option; E(["start", "startValue", "end", "endValue"], function (a) { n[a] = r[a] }) }, e.prototype.getPercentRange = function () { var r = this.findRepresentativeAxisProxy(); if (r) return r.getDataPercentWindow() }, e.prototype.getValueRange = function (r, n) { if (r == null && n == null) { var a = this.findRepresentativeAxisProxy(); if (a) return a.getDataValueWindow() } else return this.getAxisProxy(r, n).getDataValueWindow() }, e.prototype.findRepresentativeAxisProxy = function (r) { if (r) return r.__dzAxisProxy; for (var n, a = this._targetAxisInfoMap.keys(), i = 0; i < a.length; i++)for (var o = a[i], s = this._targetAxisInfoMap.get(o), l = 0; l < s.indexList.length; l++) { var u = this.getAxisProxy(o, s.indexList[l]); if (u.hostedBy(this)) return u; n || (n = u) } return n }, e.prototype.getRangePropMode = function () { return this._rangePropMode.slice() }, e.prototype.getOrient = function () { return this._orient }, e.type = "dataZoom", e.dependencies = ["xAxis", "yAxis", "radiusAxis", "angleAxis", "singleAxis", "series", "toolbox"], e.defaultOption = { z: 4, filterMode: "filter", start: 0, end: 100 }, e }(Yt); function E3(t) { var e = {}; return E(["start", "end", "startValue", "endValue", "throttle"], function (r) { t.hasOwnProperty(r) && (e[r] = t[r]) }), e } const kp = XDe; var KDe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.type = "dataZoom.select", e }(kp); const QDe = KDe; var JDe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.render = function (r, n, a, i) { this.dataZoomModel = r, this.ecModel = n, this.api = a }, e.type = "dataZoom", e }(Kr); const FM = JDe; var eCe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.type = "dataZoom.select", e }(FM); const tCe = eCe; var Uf = E, N3 = hi, rCe = function () { function t(e, r, n, a) { this._dimName = e, this._axisIndex = r, this.ecModel = a, this._dataZoomModel = n } return t.prototype.hostedBy = function (e) { return this._dataZoomModel === e }, t.prototype.getDataValueWindow = function () { return this._valueWindow.slice() }, t.prototype.getDataPercentWindow = function () { return this._percentWindow.slice() }, t.prototype.getTargetSeriesModels = function () { var e = []; return this.ecModel.eachSeries(function (r) { if (ZDe(r)) { var n = Ll(this._dimName), a = r.getReferringComponents(n, dn).models[0]; a && this._axisIndex === a.componentIndex && e.push(r) } }, this), e }, t.prototype.getAxisModel = function () { return this.ecModel.getComponent(this._dimName + "Axis", this._axisIndex) }, t.prototype.getMinMaxSpan = function () { return rt(this._minMaxSpan) }, t.prototype.calculateDataWindow = function (e) { var r = this._dataExtent, n = this.getAxisModel(), a = n.axis.scale, i = this._dataZoomModel.getRangePropMode(), o = [0, 100], s = [], l = [], u; Uf(["start", "end"], function (h, d) { var v = e[h], p = e[h + "Value"]; i[d] === "percent" ? (v == null && (v = o[d]), p = a.parse(sr(v, o, r))) : (u = !0, p = p == null ? r[d] : a.parse(p), v = sr(p, r, o)), l[d] = p == null || isNaN(p) ? r[d] : p, s[d] = v == null || isNaN(v) ? o[d] : v }), N3(l), N3(s); var c = this._minMaxSpan; u ? f(l, s, r, o, !1) : f(s, l, o, r, !0); function f(h, d, v, p, g) { var m = g ? "Span" : "ValueSpan"; ef(0, h, v, "all", c["min" + m], c["max" + m]); for (var y = 0; y < 2; y++)d[y] = sr(h[y], v, p, !0), g && (d[y] = a.parse(d[y])) } return { valueWindow: l, percentWindow: s } }, t.prototype.reset = function (e) { if (e === this._dataZoomModel) { var r = this.getTargetSeriesModels(); this._dataExtent = nCe(this, this._dimName, r), this._updateMinMaxSpan(); var n = this.calculateDataWindow(e.settledOption); this._valueWindow = n.valueWindow, this._percentWindow = n.percentWindow, this._setAxisModel() } }, t.prototype.filterData = function (e, r) { if (e !== this._dataZoomModel) return; var n = this._dimName, a = this.getTargetSeriesModels(), i = e.get("filterMode"), o = this._valueWindow; if (i === "none") return; Uf(a, function (l) { var u = l.getData(), c = u.mapDimensionsAll(n); if (c.length) { if (i === "weakFilter") { var f = u.getStore(), h = _e(c, function (d) { return u.getDimensionIndex(d) }, u); u.filterSelf(function (d) { for (var v, p, g, m = 0; m < c.length; m++) { var y = f.get(h[m], d), _ = !isNaN(y), b = y < o[0], x = y > o[1]; if (_ && !b && !x) return !0; _ && (g = !0), b && (v = !0), x && (p = !0) } return g && v && p }) } else Uf(c, function (d) { if (i === "empty") l.setData(u = u.map(d, function (p) { return s(p) ? p : NaN })); else { var v = {}; v[d] = o, u.selectRange(v) } }); Uf(c, function (d) { u.setApproximateExtent(o, d) }) } }); function s(l) { return l >= o[0] && l <= o[1] } }, t.prototype._updateMinMaxSpan = function () { var e = this._minMaxSpan = {}, r = this._dataZoomModel, n = this._dataExtent; Uf(["min", "max"], function (a) { var i = r.get(a + "Span"), o = r.get(a + "ValueSpan"); o != null && (o = this.getAxisModel().axis.scale.parse(o)), o != null ? i = sr(n[0] + o, n, [0, 100], !0) : i != null && (o = sr(i, [0, 100], n, !0) - n[0]), e[a + "Span"] = i, e[a + "ValueSpan"] = o }, this) }, t.prototype._setAxisModel = function () { var e = this.getAxisModel(), r = this._percentWindow, n = this._valueWindow; if (r) { var a = sF(n, [0, 500]); a = Math.min(a, 20); var i = e.axis.scale.rawExtentInfo; r[0] !== 0 && i.setDeterminedMinMax("min", +n[0].toFixed(a)), r[1] !== 100 && i.setDeterminedMinMax("max", +n[1].toFixed(a)), i.freeze() } }, t }(); function nCe(t, e, r) { var n = [1 / 0, -1 / 0]; Uf(r, function (o) { mme(n, o.getData(), e) }); var a = t.getAxisModel(), i = vV(a.axis.scale, a, n).calculate(); return [i.min, i.max] } const aCe = rCe; var iCe = { getTargetSeries: function (t) { function e(a) { t.eachComponent("dataZoom", function (i) { i.eachTargetAxis(function (o, s) { var l = t.getComponent(Ll(o), s); a(o, s, l, i) }) }) } e(function (a, i, o, s) { o.__dzAxisProxy = null }); var r = []; e(function (a, i, o, s) { o.__dzAxisProxy || (o.__dzAxisProxy = new aCe(a, i, s, t), r.push(o.__dzAxisProxy)) }); var n = He(); return E(r, function (a) { E(a.getTargetSeriesModels(), function (i) { n.set(i.uid, i) }) }), n }, overallReset: function (t, e) { t.eachComponent("dataZoom", function (r) { r.eachTargetAxis(function (n, a) { r.getAxisProxy(n, a).reset(r) }), r.eachTargetAxis(function (n, a) { r.getAxisProxy(n, a).filterData(r, e) }) }), t.eachComponent("dataZoom", function (r) { var n = r.findRepresentativeAxisProxy(); if (n) { var a = n.getDataPercentWindow(), i = n.getDataValueWindow(); r.setCalculatedRange({ start: a[0], end: a[1], startValue: i[0], endValue: i[1] }) } }) } }; const oCe = iCe; function sCe(t) { t.registerAction("dataZoom", function (e, r) { var n = qDe(r, e); E(n, function (a) { a.setRawRange({ start: e.start, end: e.end, startValue: e.startValue, endValue: e.endValue }) }) }) } var $3 = !1; function BM(t) { $3 || ($3 = !0, t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER, oCe), sCe(t), t.registerSubTypeDefaulter("dataZoom", function () { return "slider" })) } function lCe(t) { t.registerComponentModel(QDe), t.registerComponentView(tCe), BM(t) } var li = function () { function t() { } return t }(), V9 = {}; function Wf(t, e) { V9[t] = e } function z9(t) { return V9[t] } var uCe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.optionUpdated = function () { t.prototype.optionUpdated.apply(this, arguments); var r = this.ecModel; E(this.option.feature, function (n, a) { var i = z9(a); i && (i.getDefaultOption && (i.defaultOption = i.getDefaultOption(r)), bt(n, i.defaultOption)) }) }, e.type = "toolbox", e.layoutMode = { type: "box", ignoreSize: !0 }, e.defaultOption = { show: !0, z: 6, orient: "horizontal", left: "right", top: "top", backgroundColor: "transparent", borderColor: "#ccc", borderRadius: 0, borderWidth: 0, padding: 5, itemSize: 15, itemGap: 8, showTitle: !0, iconStyle: { borderColor: "#666", color: "none" }, emphasis: { iconStyle: { borderColor: "#3E98C5" } }, tooltip: { show: !1, position: "bottom" } }, e }(Yt); const cCe = uCe; function fCe(t, e, r) { var n = e.getBoxLayoutParams(), a = e.get("padding"), i = { width: r.getWidth(), height: r.getHeight() }, o = bn(n, i, a); Mc(e.get("orient"), t, e.get("itemGap"), o.width, o.height), l1(t, n, i, a) } function H9(t, e) { var r = Zh(e.get("padding")), n = e.getItemStyle(["color", "opacity"]); return n.fill = e.get("backgroundColor"), t = new Bt({ shape: { x: t.x - r[3], y: t.y - r[0], width: t.width + r[1] + r[3], height: t.height + r[0] + r[2], r: e.get("borderRadius") }, style: n, silent: !0, z2: -1 }), t } var hCe = function (t) { ae(e, t); function e() { return t !== null && t.apply(this, arguments) || this } return e.prototype.render = function (r, n, a, i) { var o = this.group; if (o.removeAll(), !r.get("show")) return; var s = +r.get("itemSize"), l = r.get("orient") === "vertical", u = r.get("feature") || {}, c = this._features || (this._features = {}), f = []; E(u, function (v, p) { f.push(p) }), new Os(this._featureNames || [], f).add(h).update(h).remove(ut(h, null)).execute(), this._featureNames = f; function h(v, p) { var g = f[v], m = f[p], y = u[g], _ = new kr(y, r, r.ecModel), b; if (i && i.newTitle != null && i.featureName === g && (y.title = i.newTitle), g && !m) { if (dCe(g)) b = { onclick: _.option.onclick, featureName: g }; else { var x = z9(g); if (!x) return; b = new x } c[g] = b } else if (b = c[m], !b) return; b.uid = jh("toolbox-feature"), b.model = _, b.ecModel = n, b.api = a; var S = b instanceof li; if (!g && m) { S && b.dispose && b.dispose(n, a); return } if (!_.get("show") || S && b.unusable) { S && b.remove && b.remove(n, a); return } d(_, b, g), _.setIconStatus = function (T, C) { var M = this.option, k = this.iconPaths; M.iconStatus = M.iconStatus || {}, M.iconStatus[T] = C, k[T] && (C === "emphasis" ? Ps : Rs)(k[T]) }, b instanceof li && b.render && b.render(_, n, a, i) } function d(v, p, g) { var m = v.getModel("iconStyle"), y = v.getModel(["emphasis", "iconStyle"]), _ = p instanceof li && p.getIcons ? p.getIcons() : v.get("icon"), b = v.get("title") || {}, x, S; Oe(_) ? (x = {}, x[g] = _) : x = _, Oe(b) ? (S = {}, S[g] = b) : S = b; var T = v.iconPaths = {}; E(x, function (C, M) { var k = rg(C, {}, { x: -s / 2, y: -s / 2, width: s, height: s }); k.setStyle(m.getItemStyle()); var A = k.ensureState("emphasis"); A.style = y.getItemStyle(); var R = new Wt({ style: { text: S[M], align: y.get("textAlign"), borderRadius: y.get("textBorderRadius"), padding: y.get("textPadding"), fill: null }, ignore: !0 }); k.setTextContent(R), Wh({ el: k, componentModel: r, itemName: M, formatterParamsExtra: { title: S[M] } }), k.__title = S[M], k.on("mouseover", function () { var N = y.getItemStyle(), z = l ? r.get("right") == null && r.get("left") !== "right" ? "right" : "left" : r.get("bottom") == null && r.get("top") !== "bottom" ? "bottom" : "top"; R.setStyle({ fill: y.get("textFill") || N.fill || N.stroke || "#000", backgroundColor: y.get("textBackgroundColor") }), k.setTextConfig({ position: y.get("textPosition") || z }), R.ignore = !r.get("showTitle"), a.enterEmphasis(this) }).on("mouseout", function () { v.get(["iconStatus", M]) !== "emphasis" && a.leaveEmphasis(this), R.hide() }), (v.get(["iconStatus", M]) === "emphasis" ? Ps : Rs)(k), o.add(k), k.on("click", $e(p.onclick, p, n, a, M)), T[M] = k }) } fCe(o, r, a), o.add(H9(o.getBoundingRect(), r)), l || o.eachChild(function (v) { var p = v.__title, g = v.ensureState("emphasis"), m = g.textConfig || (g.textConfig = {}), y = v.getTextContent(), _ = y && y.ensureState("emphasis"); if (_ && !je(_) && p) { var b = _.style || (_.style = {}), x = Kp(p, Wt.makeFont(b)), S = v.x + o.x, T = v.y + o.y + s, C = !1; T + x.height > a.getHeight() && (m.position = "top", C = !0); var M = C ? -5 - x.height : s + 10; S + x.width / 2 > a.getWidth() ? (m.position = ["100%", M], b.align = "right") : S - x.width / 2 < 0 && (m.position = [0, M], b.align = "left") } }) }, e.prototype.updateView = function (r, n, a, i) { E(this._features, function (o) { o instanceof li && o.updateView && o.updateView(o.model, n, a, i) }) }, e.prototype.remove = function (r, n) { E(this._features, function (a) { a instanceof li && a.remove && a.remove(r, n) }), this.group.removeAll() }, e.prototype.dispose = function (r, n) { E(this._features, function (a) { a instanceof li && a.dispose && a.dispose(r, n) }) }, e.type = "toolbox", e }(Kr); function dCe(t) { return t.indexOf("my") === 0 } const vCe = hCe; var pCe = function (t) { ae(e, t); function e() { return t !== null && t.apply(this, arguments) || this } return e.prototype.onclick = function (r, n) { var a = this.model, i = a.get("name") || r.get("title.0.text") || "echarts", o = n.getZr().painter.getType() === "svg", s = o ? "svg" : a.get("type", !0) || "png", l = n.getConnectedDataURL({ type: s, backgroundColor: a.get("backgroundColor", !0) || r.get("backgroundColor") || "#fff", connectedBackgroundColor: a.get("connectedBackgroundColor"), excludeComponents: a.get("excludeComponents"), pixelRatio: a.get("pixelRatio") }), u = Ut.browser; if (je(MouseEvent) && (u.newEdge || !u.ie && !u.edge)) { var c = document.createElement("a"); c.download = i + "." + s, c.target = "_blank", c.href = l; var f = new MouseEvent("click", { view: document.defaultView, bubbles: !0, cancelable: !1 }); c.dispatchEvent(f) } else if (window.navigator.msSaveOrOpenBlob || o) { var h = l.split(","), d = h[0].indexOf("base64") > -1, v = o ? decodeURIComponent(h[1]) : h[1]; d && (v = window.atob(v)); var p = i + "." + s; if (window.navigator.msSaveOrOpenBlob) { for (var g = v.length, m = new Uint8Array(g); g--;)m[g] = v.charCodeAt(g); var y = new Blob([m]); window.navigator.msSaveOrOpenBlob(y, p) } else { var _ = document.createElement("iframe"); document.body.appendChild(_); var b = _.contentWindow, x = b.document; x.open("image/svg+xml", "replace"), x.write(v), x.close(), b.focus(), x.execCommand("SaveAs", !0, p), document.body.removeChild(_) } } else { var S = a.get("lang"), T = '<body style="margin:0;"><img src="' + l + '" style="max-width:100%;" title="' + (S && S[0] || "") + '" /></body>', C = window.open(); C.document.write(T), C.document.title = i } }, e.getDefaultOption = function (r) { var n = { show: !0, icon: "M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0", title: r.getLocaleModel().get(["toolbox", "saveAsImage", "title"]), type: "png", connectedBackgroundColor: "#fff", name: "", excludeComponents: ["toolbox"], lang: r.getLocaleModel().get(["toolbox", "saveAsImage", "lang"]) }; return n }, e }(li); const gCe = pCe; var F3 = "__ec_magicType_stack__", mCe = [["line", "bar"], ["stack"]], yCe = function (t) { ae(e, t); function e() { return t !== null && t.apply(this, arguments) || this } return e.prototype.getIcons = function () { var r = this.model, n = r.get("icon"), a = {}; return E(r.get("type"), function (i) { n[i] && (a[i] = n[i]) }), a }, e.getDefaultOption = function (r) { var n = { show: !0, type: [], icon: { line: "M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4", bar: "M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7", stack: "M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z" }, title: r.getLocaleModel().get(["toolbox", "magicType", "title"]), option: {}, seriesIndex: {} }; return n }, e.prototype.onclick = function (r, n, a) { var i = this.model, o = i.get(["seriesIndex", a]); if (B3[a]) { var s = { series: [] }, l = function (f) { var h = f.subType, d = f.id, v = B3[a](h, d, f, i); v && (Xe(v, f.option), s.series.push(v)); var p = f.coordinateSystem; if (p && p.type === "cartesian2d" && (a === "line" || a === "bar")) { var g = p.getAxesByScale("ordinal")[0]; if (g) { var m = g.dim, y = m + "Axis", _ = f.getReferringComponents(y, dn).models[0], b = _.componentIndex; s[y] = s[y] || []; for (var x = 0; x <= b; x++)s[y][b] = s[y][b] || {}; s[y][b].boundaryGap = a === "bar" } } }; E(mCe, function (f) { Ct(f, a) >= 0 && E(f, function (h) { i.setIconStatus(h, "normal") }) }), i.setIconStatus(a, "emphasis"), r.eachComponent({ mainType: "series", query: o == null ? null : { seriesIndex: o } }, l); var u, c = a; a === "stack" && (u = bt({ stack: i.option.title.tiled, tiled: i.option.title.stack }, i.option.title), i.get(["iconStatus", a]) !== "emphasis" && (c = "tiled")), n.dispatchAction({ type: "changeMagicType", currentType: c, newOption: s, newTitle: u, featureName: "magicType" }) } }, e }(li), B3 = { line: function (t, e, r, n) { if (t === "bar") return bt({ id: e, type: "line", data: r.get("data"), stack: r.get("stack"), markPoint: r.get("markPoint"), markLine: r.get("markLine") }, n.get(["option", "line"]) || {}, !0) }, bar: function (t, e, r, n) { if (t === "line") return bt({ id: e, type: "bar", data: r.get("data"), stack: r.get("stack"), markPoint: r.get("markPoint"), markLine: r.get("markLine") }, n.get(["option", "bar"]) || {}, !0) }, stack: function (t, e, r, n) { var a = r.get("stack") === F3; if (t === "line" || t === "bar") return n.setIconStatus("stack", a ? "normal" : "emphasis"), bt({ id: e, stack: a ? "" : F3 }, n.get(["option", "stack"]) || {}, !0) } }; Uo({ type: "changeMagicType", event: "magicTypeChanged", update: "prepareAndUpdate" }, function (t, e) { e.mergeOption(t.newOption) }); const _Ce = yCe; var T1 = new Array(60).join("-"), Rh = "	"; function bCe(t) { var e = {}, r = [], n = []; return t.eachRawSeries(function (a) { var i = a.coordinateSystem; if (i && (i.type === "cartesian2d" || i.type === "polar")) { var o = i.getBaseAxis(); if (o.type === "category") { var s = o.dim + "_" + o.index; e[s] || (e[s] = { categoryAxis: o, valueAxis: i.getOtherAxis(o), series: [] }, n.push({ axisDim: o.dim, axisIndex: o.index })), e[s].series.push(a) } else r.push(a) } else r.push(a) }), { seriesGroupByCategoryAxis: e, other: r, meta: n } } function wCe(t) {
    var e = []; return E(t, function (r, n) {
        var a = r.categoryAxis, i = r.valueAxis, o = i.dim, s = [" "].concat(_e(r.series, function (d) { return d.name })), l = [a.model.getCategories()]; E(r.series, function (d) { var v = d.getRawData(); l.push(d.getRawData().mapArray(v.mapDimension(o), function (p) { return p })) }); for (var u = [s.join(Rh)], c = 0; c < l[0].length; c++) { for (var f = [], h = 0; h < l.length; h++)f.push(l[h][c]); u.push(f.join(Rh)) } e.push(u.join(`
`))
    }), e.join(`

`+ T1 + `

`)
} function SCe(t) {
    return _e(t, function (e) {
        var r = e.getRawData(), n = [e.name], a = []; return r.each(r.dimensions, function () { for (var i = arguments.length, o = arguments[i - 1], s = r.getName(o), l = 0; l < i - 1; l++)a[l] = arguments[l]; n.push((s ? s + Rh : "") + a.join(Rh)) }), n.join(`
`)
    }).join(`

`+ T1 + `

`)
} function xCe(t) {
    var e = bCe(t); return {
        value: hr([wCe(e.seriesGroupByCategoryAxis), SCe(e.other)], function (r) { return !!r.replace(/[\n\t\s]/g, "") }).join(`

`+ T1 + `

`), meta: e.meta
    }
} function $0(t) { return t.replace(/^\s\s*/, "").replace(/\s\s*$/, "") } function TCe(t) {
    var e = t.slice(0, t.indexOf(`
`)); if (e.indexOf(Rh) >= 0) return !0
} var _2 = new RegExp("[" + Rh + "]+", "g"); function DCe(t) { for (var e = t.split(/\n+/g), r = $0(e.shift()).split(_2), n = [], a = _e(r, function (l) { return { name: l, data: [] } }), i = 0; i < e.length; i++) { var o = $0(e[i]).split(_2); n.push(o.shift()); for (var s = 0; s < o.length; s++)a[s] && (a[s].data[i] = o[s]) } return { series: a, categories: n } } function CCe(t) { for (var e = t.split(/\n+/g), r = $0(e.shift()), n = [], a = 0; a < e.length; a++) { var i = $0(e[a]); if (i) { var o = i.split(_2), s = "", l = void 0, u = !1; isNaN(o[0]) ? (u = !0, s = o[0], o = o.slice(1), n[a] = { name: s, value: [] }, l = n[a].value) : l = n[a] = []; for (var c = 0; c < o.length; c++)l.push(+o[c]); l.length === 1 && (u ? n[a].value = l[0] : n[a] = l[0]) } } return { name: r, data: n } } function MCe(t, e) {
    var r = t.split(new RegExp(`
*`+ T1 + `
*`, "g")), n = { series: [] }; return E(r, function (a, i) { if (TCe(a)) { var o = DCe(a), s = e[i], l = s.axisDim + "Axis"; s && (n[l] = n[l] || [], n[l][s.axisIndex] = { data: o.categories }, n.series = n.series.concat(o.series)) } else { var o = CCe(a); n.series.push(o) } }), n
} var kCe = function (t) { ae(e, t); function e() { return t !== null && t.apply(this, arguments) || this } return e.prototype.onclick = function (r, n) { setTimeout(function () { n.dispatchAction({ type: "hideTip" }) }); var a = n.getDom(), i = this.model; this._dom && a.removeChild(this._dom); var o = document.createElement("div"); o.style.cssText = "position:absolute;top:0;bottom:0;left:0;right:0;padding:5px", o.style.backgroundColor = i.get("backgroundColor") || "#fff"; var s = document.createElement("h4"), l = i.get("lang") || []; s.innerHTML = l[0] || i.get("title"), s.style.cssText = "margin:10px 20px", s.style.color = i.get("textColor"); var u = document.createElement("div"), c = document.createElement("textarea"); u.style.cssText = "overflow:auto"; var f = i.get("optionToContent"), h = i.get("contentToOption"), d = xCe(r); if (je(f)) { var v = f(n.getOption()); Oe(v) ? u.innerHTML = v : ap(v) && u.appendChild(v) } else { c.readOnly = i.get("readOnly"); var p = c.style; p.cssText = "display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none", p.color = i.get("textColor"), p.borderColor = i.get("textareaBorderColor"), p.backgroundColor = i.get("textareaColor"), c.value = d.value, u.appendChild(c) } var g = d.meta, m = document.createElement("div"); m.style.cssText = "position:absolute;bottom:5px;left:0;right:0"; var y = "float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px", _ = document.createElement("div"), b = document.createElement("div"); y += ";background-color:" + i.get("buttonColor"), y += ";color:" + i.get("buttonTextColor"); var x = this; function S() { a.removeChild(o), x._dom = null } nT(_, "click", S), nT(b, "click", function () { if (h == null && f != null || h != null && f == null) { S(); return } var T; try { je(h) ? T = h(u, n.getOption()) : T = MCe(c.value, g) } catch (C) { throw S(), new Error("Data view format error " + C) } T && n.dispatchAction({ type: "changeDataView", newOption: T }), S() }), _.innerHTML = l[1], b.innerHTML = l[2], b.style.cssText = _.style.cssText = y, !i.get("readOnly") && m.appendChild(b), m.appendChild(_), o.appendChild(s), o.appendChild(u), o.appendChild(m), u.style.height = a.clientHeight - 80 + "px", a.appendChild(o), this._dom = o }, e.prototype.remove = function (r, n) { this._dom && n.getDom().removeChild(this._dom) }, e.prototype.dispose = function (r, n) { this.remove(r, n) }, e.getDefaultOption = function (r) { var n = { show: !0, readOnly: !1, optionToContent: null, contentToOption: null, icon: "M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28", title: r.getLocaleModel().get(["toolbox", "dataView", "title"]), lang: r.getLocaleModel().get(["toolbox", "dataView", "lang"]), backgroundColor: "#fff", textColor: "#000", textareaColor: "#fff", textareaBorderColor: "#333", buttonColor: "#c23531", buttonTextColor: "#fff" }; return n }, e }(li); function ACe(t, e) { return _e(t, function (r, n) { var a = e && e[n]; if (Qe(a) && !me(a)) { var i = Qe(r) && !me(r); i || (r = { value: r }); var o = a.name != null && r.name == null; return r = Xe(r, a), o && delete r.name, r } else return r }) } Uo({ type: "changeDataView", event: "dataViewChanged", update: "prepareAndUpdate" }, function (t, e) { var r = []; E(t.newOption.series, function (n) { var a = e.getSeriesByName(n.name)[0]; if (!a) r.push(he({ type: "scatter" }, n)); else { var i = a.get("data"); r.push({ name: n.name, data: ACe(n.data, i) }) } }), e.mergeOption(Xe({ series: r }, t.newOption)) }); const LCe = kCe; var Y9 = E, U9 = zt(); function ICe(t, e) { var r = VM(t); Y9(e, function (n, a) { for (var i = r.length - 1; i >= 0; i--) { var o = r[i]; if (o[a]) break } if (i < 0) { var s = t.queryComponents({ mainType: "dataZoom", subType: "select", id: a })[0]; if (s) { var l = s.getPercentRange(); r[0][a] = { dataZoomId: a, start: l[0], end: l[1] } } } }), r.push(e) } function PCe(t) { var e = VM(t), r = e[e.length - 1]; e.length > 1 && e.pop(); var n = {}; return Y9(r, function (a, i) { for (var o = e.length - 1; o >= 0; o--)if (a = e[o][i], a) { n[i] = a; break } }), n } function RCe(t) { U9(t).snapshots = null } function OCe(t) { return VM(t).length } function VM(t) { var e = U9(t); return e.snapshots || (e.snapshots = [{}]), e.snapshots } var ECe = function (t) { ae(e, t); function e() { return t !== null && t.apply(this, arguments) || this } return e.prototype.onclick = function (r, n) { RCe(r), n.dispatchAction({ type: "restore", from: this.uid }) }, e.getDefaultOption = function (r) { var n = { show: !0, icon: "M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5", title: r.getLocaleModel().get(["toolbox", "restore", "title"]) }; return n }, e }(li); Uo({ type: "restore", event: "restore", update: "prepareAndUpdate" }, function (t, e) { e.resetOption("recreate") }); const NCe = ECe; var $Ce = ["grid", "xAxis", "yAxis", "geo", "graph", "polar", "radiusAxis", "angleAxis", "bmap"], FCe = function () { function t(e, r, n) { var a = this; this._targetInfoList = []; var i = V3(r, e); E(BCe, function (o, s) { (!n || !n.include || Ct(n.include, s) >= 0) && o(i, a._targetInfoList) }) } return t.prototype.setOutputRanges = function (e, r) { return this.matchOutputRanges(e, r, function (n, a, i) { if ((n.coordRanges || (n.coordRanges = [])).push(a), !n.coordRange) { n.coordRange = a; var o = OS[n.brushType](0, i, a); n.__rangeOffset = { offset: U3[n.brushType](o.values, n.range, [1, 1]), xyMinMax: o.xyMinMax } } }), e }, t.prototype.matchOutputRanges = function (e, r, n) { E(e, function (a) { var i = this.findTargetInfo(a, r); i && i !== !0 && E(i.coordSyses, function (o) { var s = OS[a.brushType](1, o, a.range, !0); n(a, s.values, o, r) }) }, this) }, t.prototype.setInputRanges = function (e, r) { E(e, function (n) { var a = this.findTargetInfo(n, r); if (n.range = n.range || [], a && a !== !0) { n.panelId = a.panelId; var i = OS[n.brushType](0, a.coordSys, n.coordRange), o = n.__rangeOffset; n.range = o ? U3[n.brushType](i.values, o.offset, VCe(i.xyMinMax, o.xyMinMax)) : i.values } }, this) }, t.prototype.makePanelOpts = function (e, r) { return _e(this._targetInfoList, function (n) { var a = n.getPanelRect(); return { panelId: n.panelId, defaultBrushType: r ? r(n) : null, clipPath: Kz(a), isTargetByCursor: Jz(a, e, n.coordSysModel), getLinearBrushOtherExtent: Qz(a) } }) }, t.prototype.controlSeries = function (e, r, n) { var a = this.findTargetInfo(e, n); return a === !0 || a && Ct(a.coordSyses, r.coordinateSystem) >= 0 }, t.prototype.findTargetInfo = function (e, r) { for (var n = this._targetInfoList, a = V3(r, e), i = 0; i < n.length; i++) { var o = n[i], s = e.panelId; if (s) { if (o.panelId === s) return o } else for (var l = 0; l < z3.length; l++)if (z3[l](a, o)) return o } return !0 }, t }(); function b2(t) { return t[0] > t[1] && t.reverse(), t } function V3(t, e) { return Mv(t, e, { includeMainTypes: $Ce }) } var BCe = { grid: function (t, e) { var r = t.xAxisModels, n = t.yAxisModels, a = t.gridModels, i = He(), o = {}, s = {}; !r && !n && !a || (E(r, function (l) { var u = l.axis.grid.model; i.set(u.id, u), o[u.id] = !0 }), E(n, function (l) { var u = l.axis.grid.model; i.set(u.id, u), s[u.id] = !0 }), E(a, function (l) { i.set(l.id, l), o[l.id] = !0, s[l.id] = !0 }), i.each(function (l) { var u = l.coordinateSystem, c = []; E(u.getCartesians(), function (f, h) { (Ct(r, f.getAxis("x").model) >= 0 || Ct(n, f.getAxis("y").model) >= 0) && c.push(f) }), e.push({ panelId: "grid--" + l.id, gridModel: l, coordSysModel: l, coordSys: c[0], coordSyses: c, getPanelRect: H3.grid, xAxisDeclared: o[l.id], yAxisDeclared: s[l.id] }) })) }, geo: function (t, e) { E(t.geoModels, function (r) { var n = r.coordinateSystem; e.push({ panelId: "geo--" + r.id, geoModel: r, coordSysModel: r, coordSys: n, coordSyses: [n], getPanelRect: H3.geo }) }) } }, z3 = [function (t, e) { var r = t.xAxisModel, n = t.yAxisModel, a = t.gridModel; return !a && r && (a = r.axis.grid.model), !a && n && (a = n.axis.grid.model), a && a === e.gridModel }, function (t, e) { var r = t.geoModel; return r && r === e.geoModel }], H3 = { grid: function () { return this.coordSys.master.getRect().clone() }, geo: function () { var t = this.coordSys, e = t.getBoundingRect().clone(); return e.applyTransform(Cc(t)), e } }, OS = { lineX: ut(Y3, 0), lineY: ut(Y3, 1), rect: function (t, e, r, n) { var a = t ? e.pointToData([r[0][0], r[1][0]], n) : e.dataToPoint([r[0][0], r[1][0]], n), i = t ? e.pointToData([r[0][1], r[1][1]], n) : e.dataToPoint([r[0][1], r[1][1]], n), o = [b2([a[0], i[0]]), b2([a[1], i[1]])]; return { values: o, xyMinMax: o } }, polygon: function (t, e, r, n) { var a = [[1 / 0, -1 / 0], [1 / 0, -1 / 0]], i = _e(r, function (o) { var s = t ? e.pointToData(o, n) : e.dataToPoint(o, n); return a[0][0] = Math.min(a[0][0], s[0]), a[1][0] = Math.min(a[1][0], s[1]), a[0][1] = Math.max(a[0][1], s[0]), a[1][1] = Math.max(a[1][1], s[1]), s }); return { values: i, xyMinMax: a } } }; function Y3(t, e, r, n) { var a = r.getAxis(["x", "y"][t]), i = b2(_e([0, 1], function (s) { return e ? a.coordToData(a.toLocalCoord(n[s]), !0) : a.toGlobalCoord(a.dataToCoord(n[s])) })), o = []; return o[t] = i, o[1 - t] = [NaN, NaN], { values: i, xyMinMax: o } } var U3 = { lineX: ut(W3, 0), lineY: ut(W3, 1), rect: function (t, e, r) { return [[t[0][0] - r[0] * e[0][0], t[0][1] - r[0] * e[0][1]], [t[1][0] - r[1] * e[1][0], t[1][1] - r[1] * e[1][1]]] }, polygon: function (t, e, r) { return _e(t, function (n, a) { return [n[0] - r[0] * e[a][0], n[1] - r[1] * e[a][1]] }) } }; function W3(t, e, r, n) { return [e[0] - n[t] * r[0], e[1] - n[t] * r[1]] } function VCe(t, e) { var r = G3(t), n = G3(e), a = [r[0] / n[0], r[1] / n[1]]; return isNaN(a[0]) && (a[0] = 1), isNaN(a[1]) && (a[1] = 1), a } function G3(t) { return t ? [t[0][1] - t[0][0], t[1][1] - t[1][0]] : [NaN, NaN] } const zM = FCe; var w2 = E, zCe = rfe("toolbox-dataZoom_"), HCe = function (t) { ae(e, t); function e() { return t !== null && t.apply(this, arguments) || this } return e.prototype.render = function (r, n, a, i) { this._brushController || (this._brushController = new bM(a.getZr()), this._brushController.on("brush", $e(this._onBrush, this)).mount()), WCe(r, n, this, i, a), UCe(r, n) }, e.prototype.onclick = function (r, n, a) { YCe[a].call(this) }, e.prototype.remove = function (r, n) { this._brushController && this._brushController.unmount() }, e.prototype.dispose = function (r, n) { this._brushController && this._brushController.dispose() }, e.prototype._onBrush = function (r) { var n = r.areas; if (!r.isEnd || !n.length) return; var a = {}, i = this.ecModel; this._brushController.updateCovers([]); var o = new zM(HM(this.model), i, { include: ["grid"] }); o.matchOutputRanges(n, i, function (u, c, f) { if (f.type === "cartesian2d") { var h = u.brushType; h === "rect" ? (s("x", f, c[0]), s("y", f, c[1])) : s({ lineX: "x", lineY: "y" }[h], f, c) } }), ICe(i, a), this._dispatchZoomAction(a); function s(u, c, f) { var h = c.getAxis(u), d = h.model, v = l(u, d, i), p = v.findRepresentativeAxisProxy(d).getMinMaxSpan(); (p.minValueSpan != null || p.maxValueSpan != null) && (f = ef(0, f.slice(), h.scale.getExtent(), 0, p.minValueSpan, p.maxValueSpan)), v && (a[v.id] = { dataZoomId: v.id, startValue: f[0], endValue: f[1] }) } function l(u, c, f) { var h; return f.eachComponent({ mainType: "dataZoom", subType: "select" }, function (d) { var v = d.getAxisModel(u, c.componentIndex); v && (h = d) }), h } }, e.prototype._dispatchZoomAction = function (r) { var n = []; w2(r, function (a, i) { n.push(rt(a)) }), n.length && this.api.dispatchAction({ type: "dataZoom", from: this.uid, batch: n }) }, e.getDefaultOption = function (r) { var n = { show: !0, filterMode: "filter", icon: { zoom: "M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1", back: "M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26" }, title: r.getLocaleModel().get(["toolbox", "dataZoom", "title"]), brushStyle: { borderWidth: 0, color: "rgba(210,219,238,0.2)" } }; return n }, e }(li), YCe = { zoom: function () { var t = !this._isZoomActive; this.api.dispatchAction({ type: "takeGlobalCursor", key: "dataZoomSelect", dataZoomSelectActive: t }) }, back: function () { this._dispatchZoomAction(PCe(this.ecModel)) } }; function HM(t) { var e = { xAxisIndex: t.get("xAxisIndex", !0), yAxisIndex: t.get("yAxisIndex", !0), xAxisId: t.get("xAxisId", !0), yAxisId: t.get("yAxisId", !0) }; return e.xAxisIndex == null && e.xAxisId == null && (e.xAxisIndex = "all"), e.yAxisIndex == null && e.yAxisId == null && (e.yAxisIndex = "all"), e } function UCe(t, e) { t.setIconStatus("back", OCe(e) > 1 ? "emphasis" : "normal") } function WCe(t, e, r, n, a) { var i = r._isZoomActive; n && n.type === "takeGlobalCursor" && (i = n.key === "dataZoomSelect" ? n.dataZoomSelectActive : !1), r._isZoomActive = i, t.setIconStatus("zoom", i ? "emphasis" : "normal"); var o = new zM(HM(t), e, { include: ["grid"] }), s = o.makePanelOpts(a, function (l) { return l.xAxisDeclared && !l.yAxisDeclared ? "lineX" : !l.xAxisDeclared && l.yAxisDeclared ? "lineY" : "rect" }); r._brushController.setPanels(s).enableBrush(i && s.length ? { brushType: "auto", brushStyle: t.getModel("brushStyle").getItemStyle() } : !1) } Nde("dataZoom", function (t) { var e = t.getComponent("toolbox", 0), r = ["feature", "dataZoom"]; if (!e || e.get(r) == null) return; var n = e.getModel(r), a = [], i = HM(n), o = Mv(t, i); w2(o.xAxisModels, function (l) { return s(l, "xAxis", "xAxisIndex") }), w2(o.yAxisModels, function (l) { return s(l, "yAxis", "yAxisIndex") }); function s(l, u, c) { var f = l.componentIndex, h = { type: "select", $fromToolbox: !0, filterMode: n.get("filterMode", !0) || "filter", id: zCe + u + f }; h[c] = f, a.push(h) } return a }); const GCe = HCe; function jCe(t) { t.registerComponentModel(cCe), t.registerComponentView(vCe), Wf("saveAsImage", gCe), Wf("magicType", _Ce), Wf("dataView", LCe), Wf("dataZoom", GCe), Wf("restore", NCe), Dt(lCe) } var ZCe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.type = "tooltip", e.dependencies = ["axisPointer"], e.defaultOption = { z: 60, show: !0, showContent: !0, trigger: "item", triggerOn: "mousemove|click", alwaysShowContent: !1, displayMode: "single", renderMode: "auto", confine: null, showDelay: 0, hideDelay: 100, transitionDuration: .4, enterable: !1, backgroundColor: "#fff", shadowBlur: 10, shadowColor: "rgba(0, 0, 0, .2)", shadowOffsetX: 1, shadowOffsetY: 2, borderRadius: 4, borderWidth: 1, padding: null, extraCssText: "", axisPointer: { type: "line", axis: "auto", animation: "auto", animationDurationUpdate: 200, animationEasingUpdate: "exponentialOut", crossStyle: { color: "#999", width: 1, type: "dashed", textStyle: {} } }, textStyle: { color: "#666", fontSize: 14 } }, e }(Yt); const qCe = ZCe; function W9(t) { var e = t.get("confine"); return e != null ? !!e : t.get("renderMode") === "richText" } function G9(t) { if (Ut.domSupported) { for (var e = document.documentElement.style, r = 0, n = t.length; r < n; r++)if (t[r] in e) return t[r] } } var j9 = G9(["transform", "webkitTransform", "OTransform", "MozTransform", "msTransform"]), XCe = G9(["webkitTransition", "transition", "OTransition", "MozTransition", "msTransition"]); function Z9(t, e) { if (!t) return e; e = IB(e, !0); var r = t.indexOf(e); return t = r === -1 ? e : "-" + t.slice(0, r) + "-" + e, t.toLowerCase() } function KCe(t, e) { var r = t.currentStyle || document.defaultView && document.defaultView.getComputedStyle(t); return r ? e ? r[e] : r : null } var QCe = Z9(XCe, "transition"), YM = Z9(j9, "transform"), JCe = "position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;" + (Ut.transform3dSupported ? "will-change:transform;" : ""); function eMe(t) { return t = t === "left" ? "right" : t === "right" ? "left" : t === "top" ? "bottom" : "top", t } function tMe(t, e, r) { if (!Oe(r) || r === "inside") return ""; var n = t.get("backgroundColor"), a = t.get("borderWidth"); e = Fc(e); var i = eMe(r), o = Math.max(Math.round(a) * 1.5, 6), s = "", l = YM + ":", u; Ct(["left", "right"], i) > -1 ? (s += "top:50%", l += "translateY(-50%) rotate(" + (u = i === "left" ? -225 : -45) + "deg)") : (s += "left:50%", l += "translateX(-50%) rotate(" + (u = i === "top" ? 225 : 45) + "deg)"); var c = u * Math.PI / 180, f = o + a, h = f * Math.abs(Math.cos(c)) + f * Math.abs(Math.sin(c)), d = Math.round(((h - Math.SQRT2 * a) / 2 + Math.SQRT2 * a - (h - f) / 2) * 100) / 100; s += ";" + i + ":-" + d + "px"; var v = e + " solid " + a + "px;", p = ["position:absolute;width:" + o + "px;height:" + o + "px;z-index:-1;", s + ";" + l + ";", "border-bottom:" + v, "border-right:" + v, "background-color:" + n + ";"]; return '<div style="' + p.join("") + '"></div>' } function rMe(t, e) { var r = "cubic-bezier(0.23,1,0.32,1)", n = " " + t / 2 + "s " + r, a = "opacity" + n + ",visibility" + n; return e || (n = " " + t + "s " + r, a += Ut.transformSupported ? "," + YM + n : ",left" + n + ",top" + n), QCe + ":" + a } function j3(t, e, r) { var n = t.toFixed(0) + "px", a = e.toFixed(0) + "px"; if (!Ut.transformSupported) return r ? "top:" + a + ";left:" + n + ";" : [["top", a], ["left", n]]; var i = Ut.transform3dSupported, o = "translate" + (i ? "3d" : "") + "(" + n + "," + a + (i ? ",0" : "") + ")"; return r ? "top:0;left:0;" + YM + ":" + o + ";" : [["top", 0], ["left", 0], [j9, o]] } function nMe(t) { var e = [], r = t.get("fontSize"), n = t.getTextColor(); n && e.push("color:" + n), e.push("font:" + t.getFont()), r && e.push("line-height:" + Math.round(r * 3 / 2) + "px"); var a = t.get("textShadowColor"), i = t.get("textShadowBlur") || 0, o = t.get("textShadowOffsetX") || 0, s = t.get("textShadowOffsetY") || 0; return a && i && e.push("text-shadow:" + o + "px " + s + "px " + i + "px " + a), E(["decoration", "align"], function (l) { var u = t.get(l); u && e.push("text-" + l + ":" + u) }), e.join(";") } function aMe(t, e, r) { var n = [], a = t.get("transitionDuration"), i = t.get("backgroundColor"), o = t.get("shadowBlur"), s = t.get("shadowColor"), l = t.get("shadowOffsetX"), u = t.get("shadowOffsetY"), c = t.getModel("textStyle"), f = d6(t, "html"), h = l + "px " + u + "px " + o + "px " + s; return n.push("box-shadow:" + h), e && a && n.push(rMe(a, r)), i && n.push("background-color:" + i), E(["width", "color", "radius"], function (d) { var v = "border-" + d, p = IB(v), g = t.get(p); g != null && n.push(v + ":" + g + (d === "color" ? "" : "px")) }), n.push(nMe(c)), f != null && n.push("padding:" + Zh(f).join("px ") + "px"), n.join(";") + ";" } function Z3(t, e, r, n, a) { var i = e && e.painter; if (r) { var o = i && i.getViewportRoot(); o && Mue(t, o, document.body, n, a) } else { t[0] = n, t[1] = a; var s = i && i.getViewportRootOffset(); s && (t[0] += s.offsetLeft, t[1] += s.offsetTop) } t[2] = t[0] / e.getWidth(), t[3] = t[1] / e.getHeight() } var iMe = function () { function t(e, r, n) { if (this._show = !1, this._styleCoord = [0, 0, 0, 0], this._enterable = !0, this._alwaysShowContent = !1, this._firstShow = !0, this._longHide = !0, Ut.wxa) return null; var a = document.createElement("div"); a.domBelongToZr = !0, this.el = a; var i = this._zr = r.getZr(), o = this._appendToBody = n && n.appendToBody; Z3(this._styleCoord, i, o, r.getWidth() / 2, r.getHeight() / 2), o ? document.body.appendChild(a) : e.appendChild(a), this._container = e; var s = this; a.onmouseenter = function () { s._enterable && (clearTimeout(s._hideTimeout), s._show = !0), s._inContent = !0 }, a.onmousemove = function (l) { if (l = l || window.event, !s._enterable) { var u = i.handler, c = i.painter.getViewportRoot(); ti(c, l, !0), u.dispatch("mousemove", l) } }, a.onmouseleave = function () { s._inContent = !1, s._enterable && s._show && s.hideLater(s._hideDelay) } } return t.prototype.update = function (e) { var r = this._container, n = KCe(r, "position"), a = r.style; a.position !== "absolute" && n !== "absolute" && (a.position = "relative"); var i = e.get("alwaysShowContent"); i && this._moveIfResized(), this._alwaysShowContent = i, this.el.className = e.get("className") || "" }, t.prototype.show = function (e, r) { clearTimeout(this._hideTimeout), clearTimeout(this._longHideTimeout); var n = this.el, a = n.style, i = this._styleCoord; n.innerHTML ? a.cssText = JCe + aMe(e, !this._firstShow, this._longHide) + j3(i[0], i[1], !0) + ("border-color:" + Fc(r) + ";") + (e.get("extraCssText") || "") + (";pointer-events:" + (this._enterable ? "auto" : "none")) : a.display = "none", this._show = !0, this._firstShow = !1, this._longHide = !1 }, t.prototype.setContent = function (e, r, n, a, i) { var o = this.el; if (e == null) { o.innerHTML = ""; return } var s = ""; if (Oe(i) && n.get("trigger") === "item" && !W9(n) && (s = tMe(n, a, i)), Oe(e)) o.innerHTML = e + s; else if (e) { o.innerHTML = "", me(e) || (e = [e]); for (var l = 0; l < e.length; l++)ap(e[l]) && e[l].parentNode !== o && o.appendChild(e[l]); if (s && o.childNodes.length) { var u = document.createElement("div"); u.innerHTML = s, o.appendChild(u) } } }, t.prototype.setEnterable = function (e) { this._enterable = e }, t.prototype.getSize = function () { var e = this.el; return [e.offsetWidth, e.offsetHeight] }, t.prototype.moveTo = function (e, r) { var n = this._styleCoord; if (Z3(n, this._zr, this._appendToBody, e, r), n[0] != null && n[1] != null) { var a = this.el.style, i = j3(n[0], n[1]); E(i, function (o) { a[o[0]] = o[1] }) } }, t.prototype._moveIfResized = function () { var e = this._styleCoord[2], r = this._styleCoord[3]; this.moveTo(e * this._zr.getWidth(), r * this._zr.getHeight()) }, t.prototype.hide = function () { var e = this, r = this.el.style; r.visibility = "hidden", r.opacity = "0", Ut.transform3dSupported && (r.willChange = ""), this._show = !1, this._longHideTimeout = setTimeout(function () { return e._longHide = !0 }, 500) }, t.prototype.hideLater = function (e) { this._show && !(this._inContent && this._enterable) && !this._alwaysShowContent && (e ? (this._hideDelay = e, this._show = !1, this._hideTimeout = setTimeout($e(this.hide, this), e)) : this.hide()) }, t.prototype.isShow = function () { return this._show }, t.prototype.dispose = function () { this.el.parentNode.removeChild(this.el) }, t }(); const oMe = iMe; var sMe = function () { function t(e) { this._show = !1, this._styleCoord = [0, 0, 0, 0], this._alwaysShowContent = !1, this._enterable = !0, this._zr = e.getZr(), X3(this._styleCoord, this._zr, e.getWidth() / 2, e.getHeight() / 2) } return t.prototype.update = function (e) { var r = e.get("alwaysShowContent"); r && this._moveIfResized(), this._alwaysShowContent = r }, t.prototype.show = function () { this._hideTimeout && clearTimeout(this._hideTimeout), this.el.show(), this._show = !0 }, t.prototype.setContent = function (e, r, n, a, i) { var o = this; Qe(e) && Kt(""), this.el && this._zr.remove(this.el); var s = n.getModel("textStyle"); this.el = new Wt({ style: { rich: r.richTextStyles, text: e, lineHeight: 22, borderWidth: 1, borderColor: a, textShadowColor: s.get("textShadowColor"), fill: n.get(["textStyle", "color"]), padding: d6(n, "richText"), verticalAlign: "top", align: "left" }, z: n.get("z") }), E(["backgroundColor", "borderRadius", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"], function (u) { o.el.style[u] = n.get(u) }), E(["textShadowBlur", "textShadowOffsetX", "textShadowOffsetY"], function (u) { o.el.style[u] = s.get(u) || 0 }), this._zr.add(this.el); var l = this; this.el.on("mouseover", function () { l._enterable && (clearTimeout(l._hideTimeout), l._show = !0), l._inContent = !0 }), this.el.on("mouseout", function () { l._enterable && l._show && l.hideLater(l._hideDelay), l._inContent = !1 }) }, t.prototype.setEnterable = function (e) { this._enterable = e }, t.prototype.getSize = function () { var e = this.el, r = this.el.getBoundingRect(), n = q3(e.style); return [r.width + n.left + n.right, r.height + n.top + n.bottom] }, t.prototype.moveTo = function (e, r) { var n = this.el; if (n) { var a = this._styleCoord; X3(a, this._zr, e, r), e = a[0], r = a[1]; var i = n.style, o = dl(i.borderWidth || 0), s = q3(i); n.x = e + o + s.left, n.y = r + o + s.top, n.markRedraw() } }, t.prototype._moveIfResized = function () { var e = this._styleCoord[2], r = this._styleCoord[3]; this.moveTo(e * this._zr.getWidth(), r * this._zr.getHeight()) }, t.prototype.hide = function () { this.el && this.el.hide(), this._show = !1 }, t.prototype.hideLater = function (e) { this._show && !(this._inContent && this._enterable) && !this._alwaysShowContent && (e ? (this._hideDelay = e, this._show = !1, this._hideTimeout = setTimeout($e(this.hide, this), e)) : this.hide()) }, t.prototype.isShow = function () { return this._show }, t.prototype.dispose = function () { this._zr.remove(this.el) }, t }(); function dl(t) { return Math.max(0, t) } function q3(t) { var e = dl(t.shadowBlur || 0), r = dl(t.shadowOffsetX || 0), n = dl(t.shadowOffsetY || 0); return { left: dl(e - r), right: dl(e + r), top: dl(e - n), bottom: dl(e + n) } } function X3(t, e, r, n) { t[0] = r, t[1] = n, t[2] = t[0] / e.getWidth(), t[3] = t[1] / e.getHeight() } const lMe = sMe; var uMe = new Bt({ shape: { x: -1, y: -1, width: 2, height: 2 } }), cMe = function (t) {
    ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.init = function (r, n) { if (!(Ut.node || !n.getDom())) { var a = r.getComponent("tooltip"), i = this._renderMode = ufe(a.get("renderMode")); this._tooltipContent = i === "richText" ? new lMe(n) : new oMe(n.getDom(), n, { appendToBody: a.get("appendToBody", !0) }) } }, e.prototype.render = function (r, n, a) { if (!(Ut.node || !a.getDom())) { this.group.removeAll(), this._tooltipModel = r, this._ecModel = n, this._api = a; var i = this._tooltipContent; i.update(r), i.setEnterable(r.get("enterable")), this._initGlobalListener(), this._keepShow(), this._renderMode !== "richText" && r.get("transitionDuration") ? Jh(this, "_updatePosition", 50, "fixRate") : yp(this, "_updatePosition") } }, e.prototype._initGlobalListener = function () { var r = this._tooltipModel, n = r.get("triggerOn"); I9("itemTooltip", this._api, $e(function (a, i, o) { n !== "none" && (n.indexOf(a) >= 0 ? this._tryShow(i, o) : a === "leave" && this._hide(o)) }, this)) }, e.prototype._keepShow = function () { var r = this._tooltipModel, n = this._ecModel, a = this._api, i = r.get("triggerOn"); if (this._lastX != null && this._lastY != null && i !== "none" && i !== "click") { var o = this; clearTimeout(this._refreshUpdateTimeout), this._refreshUpdateTimeout = setTimeout(function () { !a.isDisposed() && o.manuallyShowTip(r, n, a, { x: o._lastX, y: o._lastY, dataByCoordSys: o._lastDataByCoordSys }) }) } }, e.prototype.manuallyShowTip = function (r, n, a, i) { if (!(i.from === this.uid || Ut.node || !a.getDom())) { var o = K3(i, a); this._ticket = ""; var s = i.dataByCoordSys, l = vMe(i, n, a); if (l) { var u = l.el.getBoundingRect().clone(); u.applyTransform(l.el.transform), this._tryShow({ offsetX: u.x + u.width / 2, offsetY: u.y + u.height / 2, target: l.el, position: i.position, positionDefault: "bottom" }, o) } else if (i.tooltip && i.x != null && i.y != null) { var c = uMe; c.x = i.x, c.y = i.y, c.update(), lt(c).tooltipConfig = { name: null, option: i.tooltip }, this._tryShow({ offsetX: i.x, offsetY: i.y, target: c }, o) } else if (s) this._tryShow({ offsetX: i.x, offsetY: i.y, position: i.position, dataByCoordSys: s, tooltipOption: i.tooltipOption }, o); else if (i.seriesIndex != null) { if (this._manuallyAxisShowTip(r, n, a, i)) return; var f = P9(i, n), h = f.point[0], d = f.point[1]; h != null && d != null && this._tryShow({ offsetX: h, offsetY: d, target: f.el, position: i.position, positionDefault: "bottom" }, o) } else i.x != null && i.y != null && (a.dispatchAction({ type: "updateAxisPointer", x: i.x, y: i.y }), this._tryShow({ offsetX: i.x, offsetY: i.y, position: i.position, target: a.getZr().findHover(i.x, i.y).target }, o)) } }, e.prototype.manuallyHideTip = function (r, n, a, i) { var o = this._tooltipContent; this._tooltipModel && o.hideLater(this._tooltipModel.get("hideDelay")), this._lastX = this._lastY = this._lastDataByCoordSys = null, i.from !== this.uid && this._hide(K3(i, a)) }, e.prototype._manuallyAxisShowTip = function (r, n, a, i) { var o = i.seriesIndex, s = i.dataIndex, l = n.getComponent("axisPointer").coordSysAxesInfo; if (!(o == null || s == null || l == null)) { var u = n.getSeriesByIndex(o); if (u) { var c = u.getData(), f = Ud([c.getItemModel(s), u, (u.coordinateSystem || {}).model], this._tooltipModel); if (f.get("trigger") === "axis") return a.dispatchAction({ type: "updateAxisPointer", seriesIndex: o, dataIndex: s, position: i.position }), !0 } } }, e.prototype._tryShow = function (r, n) { var a = r.target, i = this._tooltipModel; if (i) { this._lastX = r.offsetX, this._lastY = r.offsetY; var o = r.dataByCoordSys; if (o && o.length) this._showAxisTooltip(o, r); else if (a) { this._lastDataByCoordSys = null; var s, l; fc(a, function (u) { if (lt(u).dataIndex != null) return s = u, !0; if (lt(u).tooltipConfig != null) return l = u, !0 }, !0), s ? this._showSeriesItemTooltip(r, s, n) : l ? this._showComponentItemTooltip(r, l, n) : this._hide(n) } else this._lastDataByCoordSys = null, this._hide(n) } }, e.prototype._showOrMove = function (r, n) { var a = r.get("showDelay"); n = $e(n, this), clearTimeout(this._showTimout), a > 0 ? this._showTimout = setTimeout(n, a) : n() }, e.prototype._showAxisTooltip = function (r, n) {
        var a = this._ecModel, i = this._tooltipModel, o = [n.offsetX, n.offsetY], s = Ud([n.tooltipOption], i), l = this._renderMode, u = [], c = Rn("section", { blocks: [], noHeader: !0 }), f = [], h = new xw; E(r, function (y) { E(y.dataByAxis, function (_) { var b = a.getComponent(_.axisDim + "Axis", _.axisIndex), x = _.value; if (!(!b || x == null)) { var S = k9(x, b.axis, a, _.seriesDataIndices, _.valueLabelOpt), T = Rn("section", { header: S, noHeader: !Fi(S), sortBlocks: !0, blocks: [] }); c.blocks.push(T), E(_.seriesDataIndices, function (C) { var M = a.getSeriesByIndex(C.seriesIndex), k = C.dataIndexInside, A = M.getDataParams(k); if (!(A.dataIndex < 0)) { A.axisDim = _.axisDim, A.axisIndex = _.axisIndex, A.axisType = _.axisType, A.axisId = _.axisId, A.axisValue = jC(b.axis, { value: x }), A.axisValueLabel = S, A.marker = h.makeTooltipMarker("item", Fc(A.color), l); var R = XP(M.formatTooltip(k, !0, null)), N = R.frag; if (N) { var z = Ud([M], i).get("valueFormatter"); T.blocks.push(z ? he({ valueFormatter: z }, N) : N) } R.text && f.push(R.text), u.push(A) } }) } }) }), c.blocks.reverse(), f.reverse(); var d = n.position, v = s.get("order"), p = rR(c, h, l, v, a.get("useUTC"), s.get("textStyle")); p && f.unshift(p); var g = l === "richText" ? `

`: "<br/>", m = f.join(g); this._showOrMove(s, function () { this._updateContentNotChangedOnAxis(r, u) ? this._updatePosition(s, d, o[0], o[1], this._tooltipContent, u) : this._showTooltipContent(s, m, u, Math.random() + "", o[0], o[1], d, null, h) })
    }, e.prototype._showSeriesItemTooltip = function (r, n, a) { var i = this._ecModel, o = lt(n), s = o.seriesIndex, l = i.getSeriesByIndex(s), u = o.dataModel || l, c = o.dataIndex, f = o.dataType, h = u.getData(f), d = this._renderMode, v = r.positionDefault, p = Ud([h.getItemModel(c), u, l && (l.coordinateSystem || {}).model], this._tooltipModel, v ? { position: v } : null), g = p.get("trigger"); if (!(g != null && g !== "item")) { var m = u.getDataParams(c, f), y = new xw; m.marker = y.makeTooltipMarker("item", Fc(m.color), d); var _ = XP(u.formatTooltip(c, !1, f)), b = p.get("order"), x = p.get("valueFormatter"), S = _.frag, T = S ? rR(x ? he({ valueFormatter: x }, S) : S, y, d, b, i.get("useUTC"), p.get("textStyle")) : _.text, C = "item_" + u.name + "_" + c; this._showOrMove(p, function () { this._showTooltipContent(p, T, m, C, r.offsetX, r.offsetY, r.position, r.target, y) }), a({ type: "showTip", dataIndexInside: c, dataIndex: h.getRawIndex(c), seriesIndex: s, from: this.uid }) } }, e.prototype._showComponentItemTooltip = function (r, n, a) { var i = lt(n), o = i.tooltipConfig, s = o.option || {}; if (Oe(s)) { var l = s; s = { content: l, formatter: l } } var u = [s], c = this._ecModel.getComponent(i.componentMainType, i.componentIndex); c && u.push(c), u.push({ formatter: s.content }); var f = r.positionDefault, h = Ud(u, this._tooltipModel, f ? { position: f } : null), d = h.get("content"), v = Math.random() + "", p = new xw; this._showOrMove(h, function () { var g = rt(h.get("formatterParams") || {}); this._showTooltipContent(h, d, g, v, r.offsetX, r.offsetY, r.position, n, p) }), a({ type: "showTip", from: this.uid }) }, e.prototype._showTooltipContent = function (r, n, a, i, o, s, l, u, c) { if (this._ticket = "", !(!r.get("showContent") || !r.get("show"))) { var f = this._tooltipContent; f.setEnterable(r.get("enterable")); var h = r.get("formatter"); l = l || r.get("position"); var d = n, v = this._getNearestPoint([o, s], a, r.get("trigger"), r.get("borderColor")), p = v.color; if (h) if (Oe(h)) { var g = r.ecModel.get("useUTC"), m = me(a) ? a[0] : a, y = m && m.axisType && m.axisType.indexOf("time") >= 0; d = h, y && (d = n1(m.axisValue, d, g)), d = PB(d, a, !0) } else if (je(h)) { var _ = $e(function (b, x) { b === this._ticket && (f.setContent(x, c, r, p, l), this._updatePosition(r, l, o, s, f, a, u)) }, this); this._ticket = i, d = h(a, i, _) } else d = h; f.setContent(d, c, r, p, l), f.show(r, p), this._updatePosition(r, l, o, s, f, a, u) } }, e.prototype._getNearestPoint = function (r, n, a, i) { if (a === "axis" || me(n)) return { color: i || (this._renderMode === "html" ? "#fff" : "none") }; if (!me(n)) return { color: i || n.color || n.borderColor } }, e.prototype._updatePosition = function (r, n, a, i, o, s, l) { var u = this._api.getWidth(), c = this._api.getHeight(); n = n || r.get("position"); var f = o.getSize(), h = r.get("align"), d = r.get("verticalAlign"), v = l && l.getBoundingRect().clone(); if (l && v.applyTransform(l.transform), je(n) && (n = n([a, i], s, o.el, v, { viewSize: [u, c], contentSize: f.slice() })), me(n)) a = Ae(n[0], u), i = Ae(n[1], c); else if (Qe(n)) { var p = n; p.width = f[0], p.height = f[1]; var g = bn(p, { width: u, height: c }); a = g.x, i = g.y, h = null, d = null } else if (Oe(n) && l) { var m = dMe(n, v, f, r.get("borderWidth")); a = m[0], i = m[1] } else { var m = fMe(a, i, o, u, c, h ? null : 20, d ? null : 20); a = m[0], i = m[1] } if (h && (a -= Q3(h) ? f[0] / 2 : h === "right" ? f[0] : 0), d && (i -= Q3(d) ? f[1] / 2 : d === "bottom" ? f[1] : 0), W9(r)) { var m = hMe(a, i, o, u, c); a = m[0], i = m[1] } o.moveTo(a, i) }, e.prototype._updateContentNotChangedOnAxis = function (r, n) { var a = this._lastDataByCoordSys, i = this._cbParamsList, o = !!a && a.length === r.length; return o && E(a, function (s, l) { var u = s.dataByAxis || [], c = r[l] || {}, f = c.dataByAxis || []; o = o && u.length === f.length, o && E(u, function (h, d) { var v = f[d] || {}, p = h.seriesDataIndices || [], g = v.seriesDataIndices || []; o = o && h.value === v.value && h.axisType === v.axisType && h.axisId === v.axisId && p.length === g.length, o && E(p, function (m, y) { var _ = g[y]; o = o && m.seriesIndex === _.seriesIndex && m.dataIndex === _.dataIndex }), i && E(h.seriesDataIndices, function (m) { var y = m.seriesIndex, _ = n[y], b = i[y]; _ && b && b.data !== _.data && (o = !1) }) }) }), this._lastDataByCoordSys = r, this._cbParamsList = n, !!o }, e.prototype._hide = function (r) { this._lastDataByCoordSys = null, r({ type: "hideTip", from: this.uid }) }, e.prototype.dispose = function (r, n) { Ut.node || !n.getDom() || (yp(this, "_updatePosition"), this._tooltipContent.dispose(), g2("itemTooltip", n)) }, e.type = "tooltip", e
}(Kr); function Ud(t, e, r) { var n = e.ecModel, a; r ? (a = new kr(r, n, n), a = new kr(e.option, a, n)) : a = e; for (var i = t.length - 1; i >= 0; i--) { var o = t[i]; o && (o instanceof kr && (o = o.get("tooltip", !0)), Oe(o) && (o = { formatter: o }), o && (a = new kr(o, a, n))) } return a } function K3(t, e) { return t.dispatchAction || $e(e.dispatchAction, e) } function fMe(t, e, r, n, a, i, o) { var s = r.getSize(), l = s[0], u = s[1]; return i != null && (t + l + i + 2 > n ? t -= l + i : t += i), o != null && (e + u + o > a ? e -= u + o : e += o), [t, e] } function hMe(t, e, r, n, a) { var i = r.getSize(), o = i[0], s = i[1]; return t = Math.min(t + o, n) - o, e = Math.min(e + s, a) - s, t = Math.max(t, 0), e = Math.max(e, 0), [t, e] } function dMe(t, e, r, n) { var a = r[0], i = r[1], o = Math.ceil(Math.SQRT2 * n) + 8, s = 0, l = 0, u = e.width, c = e.height; switch (t) { case "inside": s = e.x + u / 2 - a / 2, l = e.y + c / 2 - i / 2; break; case "top": s = e.x + u / 2 - a / 2, l = e.y - i - o; break; case "bottom": s = e.x + u / 2 - a / 2, l = e.y + c + o; break; case "left": s = e.x - a - o, l = e.y + c / 2 - i / 2; break; case "right": s = e.x + u + o, l = e.y + c / 2 - i / 2 }return [s, l] } function Q3(t) { return t === "center" || t === "middle" } function vMe(t, e, r) { var n = iC(t).queryOptionMap, a = n.keys()[0]; if (!(!a || a === "series")) { var i = Qp(e, a, n.get(a), { useDefault: !1, enableAll: !1, enableNone: !1 }), o = i.models[0]; if (o) { var s = r.getViewOfComponentModel(o), l; if (s.group.traverse(function (u) { var c = lt(u).tooltipConfig; if (c && c.name === t.name) return l = u, !0 }), l) return { componentMainType: a, componentIndex: o.componentIndex, el: l } } } } const pMe = cMe; function UM(t) { Dt(mg), t.registerComponentModel(qCe), t.registerComponentView(pMe), t.registerAction({ type: "showTip", event: "showTip", update: "tooltip:manuallyShowTip" }, nn), t.registerAction({ type: "hideTip", event: "hideTip", update: "tooltip:manuallyHideTip" }, nn) } var gMe = ["rect", "polygon", "keep", "clear"]; function mMe(t, e) { var r = mr(t ? t.brush : []); if (r.length) { var n = []; E(r, function (l) { var u = l.hasOwnProperty("toolbox") ? l.toolbox : []; u instanceof Array && (n = n.concat(u)) }); var a = t && t.toolbox; me(a) && (a = a[0]), a || (a = { feature: {} }, t.toolbox = [a]); var i = a.feature || (a.feature = {}), o = i.brush || (i.brush = {}), s = o.type || (o.type = []); s.push.apply(s, n), yMe(s), e && !s.length && s.push.apply(s, gMe) } } function yMe(t) { var e = {}; E(t, function (r) { e[r] = 1 }), t.length = 0, E(e, function (r, n) { t.push(n) }) } var J3 = E; function eN(t) { if (t) { for (var e in t) if (t.hasOwnProperty(e)) return !0 } } function S2(t, e, r) { var n = {}; return J3(e, function (i) { var o = n[i] = a(); J3(t[i], function (s, l) { if (Yn.isValidType(l)) { var u = { type: l, visual: s }; r && r(u, i), o[l] = new Yn(u), l === "opacity" && (u = rt(u), u.type = "colorAlpha", o.__hidden.__alphaForOpacity = new Yn(u)) } }) }), n; function a() { var i = function () { }; i.prototype.__hidden = i.prototype; var o = new i; return o } } function q9(t, e, r) { var n; E(r, function (a) { e.hasOwnProperty(a) && eN(e[a]) && (n = !0) }), n && E(r, function (a) { e.hasOwnProperty(a) && eN(e[a]) ? t[a] = rt(e[a]) : delete t[a] }) } function _Me(t, e, r, n, a, i) { var o = {}; E(t, function (f) { var h = Yn.prepareVisualTypes(e[f]); o[f] = h }); var s; function l(f) { return NC(r, s, f) } function u(f, h) { x6(r, s, f, h) } i == null ? r.each(c) : r.each([i], c); function c(f, h) { s = i == null ? f : h; var d = r.getRawDataItem(s); if (!(d && d.visualMap === !1)) for (var v = n.call(a, f), p = e[v], g = o[v], m = 0, y = g.length; m < y; m++) { var _ = g[m]; p[_] && p[_].applyVisual(f, l, u) } } } function bMe(t, e, r, n) { var a = {}; return E(t, function (i) { var o = Yn.prepareVisualTypes(e[i]); a[i] = o }), { progress: function (o, s) { var l; n != null && (l = s.getDimensionIndex(n)); function u(x) { return NC(s, f, x) } function c(x, S) { x6(s, f, x, S) } for (var f, h = s.getStore(); (f = o.next()) != null;) { var d = s.getRawDataItem(f); if (!(d && d.visualMap === !1)) for (var v = n != null ? h.get(l, f) : f, p = r(v), g = e[p], m = a[p], y = 0, _ = m.length; y < _; y++) { var b = m[y]; g[b] && g[b].applyVisual(v, u, c) } } } } } function wMe(t) { var e = t.brushType, r = { point: function (n) { return tN[e].point(n, r, t) }, rect: function (n) { return tN[e].rect(n, r, t) } }; return r } var tN = { lineX: rN(0), lineY: rN(1), rect: { point: function (t, e, r) { return t && r.boundingRect.contain(t[0], t[1]) }, rect: function (t, e, r) { return t && r.boundingRect.intersect(t) } }, polygon: { point: function (t, e, r) { return t && r.boundingRect.contain(t[0], t[1]) && nc(r.range, t[0], t[1]) }, rect: function (t, e, r) { var n = r.range; if (!t || n.length <= 1) return !1; var a = t.x, i = t.y, o = t.width, s = t.height, l = n[0]; if (nc(n, a, i) || nc(n, a + o, i) || nc(n, a, i + s) || nc(n, a + o, i + s) || wt.create(t).contain(l[0], l[1]) || ov(a, i, a + o, i, n) || ov(a, i, a, i + s, n) || ov(a + o, i, a + o, i + s, n) || ov(a, i + s, a + o, i + s, n)) return !0 } } }; function rN(t) { var e = ["x", "y"], r = ["width", "height"]; return { point: function (n, a, i) { if (n) { var o = i.range, s = n[t]; return Wd(s, o) } }, rect: function (n, a, i) { if (n) { var o = i.range, s = [n[e[t]], n[e[t]] + n[r[t]]]; return s[1] < s[0] && s.reverse(), Wd(s[0], o) || Wd(s[1], o) || Wd(o[0], s) || Wd(o[1], s) } } } } function Wd(t, e) { return e[0] <= t && t <= e[1] } var nN = ["inBrush", "outOfBrush"], ES = "__ecBrushSelect", x2 = "__ecInBrushSelectEvent"; function X9(t) { t.eachComponent({ mainType: "brush" }, function (e) { var r = e.brushTargetManager = new zM(e.option, t); r.setInputRanges(e.areas, t) }) } function SMe(t, e, r) { var n = [], a, i; t.eachComponent({ mainType: "brush" }, function (o) { r && r.type === "takeGlobalCursor" && o.setBrushOption(r.key === "brush" ? r.brushOption : { brushType: !1 }) }), X9(t), t.eachComponent({ mainType: "brush" }, function (o, s) { var l = { brushId: o.id, brushIndex: s, brushName: o.name, areas: rt(o.areas), selected: [] }; n.push(l); var u = o.option, c = u.brushLink, f = [], h = [], d = [], v = !1; s || (a = u.throttleType, i = u.throttleDelay); var p = _e(o.areas, function (x) { var S = CMe[x.brushType], T = Xe({ boundingRect: S ? S(x) : void 0 }, x); return T.selectors = wMe(T), T }), g = S2(o.option, nN, function (x) { x.mappingMethod = "fixed" }); me(c) && E(c, function (x) { f[x] = 1 }); function m(x) { return c === "all" || !!f[x] } function y(x) { return !!x.length } t.eachSeries(function (x, S) { var T = d[S] = []; x.subType === "parallel" ? _(x, S) : b(x, S, T) }); function _(x, S) { var T = x.coordinateSystem; v = v || T.hasAxisBrushed(), m(S) && T.eachActiveState(x.getData(), function (C, M) { C === "active" && (h[M] = 1) }) } function b(x, S, T) { if (!(!x.brushSelector || DMe(o, S)) && (E(p, function (M) { o.brushTargetManager.controlSeries(M, x, t) && T.push(M), v = v || y(T) }), m(S) && y(T))) { var C = x.getData(); C.each(function (M) { aN(x, T, C, M) && (h[M] = 1) }) } } t.eachSeries(function (x, S) { var T = { seriesId: x.id, seriesIndex: S, seriesName: x.name, dataIndex: [] }; l.selected.push(T); var C = d[S], M = x.getData(), k = m(S) ? function (A) { return h[A] ? (T.dataIndex.push(M.getRawIndex(A)), "inBrush") : "outOfBrush" } : function (A) { return aN(x, C, M, A) ? (T.dataIndex.push(M.getRawIndex(A)), "inBrush") : "outOfBrush" }; (m(S) ? v : y(C)) && _Me(nN, g, M, k) }) }), xMe(e, a, i, n, r) } function xMe(t, e, r, n, a) { if (a) { var i = t.getZr(); if (!i[x2]) { i[ES] || (i[ES] = TMe); var o = Jh(i, ES, r, e); o(t, n) } } } function TMe(t, e) { if (!t.isDisposed()) { var r = t.getZr(); r[x2] = !0, t.dispatchAction({ type: "brushSelect", batch: e }), r[x2] = !1 } } function aN(t, e, r, n) { for (var a = 0, i = e.length; a < i; a++) { var o = e[a]; if (t.brushSelector(n, r, o.selectors, o)) return !0 } } function DMe(t, e) { var r = t.option.seriesIndex; return r != null && r !== "all" && (me(r) ? Ct(r, e) < 0 : e !== r) } var CMe = { rect: function (t) { return iN(t.range) }, polygon: function (t) { for (var e, r = t.range, n = 0, a = r.length; n < a; n++) { e = e || [[1 / 0, -1 / 0], [1 / 0, -1 / 0]]; var i = r[n]; i[0] < e[0][0] && (e[0][0] = i[0]), i[0] > e[0][1] && (e[0][1] = i[0]), i[1] < e[1][0] && (e[1][0] = i[1]), i[1] > e[1][1] && (e[1][1] = i[1]) } return e && iN(e) } }; function iN(t) { return new wt(t[0][0], t[1][0], t[0][1] - t[0][0], t[1][1] - t[1][0]) } var MMe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.init = function (r, n) { this.ecModel = r, this.api = n, this.model, (this._brushController = new bM(n.getZr())).on("brush", $e(this._onBrush, this)).mount() }, e.prototype.render = function (r, n, a, i) { this.model = r, this._updateController(r, n, a, i) }, e.prototype.updateTransform = function (r, n, a, i) { X9(n), this._updateController(r, n, a, i) }, e.prototype.updateVisual = function (r, n, a, i) { this.updateTransform(r, n, a, i) }, e.prototype.updateView = function (r, n, a, i) { this._updateController(r, n, a, i) }, e.prototype._updateController = function (r, n, a, i) { (!i || i.$from !== r.id) && this._brushController.setPanels(r.brushTargetManager.makePanelOpts(a)).enableBrush(r.brushOption).updateCovers(r.areas.slice()) }, e.prototype.dispose = function () { this._brushController.dispose() }, e.prototype._onBrush = function (r) { var n = this.model.id, a = this.model.brushTargetManager.setOutputRanges(r.areas, this.ecModel); (!r.isEnd || r.removeOnClick) && this.api.dispatchAction({ type: "brush", brushId: n, areas: rt(a), $from: n }), r.isEnd && this.api.dispatchAction({ type: "brushEnd", brushId: n, areas: rt(a), $from: n }) }, e.type = "brush", e }(Kr); const kMe = MMe; var AMe = "#ddd", LMe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.areas = [], r.brushOption = {}, r } return e.prototype.optionUpdated = function (r, n) { var a = this.option; !n && q9(a, r, ["inBrush", "outOfBrush"]); var i = a.inBrush = a.inBrush || {}; a.outOfBrush = a.outOfBrush || { color: AMe }, i.hasOwnProperty("liftZ") || (i.liftZ = 5) }, e.prototype.setAreas = function (r) { r && (this.areas = _e(r, function (n) { return oN(this.option, n) }, this)) }, e.prototype.setBrushOption = function (r) { this.brushOption = oN(this.option, r), this.brushType = this.brushOption.brushType }, e.type = "brush", e.dependencies = ["geo", "grid", "xAxis", "yAxis", "parallel", "series"], e.defaultOption = { seriesIndex: "all", brushType: "rect", brushMode: "single", transformable: !0, brushStyle: { borderWidth: 1, color: "rgba(210,219,238,0.3)", borderColor: "#D2DBEE" }, throttleType: "fixRate", throttleDelay: 0, removeOnClick: !0, z: 1e4 }, e }(Yt); function oN(t, e) { return bt({ brushType: t.brushType, brushMode: t.brushMode, transformable: t.transformable, brushStyle: new kr(t.brushStyle).getItemStyle(), removeOnClick: t.removeOnClick, z: t.z }, e, !0) } const IMe = LMe; var PMe = ["rect", "polygon", "lineX", "lineY", "keep", "clear"], RMe = function (t) { ae(e, t); function e() { return t !== null && t.apply(this, arguments) || this } return e.prototype.render = function (r, n, a) { var i, o, s; n.eachComponent({ mainType: "brush" }, function (l) { i = l.brushType, o = l.brushOption.brushMode || "single", s = s || !!l.areas.length }), this._brushType = i, this._brushMode = o, E(r.get("type", !0), function (l) { r.setIconStatus(l, (l === "keep" ? o === "multiple" : l === "clear" ? s : l === i) ? "emphasis" : "normal") }) }, e.prototype.updateView = function (r, n, a) { this.render(r, n, a) }, e.prototype.getIcons = function () { var r = this.model, n = r.get("icon", !0), a = {}; return E(r.get("type", !0), function (i) { n[i] && (a[i] = n[i]) }), a }, e.prototype.onclick = function (r, n, a) { var i = this._brushType, o = this._brushMode; a === "clear" ? (n.dispatchAction({ type: "axisAreaSelect", intervals: [] }), n.dispatchAction({ type: "brush", command: "clear", areas: [] })) : n.dispatchAction({ type: "takeGlobalCursor", key: "brush", brushOption: { brushType: a === "keep" ? i : i === a ? !1 : a, brushMode: a === "keep" ? o === "multiple" ? "single" : "multiple" : o } }) }, e.getDefaultOption = function (r) { var n = { show: !0, type: PMe.slice(), icon: { rect: "M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13", polygon: "M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2", lineX: "M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4", lineY: "M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4", keep: "M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z", clear: "M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2" }, title: r.getLocaleModel().get(["toolbox", "brush", "title"]) }; return n }, e }(li); const OMe = RMe; function EMe(t) { t.registerComponentView(kMe), t.registerComponentModel(IMe), t.registerPreprocessor(mMe), t.registerVisual(t.PRIORITY.VISUAL.BRUSH, SMe), t.registerAction({ type: "brush", event: "brush", update: "updateVisual" }, function (e, r) { r.eachComponent({ mainType: "brush", query: e }, function (n) { n.setAreas(e.areas) }) }), t.registerAction({ type: "brushSelect", event: "brushSelected", update: "none" }, nn), t.registerAction({ type: "brushEnd", event: "brushEnd", update: "none" }, nn), Wf("brush", OMe) } var NMe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.layoutMode = { type: "box", ignoreSize: !0 }, r } return e.type = "title", e.defaultOption = { z: 6, show: !0, text: "", target: "blank", subtext: "", subtarget: "blank", left: 0, top: 0, backgroundColor: "rgba(0,0,0,0)", borderColor: "#ccc", borderWidth: 0, padding: 5, itemGap: 10, textStyle: { fontSize: 18, fontWeight: "bold", color: "#464646" }, subtextStyle: { fontSize: 12, color: "#6E7079" } }, e }(Yt), $Me = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.render = function (r, n, a) { if (this.group.removeAll(), !!r.get("show")) { var i = this.group, o = r.getModel("textStyle"), s = r.getModel("subtextStyle"), l = r.get("textAlign"), u = _t(r.get("textBaseline"), r.get("textVerticalAlign")), c = new Wt({ style: Mr(o, { text: r.get("text"), fill: o.getTextColor() }, { disableBox: !0 }), z2: 10 }), f = c.getBoundingRect(), h = r.get("subtext"), d = new Wt({ style: Mr(s, { text: h, fill: s.getTextColor(), y: f.height + r.get("itemGap"), verticalAlign: "top" }, { disableBox: !0 }), z2: 10 }), v = r.get("link"), p = r.get("sublink"), g = r.get("triggerEvent", !0); c.silent = !v && !g, d.silent = !p && !g, v && c.on("click", function () { d0(v, "_" + r.get("target")) }), p && d.on("click", function () { d0(p, "_" + r.get("subtarget")) }), lt(c).eventData = lt(d).eventData = g ? { componentType: "title", componentIndex: r.componentIndex } : null, i.add(c), h && i.add(d); var m = i.getBoundingRect(), y = r.getBoxLayoutParams(); y.width = m.width, y.height = m.height; var _ = bn(y, { width: a.getWidth(), height: a.getHeight() }, r.get("padding")); l || (l = r.get("left") || r.get("right"), l === "middle" && (l = "center"), l === "right" ? _.x += _.width : l === "center" && (_.x += _.width / 2)), u || (u = r.get("top") || r.get("bottom"), u === "center" && (u = "middle"), u === "bottom" ? _.y += _.height : u === "middle" && (_.y += _.height / 2), u = u || "top"), i.x = _.x, i.y = _.y, i.markRedraw(); var b = { align: l, verticalAlign: u }; c.setStyle(b), d.setStyle(b), m = i.getBoundingRect(); var x = _.margin, S = r.getItemStyle(["color", "opacity"]); S.fill = r.get("backgroundColor"); var T = new Bt({ shape: { x: m.x - x[3], y: m.y - x[0], width: m.width + x[1] + x[3], height: m.height + x[0] + x[2], r: r.get("borderRadius") }, style: S, subPixelOptimize: !0, silent: !0 }); i.add(T) } }, e.type = "title", e }(Kr); function WM(t) { t.registerComponentModel(NMe), t.registerComponentView($Me) } var FMe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.layoutMode = "box", r } return e.prototype.init = function (r, n, a) { this.mergeDefaultAndTheme(r, a), this._initData() }, e.prototype.mergeOption = function (r) { t.prototype.mergeOption.apply(this, arguments), this._initData() }, e.prototype.setCurrentIndex = function (r) { r == null && (r = this.option.currentIndex); var n = this._data.count(); this.option.loop ? r = (r % n + n) % n : (r >= n && (r = n - 1), r < 0 && (r = 0)), this.option.currentIndex = r }, e.prototype.getCurrentIndex = function () { return this.option.currentIndex }, e.prototype.isIndexMax = function () { return this.getCurrentIndex() >= this._data.count() - 1 }, e.prototype.setPlayState = function (r) { this.option.autoPlay = !!r }, e.prototype.getPlayState = function () { return !!this.option.autoPlay }, e.prototype._initData = function () { var r = this.option, n = r.data || [], a = r.axisType, i = this._names = [], o; a === "category" ? (o = [], E(n, function (u, c) { var f = yn(Hh(u), ""), h; Qe(u) ? (h = rt(u), h.value = c) : h = c, o.push(h), i.push(f) })) : o = n; var s = { category: "ordinal", time: "time", value: "number" }[a] || "number", l = this._data = new ma([{ name: "value", type: s }], this); l.initData(o, i) }, e.prototype.getData = function () { return this._data }, e.prototype.getCategories = function () { if (this.get("axisType") === "category") return this._names.slice() }, e.type = "timeline", e.defaultOption = { z: 4, show: !0, axisType: "time", realtime: !0, left: "20%", top: null, right: "20%", bottom: 0, width: null, height: 40, padding: 5, controlPosition: "left", autoPlay: !1, rewind: !1, loop: !0, playInterval: 2e3, currentIndex: 0, itemStyle: {}, label: { color: "#000" }, data: [] }, e }(Yt); const sN = FMe; var K9 = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.type = "timeline.slider", e.defaultOption = su(sN.defaultOption, { backgroundColor: "rgba(0,0,0,0)", borderColor: "#ccc", borderWidth: 0, orient: "horizontal", inverse: !1, tooltip: { trigger: "item" }, symbol: "circle", symbolSize: 12, lineStyle: { show: !0, width: 2, color: "#DAE1F5" }, label: { position: "auto", show: !0, interval: "auto", rotate: 0, color: "#A4B1D7" }, itemStyle: { color: "#A4B1D7", borderWidth: 1 }, checkpointStyle: { symbol: "circle", symbolSize: 15, color: "#316bf3", borderColor: "#fff", borderWidth: 2, shadowBlur: 2, shadowOffsetX: 1, shadowOffsetY: 1, shadowColor: "rgba(0, 0, 0, 0.3)", animation: !0, animationDuration: 300, animationEasing: "quinticInOut" }, controlStyle: { show: !0, showPlayBtn: !0, showPrevBtn: !0, showNextBtn: !0, itemSize: 24, itemGap: 12, position: "left", playIcon: "path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z", stopIcon: "path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z", nextIcon: "M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z", prevIcon: "M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z", prevBtnSize: 18, nextBtnSize: 18, color: "#A4B1D7", borderColor: "#A4B1D7", borderWidth: 1 }, emphasis: { label: { show: !0, color: "#6f778d" }, itemStyle: { color: "#316BF3" }, controlStyle: { color: "#316BF3", borderColor: "#316BF3", borderWidth: 2 } }, progress: { lineStyle: { color: "#316BF3" }, itemStyle: { color: "#316BF3" }, label: { color: "#6f778d" } }, data: [] }), e }(sN); mn(K9, IC.prototype); const BMe = K9; var VMe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.type = "timeline", e }(Kr); const zMe = VMe; var HMe = function (t) { ae(e, t); function e(r, n, a, i) { var o = t.call(this, r, n, a) || this; return o.type = i || "value", o } return e.prototype.getLabelModel = function () { return this.model.getModel("label") }, e.prototype.isHorizontal = function () { return this.model.get("orient") === "horizontal" }, e }(Ji); const YMe = HMe; var NS = Math.PI, lN = zt(), UMe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.init = function (r, n) { this.api = n }, e.prototype.render = function (r, n, a) { if (this.model = r, this.api = a, this.ecModel = n, this.group.removeAll(), r.get("show", !0)) { var i = this._layout(r, a), o = this._createGroup("_mainGroup"), s = this._createGroup("_labelGroup"), l = this._axis = this._createAxis(i, r); r.formatTooltip = function (u) { var c = l.scale.getLabel({ value: u }); return Rn("nameValue", { noName: !0, value: c }) }, E(["AxisLine", "AxisTick", "Control", "CurrentPointer"], function (u) { this["_render" + u](i, o, l, r) }, this), this._renderAxisLabel(i, s, l, r), this._position(i, r) } this._doPlayStop(), this._updateTicksStatus() }, e.prototype.remove = function () { this._clearTimer(), this.group.removeAll() }, e.prototype.dispose = function () { this._clearTimer() }, e.prototype._layout = function (r, n) { var a = r.get(["label", "position"]), i = r.get("orient"), o = GMe(r, n), s; a == null || a === "auto" ? s = i === "horizontal" ? o.y + o.height / 2 < n.getHeight() / 2 ? "-" : "+" : o.x + o.width / 2 < n.getWidth() / 2 ? "+" : "-" : Oe(a) ? s = { horizontal: { top: "-", bottom: "+" }, vertical: { left: "-", right: "+" } }[i][a] : s = a; var l = { horizontal: "center", vertical: s >= 0 || s === "+" ? "left" : "right" }, u = { horizontal: s >= 0 || s === "+" ? "top" : "bottom", vertical: "middle" }, c = { horizontal: 0, vertical: NS / 2 }, f = i === "vertical" ? o.height : o.width, h = r.getModel("controlStyle"), d = h.get("show", !0), v = d ? h.get("itemSize") : 0, p = d ? h.get("itemGap") : 0, g = v + p, m = r.get(["label", "rotate"]) || 0; m = m * NS / 180; var y, _, b, x = h.get("position", !0), S = d && h.get("showPlayBtn", !0), T = d && h.get("showPrevBtn", !0), C = d && h.get("showNextBtn", !0), M = 0, k = f; x === "left" || x === "bottom" ? (S && (y = [0, 0], M += g), T && (_ = [M, 0], M += g), C && (b = [k - v, 0], k -= g)) : (S && (y = [k - v, 0], k -= g), T && (_ = [0, 0], M += g), C && (b = [k - v, 0], k -= g)); var A = [M, k]; return r.get("inverse") && A.reverse(), { viewRect: o, mainLength: f, orient: i, rotation: c[i], labelRotation: m, labelPosOpt: s, labelAlign: r.get(["label", "align"]) || l[i], labelBaseline: r.get(["label", "verticalAlign"]) || r.get(["label", "baseline"]) || u[i], playPosition: y, prevBtnPosition: _, nextBtnPosition: b, axisExtent: A, controlSize: v, controlGap: p } }, e.prototype._position = function (r, n) { var a = this._mainGroup, i = this._labelGroup, o = r.viewRect; if (r.orient === "vertical") { var s = yi(), l = o.x, u = o.y + o.height; Ro(s, s, [-l, -u]), Zc(s, s, -NS / 2), Ro(s, s, [l, u]), o = o.clone(), o.applyTransform(s) } var c = y(o), f = y(a.getBoundingRect()), h = y(i.getBoundingRect()), d = [a.x, a.y], v = [i.x, i.y]; v[0] = d[0] = c[0][0]; var p = r.labelPosOpt; if (p == null || Oe(p)) { var g = p === "+" ? 0 : 1; _(d, f, c, 1, g), _(v, h, c, 1, 1 - g) } else { var g = p >= 0 ? 0 : 1; _(d, f, c, 1, g), v[1] = d[1] + p } a.setPosition(d), i.setPosition(v), a.rotation = i.rotation = r.rotation, m(a), m(i); function m(b) { b.originX = c[0][0] - b.x, b.originY = c[1][0] - b.y } function y(b) { return [[b.x, b.x + b.width], [b.y, b.y + b.height]] } function _(b, x, S, T, C) { b[T] += S[T][C] - x[T][C] } }, e.prototype._createAxis = function (r, n) { var a = n.getData(), i = n.get("axisType"), o = WMe(n, i); o.getTicks = function () { return a.mapArray(["value"], function (u) { return { value: u } }) }; var s = a.getDataExtent("value"); o.setExtent(s[0], s[1]), o.calcNiceTicks(); var l = new YMe("value", o, r.axisExtent, i); return l.model = n, l }, e.prototype._createGroup = function (r) { var n = this[r] = new it; return this.group.add(n), n }, e.prototype._renderAxisLine = function (r, n, a, i) { var o = a.getExtent(); if (i.get(["lineStyle", "show"])) { var s = new $n({ shape: { x1: o[0], y1: 0, x2: o[1], y2: 0 }, style: he({ lineCap: "round" }, i.getModel("lineStyle").getLineStyle()), silent: !0, z2: 1 }); n.add(s); var l = this._progressLine = new $n({ shape: { x1: o[0], x2: this._currentPointer ? this._currentPointer.x : o[0], y1: 0, y2: 0 }, style: Xe({ lineCap: "round", lineWidth: s.style.lineWidth }, i.getModel(["progress", "lineStyle"]).getLineStyle()), silent: !0, z2: 1 }); n.add(l) } }, e.prototype._renderAxisTick = function (r, n, a, i) { var o = this, s = i.getData(), l = a.scale.getTicks(); this._tickSymbols = [], E(l, function (u) { var c = a.dataToCoord(u.value), f = s.getItemModel(u.value), h = f.getModel("itemStyle"), d = f.getModel(["emphasis", "itemStyle"]), v = f.getModel(["progress", "itemStyle"]), p = { x: c, y: 0, onclick: $e(o._changeTimeline, o, u.value) }, g = uN(f, h, n, p); g.ensureState("emphasis").style = d.getItemStyle(), g.ensureState("progress").style = v.getItemStyle(), Dc(g); var m = lt(g); f.get("tooltip") ? (m.dataIndex = u.value, m.dataModel = i) : m.dataIndex = m.dataModel = null, o._tickSymbols.push(g) }) }, e.prototype._renderAxisLabel = function (r, n, a, i) { var o = this, s = a.getLabelModel(); if (s.get("show")) { var l = i.getData(), u = a.getViewLabels(); this._tickLabels = [], E(u, function (c) { var f = c.tickValue, h = l.getItemModel(f), d = h.getModel("label"), v = h.getModel(["emphasis", "label"]), p = h.getModel(["progress", "label"]), g = a.dataToCoord(c.tickValue), m = new Wt({ x: g, y: 0, rotation: r.labelRotation - r.rotation, onclick: $e(o._changeTimeline, o, f), silent: !1, style: Mr(d, { text: c.formattedLabel, align: r.labelAlign, verticalAlign: r.labelBaseline }) }); m.ensureState("emphasis").style = Mr(v), m.ensureState("progress").style = Mr(p), n.add(m), Dc(m), lN(m).dataIndex = f, o._tickLabels.push(m) }) } }, e.prototype._renderControl = function (r, n, a, i) { var o = r.controlSize, s = r.rotation, l = i.getModel("controlStyle").getItemStyle(), u = i.getModel(["emphasis", "controlStyle"]).getItemStyle(), c = i.getPlayState(), f = i.get("inverse", !0); h(r.nextBtnPosition, "next", $e(this._changeTimeline, this, f ? "-" : "+")), h(r.prevBtnPosition, "prev", $e(this._changeTimeline, this, f ? "+" : "-")), h(r.playPosition, c ? "stop" : "play", $e(this._handlePlayClick, this, !c), !0); function h(d, v, p, g) { if (d) { var m = ji(_t(i.get(["controlStyle", v + "BtnSize"]), o), o), y = [0, -m / 2, m, m], _ = jMe(i, v + "Icon", y, { x: d[0], y: d[1], originX: o / 2, originY: 0, rotation: g ? -s : 0, rectHover: !0, style: l, onclick: p }); _.ensureState("emphasis").style = u, n.add(_), Dc(_) } } }, e.prototype._renderCurrentPointer = function (r, n, a, i) { var o = i.getData(), s = i.getCurrentIndex(), l = o.getItemModel(s).getModel("checkpointStyle"), u = this, c = { onCreate: function (f) { f.draggable = !0, f.drift = $e(u._handlePointerDrag, u), f.ondragend = $e(u._handlePointerDragend, u), cN(f, u._progressLine, s, a, i, !0) }, onUpdate: function (f) { cN(f, u._progressLine, s, a, i) } }; this._currentPointer = uN(l, l, this._mainGroup, {}, this._currentPointer, c) }, e.prototype._handlePlayClick = function (r) { this._clearTimer(), this.api.dispatchAction({ type: "timelinePlayChange", playState: r, from: this.uid }) }, e.prototype._handlePointerDrag = function (r, n, a) { this._clearTimer(), this._pointerChangeTimeline([a.offsetX, a.offsetY]) }, e.prototype._handlePointerDragend = function (r) { this._pointerChangeTimeline([r.offsetX, r.offsetY], !0) }, e.prototype._pointerChangeTimeline = function (r, n) { var a = this._toAxisCoord(r)[0], i = this._axis, o = hi(i.getExtent().slice()); a > o[1] && (a = o[1]), a < o[0] && (a = o[0]), this._currentPointer.x = a, this._currentPointer.markRedraw(); var s = this._progressLine; s && (s.shape.x2 = a, s.dirty()); var l = this._findNearestTick(a), u = this.model; (n || l !== u.getCurrentIndex() && u.get("realtime")) && this._changeTimeline(l) }, e.prototype._doPlayStop = function () { var r = this; this._clearTimer(), this.model.getPlayState() && (this._timer = setTimeout(function () { var n = r.model; r._changeTimeline(n.getCurrentIndex() + (n.get("rewind", !0) ? -1 : 1)) }, this.model.get("playInterval"))) }, e.prototype._toAxisCoord = function (r) { var n = this._mainGroup.getLocalTransform(); return Yi(r, n, !0) }, e.prototype._findNearestTick = function (r) { var n = this.model.getData(), a = 1 / 0, i, o = this._axis; return n.each(["value"], function (s, l) { var u = o.dataToCoord(s), c = Math.abs(u - r); c < a && (a = c, i = l) }), i }, e.prototype._clearTimer = function () { this._timer && (clearTimeout(this._timer), this._timer = null) }, e.prototype._changeTimeline = function (r) { var n = this.model.getCurrentIndex(); r === "+" ? r = n + 1 : r === "-" && (r = n - 1), this.api.dispatchAction({ type: "timelineChange", currentIndex: r, from: this.uid }) }, e.prototype._updateTicksStatus = function () { var r = this.model.getCurrentIndex(), n = this._tickSymbols, a = this._tickLabels; if (n) for (var i = 0; i < n.length; i++)n && n[i] && n[i].toggleState("progress", i < r); if (a) for (var i = 0; i < a.length; i++)a && a[i] && a[i].toggleState("progress", lN(a[i]).dataIndex <= r) }, e.type = "timeline.slider", e }(zMe); function WMe(t, e) { if (e = e || t.get("type"), e) switch (e) { case "category": return new YC({ ordinalMeta: t.getCategories(), extent: [1 / 0, -1 / 0] }); case "time": return new hV({ locale: t.ecModel.getLocaleModel(), useUTC: t.ecModel.get("useUTC") }); default: return new eu } } function GMe(t, e) { return bn(t.getBoxLayoutParams(), { width: e.getWidth(), height: e.getHeight() }, t.get("padding")) } function jMe(t, e, r, n) { var a = n.style, i = rg(t.get(["controlStyle", e]), n || {}, new wt(r[0], r[1], r[2], r[3])); return a && i.setStyle(a), i } function uN(t, e, r, n, a, i) { var o = e.get("color"); if (a) a.setColor(o), r.add(a), i && i.onUpdate(a); else { var s = t.get("symbol"); a = gn(s, -1, -1, 2, 2, o), a.setStyle("strokeNoScale", !0), r.add(a), i && i.onCreate(a) } var l = e.getItemStyle(["color"]); a.setStyle(l), n = bt({ rectHover: !0, z2: 100 }, n, !0); var u = ed(t.get("symbolSize")); n.scaleX = u[0] / 2, n.scaleY = u[1] / 2; var c = Xc(t.get("symbolOffset"), u); c && (n.x = (n.x || 0) + c[0], n.y = (n.y || 0) + c[1]); var f = t.get("symbolRotate"); return n.rotation = (f || 0) * Math.PI / 180 || 0, a.attr(n), a.updateTransform(), a } function cN(t, e, r, n, a, i) { if (!t.dragging) { var o = a.getModel("checkpointStyle"), s = n.dataToCoord(a.getData().get("value", r)); if (i || !o.get("animation", !0)) t.attr({ x: s, y: 0 }), e && e.attr({ shape: { x2: s } }); else { var l = { duration: o.get("animationDuration", !0), easing: o.get("animationEasing", !0) }; t.stopAnimation(null, !0), t.animateTo({ x: s, y: 0 }, l), e && e.animateTo({ shape: { x2: s } }, l) } } } const ZMe = UMe; function qMe(t) { t.registerAction({ type: "timelineChange", event: "timelineChanged", update: "prepareAndUpdate" }, function (e, r, n) { var a = r.getComponent("timeline"); return a && e.currentIndex != null && (a.setCurrentIndex(e.currentIndex), !a.get("loop", !0) && a.isIndexMax() && a.getPlayState() && (a.setPlayState(!1), n.dispatchAction({ type: "timelinePlayChange", playState: !1, from: e.from }))), r.resetOption("timeline", { replaceMerge: a.get("replaceMerge", !0) }), Xe({ currentIndex: a.option.currentIndex }, e) }), t.registerAction({ type: "timelinePlayChange", event: "timelinePlayChanged", update: "update" }, function (e, r) { var n = r.getComponent("timeline"); n && e.playState != null && n.setPlayState(e.playState) }) } function XMe(t) { var e = t && t.timeline; me(e) || (e = e ? [e] : []), E(e, function (r) { r && KMe(r) }) } function KMe(t) { var e = t.type, r = { number: "value", time: "time" }; if (r[e] && (t.axisType = r[e], delete t.type), fN(t), ic(t, "controlPosition")) { var n = t.controlStyle || (t.controlStyle = {}); ic(n, "position") || (n.position = t.controlPosition), n.position === "none" && !ic(n, "show") && (n.show = !1, delete n.position), delete t.controlPosition } E(t.data || [], function (a) { Qe(a) && !me(a) && (!ic(a, "value") && ic(a, "name") && (a.value = a.name), fN(a)) }) } function fN(t) { var e = t.itemStyle || (t.itemStyle = {}), r = e.emphasis || (e.emphasis = {}), n = t.label || t.label || {}, a = n.normal || (n.normal = {}), i = { normal: 1, emphasis: 1 }; E(n, function (o, s) { !i[s] && !ic(a, s) && (a[s] = o) }), r.label && !ic(n, "emphasis") && (n.emphasis = r.label, delete r.label) } function ic(t, e) { return t.hasOwnProperty(e) } function QMe(t) { t.registerComponentModel(BMe), t.registerComponentView(ZMe), t.registerSubTypeDefaulter("timeline", function () { return "slider" }), qMe(t), t.registerPreprocessor(XMe) } function GM(t, e) { if (!t) return !1; for (var r = me(t) ? t : [t], n = 0; n < r.length; n++)if (r[n] && r[n][e]) return !0; return !1 } function Ym(t) { Oc(t, "label", ["show"]) } var Um = zt(), Q9 = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.createdBySelf = !1, r } return e.prototype.init = function (r, n, a) { this.mergeDefaultAndTheme(r, a), this._mergeOption(r, a, !1, !0) }, e.prototype.isAnimationEnabled = function () { if (Ut.node) return !1; var r = this.__hostSeries; return this.getShallow("animation") && r && r.isAnimationEnabled() }, e.prototype.mergeOption = function (r, n) { this._mergeOption(r, n, !1, !1) }, e.prototype._mergeOption = function (r, n, a, i) { var o = this.mainType; a || n.eachSeries(function (s) { var l = s.get(this.mainType, !0), u = Um(s)[o]; if (!l || !l.data) { Um(s)[o] = null; return } u ? u._mergeOption(l, n, !0) : (i && Ym(l), E(l.data, function (c) { c instanceof Array ? (Ym(c[0]), Ym(c[1])) : Ym(c) }), u = this.createMarkerModelFromSeries(l, this, n), he(u, { mainType: this.mainType, seriesIndex: s.seriesIndex, name: s.name, createdBySelf: !0 }), u.__hostSeries = s), Um(s)[o] = u }, this) }, e.prototype.formatTooltip = function (r, n, a) { var i = this.getData(), o = this.getRawValue(r), s = i.getName(r); return Rn("section", { header: this.name, blocks: [Rn("nameValue", { name: s, value: o, noName: !s, noValue: o == null })] }) }, e.prototype.getData = function () { return this._data }, e.prototype.setData = function (r) { this._data = r }, e.getMarkerModelFromSeries = function (r, n) { return Um(r)[n] }, e.type = "marker", e.dependencies = ["series", "grid", "polar", "geo"], e }(Yt); mn(Q9, IC.prototype); const nu = Q9; var JMe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.createMarkerModelFromSeries = function (r, n, a) { return new e(r, n, a) }, e.type = "markPoint", e.defaultOption = { z: 5, symbol: "pin", symbolSize: 50, tooltip: { trigger: "item" }, label: { show: !0, position: "inside" }, itemStyle: { borderWidth: 2 }, emphasis: { label: { show: !0 } } }, e }(nu); const eke = JMe; function T2(t) { return !(isNaN(parseFloat(t.x)) && isNaN(parseFloat(t.y))) } function tke(t) { return !isNaN(parseFloat(t.x)) && !isNaN(parseFloat(t.y)) } function Wm(t, e, r, n, a, i) { var o = [], s = Jl(e, n), l = s ? e.getCalculationInfo("stackResultDimension") : n, u = jM(e, l, t), c = e.indicesOfNearest(l, u)[0]; o[a] = e.get(r, c), o[i] = e.get(l, c); var f = e.get(n, c), h = wo(e.get(n, c)); return h = Math.min(h, 20), h >= 0 && (o[i] = +o[i].toFixed(h)), [o, f] } var $S = { min: ut(Wm, "min"), max: ut(Wm, "max"), average: ut(Wm, "average"), median: ut(Wm, "median") }; function Ap(t, e) { if (e) { var r = t.getData(), n = t.coordinateSystem, a = n && n.dimensions; if (!tke(e) && !me(e.coord) && me(a)) { var i = J9(e, r, n, t); if (e = rt(e), e.type && $S[e.type] && i.baseAxis && i.valueAxis) { var o = Ct(a, i.baseAxis.dim), s = Ct(a, i.valueAxis.dim), l = $S[e.type](r, i.baseDataDim, i.valueDataDim, o, s); e.coord = l[0], e.value = l[1] } else e.coord = [e.xAxis != null ? e.xAxis : e.radiusAxis, e.yAxis != null ? e.yAxis : e.angleAxis] } if (e.coord == null || !me(a)) e.coord = []; else for (var u = e.coord, c = 0; c < 2; c++)$S[u[c]] && (u[c] = jM(r, r.mapDimension(a[c]), u[c])); return e } } function J9(t, e, r, n) { var a = {}; return t.valueIndex != null || t.valueDim != null ? (a.valueDataDim = t.valueIndex != null ? e.getDimension(t.valueIndex) : t.valueDim, a.valueAxis = r.getAxis(rke(n, a.valueDataDim)), a.baseAxis = r.getOtherAxis(a.valueAxis), a.baseDataDim = e.mapDimension(a.baseAxis.dim)) : (a.baseAxis = n.getBaseAxis(), a.valueAxis = r.getOtherAxis(a.baseAxis), a.baseDataDim = e.mapDimension(a.baseAxis.dim), a.valueDataDim = e.mapDimension(a.valueAxis.dim)), a } function rke(t, e) { var r = t.getData().getDimensionInfo(e); return r && r.coordDim } function Lp(t, e) { return t && t.containData && e.coord && !T2(e) ? t.containData(e.coord) : !0 } function nke(t, e, r) { return t && t.containZone && e.coord && r.coord && !T2(e) && !T2(r) ? t.containZone(e.coord, r.coord) : !0 } function eH(t, e) { return t ? function (r, n, a, i) { var o = i < 2 ? r.coord && r.coord[i] : r.value; return $l(o, e[i]) } : function (r, n, a, i) { return $l(r.value, e[i]) } } function jM(t, e, r) { if (r === "average") { var n = 0, a = 0; return t.each(e, function (i, o) { isNaN(i) || (n += i, a++) }), n / a } else return r === "median" ? t.getMedian(e) : t.getDataExtent(e)[r === "max" ? 1 : 0] } var FS = zt(), ake = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.init = function () { this.markerGroupMap = He() }, e.prototype.render = function (r, n, a) { var i = this, o = this.markerGroupMap; o.each(function (s) { FS(s).keep = !1 }), n.eachSeries(function (s) { var l = nu.getMarkerModelFromSeries(s, i.type); l && i.renderSeries(s, l, n, a) }), o.each(function (s) { !FS(s).keep && i.group.remove(s.group) }) }, e.prototype.markKeep = function (r) { FS(r).keep = !0 }, e.prototype.toggleBlurSeries = function (r, n) { var a = this; E(r, function (i) { var o = nu.getMarkerModelFromSeries(i, a.type); if (o) { var s = o.getData(); s.eachItemGraphicEl(function (l) { l && (n ? BF(l) : fC(l)) }) } }) }, e.type = "marker", e }(Kr); const ZM = ake; function hN(t, e, r) { var n = e.coordinateSystem; t.each(function (a) { var i = t.getItemModel(a), o, s = Ae(i.get("x"), r.getWidth()), l = Ae(i.get("y"), r.getHeight()); if (!isNaN(s) && !isNaN(l)) o = [s, l]; else if (e.getMarkerPosition) o = e.getMarkerPosition(t.getValues(t.dimensions, a)); else if (n) { var u = t.get(n.dimensions[0], a), c = t.get(n.dimensions[1], a); o = n.dataToPoint([u, c]) } isNaN(s) || (o[0] = s), isNaN(l) || (o[1] = l), t.setItemLayout(a, o) }) } var ike = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.updateTransform = function (r, n, a) { n.eachSeries(function (i) { var o = nu.getMarkerModelFromSeries(i, "markPoint"); o && (hN(o.getData(), i, a), this.markerGroupMap.get(i.id).updateLayout()) }, this) }, e.prototype.renderSeries = function (r, n, a, i) { var o = r.coordinateSystem, s = r.id, l = r.getData(), u = this.markerGroupMap, c = u.get(s) || u.set(s, new fg), f = oke(o, r, n); n.setData(f), hN(n.getData(), r, i), f.each(function (h) { var d = f.getItemModel(h), v = d.getShallow("symbol"), p = d.getShallow("symbolSize"), g = d.getShallow("symbolRotate"), m = d.getShallow("symbolOffset"), y = d.getShallow("symbolKeepAspect"); if (je(v) || je(p) || je(g) || je(m)) { var _ = n.getRawValue(h), b = n.getDataParams(h); je(v) && (v = v(_, b)), je(p) && (p = p(_, b)), je(g) && (g = g(_, b)), je(m) && (m = m(_, b)) } var x = d.getModel("itemStyle").getItemStyle(), S = ig(l, "color"); x.fill || (x.fill = S), f.setItemVisual(h, { symbol: v, symbolSize: p, symbolRotate: g, symbolOffset: m, symbolKeepAspect: y, style: x }) }), c.updateData(f), this.group.add(c.group), f.eachItemGraphicEl(function (h) { h.traverse(function (d) { lt(d).dataModel = n }) }), this.markKeep(c), c.group.silent = n.get("silent") || r.get("silent") }, e.type = "markPoint", e }(ZM); function oke(t, e, r) { var n; t ? n = _e(t && t.dimensions, function (s) { var l = e.getData().getDimensionInfo(e.getData().mapDimension(s)) || {}; return he(he({}, l), { name: s, ordinalMeta: null }) }) : n = [{ name: "value", type: "float" }]; var a = new ma(n, r), i = _e(r.get("data"), ut(Ap, e)); t && (i = hr(i, ut(Lp, t))); var o = eH(!!t, n); return a.initData(i, null, o), a } const ske = ike; function lke(t) { t.registerComponentModel(eke), t.registerComponentView(ske), t.registerPreprocessor(function (e) { GM(e.series, "markPoint") && (e.markPoint = e.markPoint || {}) }) } var uke = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.createMarkerModelFromSeries = function (r, n, a) { return new e(r, n, a) }, e.type = "markLine", e.defaultOption = { z: 5, symbol: ["circle", "arrow"], symbolSize: [8, 16], symbolOffset: 0, precision: 2, tooltip: { trigger: "item" }, label: { show: !0, position: "end", distance: 5 }, lineStyle: { type: "dashed" }, emphasis: { label: { show: !0 }, lineStyle: { width: 3 } }, animationEasing: "linear" }, e }(nu); const cke = uke; var Gm = zt(), fke = function (t, e, r, n) { var a = t.getData(), i; if (me(n)) i = n; else { var o = n.type; if (o === "min" || o === "max" || o === "average" || o === "median" || n.xAxis != null || n.yAxis != null) { var s = void 0, l = void 0; if (n.yAxis != null || n.xAxis != null) s = e.getAxis(n.yAxis != null ? "y" : "x"), l = Nn(n.yAxis, n.xAxis); else { var u = J9(n, a, e, t); s = u.valueAxis; var c = Q6(a, u.valueDataDim); l = jM(a, c, o) } var f = s.dim === "x" ? 0 : 1, h = 1 - f, d = rt(n), v = { coord: [] }; d.type = null, d.coord = [], d.coord[h] = -1 / 0, v.coord[h] = 1 / 0; var p = r.get("precision"); p >= 0 && Gt(l) && (l = +l.toFixed(Math.min(p, 20))), d.coord[f] = v.coord[f] = l, i = [d, v, { type: o, valueIndex: n.valueIndex, value: l }] } else i = [] } var g = [Ap(t, i[0]), Ap(t, i[1]), he({}, i[2])]; return g[2].type = g[2].type || null, bt(g[2], g[0]), bt(g[2], g[1]), g }; function F0(t) { return !isNaN(t) && !isFinite(t) } function dN(t, e, r, n) { var a = 1 - t, i = n.dimensions[t]; return F0(e[a]) && F0(r[a]) && e[t] === r[t] && n.getAxis(i).containData(e[t]) } function hke(t, e) { if (t.type === "cartesian2d") { var r = e[0].coord, n = e[1].coord; if (r && n && (dN(1, r, n, t) || dN(0, r, n, t))) return !0 } return Lp(t, e[0]) && Lp(t, e[1]) } function BS(t, e, r, n, a) { var i = n.coordinateSystem, o = t.getItemModel(e), s, l = Ae(o.get("x"), a.getWidth()), u = Ae(o.get("y"), a.getHeight()); if (!isNaN(l) && !isNaN(u)) s = [l, u]; else { if (n.getMarkerPosition) s = n.getMarkerPosition(t.getValues(t.dimensions, e)); else { var c = i.dimensions, f = t.get(c[0], e), h = t.get(c[1], e); s = i.dataToPoint([f, h]) } if (Qc(i, "cartesian2d")) { var d = i.getAxis("x"), v = i.getAxis("y"), c = i.dimensions; F0(t.get(c[0], e)) ? s[0] = d.toGlobalCoord(d.getExtent()[r ? 0 : 1]) : F0(t.get(c[1], e)) && (s[1] = v.toGlobalCoord(v.getExtent()[r ? 0 : 1])) } isNaN(l) || (s[0] = l), isNaN(u) || (s[1] = u) } t.setItemLayout(e, s) } var dke = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.updateTransform = function (r, n, a) { n.eachSeries(function (i) { var o = nu.getMarkerModelFromSeries(i, "markLine"); if (o) { var s = o.getData(), l = Gm(o).from, u = Gm(o).to; l.each(function (c) { BS(l, c, !0, i, a), BS(u, c, !1, i, a) }), s.each(function (c) { s.setItemLayout(c, [l.getItemLayout(c), u.getItemLayout(c)]) }), this.markerGroupMap.get(i.id).updateLayout() } }, this) }, e.prototype.renderSeries = function (r, n, a, i) { var o = r.coordinateSystem, s = r.id, l = r.getData(), u = this.markerGroupMap, c = u.get(s) || u.set(s, new vM); this.group.add(c.group); var f = vke(o, r, n), h = f.from, d = f.to, v = f.line; Gm(n).from = h, Gm(n).to = d, n.setData(v); var p = n.get("symbol"), g = n.get("symbolSize"), m = n.get("symbolRotate"), y = n.get("symbolOffset"); me(p) || (p = [p, p]), me(g) || (g = [g, g]), me(m) || (m = [m, m]), me(y) || (y = [y, y]), f.from.each(function (b) { _(h, b, !0), _(d, b, !1) }), v.each(function (b) { var x = v.getItemModel(b).getModel("lineStyle").getLineStyle(); v.setItemLayout(b, [h.getItemLayout(b), d.getItemLayout(b)]), x.stroke == null && (x.stroke = h.getItemVisual(b, "style").fill), v.setItemVisual(b, { fromSymbolKeepAspect: h.getItemVisual(b, "symbolKeepAspect"), fromSymbolOffset: h.getItemVisual(b, "symbolOffset"), fromSymbolRotate: h.getItemVisual(b, "symbolRotate"), fromSymbolSize: h.getItemVisual(b, "symbolSize"), fromSymbol: h.getItemVisual(b, "symbol"), toSymbolKeepAspect: d.getItemVisual(b, "symbolKeepAspect"), toSymbolOffset: d.getItemVisual(b, "symbolOffset"), toSymbolRotate: d.getItemVisual(b, "symbolRotate"), toSymbolSize: d.getItemVisual(b, "symbolSize"), toSymbol: d.getItemVisual(b, "symbol"), style: x }) }), c.updateData(v), f.line.eachItemGraphicEl(function (b) { lt(b).dataModel = n, b.traverse(function (x) { lt(x).dataModel = n }) }); function _(b, x, S) { var T = b.getItemModel(x); BS(b, x, S, r, i); var C = T.getModel("itemStyle").getItemStyle(); C.fill == null && (C.fill = ig(l, "color")), b.setItemVisual(x, { symbolKeepAspect: T.get("symbolKeepAspect"), symbolOffset: _t(T.get("symbolOffset", !0), y[S ? 0 : 1]), symbolRotate: _t(T.get("symbolRotate", !0), m[S ? 0 : 1]), symbolSize: _t(T.get("symbolSize"), g[S ? 0 : 1]), symbol: _t(T.get("symbol", !0), p[S ? 0 : 1]), style: C }) } this.markKeep(c), c.group.silent = n.get("silent") || r.get("silent") }, e.type = "markLine", e }(ZM); function vke(t, e, r) { var n; t ? n = _e(t && t.dimensions, function (u) { var c = e.getData().getDimensionInfo(e.getData().mapDimension(u)) || {}; return he(he({}, c), { name: u, ordinalMeta: null }) }) : n = [{ name: "value", type: "float" }]; var a = new ma(n, r), i = new ma(n, r), o = new ma([], r), s = _e(r.get("data"), ut(fke, e, t, r)); t && (s = hr(s, ut(hke, t))); var l = eH(!!t, n); return a.initData(_e(s, function (u) { return u[0] }), null, l), i.initData(_e(s, function (u) { return u[1] }), null, l), o.initData(_e(s, function (u) { return u[2] })), o.hasItemOption = !0, { from: a, to: i, line: o } } const pke = dke; function gke(t) { t.registerComponentModel(cke), t.registerComponentView(pke), t.registerPreprocessor(function (e) { GM(e.series, "markLine") && (e.markLine = e.markLine || {}) }) } var mke = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.createMarkerModelFromSeries = function (r, n, a) { return new e(r, n, a) }, e.type = "markArea", e.defaultOption = { z: 1, tooltip: { trigger: "item" }, animation: !1, label: { show: !0, position: "top" }, itemStyle: { borderWidth: 0 }, emphasis: { label: { show: !0, position: "top" } } }, e }(nu); const yke = mke; var jm = zt(), _ke = function (t, e, r, n) { var a = n[0], i = n[1]; if (!(!a || !i)) { var o = Ap(t, a), s = Ap(t, i), l = o.coord, u = s.coord; l[0] = Nn(l[0], -1 / 0), l[1] = Nn(l[1], -1 / 0), u[0] = Nn(u[0], 1 / 0), u[1] = Nn(u[1], 1 / 0); var c = jD([{}, o, s]); return c.coord = [o.coord, s.coord], c.x0 = o.x, c.y0 = o.y, c.x1 = s.x, c.y1 = s.y, c } }; function B0(t) { return !isNaN(t) && !isFinite(t) } function vN(t, e, r, n) { var a = 1 - t; return B0(e[a]) && B0(r[a]) } function bke(t, e) { var r = e.coord[0], n = e.coord[1], a = { coord: r, x: e.x0, y: e.y0 }, i = { coord: n, x: e.x1, y: e.y1 }; return Qc(t, "cartesian2d") ? r && n && (vN(1, r, n) || vN(0, r, n)) ? !0 : nke(t, a, i) : Lp(t, a) || Lp(t, i) } function pN(t, e, r, n, a) { var i = n.coordinateSystem, o = t.getItemModel(e), s, l = Ae(o.get(r[0]), a.getWidth()), u = Ae(o.get(r[1]), a.getHeight()); if (!isNaN(l) && !isNaN(u)) s = [l, u]; else { if (n.getMarkerPosition) { var c = t.getValues(["x0", "y0"], e), f = t.getValues(["x1", "y1"], e), h = i.clampData(c), d = i.clampData(f), v = []; r[0] === "x0" ? v[0] = h[0] > d[0] ? f[0] : c[0] : v[0] = h[0] > d[0] ? c[0] : f[0], r[1] === "y0" ? v[1] = h[1] > d[1] ? f[1] : c[1] : v[1] = h[1] > d[1] ? c[1] : f[1], s = n.getMarkerPosition(v, r, !0) } else { var p = t.get(r[0], e), g = t.get(r[1], e), m = [p, g]; i.clampData && i.clampData(m, m), s = i.dataToPoint(m, !0) } if (Qc(i, "cartesian2d")) { var y = i.getAxis("x"), _ = i.getAxis("y"), p = t.get(r[0], e), g = t.get(r[1], e); B0(p) ? s[0] = y.toGlobalCoord(y.getExtent()[r[0] === "x0" ? 0 : 1]) : B0(g) && (s[1] = _.toGlobalCoord(_.getExtent()[r[1] === "y0" ? 0 : 1])) } isNaN(l) || (s[0] = l), isNaN(u) || (s[1] = u) } return s } var gN = [["x0", "y0"], ["x1", "y0"], ["x1", "y1"], ["x0", "y1"]], wke = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.updateTransform = function (r, n, a) { n.eachSeries(function (i) { var o = nu.getMarkerModelFromSeries(i, "markArea"); if (o) { var s = o.getData(); s.each(function (l) { var u = _e(gN, function (f) { return pN(s, l, f, i, a) }); s.setItemLayout(l, u); var c = s.getItemGraphicEl(l); c.setShape("points", u) }) } }, this) }, e.prototype.renderSeries = function (r, n, a, i) { var o = r.coordinateSystem, s = r.id, l = r.getData(), u = this.markerGroupMap, c = u.get(s) || u.set(s, { group: new it }); this.group.add(c.group), this.markKeep(c); var f = Ske(o, r, n); n.setData(f), f.each(function (h) { var d = _e(gN, function (C) { return pN(f, h, C, r, i) }), v = o.getAxis("x").scale, p = o.getAxis("y").scale, g = v.getExtent(), m = p.getExtent(), y = [v.parse(f.get("x0", h)), v.parse(f.get("x1", h))], _ = [p.parse(f.get("y0", h)), p.parse(f.get("y1", h))]; hi(y), hi(_); var b = !(g[0] > y[1] || g[1] < y[0] || m[0] > _[1] || m[1] < _[0]), x = !b; f.setItemLayout(h, { points: d, allClipped: x }); var S = f.getItemModel(h).getModel("itemStyle").getItemStyle(), T = ig(l, "color"); S.fill || (S.fill = T, Oe(S.fill) && (S.fill = e0(S.fill, .4))), S.stroke || (S.stroke = T), f.setItemVisual(h, "style", S) }), f.diff(jm(c).data).add(function (h) { var d = f.getItemLayout(h); if (!d.allClipped) { var v = new Ea({ shape: { points: d.points } }); f.setItemGraphicEl(h, v), c.group.add(v) } }).update(function (h, d) { var v = jm(c).data.getItemGraphicEl(d), p = f.getItemLayout(h); p.allClipped ? v && c.group.remove(v) : (v ? jt(v, { shape: { points: p.points } }, n, h) : v = new Ea({ shape: { points: p.points } }), f.setItemGraphicEl(h, v), c.group.add(v)) }).remove(function (h) { var d = jm(c).data.getItemGraphicEl(h); c.group.remove(d) }).execute(), f.eachItemGraphicEl(function (h, d) { var v = f.getItemModel(d), p = f.getItemVisual(d, "style"); h.useStyle(f.getItemVisual(d, "style")), Wn(h, Pn(v), { labelFetcher: n, labelDataIndex: d, defaultText: f.getName(d) || "", inheritColor: Oe(p.fill) ? e0(p.fill, 1) : "#000" }), Un(h, v), Xr(h, null, null, v.get(["emphasis", "disabled"])), lt(h).dataModel = n }), jm(c).data = f, c.group.silent = n.get("silent") || r.get("silent") }, e.type = "markArea", e }(ZM); function Ske(t, e, r) { var n, a, i = ["x0", "y0", "x1", "y1"]; if (t) { var o = _e(t && t.dimensions, function (u) { var c = e.getData(), f = c.getDimensionInfo(c.mapDimension(u)) || {}; return he(he({}, f), { name: u, ordinalMeta: null }) }); a = _e(i, function (u, c) { return { name: u, type: o[c % 2].type } }), n = new ma(a, r) } else a = [{ name: "value", type: "float" }], n = new ma(a, r); var s = _e(r.get("data"), ut(_ke, e, t, r)); t && (s = hr(s, ut(bke, t))); var l = t ? function (u, c, f, h) { var d = u.coord[Math.floor(h / 2)][h % 2]; return $l(d, a[h]) } : function (u, c, f, h) { return $l(u.value, a[h]) }; return n.initData(s, null, l), n.hasItemOption = !0, n } const xke = wke; function Tke(t) { t.registerComponentModel(yke), t.registerComponentView(xke), t.registerPreprocessor(function (e) { GM(e.series, "markArea") && (e.markArea = e.markArea || {}) }) } var Dke = function (t, e) { if (e === "all") return { type: "all", title: t.getLocaleModel().get(["legend", "selector", "all"]) }; if (e === "inverse") return { type: "inverse", title: t.getLocaleModel().get(["legend", "selector", "inverse"]) } }, Cke = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.layoutMode = { type: "box", ignoreSize: !0 }, r } return e.prototype.init = function (r, n, a) { this.mergeDefaultAndTheme(r, a), r.selected = r.selected || {}, this._updateSelector(r) }, e.prototype.mergeOption = function (r, n) { t.prototype.mergeOption.call(this, r, n), this._updateSelector(r) }, e.prototype._updateSelector = function (r) { var n = r.selector, a = this.ecModel; n === !0 && (n = r.selector = ["all", "inverse"]), me(n) && E(n, function (i, o) { Oe(i) && (i = { type: i }), n[o] = bt(i, Dke(a, i.type)) }) }, e.prototype.optionUpdated = function () { this._updateData(this.ecModel); var r = this._data; if (r[0] && this.get("selectedMode") === "single") { for (var n = !1, a = 0; a < r.length; a++) { var i = r[a].get("name"); if (this.isSelected(i)) { this.select(i), n = !0; break } } !n && this.select(r[0].get("name")) } }, e.prototype._updateData = function (r) { var n = [], a = []; r.eachRawSeries(function (l) { var u = l.name; a.push(u); var c; if (l.legendVisualProvider) { var f = l.legendVisualProvider, h = f.getAllNames(); r.isSeriesFiltered(l) || (a = a.concat(h)), h.length ? n = n.concat(h) : c = !0 } else c = !0; c && aC(l) && n.push(l.name) }), this._availableNames = a; var i = this.get("data") || n, o = He(), s = _e(i, function (l) { return (Oe(l) || Gt(l)) && (l = { name: l }), o.get(l.name) ? null : (o.set(l.name, !0), new kr(l, this, this.ecModel)) }, this); this._data = hr(s, function (l) { return !!l }) }, e.prototype.getData = function () { return this._data }, e.prototype.select = function (r) { var n = this.option.selected, a = this.get("selectedMode"); if (a === "single") { var i = this._data; E(i, function (o) { n[o.get("name")] = !1 }) } n[r] = !0 }, e.prototype.unSelect = function (r) { this.get("selectedMode") !== "single" && (this.option.selected[r] = !1) }, e.prototype.toggleSelected = function (r) { var n = this.option.selected; n.hasOwnProperty(r) || (n[r] = !0), this[n[r] ? "unSelect" : "select"](r) }, e.prototype.allSelect = function () { var r = this._data, n = this.option.selected; E(r, function (a) { n[a.get("name", !0)] = !0 }) }, e.prototype.inverseSelect = function () { var r = this._data, n = this.option.selected; E(r, function (a) { var i = a.get("name", !0); n.hasOwnProperty(i) || (n[i] = !0), n[i] = !n[i] }) }, e.prototype.isSelected = function (r) { var n = this.option.selected; return !(n.hasOwnProperty(r) && !n[r]) && Ct(this._availableNames, r) >= 0 }, e.prototype.getOrient = function () { return this.get("orient") === "vertical" ? { index: 1, name: "vertical" } : { index: 0, name: "horizontal" } }, e.type = "legend.plain", e.dependencies = ["series"], e.defaultOption = { z: 4, show: !0, orient: "horizontal", left: "center", top: 0, align: "auto", backgroundColor: "rgba(0,0,0,0)", borderColor: "#ccc", borderRadius: 0, borderWidth: 0, padding: 5, itemGap: 10, itemWidth: 25, itemHeight: 14, symbolRotate: "inherit", symbolKeepAspect: !0, inactiveColor: "#ccc", inactiveBorderColor: "#ccc", inactiveBorderWidth: "auto", itemStyle: { color: "inherit", opacity: "inherit", borderColor: "inherit", borderWidth: "auto", borderCap: "inherit", borderJoin: "inherit", borderDashOffset: "inherit", borderMiterLimit: "inherit" }, lineStyle: { width: "auto", color: "inherit", inactiveColor: "#ccc", inactiveWidth: 2, opacity: "inherit", type: "inherit", cap: "inherit", join: "inherit", dashOffset: "inherit", miterLimit: "inherit" }, textStyle: { color: "#333" }, selectedMode: !0, selector: !1, selectorLabel: { show: !0, borderRadius: 10, padding: [3, 5, 3, 5], fontSize: 12, fontFamily: "sans-serif", color: "#666", borderWidth: 1, borderColor: "#666" }, emphasis: { selectorLabel: { show: !0, color: "#eee", backgroundColor: "#666" } }, selectorPosition: "auto", selectorItemGap: 7, selectorButtonGap: 10, tooltip: { show: !1 } }, e }(Yt); const D2 = Cke; var Rf = ut, C2 = E, Zm = it, Mke = function (t) {
    ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.newlineDisabled = !1, r } return e.prototype.init = function () { this.group.add(this._contentGroup = new Zm), this.group.add(this._selectorGroup = new Zm), this._isFirstRender = !0 }, e.prototype.getContentGroup = function () { return this._contentGroup }, e.prototype.getSelectorGroup = function () { return this._selectorGroup }, e.prototype.render = function (r, n, a) { var i = this._isFirstRender; if (this._isFirstRender = !1, this.resetInner(), !!r.get("show", !0)) { var o = r.get("align"), s = r.get("orient"); (!o || o === "auto") && (o = r.get("left") === "right" && s === "vertical" ? "right" : "left"); var l = r.get("selector", !0), u = r.get("selectorPosition", !0); l && (!u || u === "auto") && (u = s === "horizontal" ? "end" : "start"), this.renderInner(o, r, n, a, l, s, u); var c = r.getBoxLayoutParams(), f = { width: a.getWidth(), height: a.getHeight() }, h = r.get("padding"), d = bn(c, f, h), v = this.layoutInner(r, o, d, i, l, u), p = bn(Xe({ width: v.width, height: v.height }, c), f, h); this.group.x = p.x - v.x, this.group.y = p.y - v.y, this.group.markRedraw(), this.group.add(this._backgroundEl = H9(v, r)) } }, e.prototype.resetInner = function () { this.getContentGroup().removeAll(), this._backgroundEl && this.group.remove(this._backgroundEl), this.getSelectorGroup().removeAll() }, e.prototype.renderInner = function (r, n, a, i, o, s, l) {
        var u = this.getContentGroup(), c = He(), f = n.get("selectedMode"), h = []; a.eachRawSeries(function (d) { !d.get("legendHoverLink") && h.push(d.id) }), C2(n.getData(), function (d, v) {
            var p = d.get("name"); if (!this.newlineDisabled && (p === "" || p === `
`)) { var g = new Zm; g.newline = !0, u.add(g); return } var m = a.getSeriesByName(p)[0]; if (!c.get(p)) if (m) { var y = m.getData(), _ = y.getVisual("legendLineStyle") || {}, b = y.getVisual("legendIcon"), x = y.getVisual("style"), S = this._createItem(m, p, v, d, n, r, _, x, b, f, i); S.on("click", Rf(mN, p, null, i, h)).on("mouseover", Rf(M2, m.name, null, i, h)).on("mouseout", Rf(k2, m.name, null, i, h)), c.set(p, !0) } else a.eachRawSeries(function (T) { if (!c.get(p) && T.legendVisualProvider) { var C = T.legendVisualProvider; if (!C.containName(p)) return; var M = C.indexOfName(p), k = C.getItemVisual(M, "style"), A = C.getItemVisual(M, "legendIcon"), R = Ya(k.fill); R && R[3] === 0 && (R[3] = .2, k = he(he({}, k), { fill: Ts(R, "rgba") })); var N = this._createItem(T, p, v, d, n, r, {}, k, A, f, i); N.on("click", Rf(mN, null, p, i, h)).on("mouseover", Rf(M2, null, p, i, h)).on("mouseout", Rf(k2, null, p, i, h)), c.set(p, !0) } }, this)
        }, this), o && this._createSelector(o, n, i, s, l)
    }, e.prototype._createSelector = function (r, n, a, i, o) { var s = this.getSelectorGroup(); C2(r, function (u) { var c = u.type, f = new Wt({ style: { x: 0, y: 0, align: "center", verticalAlign: "middle" }, onclick: function () { a.dispatchAction({ type: c === "all" ? "legendAllSelect" : "legendInverseSelect" }) } }); s.add(f); var h = n.getModel("selectorLabel"), d = n.getModel(["emphasis", "selectorLabel"]); Wn(f, { normal: h, emphasis: d }, { defaultText: u.title }), Dc(f) }) }, e.prototype._createItem = function (r, n, a, i, o, s, l, u, c, f, h) { var d = r.visualDrawType, v = o.get("itemWidth"), p = o.get("itemHeight"), g = o.isSelected(n), m = i.get("symbolRotate"), y = i.get("symbolKeepAspect"), _ = i.get("icon"); c = _ || c || "roundRect"; var b = kke(c, i, l, u, d, g, h), x = new Zm, S = i.getModel("textStyle"); if (je(r.getLegendIcon) && (!_ || _ === "inherit")) x.add(r.getLegendIcon({ itemWidth: v, itemHeight: p, icon: c, iconRotate: m, itemStyle: b.itemStyle, lineStyle: b.lineStyle, symbolKeepAspect: y })); else { var T = _ === "inherit" && r.getData().getVisual("symbol") ? m === "inherit" ? r.getData().getVisual("symbolRotate") : m : 0; x.add(Ake({ itemWidth: v, itemHeight: p, icon: c, iconRotate: T, itemStyle: b.itemStyle, lineStyle: b.lineStyle, symbolKeepAspect: y })) } var C = s === "left" ? v + 5 : -5, M = s, k = o.get("formatter"), A = n; Oe(k) && k ? A = k.replace("{name}", n ?? "") : je(k) && (A = k(n)); var R = g ? S.getTextColor() : i.get("inactiveColor"); x.add(new Wt({ style: Mr(S, { text: A, x: C, y: p / 2, fill: R, align: M, verticalAlign: "middle" }, { inheritColor: R }) })); var N = new Bt({ shape: x.getBoundingRect(), invisible: !0 }), z = i.getModel("tooltip"); return z.get("show") && Wh({ el: N, componentModel: o, itemName: n, itemTooltipOption: z.option }), x.add(N), x.eachChild(function (F) { F.silent = !0 }), N.silent = !f, this.getContentGroup().add(x), Dc(x), x.__legendDataIndex = a, x }, e.prototype.layoutInner = function (r, n, a, i, o, s) { var l = this.getContentGroup(), u = this.getSelectorGroup(); Mc(r.get("orient"), l, r.get("itemGap"), a.width, a.height); var c = l.getBoundingRect(), f = [-c.x, -c.y]; if (u.markRedraw(), l.markRedraw(), o) { Mc("horizontal", u, r.get("selectorItemGap", !0)); var h = u.getBoundingRect(), d = [-h.x, -h.y], v = r.get("selectorButtonGap", !0), p = r.getOrient().index, g = p === 0 ? "width" : "height", m = p === 0 ? "height" : "width", y = p === 0 ? "y" : "x"; s === "end" ? d[p] += c[g] + v : f[p] += h[g] + v, d[1 - p] += c[m] / 2 - h[m] / 2, u.x = d[0], u.y = d[1], l.x = f[0], l.y = f[1]; var _ = { x: 0, y: 0 }; return _[g] = c[g] + v + h[g], _[m] = Math.max(c[m], h[m]), _[y] = Math.min(0, h[y] + d[1 - p]), _ } else return l.x = f[0], l.y = f[1], this.group.getBoundingRect() }, e.prototype.remove = function () { this.getContentGroup().removeAll(), this._isFirstRender = !0 }, e.type = "legend.plain", e
}(Kr); function kke(t, e, r, n, a, i, o) { function s(g, m) { g.lineWidth === "auto" && (g.lineWidth = m.lineWidth > 0 ? 2 : 0), C2(g, function (y, _) { g[_] === "inherit" && (g[_] = m[_]) }) } var l = e.getModel("itemStyle"), u = l.getItemStyle(), c = t.lastIndexOf("empty", 0) === 0 ? "fill" : "stroke", f = l.getShallow("decal"); u.decal = !f || f === "inherit" ? n.decal : Mh(f, o), u.fill === "inherit" && (u.fill = n[a]), u.stroke === "inherit" && (u.stroke = n[c]), u.opacity === "inherit" && (u.opacity = (a === "fill" ? n : r).opacity), s(u, n); var h = e.getModel("lineStyle"), d = h.getLineStyle(); if (s(d, r), u.fill === "auto" && (u.fill = n.fill), u.stroke === "auto" && (u.stroke = n.fill), d.stroke === "auto" && (d.stroke = n.fill), !i) { var v = e.get("inactiveBorderWidth"), p = u[c]; u.lineWidth = v === "auto" ? n.lineWidth > 0 && p ? 2 : 0 : u.lineWidth, u.fill = e.get("inactiveColor"), u.stroke = e.get("inactiveBorderColor"), d.stroke = h.get("inactiveColor"), d.lineWidth = h.get("inactiveWidth") } return { itemStyle: u, lineStyle: d } } function Ake(t) { var e = t.icon || "roundRect", r = gn(e, 0, 0, t.itemWidth, t.itemHeight, t.itemStyle.fill, t.symbolKeepAspect); return r.setStyle(t.itemStyle), r.rotation = (t.iconRotate || 0) * Math.PI / 180, r.setOrigin([t.itemWidth / 2, t.itemHeight / 2]), e.indexOf("empty") > -1 && (r.style.stroke = r.style.fill, r.style.fill = "#fff", r.style.lineWidth = 2), r } function mN(t, e, r, n) { k2(t, e, r, n), r.dispatchAction({ type: "legendToggleSelect", name: t ?? e }), M2(t, e, r, n) } function tH(t) { for (var e = t.getZr().storage.getDisplayList(), r, n = 0, a = e.length; n < a && !(r = e[n].states.emphasis);)n++; return r && r.hoverLayer } function M2(t, e, r, n) { tH(r) || r.dispatchAction({ type: "highlight", seriesName: t, name: e, excludeSeriesId: n }) } function k2(t, e, r, n) { tH(r) || r.dispatchAction({ type: "downplay", seriesName: t, name: e, excludeSeriesId: n }) } const rH = Mke; function Lke(t) { var e = t.findComponents({ mainType: "legend" }); e && e.length && t.filterSeries(function (r) { for (var n = 0; n < e.length; n++)if (!e[n].isSelected(r.name)) return !1; return !0 }) } function Gd(t, e, r) {
    var n = {}, a = t === "toggleSelected", i; return r.eachComponent("legend", function (o) {
        a && i != null ? o[i ? "select" : "unSelect"](e.name) : t === "allSelect" || t === "inverseSelect" ? o[t]() : (o[t](e.name), i = o.isSelected(e.name)); var s = o.getData(); E(s, function (l) {
            var u = l.get("name"); if (!(u === `
`|| u === "")) { var c = o.isSelected(u); n.hasOwnProperty(u) ? n[u] = n[u] && c : n[u] = c }
        })
    }), t === "allSelect" || t === "inverseSelect" ? { selected: n } : { name: e.name, selected: n }
} function Ike(t) { t.registerAction("legendToggleSelect", "legendselectchanged", ut(Gd, "toggleSelected")), t.registerAction("legendAllSelect", "legendselectall", ut(Gd, "allSelect")), t.registerAction("legendInverseSelect", "legendinverseselect", ut(Gd, "inverseSelect")), t.registerAction("legendSelect", "legendselected", ut(Gd, "select")), t.registerAction("legendUnSelect", "legendunselected", ut(Gd, "unSelect")) } function nH(t) { t.registerComponentModel(D2), t.registerComponentView(rH), t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER, Lke), t.registerSubTypeDefaulter("legend", function () { return "plain" }), Ike(t) } var Pke = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.setScrollDataIndex = function (r) { this.option.scrollDataIndex = r }, e.prototype.init = function (r, n, a) { var i = qh(r); t.prototype.init.call(this, r, n, a), yN(this, r, i) }, e.prototype.mergeOption = function (r, n) { t.prototype.mergeOption.call(this, r, n), yN(this, this.option, r) }, e.type = "legend.scroll", e.defaultOption = su(D2.defaultOption, { scrollDataIndex: 0, pageButtonItemGap: 5, pageButtonGap: null, pageButtonPosition: "end", pageFormatter: "{current}/{total}", pageIcons: { horizontal: ["M0,0L12,-10L12,10z", "M0,0L-12,-10L-12,10z"], vertical: ["M0,0L20,0L10,-20z", "M0,0L20,0L10,20z"] }, pageIconColor: "#2f4554", pageIconInactiveColor: "#aaa", pageIconSize: 15, pageTextStyle: { color: "#333" }, animationDurationUpdate: 800 }), e }(D2); function yN(t, e, r) { var n = t.getOrient(), a = [1, 1]; a[n.index] = 0, Ql(e, r, { type: "box", ignoreSize: !!a }) } const Rke = Pke; var _N = it, VS = ["width", "height"], zS = ["x", "y"], Oke = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.newlineDisabled = !0, r._currentIndex = 0, r } return e.prototype.init = function () { t.prototype.init.call(this), this.group.add(this._containerGroup = new _N), this._containerGroup.add(this.getContentGroup()), this.group.add(this._controllerGroup = new _N) }, e.prototype.resetInner = function () { t.prototype.resetInner.call(this), this._controllerGroup.removeAll(), this._containerGroup.removeClipPath(), this._containerGroup.__rectSize = null }, e.prototype.renderInner = function (r, n, a, i, o, s, l) { var u = this; t.prototype.renderInner.call(this, r, n, a, i, o, s, l); var c = this._controllerGroup, f = n.get("pageIconSize", !0), h = me(f) ? f : [f, f]; v("pagePrev", 0); var d = n.getModel("pageTextStyle"); c.add(new Wt({ name: "pageText", style: { text: "xx/xx", fill: d.getTextColor(), font: d.getFont(), verticalAlign: "middle", align: "center" }, silent: !0 })), v("pageNext", 1); function v(p, g) { var m = p + "DataIndex", y = rg(n.get("pageIcons", !0)[n.getOrient().name][g], { onclick: $e(u._pageGo, u, m, n, i) }, { x: -h[0] / 2, y: -h[1] / 2, width: h[0], height: h[1] }); y.name = p, c.add(y) } }, e.prototype.layoutInner = function (r, n, a, i, o, s) { var l = this.getSelectorGroup(), u = r.getOrient().index, c = VS[u], f = zS[u], h = VS[1 - u], d = zS[1 - u]; o && Mc("horizontal", l, r.get("selectorItemGap", !0)); var v = r.get("selectorButtonGap", !0), p = l.getBoundingRect(), g = [-p.x, -p.y], m = rt(a); o && (m[c] = a[c] - p[c] - v); var y = this._layoutContentAndController(r, i, m, u, c, h, d, f); if (o) { if (s === "end") g[u] += y[c] + v; else { var _ = p[c] + v; g[u] -= _, y[f] -= _ } y[c] += p[c] + v, g[1 - u] += y[d] + y[h] / 2 - p[h] / 2, y[h] = Math.max(y[h], p[h]), y[d] = Math.min(y[d], p[d] + g[1 - u]), l.x = g[0], l.y = g[1], l.markRedraw() } return y }, e.prototype._layoutContentAndController = function (r, n, a, i, o, s, l, u) { var c = this.getContentGroup(), f = this._containerGroup, h = this._controllerGroup; Mc(r.get("orient"), c, r.get("itemGap"), i ? a.width : null, i ? null : a.height), Mc("horizontal", h, r.get("pageButtonItemGap", !0)); var d = c.getBoundingRect(), v = h.getBoundingRect(), p = this._showController = d[o] > a[o], g = [-d.x, -d.y]; n || (g[i] = c[u]); var m = [0, 0], y = [-v.x, -v.y], _ = _t(r.get("pageButtonGap", !0), r.get("itemGap", !0)); if (p) { var b = r.get("pageButtonPosition", !0); b === "end" ? y[i] += a[o] - v[o] : m[i] += v[o] + _ } y[1 - i] += d[s] / 2 - v[s] / 2, c.setPosition(g), f.setPosition(m), h.setPosition(y); var x = { x: 0, y: 0 }; if (x[o] = p ? a[o] : d[o], x[s] = Math.max(d[s], v[s]), x[l] = Math.min(0, v[l] + y[1 - i]), f.__rectSize = a[o], p) { var S = { x: 0, y: 0 }; S[o] = Math.max(a[o] - v[o] - _, 0), S[s] = x[s], f.setClipPath(new Bt({ shape: S })), f.__rectSize = S[o] } else h.eachChild(function (C) { C.attr({ invisible: !0, silent: !0 }) }); var T = this._getPageInfo(r); return T.pageIndex != null && jt(c, { x: T.contentPosition[0], y: T.contentPosition[1] }, p ? r : null), this._updatePageInfoView(r, T), x }, e.prototype._pageGo = function (r, n, a) { var i = this._getPageInfo(n)[r]; i != null && a.dispatchAction({ type: "legendScroll", scrollDataIndex: i, legendId: n.id }) }, e.prototype._updatePageInfoView = function (r, n) { var a = this._controllerGroup; E(["pagePrev", "pageNext"], function (c) { var f = c + "DataIndex", h = n[f] != null, d = a.childOfName(c); d && (d.setStyle("fill", h ? r.get("pageIconColor", !0) : r.get("pageIconInactiveColor", !0)), d.cursor = h ? "pointer" : "default") }); var i = a.childOfName("pageText"), o = r.get("pageFormatter"), s = n.pageIndex, l = s != null ? s + 1 : 0, u = n.pageCount; i && o && i.setStyle("text", Oe(o) ? o.replace("{current}", l == null ? "" : l + "").replace("{total}", u == null ? "" : u + "") : o({ current: l, total: u })) }, e.prototype._getPageInfo = function (r) { var n = r.get("scrollDataIndex", !0), a = this.getContentGroup(), i = this._containerGroup.__rectSize, o = r.getOrient().index, s = VS[o], l = zS[o], u = this._findTargetItemIndex(n), c = a.children(), f = c[u], h = c.length, d = h ? 1 : 0, v = { contentPosition: [a.x, a.y], pageCount: d, pageIndex: d - 1, pagePrevDataIndex: null, pageNextDataIndex: null }; if (!f) return v; var p = b(f); v.contentPosition[o] = -p.s; for (var g = u + 1, m = p, y = p, _ = null; g <= h; ++g)_ = b(c[g]), (!_ && y.e > m.s + i || _ && !x(_, m.s)) && (y.i > m.i ? m = y : m = _, m && (v.pageNextDataIndex == null && (v.pageNextDataIndex = m.i), ++v.pageCount)), y = _; for (var g = u - 1, m = p, y = p, _ = null; g >= -1; --g)_ = b(c[g]), (!_ || !x(y, _.s)) && m.i < y.i && (y = m, v.pagePrevDataIndex == null && (v.pagePrevDataIndex = m.i), ++v.pageCount, ++v.pageIndex), m = _; return v; function b(S) { if (S) { var T = S.getBoundingRect(), C = T[l] + S[l]; return { s: C, e: C + T[s], i: S.__legendDataIndex } } } function x(S, T) { return S.e >= T && S.s <= T + i } }, e.prototype._findTargetItemIndex = function (r) { if (!this._showController) return 0; var n, a = this.getContentGroup(), i; return a.eachChild(function (o, s) { var l = o.__legendDataIndex; i == null && l != null && (i = s), l === r && (n = s) }), n ?? i }, e.type = "legend.scroll", e }(rH); const Eke = Oke; function Nke(t) { t.registerAction("legendScroll", "legendscroll", function (e, r) { var n = e.scrollDataIndex; n != null && r.eachComponent({ mainType: "legend", subType: "scroll", query: e }, function (a) { a.setScrollDataIndex(n) }) }) } function $ke(t) { Dt(nH), t.registerComponentModel(Rke), t.registerComponentView(Eke), Nke(t) } function Fke(t) { Dt(nH), Dt($ke) } var Bke = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.type = "dataZoom.inside", e.defaultOption = su(kp.defaultOption, { disabled: !1, zoomLock: !1, zoomOnMouseWheel: !0, moveOnMouseMove: !0, moveOnMouseWheel: !1, preventDefaultMouseMove: !0 }), e }(kp); const Vke = Bke; var qM = zt(); function zke(t, e, r) { qM(t).coordSysRecordMap.each(function (n) { var a = n.dataZoomInfoMap.get(e.uid); a && (a.getRange = r) }) } function Hke(t, e) { for (var r = qM(t).coordSysRecordMap, n = r.keys(), a = 0; a < n.length; a++) { var i = n[a], o = r.get(i), s = o.dataZoomInfoMap; if (s) { var l = e.uid, u = s.get(l); u && (s.removeKey(l), s.keys().length || aH(r, o)) } } } function aH(t, e) { if (e) { t.removeKey(e.model.uid); var r = e.controller; r && r.dispose() } } function Yke(t, e) { var r = { model: e, containsPoint: ut(Wke, e), dispatchAction: ut(Uke, t), dataZoomInfoMap: null, controller: null }, n = r.controller = new pg(t.getZr()); return E(["pan", "zoom", "scrollMove"], function (a) { n.on(a, function (i) { var o = []; r.dataZoomInfoMap.each(function (s) { if (i.isAvailableBehavior(s.model.option)) { var l = (s.getRange || {})[a], u = l && l(s.dzReferCoordSysInfo, r.model.mainType, r.controller, i); !s.model.get("disabled", !0) && u && o.push({ dataZoomId: s.model.id, start: u[0], end: u[1] }) } }), o.length && r.dispatchAction(o) }) }), r } function Uke(t, e) { t.isDisposed() || t.dispatchAction({ type: "dataZoom", animation: { easing: "cubicOut", duration: 100 }, batch: e }) } function Wke(t, e, r, n) { return t.coordinateSystem.containPoint([r, n]) } function Gke(t) { var e, r = "type_", n = { type_true: 2, type_move: 1, type_false: 0, type_undefined: -1 }, a = !0; return t.each(function (i) { var o = i.model, s = o.get("disabled", !0) ? !1 : o.get("zoomLock", !0) ? "move" : !0; n[r + s] > n[r + e] && (e = s), a = a && o.get("preventDefaultMouseMove", !0) }), { controlType: e, opt: { zoomOnMouseWheel: !0, moveOnMouseMove: !0, moveOnMouseWheel: !0, preventDefaultMouseMove: !!a } } } function jke(t) { t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER, function (e, r) { var n = qM(r), a = n.coordSysRecordMap || (n.coordSysRecordMap = He()); a.each(function (i) { i.dataZoomInfoMap = null }), e.eachComponent({ mainType: "dataZoom", subType: "inside" }, function (i) { var o = B9(i); E(o.infoList, function (s) { var l = s.model.uid, u = a.get(l) || a.set(l, Yke(r, s.model)), c = u.dataZoomInfoMap || (u.dataZoomInfoMap = He()); c.set(i.uid, { dzReferCoordSysInfo: s, model: i, getRange: null }) }) }), a.each(function (i) { var o = i.controller, s, l = i.dataZoomInfoMap; if (l) { var u = l.keys()[0]; u != null && (s = l.get(u)) } if (!s) { aH(a, i); return } var c = Gke(l); o.enable(c.controlType, c.opt), o.setPointerChecker(i.containsPoint), Jh(i, "dispatchAction", s.model.get("throttle", !0), "fixRate") }) }) } var Zke = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = "dataZoom.inside", r } return e.prototype.render = function (r, n, a) { if (t.prototype.render.apply(this, arguments), r.noTarget()) { this._clear(); return } this.range = r.getPercentRange(), zke(a, r, { pan: $e(HS.pan, this), zoom: $e(HS.zoom, this), scrollMove: $e(HS.scrollMove, this) }) }, e.prototype.dispose = function () { this._clear(), t.prototype.dispose.apply(this, arguments) }, e.prototype._clear = function () { Hke(this.api, this.dataZoomModel), this.range = null }, e.type = "dataZoom.inside", e }(FM), HS = { zoom: function (t, e, r, n) { var a = this.range, i = a.slice(), o = t.axisModels[0]; if (o) { var s = YS[e](null, [n.originX, n.originY], o, r, t), l = (s.signal > 0 ? s.pixelStart + s.pixelLength - s.pixel : s.pixel - s.pixelStart) / s.pixelLength * (i[1] - i[0]) + i[0], u = Math.max(1 / n.scale, 0); i[0] = (i[0] - l) * u + l, i[1] = (i[1] - l) * u + l; var c = this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan(); if (ef(0, i, [0, 100], 0, c.minSpan, c.maxSpan), this.range = i, a[0] !== i[0] || a[1] !== i[1]) return i } }, pan: bN(function (t, e, r, n, a, i) { var o = YS[n]([i.oldX, i.oldY], [i.newX, i.newY], e, a, r); return o.signal * (t[1] - t[0]) * o.pixel / o.pixelLength }), scrollMove: bN(function (t, e, r, n, a, i) { var o = YS[n]([0, 0], [i.scrollDelta, i.scrollDelta], e, a, r); return o.signal * (t[1] - t[0]) * i.scrollDelta }) }; function bN(t) { return function (e, r, n, a) { var i = this.range, o = i.slice(), s = e.axisModels[0]; if (s) { var l = t(o, s, e, r, n, a); if (ef(l, o, [0, 100], "all"), this.range = o, i[0] !== o[0] || i[1] !== o[1]) return o } } } var YS = { grid: function (t, e, r, n, a) { var i = r.axis, o = {}, s = a.model.coordinateSystem.getRect(); return t = t || [0, 0], i.dim === "x" ? (o.pixel = e[0] - t[0], o.pixelLength = s.width, o.pixelStart = s.x, o.signal = i.inverse ? 1 : -1) : (o.pixel = e[1] - t[1], o.pixelLength = s.height, o.pixelStart = s.y, o.signal = i.inverse ? -1 : 1), o }, polar: function (t, e, r, n, a) { var i = r.axis, o = {}, s = a.model.coordinateSystem, l = s.getRadiusAxis().getExtent(), u = s.getAngleAxis().getExtent(); return t = t ? s.pointToCoord(t) : [0, 0], e = s.pointToCoord(e), r.mainType === "radiusAxis" ? (o.pixel = e[0] - t[0], o.pixelLength = l[1] - l[0], o.pixelStart = l[0], o.signal = i.inverse ? 1 : -1) : (o.pixel = e[1] - t[1], o.pixelLength = u[1] - u[0], o.pixelStart = u[0], o.signal = i.inverse ? -1 : 1), o }, singleAxis: function (t, e, r, n, a) { var i = r.axis, o = a.model.coordinateSystem.getRect(), s = {}; return t = t || [0, 0], i.orient === "horizontal" ? (s.pixel = e[0] - t[0], s.pixelLength = o.width, s.pixelStart = o.x, s.signal = i.inverse ? 1 : -1) : (s.pixel = e[1] - t[1], s.pixelLength = o.height, s.pixelStart = o.y, s.signal = i.inverse ? -1 : 1), s } }; const qke = Zke; function iH(t) { BM(t), t.registerComponentModel(Vke), t.registerComponentView(qke), jke(t) } var Xke = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.type = "dataZoom.slider", e.layoutMode = "box", e.defaultOption = su(kp.defaultOption, { show: !0, right: "ph", top: "ph", width: "ph", height: "ph", left: null, bottom: null, borderColor: "#d2dbee", borderRadius: 3, backgroundColor: "rgba(47,69,84,0)", dataBackground: { lineStyle: { color: "#d2dbee", width: .5 }, areaStyle: { color: "#d2dbee", opacity: .2 } }, selectedDataBackground: { lineStyle: { color: "#8fb0f7", width: .5 }, areaStyle: { color: "#8fb0f7", opacity: .2 } }, fillerColor: "rgba(135,175,274,0.2)", handleIcon: "path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z", handleSize: "100%", handleStyle: { color: "#fff", borderColor: "#ACB8D1" }, moveHandleSize: 7, moveHandleIcon: "path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z", moveHandleStyle: { color: "#D2DBEE", opacity: .7 }, showDetail: !0, showDataShadow: "auto", realtime: !0, zoomLock: !1, textStyle: { color: "#6E7079" }, brushSelect: !0, brushStyle: { color: "rgba(135,175,274,0.15)" }, emphasis: { handleStyle: { borderColor: "#8FB0F7" }, moveHandleStyle: { color: "#8FB0F7" } } }), e }(kp); const Kke = Xke; var jd = Bt, wN = 7, Qke = 1, US = 30, Jke = 7, Zd = "horizontal", SN = "vertical", eAe = 5, tAe = ["line", "bar", "candlestick", "scatter"], rAe = { easing: "cubicOut", duration: 100, delay: 0 }, nAe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r._displayables = {}, r } return e.prototype.init = function (r, n) { this.api = n, this._onBrush = $e(this._onBrush, this), this._onBrushEnd = $e(this._onBrushEnd, this) }, e.prototype.render = function (r, n, a, i) { if (t.prototype.render.apply(this, arguments), Jh(this, "_dispatchZoomAction", r.get("throttle"), "fixRate"), this._orient = r.getOrient(), r.get("show") === !1) { this.group.removeAll(); return } if (r.noTarget()) { this._clear(), this.group.removeAll(); return } (!i || i.type !== "dataZoom" || i.from !== this.uid) && this._buildView(), this._updateView() }, e.prototype.dispose = function () { this._clear(), t.prototype.dispose.apply(this, arguments) }, e.prototype._clear = function () { yp(this, "_dispatchZoomAction"); var r = this.api.getZr(); r.off("mousemove", this._onBrush), r.off("mouseup", this._onBrushEnd) }, e.prototype._buildView = function () { var r = this.group; r.removeAll(), this._brushing = !1, this._displayables.brushRect = null, this._resetLocation(), this._resetInterval(); var n = this._displayables.sliderGroup = new it; this._renderBackground(), this._renderHandle(), this._renderDataShadow(), r.add(n), this._positionGroup() }, e.prototype._resetLocation = function () { var r = this.dataZoomModel, n = this.api, a = r.get("brushSelect"), i = a ? Jke : 0, o = this._findCoordRect(), s = { width: n.getWidth(), height: n.getHeight() }, l = this._orient === Zd ? { right: s.width - o.x - o.width, top: s.height - US - wN - i, width: o.width, height: US } : { right: wN, top: o.y, width: US, height: o.height }, u = qh(r.option); E(["right", "top", "width", "height"], function (f) { u[f] === "ph" && (u[f] = l[f]) }); var c = bn(u, s); this._location = { x: c.x, y: c.y }, this._size = [c.width, c.height], this._orient === SN && this._size.reverse() }, e.prototype._positionGroup = function () { var r = this.group, n = this._location, a = this._orient, i = this.dataZoomModel.getFirstTargetAxisModel(), o = i && i.get("inverse"), s = this._displayables.sliderGroup, l = (this._dataShadowInfo || {}).otherAxisInverse; s.attr(a === Zd && !o ? { scaleY: l ? 1 : -1, scaleX: 1 } : a === Zd && o ? { scaleY: l ? 1 : -1, scaleX: -1 } : a === SN && !o ? { scaleY: l ? -1 : 1, scaleX: 1, rotation: Math.PI / 2 } : { scaleY: l ? -1 : 1, scaleX: -1, rotation: Math.PI / 2 }); var u = r.getBoundingRect([s]); r.x = n.x - u.x, r.y = n.y - u.y, r.markRedraw() }, e.prototype._getViewExtent = function () { return [0, this._size[0]] }, e.prototype._renderBackground = function () { var r = this.dataZoomModel, n = this._size, a = this._displayables.sliderGroup, i = r.get("brushSelect"); a.add(new jd({ silent: !0, shape: { x: 0, y: 0, width: n[0], height: n[1] }, style: { fill: r.get("backgroundColor") }, z2: -40 })); var o = new jd({ shape: { x: 0, y: 0, width: n[0], height: n[1] }, style: { fill: "transparent" }, z2: 0, onclick: $e(this._onClickPanel, this) }), s = this.api.getZr(); i ? (o.on("mousedown", this._onBrushStart, this), o.cursor = "crosshair", s.on("mousemove", this._onBrush), s.on("mouseup", this._onBrushEnd)) : (s.off("mousemove", this._onBrush), s.off("mouseup", this._onBrushEnd)), a.add(o) }, e.prototype._renderDataShadow = function () { var r = this._dataShadowInfo = this._prepareDataShadowInfo(); if (this._displayables.dataShadowSegs = [], !r) return; var n = this._size, a = this._shadowSize || [], i = r.series, o = i.getRawData(), s = i.getShadowDim && i.getShadowDim(), l = s && o.getDimensionInfo(s) ? i.getShadowDim() : r.otherDim; if (l == null) return; var u = this._shadowPolygonPts, c = this._shadowPolylinePts; if (o !== this._shadowData || l !== this._shadowDim || n[0] !== a[0] || n[1] !== a[1]) { var f = o.getDataExtent(l), h = (f[1] - f[0]) * .3; f = [f[0] - h, f[1] + h]; var d = [0, n[1]], v = [0, n[0]], p = [[n[0], 0], [0, 0]], g = [], m = v[1] / (o.count() - 1), y = 0, _ = Math.round(o.count() / n[0]), b; o.each([l], function (M, k) { if (_ > 0 && k % _) { y += m; return } var A = M == null || isNaN(M) || M === "", R = A ? 0 : sr(M, f, d, !0); A && !b && k ? (p.push([p[p.length - 1][0], 0]), g.push([g[g.length - 1][0], 0])) : !A && b && (p.push([y, 0]), g.push([y, 0])), p.push([y, R]), g.push([y, R]), y += m, b = A }), u = this._shadowPolygonPts = p, c = this._shadowPolylinePts = g } this._shadowData = o, this._shadowDim = l, this._shadowSize = [n[0], n[1]]; var x = this.dataZoomModel; function S(M) { var k = x.getModel(M ? "selectedDataBackground" : "dataBackground"), A = new it, R = new Ea({ shape: { points: u }, segmentIgnoreThreshold: 1, style: k.getModel("areaStyle").getAreaStyle(), silent: !0, z2: -20 }), N = new Na({ shape: { points: c }, segmentIgnoreThreshold: 1, style: k.getModel("lineStyle").getLineStyle(), silent: !0, z2: -19 }); return A.add(R), A.add(N), A } for (var T = 0; T < 3; T++) { var C = S(T === 1); this._displayables.sliderGroup.add(C), this._displayables.dataShadowSegs.push(C) } }, e.prototype._prepareDataShadowInfo = function () { var r = this.dataZoomModel, n = r.get("showDataShadow"); if (n !== !1) { var a, i = this.ecModel; return r.eachTargetAxis(function (o, s) { var l = r.getAxisProxy(o, s).getTargetSeriesModels(); E(l, function (u) { if (!a && !(n !== !0 && Ct(tAe, u.get("type")) < 0)) { var c = i.getComponent(Ll(o), s).axis, f = aAe(o), h, d = u.coordinateSystem; f != null && d.getOtherAxis && (h = d.getOtherAxis(c).inverse), f = u.getData().mapDimension(f), a = { thisAxis: c, series: u, thisDim: o, otherDim: f, otherAxisInverse: h } } }, this) }, this), a } }, e.prototype._renderHandle = function () { var r = this.group, n = this._displayables, a = n.handles = [null, null], i = n.handleLabels = [null, null], o = this._displayables.sliderGroup, s = this._size, l = this.dataZoomModel, u = this.api, c = l.get("borderRadius") || 0, f = l.get("brushSelect"), h = n.filler = new jd({ silent: f, style: { fill: l.get("fillerColor") }, textConfig: { position: "inside" } }); o.add(h), o.add(new jd({ silent: !0, subPixelOptimize: !0, shape: { x: 0, y: 0, width: s[0], height: s[1], r: c }, style: { stroke: l.get("dataBackgroundColor") || l.get("borderColor"), lineWidth: Qke, fill: "rgba(0,0,0,0)" } })), E([0, 1], function (_) { var b = l.get("handleIcon"); !g0[b] && b.indexOf("path://") < 0 && b.indexOf("image://") < 0 && (b = "path://" + b); var x = gn(b, -1, 0, 2, 2, null, !0); x.attr({ cursor: xN(this._orient), draggable: !0, drift: $e(this._onDragMove, this, _), ondragend: $e(this._onDragEnd, this), onmouseover: $e(this._showDataInfo, this, !0), onmouseout: $e(this._showDataInfo, this, !1), z2: 5 }); var S = x.getBoundingRect(), T = l.get("handleSize"); this._handleHeight = Ae(T, this._size[1]), this._handleWidth = S.width / S.height * this._handleHeight, x.setStyle(l.getModel("handleStyle").getItemStyle()), x.style.strokeNoScale = !0, x.rectHover = !0, x.ensureState("emphasis").style = l.getModel(["emphasis", "handleStyle"]).getItemStyle(), Dc(x); var C = l.get("handleColor"); C != null && (x.style.fill = C), o.add(a[_] = x); var M = l.getModel("textStyle"); r.add(i[_] = new Wt({ silent: !0, invisible: !0, style: Mr(M, { x: 0, y: 0, text: "", verticalAlign: "middle", align: "center", fill: M.getTextColor(), font: M.getFont() }), z2: 10 })) }, this); var d = h; if (f) { var v = Ae(l.get("moveHandleSize"), s[1]), p = n.moveHandle = new Bt({ style: l.getModel("moveHandleStyle").getItemStyle(), silent: !0, shape: { r: [0, 0, 2, 2], y: s[1] - .5, height: v } }), g = v * .8, m = n.moveHandleIcon = gn(l.get("moveHandleIcon"), -g / 2, -g / 2, g, g, "#fff", !0); m.silent = !0, m.y = s[1] + v / 2 - .5, p.ensureState("emphasis").style = l.getModel(["emphasis", "moveHandleStyle"]).getItemStyle(); var y = Math.min(s[1] / 2, Math.max(v, 10)); d = n.moveZone = new Bt({ invisible: !0, shape: { y: s[1] - y, height: v + y } }), d.on("mouseover", function () { u.enterEmphasis(p) }).on("mouseout", function () { u.leaveEmphasis(p) }), o.add(p), o.add(m), o.add(d) } d.attr({ draggable: !0, cursor: xN(this._orient), drift: $e(this._onDragMove, this, "all"), ondragstart: $e(this._showDataInfo, this, !0), ondragend: $e(this._onDragEnd, this), onmouseover: $e(this._showDataInfo, this, !0), onmouseout: $e(this._showDataInfo, this, !1) }) }, e.prototype._resetInterval = function () { var r = this._range = this.dataZoomModel.getPercentRange(), n = this._getViewExtent(); this._handleEnds = [sr(r[0], [0, 100], n, !0), sr(r[1], [0, 100], n, !0)] }, e.prototype._updateInterval = function (r, n) { var a = this.dataZoomModel, i = this._handleEnds, o = this._getViewExtent(), s = a.findRepresentativeAxisProxy().getMinMaxSpan(), l = [0, 100]; ef(n, i, o, a.get("zoomLock") ? "all" : r, s.minSpan != null ? sr(s.minSpan, l, o, !0) : null, s.maxSpan != null ? sr(s.maxSpan, l, o, !0) : null); var u = this._range, c = this._range = hi([sr(i[0], o, l, !0), sr(i[1], o, l, !0)]); return !u || u[0] !== c[0] || u[1] !== c[1] }, e.prototype._updateView = function (r) { var n = this._displayables, a = this._handleEnds, i = hi(a.slice()), o = this._size; E([0, 1], function (d) { var v = n.handles[d], p = this._handleHeight; v.attr({ scaleX: p / 2, scaleY: p / 2, x: a[d] + (d ? -1 : 1), y: o[1] / 2 - p / 2 }) }, this), n.filler.setShape({ x: i[0], y: 0, width: i[1] - i[0], height: o[1] }); var s = { x: i[0], width: i[1] - i[0] }; n.moveHandle && (n.moveHandle.setShape(s), n.moveZone.setShape(s), n.moveZone.getBoundingRect(), n.moveHandleIcon && n.moveHandleIcon.attr("x", s.x + s.width / 2)); for (var l = n.dataShadowSegs, u = [0, i[0], i[1], o[0]], c = 0; c < l.length; c++) { var f = l[c], h = f.getClipPath(); h || (h = new Bt, f.setClipPath(h)), h.setShape({ x: u[c], y: 0, width: u[c + 1] - u[c], height: o[1] }) } this._updateDataInfo(r) }, e.prototype._updateDataInfo = function (r) { var n = this.dataZoomModel, a = this._displayables, i = a.handleLabels, o = this._orient, s = ["", ""]; if (n.get("showDetail")) { var l = n.findRepresentativeAxisProxy(); if (l) { var u = l.getAxisModel().axis, c = this._range, f = r ? l.calculateDataWindow({ start: c[0], end: c[1] }).valueWindow : l.getDataValueWindow(); s = [this._formatLabel(f[0], u), this._formatLabel(f[1], u)] } } var h = hi(this._handleEnds.slice()); d.call(this, 0), d.call(this, 1); function d(v) { var p = Cc(a.handles[v].parent, this.group), g = t1(v === 0 ? "right" : "left", p), m = this._handleWidth / 2 + eAe, y = Yi([h[v] + (v === 0 ? -m : m), this._size[1] / 2], p); i[v].setStyle({ x: y[0], y: y[1], verticalAlign: o === Zd ? "middle" : g, align: o === Zd ? g : "center", text: s[v] }) } }, e.prototype._formatLabel = function (r, n) { var a = this.dataZoomModel, i = a.get("labelFormatter"), o = a.get("labelPrecision"); (o == null || o === "auto") && (o = n.getPixelPrecision()); var s = r == null || isNaN(r) ? "" : n.type === "category" || n.type === "time" ? n.scale.getLabel({ value: Math.round(r) }) : r.toFixed(Math.min(o, 20)); return je(i) ? i(r, s) : Oe(i) ? i.replace("{value}", s) : s }, e.prototype._showDataInfo = function (r) { r = this._dragging || r; var n = this._displayables, a = n.handleLabels; a[0].attr("invisible", !r), a[1].attr("invisible", !r), n.moveHandle && this.api[r ? "enterEmphasis" : "leaveEmphasis"](n.moveHandle, 1) }, e.prototype._onDragMove = function (r, n, a, i) { this._dragging = !0, Ls(i.event); var o = this._displayables.sliderGroup.getLocalTransform(), s = Yi([n, a], o, !0), l = this._updateInterval(r, s[0]), u = this.dataZoomModel.get("realtime"); this._updateView(!u), l && u && this._dispatchZoomAction(!0) }, e.prototype._onDragEnd = function () { this._dragging = !1, this._showDataInfo(!1); var r = this.dataZoomModel.get("realtime"); !r && this._dispatchZoomAction(!1) }, e.prototype._onClickPanel = function (r) { var n = this._size, a = this._displayables.sliderGroup.transformCoordToLocal(r.offsetX, r.offsetY); if (!(a[0] < 0 || a[0] > n[0] || a[1] < 0 || a[1] > n[1])) { var i = this._handleEnds, o = (i[0] + i[1]) / 2, s = this._updateInterval("all", a[0] - o); this._updateView(), s && this._dispatchZoomAction(!1) } }, e.prototype._onBrushStart = function (r) { var n = r.offsetX, a = r.offsetY; this._brushStart = new gt(n, a), this._brushing = !0, this._brushStartTime = +new Date }, e.prototype._onBrushEnd = function (r) { if (this._brushing) { var n = this._displayables.brushRect; if (this._brushing = !1, !!n) { n.attr("ignore", !0); var a = n.shape, i = +new Date; if (!(i - this._brushStartTime < 200 && Math.abs(a.width) < 5)) { var o = this._getViewExtent(), s = [0, 100]; this._range = hi([sr(a.x, o, s, !0), sr(a.x + a.width, o, s, !0)]), this._handleEnds = [a.x, a.x + a.width], this._updateView(), this._dispatchZoomAction(!1) } } } }, e.prototype._onBrush = function (r) { this._brushing && (Ls(r.event), this._updateBrushRect(r.offsetX, r.offsetY)) }, e.prototype._updateBrushRect = function (r, n) { var a = this._displayables, i = this.dataZoomModel, o = a.brushRect; o || (o = a.brushRect = new jd({ silent: !0, style: i.getModel("brushStyle").getItemStyle() }), a.sliderGroup.add(o)), o.attr("ignore", !1); var s = this._brushStart, l = this._displayables.sliderGroup, u = l.transformCoordToLocal(r, n), c = l.transformCoordToLocal(s.x, s.y), f = this._size; u[0] = Math.max(Math.min(f[0], u[0]), 0), o.setShape({ x: c[0], y: 0, width: u[0] - c[0], height: f[1] }) }, e.prototype._dispatchZoomAction = function (r) { var n = this._range; this.api.dispatchAction({ type: "dataZoom", from: this.uid, dataZoomId: this.dataZoomModel.id, animation: r ? rAe : null, start: n[0], end: n[1] }) }, e.prototype._findCoordRect = function () { var r, n = B9(this.dataZoomModel).infoList; if (!r && n.length) { var a = n[0].model.coordinateSystem; r = a.getRect && a.getRect() } if (!r) { var i = this.api.getWidth(), o = this.api.getHeight(); r = { x: i * .2, y: o * .2, width: i * .6, height: o * .6 } } return r }, e.type = "dataZoom.slider", e }(FM); function aAe(t) { var e = { x: "y", y: "x", radius: "angle", angle: "radius" }; return e[t] } function xN(t) { return t === "vertical" ? "ns-resize" : "ew-resize" } const iAe = nAe; function oH(t) { t.registerComponentModel(Kke), t.registerComponentView(iAe), BM(t) } function oAe(t) { Dt(iH), Dt(oH) } var sAe = { get: function (t, e, r) { var n = rt((lAe[t] || {})[e]); return r && me(n) ? n[n.length - 1] : n } }, lAe = { color: { active: ["#006edd", "#e0ffff"], inactive: ["rgba(0,0,0,0)"] }, colorHue: { active: [0, 360], inactive: [0, 0] }, colorSaturation: { active: [.3, 1], inactive: [0, 0] }, colorLightness: { active: [.9, .5], inactive: [0, 0] }, colorAlpha: { active: [.3, 1], inactive: [0, 0] }, opacity: { active: [.3, 1], inactive: [0, 0] }, symbol: { active: ["circle", "roundRect", "diamond"], inactive: ["none"] }, symbolSize: { active: [10, 50], inactive: [0, 0] } }; const sH = sAe; var TN = Yn.mapVisual, uAe = Yn.eachVisual, cAe = me, DN = E, fAe = hi, hAe = sr, dAe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.stateList = ["inRange", "outOfRange"], r.replacableOptionKeys = ["inRange", "outOfRange", "target", "controller", "color"], r.layoutMode = { type: "box", ignoreSize: !0 }, r.dataBound = [-1 / 0, 1 / 0], r.targetVisuals = {}, r.controllerVisuals = {}, r } return e.prototype.init = function (r, n, a) { this.mergeDefaultAndTheme(r, a) }, e.prototype.optionUpdated = function (r, n) { var a = this.option; !n && q9(a, r, this.replacableOptionKeys), this.textStyleModel = this.getModel("textStyle"), this.resetItemSize(), this.completeVisualOption() }, e.prototype.resetVisual = function (r) { var n = this.stateList; r = $e(r, this), this.controllerVisuals = S2(this.option.controller, n, r), this.targetVisuals = S2(this.option.target, n, r) }, e.prototype.getItemSymbol = function () { return null }, e.prototype.getTargetSeriesIndices = function () { var r = this.option.seriesIndex, n = []; return r == null || r === "all" ? this.ecModel.eachSeries(function (a, i) { n.push(i) }) : n = mr(r), n }, e.prototype.eachTargetSeries = function (r, n) { E(this.getTargetSeriesIndices(), function (a) { var i = this.ecModel.getSeriesByIndex(a); i && r.call(n, i) }, this) }, e.prototype.isTargetSeries = function (r) { var n = !1; return this.eachTargetSeries(function (a) { a === r && (n = !0) }), n }, e.prototype.formatValueText = function (r, n, a) { var i = this.option, o = i.precision, s = this.dataBound, l = i.formatter, u; a = a || ["<", ">"], me(r) && (r = r.slice(), u = !0); var c = n ? r : u ? [f(r[0]), f(r[1])] : f(r); if (Oe(l)) return l.replace("{value}", u ? c[0] : c).replace("{value2}", u ? c[1] : c); if (je(l)) return u ? l(r[0], r[1]) : l(r); if (u) return r[0] === s[0] ? a[0] + " " + c[1] : r[1] === s[1] ? a[1] + " " + c[0] : c[0] + " - " + c[1]; return c; function f(h) { return h === s[0] ? "min" : h === s[1] ? "max" : (+h).toFixed(Math.min(o, 20)) } }, e.prototype.resetExtent = function () { var r = this.option, n = fAe([r.min, r.max]); this._dataExtent = n }, e.prototype.getDataDimensionIndex = function (r) { var n = this.option.dimension; if (n != null) return r.getDimensionIndex(n); for (var a = r.dimensions, i = a.length - 1; i >= 0; i--) { var o = a[i], s = r.getDimensionInfo(o); if (!s.isCalculationCoord) return s.storeDimIndex } }, e.prototype.getExtent = function () { return this._dataExtent.slice() }, e.prototype.completeVisualOption = function () { var r = this.ecModel, n = this.option, a = { inRange: n.inRange, outOfRange: n.outOfRange }, i = n.target || (n.target = {}), o = n.controller || (n.controller = {}); bt(i, a), bt(o, a); var s = this.isCategory(); l.call(this, i), l.call(this, o), u.call(this, i, "inRange", "outOfRange"), c.call(this, o); function l(f) { cAe(n.color) && !f.inRange && (f.inRange = { color: n.color.slice().reverse() }), f.inRange = f.inRange || { color: r.get("gradientColor") } } function u(f, h, d) { var v = f[h], p = f[d]; v && !p && (p = f[d] = {}, DN(v, function (g, m) { if (Yn.isValidType(m)) { var y = sH.get(m, "inactive", s); y != null && (p[m] = y, m === "color" && !p.hasOwnProperty("opacity") && !p.hasOwnProperty("colorAlpha") && (p.opacity = [0, 0])) } })) } function c(f) { var h = (f.inRange || {}).symbol || (f.outOfRange || {}).symbol, d = (f.inRange || {}).symbolSize || (f.outOfRange || {}).symbolSize, v = this.get("inactiveColor"), p = this.getItemSymbol(), g = p || "roundRect"; DN(this.stateList, function (m) { var y = this.itemSize, _ = f[m]; _ || (_ = f[m] = { color: s ? v : [v] }), _.symbol == null && (_.symbol = h && rt(h) || (s ? g : [g])), _.symbolSize == null && (_.symbolSize = d && rt(d) || (s ? y[0] : [y[0], y[0]])), _.symbol = TN(_.symbol, function (S) { return S === "none" ? g : S }); var b = _.symbolSize; if (b != null) { var x = -1 / 0; uAe(b, function (S) { S > x && (x = S) }), _.symbolSize = TN(b, function (S) { return hAe(S, [0, x], [0, y[0]], !0) }) } }, this) } }, e.prototype.resetItemSize = function () { this.itemSize = [parseFloat(this.get("itemWidth")), parseFloat(this.get("itemHeight"))] }, e.prototype.isCategory = function () { return !!this.option.categories }, e.prototype.setSelected = function (r) { }, e.prototype.getSelected = function () { return null }, e.prototype.getValueState = function (r) { return null }, e.prototype.getVisualMeta = function (r) { return null }, e.type = "visualMap", e.dependencies = ["series"], e.defaultOption = { show: !0, z: 4, seriesIndex: "all", min: 0, max: 200, left: 0, right: null, top: null, bottom: 0, itemWidth: null, itemHeight: null, inverse: !1, orient: "vertical", backgroundColor: "rgba(0,0,0,0)", borderColor: "#ccc", contentColor: "#5793f3", inactiveColor: "#aaa", borderWidth: 0, padding: 5, textGap: 10, precision: 0, textStyle: { color: "#333" } }, e }(Yt); const V0 = dAe; var CN = [20, 140], vAe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.optionUpdated = function (r, n) { t.prototype.optionUpdated.apply(this, arguments), this.resetExtent(), this.resetVisual(function (a) { a.mappingMethod = "linear", a.dataExtent = this.getExtent() }), this._resetRange() }, e.prototype.resetItemSize = function () { t.prototype.resetItemSize.apply(this, arguments); var r = this.itemSize; (r[0] == null || isNaN(r[0])) && (r[0] = CN[0]), (r[1] == null || isNaN(r[1])) && (r[1] = CN[1]) }, e.prototype._resetRange = function () { var r = this.getExtent(), n = this.option.range; !n || n.auto ? (r.auto = 1, this.option.range = r) : me(n) && (n[0] > n[1] && n.reverse(), n[0] = Math.max(n[0], r[0]), n[1] = Math.min(n[1], r[1])) }, e.prototype.completeVisualOption = function () { t.prototype.completeVisualOption.apply(this, arguments), E(this.stateList, function (r) { var n = this.option.controller[r].symbolSize; n && n[0] !== n[1] && (n[0] = n[1] / 3) }, this) }, e.prototype.setSelected = function (r) { this.option.range = r.slice(), this._resetRange() }, e.prototype.getSelected = function () { var r = this.getExtent(), n = hi((this.get("range") || []).slice()); return n[0] > r[1] && (n[0] = r[1]), n[1] > r[1] && (n[1] = r[1]), n[0] < r[0] && (n[0] = r[0]), n[1] < r[0] && (n[1] = r[0]), n }, e.prototype.getValueState = function (r) { var n = this.option.range, a = this.getExtent(); return (n[0] <= a[0] || n[0] <= r) && (n[1] >= a[1] || r <= n[1]) ? "inRange" : "outOfRange" }, e.prototype.findTargetDataIndices = function (r) { var n = []; return this.eachTargetSeries(function (a) { var i = [], o = a.getData(); o.each(this.getDataDimensionIndex(o), function (s, l) { r[0] <= s && s <= r[1] && i.push(l) }, this), n.push({ seriesId: a.id, dataIndex: i }) }, this), n }, e.prototype.getVisualMeta = function (r) { var n = MN(this, "outOfRange", this.getExtent()), a = MN(this, "inRange", this.option.range.slice()), i = []; function o(d, v) { i.push({ value: d, color: r(d, v) }) } for (var s = 0, l = 0, u = a.length, c = n.length; l < c && (!a.length || n[l] <= a[0]); l++)n[l] < a[s] && o(n[l], "outOfRange"); for (var f = 1; s < u; s++, f = 0)f && i.length && o(a[s], "outOfRange"), o(a[s], "inRange"); for (var f = 1; l < c; l++)(!a.length || a[a.length - 1] < n[l]) && (f && (i.length && o(i[i.length - 1].value, "outOfRange"), f = 0), o(n[l], "outOfRange")); var h = i.length; return { stops: i, outerColors: [h ? i[0].color : "transparent", h ? i[h - 1].color : "transparent"] } }, e.type = "visualMap.continuous", e.defaultOption = su(V0.defaultOption, { align: "auto", calculable: !1, hoverLink: !0, realtime: !0, handleIcon: "path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z", handleSize: "120%", handleStyle: { borderColor: "#fff", borderWidth: 1 }, indicatorIcon: "circle", indicatorSize: "50%", indicatorStyle: { borderColor: "#fff", borderWidth: 2, shadowBlur: 2, shadowOffsetX: 1, shadowOffsetY: 1, shadowColor: "rgba(0,0,0,0.2)" } }), e }(V0); function MN(t, e, r) { if (r[0] === r[1]) return r.slice(); for (var n = 200, a = (r[1] - r[0]) / n, i = r[0], o = [], s = 0; s <= n && i < r[1]; s++)o.push(i), i += a; return o.push(r[1]), o } const pAe = vAe; var gAe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r.autoPositionValues = { left: 1, right: 1, top: 1, bottom: 1 }, r } return e.prototype.init = function (r, n) { this.ecModel = r, this.api = n }, e.prototype.render = function (r, n, a, i) { if (this.visualMapModel = r, r.get("show") === !1) { this.group.removeAll(); return } this.doRender(r, n, a, i) }, e.prototype.renderBackground = function (r) { var n = this.visualMapModel, a = Zh(n.get("padding") || 0), i = r.getBoundingRect(); r.add(new Bt({ z2: -1, silent: !0, shape: { x: i.x - a[3], y: i.y - a[0], width: i.width + a[3] + a[1], height: i.height + a[0] + a[2] }, style: { fill: n.get("backgroundColor"), stroke: n.get("borderColor"), lineWidth: n.get("borderWidth") } })) }, e.prototype.getControllerVisual = function (r, n, a) { a = a || {}; var i = a.forceState, o = this.visualMapModel, s = {}; if (n === "color") { var l = o.get("contentColor"); s.color = l } function u(d) { return s[d] } function c(d, v) { s[d] = v } var f = o.controllerVisuals[i || o.getValueState(r)], h = Yn.prepareVisualTypes(f); return E(h, function (d) { var v = f[d]; a.convertOpacityToAlpha && d === "opacity" && (d = "colorAlpha", v = f.__alphaForOpacity), Yn.dependsOn(d, n) && v && v.applyVisual(r, u, c) }), s[n] }, e.prototype.positionGroup = function (r) { var n = this.visualMapModel, a = this.api; l1(r, n.getBoxLayoutParams(), { width: a.getWidth(), height: a.getHeight() }) }, e.prototype.doRender = function (r, n, a, i) { }, e.type = "visualMap", e }(Kr); const lH = gAe; var kN = [["left", "right", "width"], ["top", "bottom", "height"]]; function uH(t, e, r) { var n = t.option, a = n.align; if (a != null && a !== "auto") return a; for (var i = { width: e.getWidth(), height: e.getHeight() }, o = n.orient === "horizontal" ? 1 : 0, s = kN[o], l = [0, null, 10], u = {}, c = 0; c < 3; c++)u[kN[1 - o][c]] = l[c], u[s[c]] = c === 2 ? r[0] : n[s[c]]; var f = [["x", "width", 3], ["y", "height", 0]][o], h = bn(u, i, n.padding); return s[(h.margin[f[2]] || 0) + h[f[0]] + h[f[1]] * .5 < i[f[1]] * .5 ? 0 : 1] } function Py(t, e) { return E(t || [], function (r) { r.dataIndex != null && (r.dataIndexInside = r.dataIndex, r.dataIndex = null), r.highlightKey = "visualMap" + (e ? e.componentIndex : "") }), t } var uo = sr, mAe = E, AN = Math.min, WS = Math.max, yAe = 12, _Ae = 6, bAe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r._shapes = {}, r._dataInterval = [], r._handleEnds = [], r._hoverLinkDataIndices = [], r } return e.prototype.doRender = function (r, n, a, i) { this._api = a, (!i || i.type !== "selectDataRange" || i.from !== this.uid) && this._buildView() }, e.prototype._buildView = function () { this.group.removeAll(); var r = this.visualMapModel, n = this.group; this._orient = r.get("orient"), this._useHandle = r.get("calculable"), this._resetInterval(), this._renderBar(n); var a = r.get("text"); this._renderEndsText(n, a, 0), this._renderEndsText(n, a, 1), this._updateView(!0), this.renderBackground(n), this._updateView(), this._enableHoverLinkToSeries(), this._enableHoverLinkFromSeries(), this.positionGroup(n) }, e.prototype._renderEndsText = function (r, n, a) { if (n) { var i = n[1 - a]; i = i != null ? i + "" : ""; var o = this.visualMapModel, s = o.get("textGap"), l = o.itemSize, u = this._shapes.mainGroup, c = this._applyTransform([l[0] / 2, a === 0 ? -s : l[1] + s], u), f = this._applyTransform(a === 0 ? "bottom" : "top", u), h = this._orient, d = this.visualMapModel.textStyleModel; this.group.add(new Wt({ style: Mr(d, { x: c[0], y: c[1], verticalAlign: h === "horizontal" ? "middle" : f, align: h === "horizontal" ? f : "center", text: i }) })) } }, e.prototype._renderBar = function (r) { var n = this.visualMapModel, a = this._shapes, i = n.itemSize, o = this._orient, s = this._useHandle, l = uH(n, this.api, i), u = a.mainGroup = this._createBarGroup(l), c = new it; u.add(c), c.add(a.outOfRange = LN()), c.add(a.inRange = LN(null, s ? PN(this._orient) : null, $e(this._dragHandle, this, "all", !1), $e(this._dragHandle, this, "all", !0))), c.setClipPath(new Bt({ shape: { x: 0, y: 0, width: i[0], height: i[1], r: 3 } })); var f = n.textStyleModel.getTextRect("国"), h = WS(f.width, f.height); s && (a.handleThumbs = [], a.handleLabels = [], a.handleLabelPoints = [], this._createHandle(n, u, 0, i, h, o), this._createHandle(n, u, 1, i, h, o)), this._createIndicator(n, u, i, h, o), r.add(u) }, e.prototype._createHandle = function (r, n, a, i, o, s) { var l = $e(this._dragHandle, this, a, !1), u = $e(this._dragHandle, this, a, !0), c = ji(r.get("handleSize"), i[0]), f = gn(r.get("handleIcon"), -c / 2, -c / 2, c, c, null, !0), h = PN(this._orient); f.attr({ cursor: h, draggable: !0, drift: l, ondragend: u, onmousemove: function (m) { Ls(m.event) } }), f.x = i[0] / 2, f.useStyle(r.getModel("handleStyle").getItemStyle()), f.setStyle({ strokeNoScale: !0, strokeFirst: !0 }), f.style.lineWidth *= 2, f.ensureState("emphasis").style = r.getModel(["emphasis", "handleStyle"]).getItemStyle(), uc(f, !0), n.add(f); var d = this.visualMapModel.textStyleModel, v = new Wt({ cursor: h, draggable: !0, drift: l, onmousemove: function (m) { Ls(m.event) }, ondragend: u, style: Mr(d, { x: 0, y: 0, text: "" }) }); v.ensureState("blur").style = { opacity: .1 }, v.stateTransition = { duration: 200 }, this.group.add(v); var p = [c, 0], g = this._shapes; g.handleThumbs[a] = f, g.handleLabelPoints[a] = p, g.handleLabels[a] = v }, e.prototype._createIndicator = function (r, n, a, i, o) { var s = ji(r.get("indicatorSize"), a[0]), l = gn(r.get("indicatorIcon"), -s / 2, -s / 2, s, s, null, !0); l.attr({ cursor: "move", invisible: !0, silent: !0, x: a[0] / 2 }); var u = r.getModel("indicatorStyle").getItemStyle(); if (l instanceof Gn) { var c = l.style; l.useStyle(he({ image: c.image, x: c.x, y: c.y, width: c.width, height: c.height }, u)) } else l.useStyle(u); n.add(l); var f = this.visualMapModel.textStyleModel, h = new Wt({ silent: !0, invisible: !0, style: Mr(f, { x: 0, y: 0, text: "" }) }); this.group.add(h); var d = [(o === "horizontal" ? i / 2 : _Ae) + a[0] / 2, 0], v = this._shapes; v.indicator = l, v.indicatorLabel = h, v.indicatorLabelPoint = d, this._firstShowIndicator = !0 }, e.prototype._dragHandle = function (r, n, a, i) { if (this._useHandle) { if (this._dragging = !n, !n) { var o = this._applyTransform([a, i], this._shapes.mainGroup, !0); this._updateInterval(r, o[1]), this._hideIndicator(), this._updateView() } n === !this.visualMapModel.get("realtime") && this.api.dispatchAction({ type: "selectDataRange", from: this.uid, visualMapId: this.visualMapModel.id, selected: this._dataInterval.slice() }), n ? !this._hovering && this._clearHoverLinkToSeries() : IN(this.visualMapModel) && this._doHoverLinkToSeries(this._handleEnds[r], !1) } }, e.prototype._resetInterval = function () { var r = this.visualMapModel, n = this._dataInterval = r.getSelected(), a = r.getExtent(), i = [0, r.itemSize[1]]; this._handleEnds = [uo(n[0], a, i, !0), uo(n[1], a, i, !0)] }, e.prototype._updateInterval = function (r, n) { n = n || 0; var a = this.visualMapModel, i = this._handleEnds, o = [0, a.itemSize[1]]; ef(n, i, o, r, 0); var s = a.getExtent(); this._dataInterval = [uo(i[0], o, s, !0), uo(i[1], o, s, !0)] }, e.prototype._updateView = function (r) { var n = this.visualMapModel, a = n.getExtent(), i = this._shapes, o = [0, n.itemSize[1]], s = r ? o : this._handleEnds, l = this._createBarVisual(this._dataInterval, a, s, "inRange"), u = this._createBarVisual(a, a, o, "outOfRange"); i.inRange.setStyle({ fill: l.barColor }).setShape("points", l.barPoints), i.outOfRange.setStyle({ fill: u.barColor }).setShape("points", u.barPoints), this._updateHandle(s, l) }, e.prototype._createBarVisual = function (r, n, a, i) { var o = { forceState: i, convertOpacityToAlpha: !0 }, s = this._makeColorGradient(r, o), l = [this.getControllerVisual(r[0], "symbolSize", o), this.getControllerVisual(r[1], "symbolSize", o)], u = this._createBarPoints(a, l); return { barColor: new eg(0, 0, 0, 1, s), barPoints: u, handlesColor: [s[0].color, s[s.length - 1].color] } }, e.prototype._makeColorGradient = function (r, n) { var a = 100, i = [], o = (r[1] - r[0]) / a; i.push({ color: this.getControllerVisual(r[0], "color", n), offset: 0 }); for (var s = 1; s < a; s++) { var l = r[0] + o * s; if (l > r[1]) break; i.push({ color: this.getControllerVisual(l, "color", n), offset: s / a }) } return i.push({ color: this.getControllerVisual(r[1], "color", n), offset: 1 }), i }, e.prototype._createBarPoints = function (r, n) { var a = this.visualMapModel.itemSize; return [[a[0] - n[0], r[0]], [a[0], r[0]], [a[0], r[1]], [a[0] - n[1], r[1]]] }, e.prototype._createBarGroup = function (r) { var n = this._orient, a = this.visualMapModel.get("inverse"); return new it(n === "horizontal" && !a ? { scaleX: r === "bottom" ? 1 : -1, rotation: Math.PI / 2 } : n === "horizontal" && a ? { scaleX: r === "bottom" ? -1 : 1, rotation: -Math.PI / 2 } : n === "vertical" && !a ? { scaleX: r === "left" ? 1 : -1, scaleY: -1 } : { scaleX: r === "left" ? 1 : -1 }) }, e.prototype._updateHandle = function (r, n) { if (this._useHandle) { var a = this._shapes, i = this.visualMapModel, o = a.handleThumbs, s = a.handleLabels, l = i.itemSize, u = i.getExtent(); mAe([0, 1], function (c) { var f = o[c]; f.setStyle("fill", n.handlesColor[c]), f.y = r[c]; var h = uo(r[c], [0, l[1]], u, !0), d = this.getControllerVisual(h, "symbolSize"); f.scaleX = f.scaleY = d / l[0], f.x = l[0] - d / 2; var v = Yi(a.handleLabelPoints[c], Cc(f, this.group)); s[c].setStyle({ x: v[0], y: v[1], text: i.formatValueText(this._dataInterval[c]), verticalAlign: "middle", align: this._orient === "vertical" ? this._applyTransform("left", a.mainGroup) : "center" }) }, this) } }, e.prototype._showIndicator = function (r, n, a, i) { var o = this.visualMapModel, s = o.getExtent(), l = o.itemSize, u = [0, l[1]], c = this._shapes, f = c.indicator; if (f) { f.attr("invisible", !1); var h = { convertOpacityToAlpha: !0 }, d = this.getControllerVisual(r, "color", h), v = this.getControllerVisual(r, "symbolSize"), p = uo(r, s, u, !0), g = l[0] - v / 2, m = { x: f.x, y: f.y }; f.y = p, f.x = g; var y = Yi(c.indicatorLabelPoint, Cc(f, this.group)), _ = c.indicatorLabel; _.attr("invisible", !1); var b = this._applyTransform("left", c.mainGroup), x = this._orient, S = x === "horizontal"; _.setStyle({ text: (a || "") + o.formatValueText(n), verticalAlign: S ? b : "middle", align: S ? "center" : b }); var T = { x: g, y: p, style: { fill: d } }, C = { style: { x: y[0], y: y[1] } }; if (o.ecModel.isAnimationEnabled() && !this._firstShowIndicator) { var M = { duration: 100, easing: "cubicInOut", additive: !0 }; f.x = m.x, f.y = m.y, f.animateTo(T, M), _.animateTo(C, M) } else f.attr(T), _.attr(C); this._firstShowIndicator = !1; var k = this._shapes.handleLabels; if (k) for (var A = 0; A < k.length; A++)this._api.enterBlur(k[A]) } }, e.prototype._enableHoverLinkToSeries = function () { var r = this; this._shapes.mainGroup.on("mousemove", function (n) { if (r._hovering = !0, !r._dragging) { var a = r.visualMapModel.itemSize, i = r._applyTransform([n.offsetX, n.offsetY], r._shapes.mainGroup, !0, !0); i[1] = AN(WS(0, i[1]), a[1]), r._doHoverLinkToSeries(i[1], 0 <= i[0] && i[0] <= a[0]) } }).on("mouseout", function () { r._hovering = !1, !r._dragging && r._clearHoverLinkToSeries() }) }, e.prototype._enableHoverLinkFromSeries = function () { var r = this.api.getZr(); this.visualMapModel.option.hoverLink ? (r.on("mouseover", this._hoverLinkFromSeriesMouseOver, this), r.on("mouseout", this._hideIndicator, this)) : this._clearHoverLinkFromSeries() }, e.prototype._doHoverLinkToSeries = function (r, n) { var a = this.visualMapModel, i = a.itemSize; if (a.option.hoverLink) { var o = [0, i[1]], s = a.getExtent(); r = AN(WS(o[0], r), o[1]); var l = wAe(a, s, o), u = [r - l, r + l], c = uo(r, o, s, !0), f = [uo(u[0], o, s, !0), uo(u[1], o, s, !0)]; u[0] < o[0] && (f[0] = -1 / 0), u[1] > o[1] && (f[1] = 1 / 0), n && (f[0] === -1 / 0 ? this._showIndicator(c, f[1], "< ", l) : f[1] === 1 / 0 ? this._showIndicator(c, f[0], "> ", l) : this._showIndicator(c, c, "≈ ", l)); var h = this._hoverLinkDataIndices, d = []; (n || IN(a)) && (d = this._hoverLinkDataIndices = a.findTargetDataIndices(f)); var v = ife(h, d); this._dispatchHighDown("downplay", Py(v[0], a)), this._dispatchHighDown("highlight", Py(v[1], a)) } }, e.prototype._hoverLinkFromSeriesMouseOver = function (r) { var n; if (fc(r.target, function (l) { var u = lt(l); if (u.dataIndex != null) return n = u, !0 }, !0), !!n) { var a = this.ecModel.getSeriesByIndex(n.seriesIndex), i = this.visualMapModel; if (i.isTargetSeries(a)) { var o = a.getData(n.dataType), s = o.getStore().get(i.getDataDimensionIndex(o), n.dataIndex); isNaN(s) || this._showIndicator(s, s) } } }, e.prototype._hideIndicator = function () { var r = this._shapes; r.indicator && r.indicator.attr("invisible", !0), r.indicatorLabel && r.indicatorLabel.attr("invisible", !0); var n = this._shapes.handleLabels; if (n) for (var a = 0; a < n.length; a++)this._api.leaveBlur(n[a]) }, e.prototype._clearHoverLinkToSeries = function () { this._hideIndicator(); var r = this._hoverLinkDataIndices; this._dispatchHighDown("downplay", Py(r, this.visualMapModel)), r.length = 0 }, e.prototype._clearHoverLinkFromSeries = function () { this._hideIndicator(); var r = this.api.getZr(); r.off("mouseover", this._hoverLinkFromSeriesMouseOver), r.off("mouseout", this._hideIndicator) }, e.prototype._applyTransform = function (r, n, a, i) { var o = Cc(n, i ? null : this.group); return me(r) ? Yi(r, o, a) : t1(r, o, a) }, e.prototype._dispatchHighDown = function (r, n) { n && n.length && this.api.dispatchAction({ type: r, batch: n }) }, e.prototype.dispose = function () { this._clearHoverLinkFromSeries(), this._clearHoverLinkToSeries() }, e.prototype.remove = function () { this._clearHoverLinkFromSeries(), this._clearHoverLinkToSeries() }, e.type = "visualMap.continuous", e }(lH); function LN(t, e, r, n) { return new Ea({ shape: { points: t }, draggable: !!r, cursor: e, drift: r, onmousemove: function (a) { Ls(a.event) }, ondragend: n }) } function wAe(t, e, r) { var n = yAe / 2, a = t.get("hoverLinkDataSize"); return a && (n = uo(a, e, r, !0) / 2), n } function IN(t) { var e = t.get("hoverLinkOnHandle"); return !!(e ?? t.get("realtime")) } function PN(t) { return t === "vertical" ? "ns-resize" : "ew-resize" } const SAe = bAe; var xAe = { type: "selectDataRange", event: "dataRangeSelected", update: "update" }, TAe = function (t, e) { e.eachComponent({ mainType: "visualMap", query: t }, function (r) { r.setSelected(t.selected) }) }, DAe = [{ createOnAllSeries: !0, reset: function (t, e) { var r = []; return e.eachComponent("visualMap", function (n) { var a = t.pipelineContext; !n.isTargetSeries(t) || a && a.large || r.push(bMe(n.stateList, n.targetVisuals, $e(n.getValueState, n), n.getDataDimensionIndex(t.getData()))) }), r } }, { createOnAllSeries: !0, reset: function (t, e) { var r = t.getData(), n = []; e.eachComponent("visualMap", function (a) { if (a.isTargetSeries(t)) { var i = a.getVisualMeta($e(CAe, null, t, a)) || { stops: [], outerColors: [] }, o = a.getDataDimensionIndex(r); o >= 0 && (i.dimension = o, n.push(i)) } }), t.getData().setVisual("visualMeta", n) } }]; function CAe(t, e, r, n) { for (var a = e.targetVisuals[n], i = Yn.prepareVisualTypes(a), o = { color: ig(t.getData(), "color") }, s = 0, l = i.length; s < l; s++) { var u = i[s], c = a[u === "opacity" ? "__alphaForOpacity" : u]; c && c.applyVisual(r, f, h) } return o.color; function f(d) { return o[d] } function h(d, v) { o[d] = v } } var RN = E; function MAe(t) { var e = t && t.visualMap; me(e) || (e = e ? [e] : []), RN(e, function (r) { if (r) { Of(r, "splitList") && !Of(r, "pieces") && (r.pieces = r.splitList, delete r.splitList); var n = r.pieces; n && me(n) && RN(n, function (a) { Qe(a) && (Of(a, "start") && !Of(a, "min") && (a.min = a.start), Of(a, "end") && !Of(a, "max") && (a.max = a.end)) }) } }) } function Of(t, e) { return t && t.hasOwnProperty && t.hasOwnProperty(e) } var ON = !1; function cH(t) { ON || (ON = !0, t.registerSubTypeDefaulter("visualMap", function (e) { return !e.categories && (!(e.pieces ? e.pieces.length > 0 : e.splitNumber > 0) || e.calculable) ? "continuous" : "piecewise" }), t.registerAction(xAe, TAe), E(DAe, function (e) { t.registerVisual(t.PRIORITY.VISUAL.COMPONENT, e) }), t.registerPreprocessor(MAe)) } function fH(t) { t.registerComponentModel(pAe), t.registerComponentView(SAe), cH(t) } var kAe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r._pieceList = [], r } return e.prototype.optionUpdated = function (r, n) { t.prototype.optionUpdated.apply(this, arguments), this.resetExtent(); var a = this._mode = this._determineMode(); this._pieceList = [], AAe[this._mode].call(this, this._pieceList), this._resetSelected(r, n); var i = this.option.categories; this.resetVisual(function (o, s) { a === "categories" ? (o.mappingMethod = "category", o.categories = rt(i)) : (o.dataExtent = this.getExtent(), o.mappingMethod = "piecewise", o.pieceList = _e(this._pieceList, function (l) { return l = rt(l), s !== "inRange" && (l.visual = null), l })) }) }, e.prototype.completeVisualOption = function () { var r = this.option, n = {}, a = Yn.listVisualTypes(), i = this.isCategory(); E(r.pieces, function (s) { E(a, function (l) { s.hasOwnProperty(l) && (n[l] = 1) }) }), E(n, function (s, l) { var u = !1; E(this.stateList, function (c) { u = u || o(r, c, l) || o(r.target, c, l) }, this), !u && E(this.stateList, function (c) { (r[c] || (r[c] = {}))[l] = sH.get(l, c === "inRange" ? "active" : "inactive", i) }) }, this); function o(s, l, u) { return s && s[l] && s[l].hasOwnProperty(u) } t.prototype.completeVisualOption.apply(this, arguments) }, e.prototype._resetSelected = function (r, n) { var a = this.option, i = this._pieceList, o = (n ? a : r).selected || {}; if (a.selected = o, E(i, function (l, u) { var c = this.getSelectedMapKey(l); o.hasOwnProperty(c) || (o[c] = !0) }, this), a.selectedMode === "single") { var s = !1; E(i, function (l, u) { var c = this.getSelectedMapKey(l); o[c] && (s ? o[c] = !1 : s = !0) }, this) } }, e.prototype.getItemSymbol = function () { return this.get("itemSymbol") }, e.prototype.getSelectedMapKey = function (r) { return this._mode === "categories" ? r.value + "" : r.index + "" }, e.prototype.getPieceList = function () { return this._pieceList }, e.prototype._determineMode = function () { var r = this.option; return r.pieces && r.pieces.length > 0 ? "pieces" : this.option.categories ? "categories" : "splitNumber" }, e.prototype.setSelected = function (r) { this.option.selected = rt(r) }, e.prototype.getValueState = function (r) { var n = Yn.findPieceIndex(r, this._pieceList); return n != null && this.option.selected[this.getSelectedMapKey(this._pieceList[n])] ? "inRange" : "outOfRange" }, e.prototype.findTargetDataIndices = function (r) { var n = [], a = this._pieceList; return this.eachTargetSeries(function (i) { var o = [], s = i.getData(); s.each(this.getDataDimensionIndex(s), function (l, u) { var c = Yn.findPieceIndex(l, a); c === r && o.push(u) }, this), n.push({ seriesId: i.id, dataIndex: o }) }, this), n }, e.prototype.getRepresentValue = function (r) { var n; if (this.isCategory()) n = r.value; else if (r.value != null) n = r.value; else { var a = r.interval || []; n = a[0] === -1 / 0 && a[1] === 1 / 0 ? 0 : (a[0] + a[1]) / 2 } return n }, e.prototype.getVisualMeta = function (r) { if (this.isCategory()) return; var n = [], a = ["", ""], i = this; function o(c, f) { var h = i.getRepresentValue({ interval: c }); f || (f = i.getValueState(h)); var d = r(h, f); c[0] === -1 / 0 ? a[0] = d : c[1] === 1 / 0 ? a[1] = d : n.push({ value: c[0], color: d }, { value: c[1], color: d }) } var s = this._pieceList.slice(); if (!s.length) s.push({ interval: [-1 / 0, 1 / 0] }); else { var l = s[0].interval[0]; l !== -1 / 0 && s.unshift({ interval: [-1 / 0, l] }), l = s[s.length - 1].interval[1], l !== 1 / 0 && s.push({ interval: [l, 1 / 0] }) } var u = -1 / 0; return E(s, function (c) { var f = c.interval; f && (f[0] > u && o([u, f[0]], "outOfRange"), o(f.slice()), u = f[1]) }, this), { stops: n, outerColors: a } }, e.type = "visualMap.piecewise", e.defaultOption = su(V0.defaultOption, { selected: null, minOpen: !1, maxOpen: !1, align: "auto", itemWidth: 20, itemHeight: 14, itemSymbol: "roundRect", pieces: null, categories: null, splitNumber: 5, selectedMode: "multiple", itemGap: 10, hoverLink: !0 }), e }(V0), AAe = { splitNumber: function (t) { var e = this.option, r = Math.min(e.precision, 20), n = this.getExtent(), a = e.splitNumber; a = Math.max(parseInt(a, 10), 1), e.splitNumber = a; for (var i = (n[1] - n[0]) / a; +i.toFixed(r) !== i && r < 5;)r++; e.precision = r, i = +i.toFixed(r), e.minOpen && t.push({ interval: [-1 / 0, n[0]], close: [0, 0] }); for (var o = 0, s = n[0]; o < a; s += i, o++) { var l = o === a - 1 ? n[1] : s + i; t.push({ interval: [s, l], close: [1, 1] }) } e.maxOpen && t.push({ interval: [n[1], 1 / 0], close: [0, 0] }), VI(t), E(t, function (u, c) { u.index = c, u.text = this.formatValueText(u.interval) }, this) }, categories: function (t) { var e = this.option; E(e.categories, function (r) { t.push({ text: this.formatValueText(r, !0), value: r }) }, this), EN(e, t) }, pieces: function (t) { var e = this.option; E(e.pieces, function (r, n) { Qe(r) || (r = { value: r }); var a = { text: "", index: n }; if (r.label != null && (a.text = r.label), r.hasOwnProperty("value")) { var i = a.value = r.value; a.interval = [i, i], a.close = [1, 1] } else { for (var o = a.interval = [], s = a.close = [0, 0], l = [1, 0, 1], u = [-1 / 0, 1 / 0], c = [], f = 0; f < 2; f++) { for (var h = [["gte", "gt", "min"], ["lte", "lt", "max"]][f], d = 0; d < 3 && o[f] == null; d++)o[f] = r[h[d]], s[f] = l[d], c[f] = d === 2; o[f] == null && (o[f] = u[f]) } c[0] && o[1] === 1 / 0 && (s[0] = 0), c[1] && o[0] === -1 / 0 && (s[1] = 0), o[0] === o[1] && s[0] && s[1] && (a.value = o[0]) } a.visual = Yn.retrieveVisuals(r), t.push(a) }, this), EN(e, t), VI(t), E(t, function (r) { var n = r.close, a = [["<", "≤"][n[1]], [">", "≥"][n[0]]]; r.text = r.text || this.formatValueText(r.value != null ? r.value : r.interval, !1, a) }, this) } }; function EN(t, e) { var r = t.inverse; (t.orient === "vertical" ? !r : r) && e.reverse() } const LAe = kAe; var IAe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = e.type, r } return e.prototype.doRender = function () { var r = this.group; r.removeAll(); var n = this.visualMapModel, a = n.get("textGap"), i = n.textStyleModel, o = i.getFont(), s = i.getTextColor(), l = this._getItemAlign(), u = n.itemSize, c = this._getViewData(), f = c.endsText, h = Nn(n.get("showLabel", !0), !f); f && this._renderEndsText(r, f[0], u, h, l), E(c.viewPieceList, function (d) { var v = d.piece, p = new it; p.onclick = $e(this._onItemClick, this, v), this._enableHoverLink(p, d.indexInModelPieceList); var g = n.getRepresentValue(v); if (this._createItemSymbol(p, g, [0, 0, u[0], u[1]]), h) { var m = this.visualMapModel.getValueState(g); p.add(new Wt({ style: { x: l === "right" ? -a : u[0] + a, y: u[1] / 2, text: v.text, verticalAlign: "middle", align: l, font: o, fill: s, opacity: m === "outOfRange" ? .5 : 1 } })) } r.add(p) }, this), f && this._renderEndsText(r, f[1], u, h, l), Mc(n.get("orient"), r, n.get("itemGap")), this.renderBackground(r), this.positionGroup(r) }, e.prototype._enableHoverLink = function (r, n) { var a = this; r.on("mouseover", function () { return i("highlight") }).on("mouseout", function () { return i("downplay") }); var i = function (o) { var s = a.visualMapModel; s.option.hoverLink && a.api.dispatchAction({ type: o, batch: Py(s.findTargetDataIndices(n), s) }) } }, e.prototype._getItemAlign = function () { var r = this.visualMapModel, n = r.option; if (n.orient === "vertical") return uH(r, this.api, r.itemSize); var a = n.align; return (!a || a === "auto") && (a = "left"), a }, e.prototype._renderEndsText = function (r, n, a, i, o) { if (n) { var s = new it, l = this.visualMapModel.textStyleModel; s.add(new Wt({ style: Mr(l, { x: i ? o === "right" ? a[0] : 0 : a[0] / 2, y: a[1] / 2, verticalAlign: "middle", align: i ? o : "center", text: n }) })), r.add(s) } }, e.prototype._getViewData = function () { var r = this.visualMapModel, n = _e(r.getPieceList(), function (s, l) { return { piece: s, indexInModelPieceList: l } }), a = r.get("text"), i = r.get("orient"), o = r.get("inverse"); return (i === "horizontal" ? o : !o) ? n.reverse() : a && (a = a.slice().reverse()), { viewPieceList: n, endsText: a } }, e.prototype._createItemSymbol = function (r, n, a) { r.add(gn(this.getControllerVisual(n, "symbol"), a[0], a[1], a[2], a[3], this.getControllerVisual(n, "color"))) }, e.prototype._onItemClick = function (r) { var n = this.visualMapModel, a = n.option, i = a.selectedMode; if (i) { var o = rt(a.selected), s = n.getSelectedMapKey(r); i === "single" || i === !0 ? (o[s] = !0, E(o, function (l, u) { o[u] = u === s })) : o[s] = !o[s], this.api.dispatchAction({ type: "selectDataRange", from: this.uid, visualMapId: this.visualMapModel.id, selected: o }) } }, e.type = "visualMap.piecewise", e }(lH); const PAe = IAe; function hH(t) { t.registerComponentModel(LAe), t.registerComponentView(PAe), cH(t) } function RAe(t) { Dt(fH), Dt(hH) } var OAe = { label: { enabled: !0 }, decal: { show: !1 } }, NN = zt(), EAe = {}; function NAe(t, e) { var r = t.getModel("aria"); if (!r.get("enabled")) return; var n = rt(OAe); bt(n.label, t.getLocaleModel().get("aria"), !1), bt(r.option, n, !1), a(), i(); function a() { var u = r.getModel("decal"), c = u.get("show"); if (c) { var f = He(); t.eachSeries(function (h) { if (!h.isColorBySeries()) { var d = f.get(h.type); d || (d = {}, f.set(h.type, d)), NN(h).scope = d } }), t.eachRawSeries(function (h) { if (t.isSeriesFiltered(h)) return; if (je(h.enableAriaDecal)) { h.enableAriaDecal(); return } var d = h.getData(); if (h.isColorBySeries()) { var y = RT(h.ecModel, h.name, EAe, t.getSeriesCount()), _ = d.getVisual("decal"); d.setVisual("decal", b(_, y)) } else { var v = h.getRawData(), p = {}, g = NN(h).scope; d.each(function (x) { var S = d.getRawIndex(x); p[S] = x }); var m = v.count(); v.each(function (x) { var S = p[x], T = v.getName(x) || x + "", C = RT(h.ecModel, T, g, m), M = d.getItemVisual(S, "decal"); d.setItemVisual(S, "decal", b(M, C)) }) } function b(x, S) { var T = x ? he(he({}, S), x) : S; return T.dirty = !0, T } }) } } function i() { var u = t.getLocaleModel().get("aria"), c = r.getModel("label"); if (c.option = Xe(c.option, u), !!c.get("enabled")) { var f = e.getZr().dom; if (c.get("description")) { f.setAttribute("aria-label", c.get("description")); return } var h = t.getSeriesCount(), d = c.get(["data", "maxCount"]) || 10, v = c.get(["series", "maxCount"]) || 10, p = Math.min(h, v), g; if (!(h < 1)) { var m = s(); if (m) { var y = c.get(["general", "withTitle"]); g = o(y, { title: m }) } else g = c.get(["general", "withoutTitle"]); var _ = [], b = h > 1 ? c.get(["series", "multiple", "prefix"]) : c.get(["series", "single", "prefix"]); g += o(b, { seriesCount: h }), t.eachSeries(function (C, M) { if (M < p) { var k = void 0, A = C.get("name"), R = A ? "withName" : "withoutName"; k = h > 1 ? c.get(["series", "multiple", R]) : c.get(["series", "single", R]), k = o(k, { seriesId: C.seriesIndex, seriesName: C.get("name"), seriesType: l(C.subType) }); var N = C.getData(); if (N.count() > d) { var z = c.get(["data", "partialData"]); k += o(z, { displayCnt: d }) } else k += c.get(["data", "allData"]); for (var F = c.get(["data", "separator", "middle"]), V = c.get(["data", "separator", "end"]), L = [], H = 0; H < N.count(); H++)if (H < d) { var q = N.getName(H), K = N.getValues(H), te = c.get(["data", q ? "withName" : "withoutName"]); L.push(o(te, { name: q, value: K.join(F) })) } k += L.join(F) + V, _.push(k) } }); var x = c.getModel(["series", "multiple", "separator"]), S = x.get("middle"), T = x.get("end"); g += _.join(S) + T, f.setAttribute("aria-label", g) } } } function o(u, c) { if (!Oe(u)) return u; var f = u; return E(c, function (h, d) { f = f.replace(new RegExp("\\{\\s*" + d + "\\s*\\}", "g"), h) }), f } function s() { var u = t.get("title"); return u && u.length && (u = u[0]), u && u.text } function l(u) { return t.getLocaleModel().get(["series", "typeNames"])[u] || "自定义图" } } function $Ae(t) { if (!(!t || !t.aria)) { var e = t.aria; e.show != null && (e.enabled = e.show), e.label = e.label || {}, E(["description", "general", "series", "data"], function (r) { e[r] != null && (e.label[r] = e[r]) }) } } function FAe(t) { t.registerPreprocessor($Ae), t.registerVisual(t.PRIORITY.VISUAL.ARIA, NAe) } var $N = { value: "eq", "<": "lt", "<=": "lte", ">": "gt", ">=": "gte", "=": "eq", "!=": "ne", "<>": "ne" }, BAe = function () { function t(e) { var r = this._condVal = Oe(e) ? new RegExp(e) : gue(e) ? e : null; if (r == null) { var n = ""; Kt(n) } } return t.prototype.evaluate = function (e) { var r = typeof e; return Oe(r) ? this._condVal.test(e) : Gt(r) ? this._condVal.test(e + "") : !1 }, t }(), VAe = function () { function t() { } return t.prototype.evaluate = function () { return this.value }, t }(), zAe = function () { function t() { } return t.prototype.evaluate = function () { for (var e = this.children, r = 0; r < e.length; r++)if (!e[r].evaluate()) return !1; return !0 }, t }(), HAe = function () { function t() { } return t.prototype.evaluate = function () { for (var e = this.children, r = 0; r < e.length; r++)if (e[r].evaluate()) return !0; return !1 }, t }(), YAe = function () { function t() { } return t.prototype.evaluate = function () { return !this.child.evaluate() }, t }(), UAe = function () { function t() { } return t.prototype.evaluate = function () { for (var e = !!this.valueParser, r = this.getValue, n = r(this.valueGetterParam), a = e ? this.valueParser(n) : null, i = 0; i < this.subCondList.length; i++)if (!this.subCondList[i].evaluate(e ? a : n)) return !1; return !0 }, t }(); function XM(t, e) { if (t === !0 || t === !1) { var r = new VAe; return r.value = t, r } var n = ""; return dH(t) || Kt(n), t.and ? FN("and", t, e) : t.or ? FN("or", t, e) : t.not ? WAe(t, e) : GAe(t, e) } function FN(t, e, r) { var n = e[t], a = ""; me(n) || Kt(a), n.length || Kt(a); var i = t === "and" ? new zAe : new HAe; return i.children = _e(n, function (o) { return XM(o, r) }), i.children.length || Kt(a), i } function WAe(t, e) { var r = t.not, n = ""; dH(r) || Kt(n); var a = new YAe; return a.child = XM(r, e), a.child || Kt(n), a } function GAe(t, e) { for (var r = "", n = e.prepareGetValue(t), a = [], i = Nt(t), o = t.parser, s = o ? e6(o) : null, l = 0; l < i.length; l++) { var u = i[l]; if (!(u === "parser" || e.valueGetterAttrMap.get(u))) { var c = Fe($N, u) ? $N[u] : u, f = t[u], h = s ? s(f) : f, d = bve(c, h) || c === "reg" && new BAe(h); d || Kt(r), a.push(d) } } a.length || Kt(r); var v = new UAe; return v.valueGetterParam = n, v.valueParser = s, v.getValue = e.getValue, v.subCondList = a, v } function dH(t) { return Qe(t) && !na(t) } var jAe = function () { function t(e, r) { this._cond = XM(e, r) } return t.prototype.evaluate = function () { return this._cond.evaluate() }, t }(); function ZAe(t, e) { return new jAe(t, e) } var qAe = { type: "echarts:filter", transform: function (t) { for (var e = t.upstream, r, n = ZAe(t.config, { valueGetterAttrMap: He({ dimension: !0 }), prepareGetValue: function (s) { var l = "", u = s.dimension; Fe(s, "dimension") || Kt(l); var c = e.getDimensionInfo(u); return c || Kt(l), { dimIdx: c.index } }, getValue: function (s) { return e.retrieveValueFromItem(r, s.dimIdx) } }), a = [], i = 0, o = e.count(); i < o; i++)r = e.getRawDataItem(i), n.evaluate() && a.push(r); return { data: a } } }, XAe = { type: "echarts:sort", transform: function (t) { var e = t.upstream, r = t.config, n = "", a = mr(r); a.length || Kt(n); var i = []; E(a, function (c) { var f = c.dimension, h = c.order, d = c.parser, v = c.incomparable; if (f == null && Kt(n), h !== "asc" && h !== "desc" && Kt(n), v && v !== "min" && v !== "max") { var p = ""; Kt(p) } if (h !== "asc" && h !== "desc") { var g = ""; Kt(g) } var m = e.getDimensionInfo(f); m || Kt(n); var y = d ? e6(d) : null; d && !y && Kt(n), i.push({ dimIdx: m.index, parser: y, comparator: new r6(h, v) }) }); var o = e.sourceFormat; o !== aa && o !== xi && Kt(n); for (var s = [], l = 0, u = e.count(); l < u; l++)s.push(e.getRawDataItem(l)); return s.sort(function (c, f) { for (var h = 0; h < i.length; h++) { var d = i[h], v = e.retrieveValueFromItem(c, d.dimIdx), p = e.retrieveValueFromItem(f, d.dimIdx); d.parser && (v = d.parser(v), p = d.parser(p)); var g = d.comparator.evaluate(v, p); if (g !== 0) return g } return 0 }), { data: s } } }; function KM(t) { t.registerTransform(qAe), t.registerTransform(XAe) } var KAe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = "dataset", r } return e.prototype.init = function (r, n, a) { t.prototype.init.call(this, r, n, a), this._sourceManager = new o6(this), eR(this) }, e.prototype.mergeOption = function (r, n) { t.prototype.mergeOption.call(this, r, n), eR(this) }, e.prototype.optionUpdated = function () { this._sourceManager.dirty() }, e.prototype.getSourceManager = function () { return this._sourceManager }, e.type = "dataset", e.defaultOption = { seriesLayoutBy: Mo }, e }(Yt), QAe = function (t) { ae(e, t); function e() { var r = t !== null && t.apply(this, arguments) || this; return r.type = "dataset", r } return e.type = "dataset", e }(Kr); function QM(t) { t.registerComponentModel(KAe), t.registerComponentView(QAe) } var so = No.CMD; function rh(t, e) { return Math.abs(t - e) < 1e-5 } function A2(t) { var e = t.data, r = t.len(), n = [], a, i = 0, o = 0, s = 0, l = 0; function u(N, z) { a && a.length > 2 && n.push(a), a = [N, z] } function c(N, z, F, V) { rh(N, F) && rh(z, V) || a.push(N, z, F, V, F, V) } function f(N, z, F, V, L, H) { var q = Math.abs(z - N), K = Math.tan(q / 4) * 4 / 3, te = z < N ? -1 : 1, oe = Math.cos(N), X = Math.sin(N), U = Math.cos(z), B = Math.sin(z), ee = oe * L + F, Q = X * H + V, se = U * L + F, ue = B * H + V, pe = L * K * te, Se = H * K * te; a.push(ee - pe * X, Q + Se * oe, se + pe * B, ue - Se * U, se, ue) } for (var h, d, v, p, g = 0; g < r;) { var m = e[g++], y = g === 1; switch (y && (i = e[g], o = e[g + 1], s = i, l = o, (m === so.L || m === so.C || m === so.Q) && (a = [s, l])), m) { case so.M: i = s = e[g++], o = l = e[g++], u(s, l); break; case so.L: h = e[g++], d = e[g++], c(i, o, h, d), i = h, o = d; break; case so.C: a.push(e[g++], e[g++], e[g++], e[g++], i = e[g++], o = e[g++]); break; case so.Q: h = e[g++], d = e[g++], v = e[g++], p = e[g++], a.push(i + 2 / 3 * (h - i), o + 2 / 3 * (d - o), v + 2 / 3 * (h - v), p + 2 / 3 * (d - p), v, p), i = v, o = p; break; case so.A: var _ = e[g++], b = e[g++], x = e[g++], S = e[g++], T = e[g++], C = e[g++] + T; g += 1; var M = !e[g++]; h = Math.cos(T) * x + _, d = Math.sin(T) * S + b, y ? (s = h, l = d, u(s, l)) : c(i, o, h, d), i = Math.cos(C) * x + _, o = Math.sin(C) * S + b; for (var k = (M ? -1 : 1) * Math.PI / 2, A = T; M ? A > C : A < C; A += k) { var R = M ? Math.max(A + k, C) : Math.min(A + k, C); f(A, R, _, b, x, S) } break; case so.R: s = i = e[g++], l = o = e[g++], h = s + e[g++], d = l + e[g++], u(h, l), c(h, l, h, d), c(h, d, s, d), c(s, d, s, l), c(s, l, h, l); break; case so.Z: a && c(i, o, s, l), i = s, o = l; break } } return a && a.length > 2 && n.push(a), n } function L2(t, e, r, n, a, i, o, s, l, u) { if (rh(t, r) && rh(e, n) && rh(a, o) && rh(i, s)) { l.push(o, s); return } var c = 2 / u, f = c * c, h = o - t, d = s - e, v = Math.sqrt(h * h + d * d); h /= v, d /= v; var p = r - t, g = n - e, m = a - o, y = i - s, _ = p * p + g * g, b = m * m + y * y; if (_ < f && b < f) { l.push(o, s); return } var x = h * p + d * g, S = -h * m - d * y, T = _ - x * x, C = b - S * S; if (T < f && x >= 0 && C < f && S >= 0) { l.push(o, s); return } var M = [], k = []; Xl(t, r, a, o, .5, M), Xl(e, n, i, s, .5, k), L2(M[0], k[0], M[1], k[1], M[2], k[2], M[3], k[3], l, u), L2(M[4], k[4], M[5], k[5], M[6], k[6], M[7], k[7], l, u) } function JAe(t, e) { var r = A2(t), n = []; e = e || 1; for (var a = 0; a < r.length; a++) { var i = r[a], o = [], s = i[0], l = i[1]; o.push(s, l); for (var u = 2; u < i.length;) { var c = i[u++], f = i[u++], h = i[u++], d = i[u++], v = i[u++], p = i[u++]; L2(s, l, c, f, h, d, v, p, o, e), s = v, l = p } n.push(o) } return n } function vH(t, e, r) { var n = t[e], a = t[1 - e], i = Math.abs(n / a), o = Math.ceil(Math.sqrt(i * r)), s = Math.floor(r / o); s === 0 && (s = 1, o = r); for (var l = [], u = 0; u < o; u++)l.push(s); var c = o * s, f = r - c; if (f > 0) for (var u = 0; u < f; u++)l[u % o] += 1; return l } function BN(t, e, r) { for (var n = t.r0, a = t.r, i = t.startAngle, o = t.endAngle, s = Math.abs(o - i), l = s * a, u = a - n, c = l > Math.abs(u), f = vH([l, u], c ? 0 : 1, e), h = (c ? s : u) / f.length, d = 0; d < f.length; d++)for (var v = (c ? u : s) / f[d], p = 0; p < f[d]; p++) { var g = {}; c ? (g.startAngle = i + h * d, g.endAngle = i + h * (d + 1), g.r0 = n + v * p, g.r = n + v * (p + 1)) : (g.startAngle = i + v * p, g.endAngle = i + v * (p + 1), g.r0 = n + h * d, g.r = n + h * (d + 1)), g.clockwise = t.clockwise, g.cx = t.cx, g.cy = t.cy, r.push(g) } } function eLe(t, e, r) { for (var n = t.width, a = t.height, i = n > a, o = vH([n, a], i ? 0 : 1, e), s = i ? "width" : "height", l = i ? "height" : "width", u = i ? "x" : "y", c = i ? "y" : "x", f = t[s] / o.length, h = 0; h < o.length; h++)for (var d = t[l] / o[h], v = 0; v < o[h]; v++) { var p = {}; p[u] = h * f, p[c] = v * d, p[s] = f, p[l] = d, p.x += t.x, p.y += t.y, r.push(p) } } function VN(t, e, r, n) { return t * n - r * e } function tLe(t, e, r, n, a, i, o, s) { var l = r - t, u = n - e, c = o - a, f = s - i, h = VN(c, f, l, u); if (Math.abs(h) < 1e-6) return null; var d = t - a, v = e - i, p = VN(d, v, c, f) / h; return p < 0 || p > 1 ? null : new gt(p * l + t, p * u + e) } function rLe(t, e, r) { var n = new gt; gt.sub(n, r, e), n.normalize(); var a = new gt; gt.sub(a, t, e); var i = a.dot(n); return i } function Ef(t, e) { var r = t[t.length - 1]; r && r[0] === e[0] && r[1] === e[1] || t.push(e) } function nLe(t, e, r) { for (var n = t.length, a = [], i = 0; i < n; i++) { var o = t[i], s = t[(i + 1) % n], l = tLe(o[0], o[1], s[0], s[1], e.x, e.y, r.x, r.y); l && a.push({ projPt: rLe(l, e, r), pt: l, idx: i }) } if (a.length < 2) return [{ points: t }, { points: t }]; a.sort(function (g, m) { return g.projPt - m.projPt }); var u = a[0], c = a[a.length - 1]; if (c.idx < u.idx) { var f = u; u = c, c = f } for (var h = [u.pt.x, u.pt.y], d = [c.pt.x, c.pt.y], v = [h], p = [d], i = u.idx + 1; i <= c.idx; i++)Ef(v, t[i].slice()); Ef(v, d), Ef(v, h); for (var i = c.idx + 1; i <= u.idx + n; i++)Ef(p, t[i % n].slice()); return Ef(p, h), Ef(p, d), [{ points: v }, { points: p }] } function zN(t) { var e = t.points, r = [], n = []; q_(e, r, n); var a = new wt(r[0], r[1], n[0] - r[0], n[1] - r[1]), i = a.width, o = a.height, s = a.x, l = a.y, u = new gt, c = new gt; return i > o ? (u.x = c.x = s + i / 2, u.y = l, c.y = l + o) : (u.y = c.y = l + o / 2, u.x = s, c.x = s + i), nLe(e, u, c) } function z0(t, e, r, n) { if (r === 1) n.push(e); else { var a = Math.floor(r / 2), i = t(e); z0(t, i[0], a, n), z0(t, i[1], r - a, n) } return n } function aLe(t, e) { for (var r = [], n = 0; n < e; n++)r.push(dC(t)); return r } function iLe(t, e) { e.setStyle(t.style), e.z = t.z, e.z2 = t.z2, e.zlevel = t.zlevel } function oLe(t) { for (var e = [], r = 0; r < t.length;)e.push([t[r++], t[r++]]); return e } function sLe(t, e) { var r = [], n = t.shape, a; switch (t.type) { case "rect": eLe(n, e, r), a = Bt; break; case "sector": BN(n, e, r), a = Oa; break; case "circle": BN({ r0: 0, r: n.r, startAngle: 0, endAngle: Math.PI * 2, cx: n.cx, cy: n.cy }, e, r), a = Oa; break; default: var i = t.getComputedTransform(), o = i ? Math.sqrt(Math.max(i[0] * i[0] + i[1] * i[1], i[2] * i[2] + i[3] * i[3])) : 1, s = _e(JAe(t.getUpdatedPathProxy(), o), function (m) { return oLe(m) }), l = s.length; if (l === 0) z0(zN, { points: s[0] }, e, r); else if (l === e) for (var u = 0; u < l; u++)r.push({ points: s[u] }); else { var c = 0, f = _e(s, function (m) { var y = [], _ = []; q_(m, y, _); var b = (_[1] - y[1]) * (_[0] - y[0]); return c += b, { poly: m, area: b } }); f.sort(function (m, y) { return y.area - m.area }); for (var h = e, u = 0; u < l; u++) { var d = f[u]; if (h <= 0) break; var v = u === l - 1 ? h : Math.ceil(d.area / c * e); v < 0 || (z0(zN, { points: d.poly }, v, r), h -= v) } } a = Ea; break }if (!a) return aLe(t, e); for (var p = [], u = 0; u < r.length; u++) { var g = new a; g.setShape(r[u]), iLe(t, g), p.push(g) } return p } function lLe(t, e) { var r = t.length, n = e.length; if (r === n) return [t, e]; for (var a = [], i = [], o = r < n ? t : e, s = Math.min(r, n), l = Math.abs(n - r) / 6, u = (s - 2) / 6, c = Math.ceil(l / u) + 1, f = [o[0], o[1]], h = l, d = 2; d < s;) { var v = o[d - 2], p = o[d - 1], g = o[d++], m = o[d++], y = o[d++], _ = o[d++], b = o[d++], x = o[d++]; if (h <= 0) { f.push(g, m, y, _, b, x); continue } for (var S = Math.min(h, c - 1) + 1, T = 1; T <= S; T++) { var C = T / S; Xl(v, g, y, b, C, a), Xl(p, m, _, x, C, i), v = a[3], p = i[3], f.push(a[1], i[1], a[2], i[2], v, p), g = a[5], m = i[5], y = a[6], _ = i[6] } h -= S - 1 } return o === t ? [f, e] : [t, f] } function HN(t, e) { for (var r = t.length, n = t[r - 2], a = t[r - 1], i = [], o = 0; o < e.length;)i[o++] = n, i[o++] = a; return i } function uLe(t, e) { for (var r, n, a, i = [], o = [], s = 0; s < Math.max(t.length, e.length); s++) { var l = t[s], u = e[s], c = void 0, f = void 0; l ? u ? (r = lLe(l, u), c = r[0], f = r[1], n = c, a = f) : (f = HN(a || l, l), c = l) : (c = HN(n || u, u), f = u), i.push(c), o.push(f) } return [i, o] } function YN(t) { for (var e = 0, r = 0, n = 0, a = t.length, i = 0, o = a - 2; i < a; o = i, i += 2) { var s = t[o], l = t[o + 1], u = t[i], c = t[i + 1], f = s * c - u * l; e += f, r += (s + u) * f, n += (l + c) * f } return e === 0 ? [t[0] || 0, t[1] || 0] : [r / e / 3, n / e / 3, e] } function cLe(t, e, r, n) { for (var a = (t.length - 2) / 6, i = 1 / 0, o = 0, s = t.length, l = s - 2, u = 0; u < a; u++) { for (var c = u * 6, f = 0, h = 0; h < s; h += 2) { var d = h === 0 ? c : (c + h - 2) % l + 2, v = t[d] - r[0], p = t[d + 1] - r[1], g = e[h] - n[0], m = e[h + 1] - n[1], y = g - v, _ = m - p; f += y * y + _ * _ } f < i && (i = f, o = u) } return o } function fLe(t) { for (var e = [], r = t.length, n = 0; n < r; n += 2)e[n] = t[r - n - 2], e[n + 1] = t[r - n - 1]; return e } function hLe(t, e, r, n) { for (var a = [], i, o = 0; o < t.length; o++) { var s = t[o], l = e[o], u = YN(s), c = YN(l); i == null && (i = u[2] < 0 != c[2] < 0); var f = [], h = [], d = 0, v = 1 / 0, p = [], g = s.length; i && (s = fLe(s)); for (var m = cLe(s, l, u, c) * 6, y = g - 2, _ = 0; _ < y; _ += 2) { var b = (m + _) % y + 2; f[_ + 2] = s[b] - u[0], f[_ + 3] = s[b + 1] - u[1] } if (f[0] = s[m] - u[0], f[1] = s[m + 1] - u[1], r > 0) for (var x = n / r, S = -n / 2; S <= n / 2; S += x) { for (var T = Math.sin(S), C = Math.cos(S), M = 0, _ = 0; _ < s.length; _ += 2) { var k = f[_], A = f[_ + 1], R = l[_] - c[0], N = l[_ + 1] - c[1], z = R * C - N * T, F = R * T + N * C; p[_] = z, p[_ + 1] = F; var V = z - k, L = F - A; M += V * V + L * L } if (M < v) { v = M, d = S; for (var H = 0; H < p.length; H++)h[H] = p[H] } } else for (var q = 0; q < g; q += 2)h[q] = l[q] - c[0], h[q + 1] = l[q + 1] - c[1]; a.push({ from: f, to: h, fromCp: u, toCp: c, rotation: -d }) } return a } function H0(t) { return t.__isCombineMorphing } var pH = "__mOriginal_"; function Y0(t, e, r) { var n = pH + e, a = t[n] || t[e]; t[n] || (t[n] = t[e]); var i = r.replace, o = r.after, s = r.before; t[e] = function () { var l = arguments, u; return s && s.apply(this, l), i ? u = i.apply(this, l) : u = a.apply(this, l), o && o.apply(this, l), u } } function $v(t, e) { var r = pH + e; t[r] && (t[e] = t[r], t[r] = null) } function UN(t, e) { for (var r = 0; r < t.length; r++)for (var n = t[r], a = 0; a < n.length;) { var i = n[a], o = n[a + 1]; n[a++] = e[0] * i + e[2] * o + e[4], n[a++] = e[1] * i + e[3] * o + e[5] } } function gH(t, e) { var r = t.getUpdatedPathProxy(), n = e.getUpdatedPathProxy(), a = uLe(A2(r), A2(n)), i = a[0], o = a[1], s = t.getComputedTransform(), l = e.getComputedTransform(); function u() { this.transform = null } s && UN(i, s), l && UN(o, l), Y0(e, "updateTransform", { replace: u }), e.transform = null; var c = hLe(i, o, 10, Math.PI), f = []; Y0(e, "buildPath", { replace: function (h) { for (var d = e.__morphT, v = 1 - d, p = [], g = 0; g < c.length; g++) { var m = c[g], y = m.from, _ = m.to, b = m.rotation * d, x = m.fromCp, S = m.toCp, T = Math.sin(b), C = Math.cos(b); vy(p, x, S, d); for (var M = 0; M < y.length; M += 2) { var k = y[M], A = y[M + 1], R = _[M], N = _[M + 1], z = k * v + R * d, F = A * v + N * d; f[M] = z * C - F * T + p[0], f[M + 1] = z * T + F * C + p[1] } var V = f[0], L = f[1]; h.moveTo(V, L); for (var M = 2; M < y.length;) { var R = f[M++], N = f[M++], H = f[M++], q = f[M++], K = f[M++], te = f[M++]; V === R && L === N && H === K && q === te ? h.lineTo(K, te) : h.bezierCurveTo(R, N, H, q, K, te), V = K, L = te } } } }) } function JM(t, e, r) { if (!t || !e) return e; var n = r.done, a = r.during; gH(t, e), e.__morphT = 0; function i() { $v(e, "buildPath"), $v(e, "updateTransform"), e.__morphT = -1, e.createPathProxy(), e.dirtyShape() } return e.animateTo({ __morphT: 1 }, Xe({ during: function (o) { e.dirtyShape(), a && a(o) }, done: function () { i(), n && n() } }, r)), e } function dLe(t, e, r, n, a, i) { var o = 16; t = a === r ? 0 : Math.round(32767 * (t - r) / (a - r)), e = i === n ? 0 : Math.round(32767 * (e - n) / (i - n)); for (var s = 0, l, u = (1 << o) / 2; u > 0; u /= 2) { var c = 0, f = 0; (t & u) > 0 && (c = 1), (e & u) > 0 && (f = 1), s += u * u * (3 * c ^ f), f === 0 && (c === 1 && (t = u - 1 - t, e = u - 1 - e), l = t, t = e, e = l) } return s } function U0(t) { var e = 1 / 0, r = 1 / 0, n = -1 / 0, a = -1 / 0, i = _e(t, function (s) { var l = s.getBoundingRect(), u = s.getComputedTransform(), c = l.x + l.width / 2 + (u ? u[4] : 0), f = l.y + l.height / 2 + (u ? u[5] : 0); return e = Math.min(c, e), r = Math.min(f, r), n = Math.max(c, n), a = Math.max(f, a), [c, f] }), o = _e(i, function (s, l) { return { cp: s, z: dLe(s[0], s[1], e, r, n, a), path: t[l] } }); return o.sort(function (s, l) { return s.z - l.z }).map(function (s) { return s.path }) } function mH(t) { return sLe(t.path, t.count) } function I2() { return { fromIndividuals: [], toIndividuals: [], count: 0 } } function vLe(t, e, r) { var n = []; function a(x) { for (var S = 0; S < x.length; S++) { var T = x[S]; H0(T) ? a(T.childrenRef()) : T instanceof At && n.push(T) } } a(t); var i = n.length; if (!i) return I2(); var o = r.dividePath || mH, s = o({ path: e, count: i }); if (s.length !== i) return console.error("Invalid morphing: unmatched splitted path"), I2(); n = U0(n), s = U0(s); for (var l = r.done, u = r.during, c = r.individualDelay, f = new ps, h = 0; h < i; h++) { var d = n[h], v = s[h]; v.parent = e, v.copyTransform(f), c || gH(d, v) } e.__isCombineMorphing = !0, e.childrenRef = function () { return s }; function p(x) { for (var S = 0; S < s.length; S++)s[S].addSelfToZr(x) } Y0(e, "addSelfToZr", { after: function (x) { p(x) } }), Y0(e, "removeSelfFromZr", { after: function (x) { for (var S = 0; S < s.length; S++)s[S].removeSelfFromZr(x) } }); function g() { e.__isCombineMorphing = !1, e.__morphT = -1, e.childrenRef = null, $v(e, "addSelfToZr"), $v(e, "removeSelfFromZr") } var m = s.length; if (c) for (var y = m, _ = function () { y--, y === 0 && (g(), l && l()) }, h = 0; h < m; h++) { var b = c ? Xe({ delay: (r.delay || 0) + c(h, m, n[h], s[h]), done: _ }, r) : r; JM(n[h], s[h], b) } else e.__morphT = 0, e.animateTo({ __morphT: 1 }, Xe({ during: function (x) { for (var S = 0; S < m; S++) { var T = s[S]; T.__morphT = e.__morphT, T.dirtyShape() } u && u(x) }, done: function () { g(); for (var x = 0; x < t.length; x++)$v(t[x], "updateTransform"); l && l() } }, r)); return e.__zr && p(e.__zr), { fromIndividuals: n, toIndividuals: s, count: m } } function pLe(t, e, r) { var n = e.length, a = [], i = r.dividePath || mH; function o(d) { for (var v = 0; v < d.length; v++) { var p = d[v]; H0(p) ? o(p.childrenRef()) : p instanceof At && a.push(p) } } if (H0(t)) { o(t.childrenRef()); var s = a.length; if (s < n) for (var l = 0, u = s; u < n; u++)a.push(dC(a[l++ % s])); a.length = n } else { a = i({ path: t, count: n }); for (var c = t.getComputedTransform(), u = 0; u < a.length; u++)a[u].setLocalTransform(c); if (a.length !== n) return console.error("Invalid morphing: unmatched splitted path"), I2() } a = U0(a), e = U0(e); for (var f = r.individualDelay, u = 0; u < n; u++) { var h = f ? Xe({ delay: (r.delay || 0) + f(u, n, a[u], e[u]) }, r) : r; JM(a[u], e[u], h) } return { fromIndividuals: a, toIndividuals: e, count: e.length } } function WN(t) { return me(t[0]) } function GN(t, e) { for (var r = [], n = t.length, a = 0; a < n; a++)r.push({ one: t[a], many: [] }); for (var a = 0; a < e.length; a++) { var i = e[a].length, o = void 0; for (o = 0; o < i; o++)r[o % n].many.push(e[a][o]) } for (var s = 0, a = n - 1; a >= 0; a--)if (!r[a].many.length) { var l = r[s].many; if (l.length <= 1) if (s) s = 0; else return r; var i = l.length, u = Math.ceil(i / 2); r[a].many = l.slice(u, i), r[s].many = l.slice(0, u), s++ } return r } var gLe = { clone: function (t) { for (var e = [], r = 1 - Math.pow(1 - t.path.style.opacity, 1 / t.count), n = 0; n < t.count; n++) { var a = dC(t.path); a.setStyle("opacity", r), e.push(a) } return e }, split: null }; function GS(t, e, r, n, a, i) { if (!t.length || !e.length) return; var o = Uh("update", n, a); if (!(o && o.duration > 0)) return; var s = n.getModel("universalTransition").get("delay"), l = Object.assign({ setToFinal: !0 }, o), u, c; WN(t) && (u = t, c = e), WN(e) && (u = e, c = t); function f(m, y, _, b, x) { var S = m.many, T = m.one; if (S.length === 1 && !x) { var C = y ? S[0] : T, M = y ? T : S[0]; if (H0(C)) f({ many: [C], one: M }, !0, _, b, !0); else { var k = s ? Xe({ delay: s(_, b) }, l) : l; JM(C, M, k), i(C, M, C, M, k) } } else for (var A = Xe({ dividePath: gLe[r], individualDelay: s && function (L, H, q, K) { return s(L + _, b) } }, l), R = y ? vLe(S, T, A) : pLe(T, S, A), N = R.fromIndividuals, z = R.toIndividuals, F = N.length, V = 0; V < F; V++) { var k = s ? Xe({ delay: s(V, F) }, l) : l; i(N[V], z[V], y ? S[V] : m.one, y ? m.one : S[V], k) } } for (var h = u ? u === t : t.length > e.length, d = u ? GN(c, u) : GN(h ? e : t, [h ? t : e]), v = 0, p = 0; p < d.length; p++)v += d[p].many.length; for (var g = 0, p = 0; p < d.length; p++)f(d[p], h, g, v), g += d[p].many.length } function Xu(t) { if (!t) return []; if (me(t)) { for (var e = [], r = 0; r < t.length; r++)e.push(Xu(t[r])); return e } var n = []; return t.traverse(function (a) { a instanceof At && !a.disableMorphing && !a.invisible && !a.ignore && n.push(a) }), n } var yH = 1e4, mLe = zt(); function yLe(t) { for (var e = t.dimensions, r = 0; r < e.length; r++) { var n = t.getDimensionInfo(e[r]); if (n && n.otherDims.itemGroupId === 0) return e[r] } } function jN(t) { var e = []; return E(t, function (r) { var n = r.data; if (!(n.count() > yH)) for (var a = n.getIndices(), i = yLe(n), o = 0; o < a.length; o++)e.push({ dataGroupId: r.dataGroupId, data: n, dim: r.dim || i, divide: r.divide, dataIndex: o }) }), e } function jS(t, e, r) { t.traverse(function (n) { n instanceof At && Or(n, { style: { opacity: 0 } }, e, { dataIndex: r, isFrom: !0 }) }) } function ZS(t) { if (t.parent) { var e = t.getComputedTransform(); t.setLocalTransform(e), t.parent.remove(t) } } function Nf(t) { t.stopAnimation(), t.isGroup && t.traverse(function (e) { e.stopAnimation() }) } function _Le(t, e, r) { var n = Uh("update", r, e); n && t.traverse(function (a) { if (a instanceof _i) { var i = Jhe(a); i && a.animateFrom({ style: i }, n) } }) } function bLe(t, e) { var r = t.length; if (r !== e.length) return !1; for (var n = 0; n < r; n++) { var a = t[n], i = e[n]; if (a.data.getId(a.dataIndex) !== i.data.getId(i.dataIndex)) return !1 } return !0 } function _H(t, e, r) { var n = jN(t), a = jN(e); function i(m, y, _, b, x) { (_ || m) && y.animateFrom({ style: _ && _ !== m ? he(he({}, _.style), m.style) : m.style }, x) } function o(m) { for (var y = 0; y < m.length; y++)if (m[y].dim) return m[y].dim } var s = o(n), l = o(a), u = !1; function c(m, y) { return function (_) { var b = _.data, x = _.dataIndex; if (y) return b.getId(x); var S = _.dataGroupId, T = m ? s || l : l || s, C = T && b.getDimensionInfo(T), M = C && C.ordinalMeta; if (C) { var k = b.get(C.name, x); return M && M.categories[k] || k + "" } var A = b.getRawDataItem(x); return A && A.groupId ? A.groupId + "" : S || b.getId(x) } } var f = bLe(n, a), h = {}; if (!f) for (var d = 0; d < a.length; d++) { var v = a[d], p = v.data.getItemGraphicEl(v.dataIndex); p && (h[p.id] = !0) } function g(m, y) { var _ = n[y], b = a[m], x = b.data.hostModel, S = _.data.getItemGraphicEl(_.dataIndex), T = b.data.getItemGraphicEl(b.dataIndex); if (S === T) { T && _Le(T, b.dataIndex, x); return } S && h[S.id] || T && (Nf(T), S ? (Nf(S), ZS(S), u = !0, GS(Xu(S), Xu(T), b.divide, x, m, i)) : jS(T, x, m)) } new Os(n, a, c(!0, f), c(!1, f), null, "multiple").update(g).updateManyToOne(function (m, y) { var _ = a[m], b = _.data, x = b.hostModel, S = b.getItemGraphicEl(_.dataIndex), T = hr(_e(y, function (C) { return n[C].data.getItemGraphicEl(n[C].dataIndex) }), function (C) { return C && C !== S && !h[C.id] }); S && (Nf(S), T.length ? (E(T, function (C) { Nf(C), ZS(C) }), u = !0, GS(Xu(T), Xu(S), _.divide, x, m, i)) : jS(S, x, _.dataIndex)) }).updateOneToMany(function (m, y) { var _ = n[y], b = _.data.getItemGraphicEl(_.dataIndex); if (!(b && h[b.id])) { var x = hr(_e(m, function (T) { return a[T].data.getItemGraphicEl(a[T].dataIndex) }), function (T) { return T && T !== b }), S = a[m[0]].data.hostModel; x.length && (E(x, function (T) { return Nf(T) }), b ? (Nf(b), ZS(b), u = !0, GS(Xu(b), Xu(x), _.divide, S, m[0], i)) : E(x, function (T) { return jS(T, S, m[0]) })) } }).updateManyToMany(function (m, y) { new Os(y, m, function (_) { return n[_].data.getId(n[_].dataIndex) }, function (_) { return a[_].data.getId(a[_].dataIndex) }).update(function (_, b) { g(m[_], y[b]) }).execute() }).execute(), u && E(e, function (m) { var y = m.data, _ = y.hostModel, b = _ && r.getViewOfSeriesModel(_), x = Uh("update", _, 0); b && _.isAnimationEnabled() && x && x.duration > 0 && b.group.traverse(function (S) { S instanceof At && !S.animators.length && S.animateFrom({ style: { opacity: 0 } }, x) }) }) } function ZN(t) { var e = t.getModel("universalTransition").get("seriesKey"); return e || t.id } function qN(t) { return me(t) ? t.sort().join(",") : t } function wl(t) { if (t.hostModel) return t.hostModel.getModel("universalTransition").get("divideShape") } function wLe(t, e) { var r = He(), n = He(), a = He(); return E(t.oldSeries, function (i, o) { var s = t.oldDataGroupIds[o], l = t.oldData[o], u = ZN(i), c = qN(u); n.set(c, { dataGroupId: s, data: l }), me(u) && E(u, function (f) { a.set(f, { key: c, dataGroupId: s, data: l }) }) }), E(e.updatedSeries, function (i) { if (i.isUniversalTransitionEnabled() && i.isAnimationEnabled()) { var o = i.get("dataGroupId"), s = i.getData(), l = ZN(i), u = qN(l), c = n.get(u); if (c) r.set(u, { oldSeries: [{ dataGroupId: c.dataGroupId, divide: wl(c.data), data: c.data }], newSeries: [{ dataGroupId: o, divide: wl(s), data: s }] }); else if (me(l)) { var f = []; E(l, function (v) { var p = n.get(v); p.data && f.push({ dataGroupId: p.dataGroupId, divide: wl(p.data), data: p.data }) }), f.length && r.set(u, { oldSeries: f, newSeries: [{ dataGroupId: o, data: s, divide: wl(s) }] }) } else { var h = a.get(l); if (h) { var d = r.get(h.key); d || (d = { oldSeries: [{ dataGroupId: h.dataGroupId, data: h.data, divide: wl(h.data) }], newSeries: [] }, r.set(h.key, d)), d.newSeries.push({ dataGroupId: o, data: s, divide: wl(s) }) } } } }), r } function XN(t, e) { for (var r = 0; r < t.length; r++) { var n = e.seriesIndex != null && e.seriesIndex === t[r].seriesIndex || e.seriesId != null && e.seriesId === t[r].id; if (n) return r } } function SLe(t, e, r, n) { var a = [], i = []; E(mr(t.from), function (o) { var s = XN(e.oldSeries, o); s >= 0 && a.push({ dataGroupId: e.oldDataGroupIds[s], data: e.oldData[s], divide: wl(e.oldData[s]), dim: o.dimension }) }), E(mr(t.to), function (o) { var s = XN(r.updatedSeries, o); if (s >= 0) { var l = r.updatedSeries[s].getData(); i.push({ dataGroupId: e.oldDataGroupIds[s], data: l, divide: wl(l), dim: o.dimension }) } }), a.length > 0 && i.length > 0 && _H(a, i, n) } function ek(t) { t.registerUpdateLifecycle("series:beforeupdate", function (e, r, n) { E(mr(n.seriesTransition), function (a) { E(mr(a.to), function (i) { for (var o = n.updatedSeries, s = 0; s < o.length; s++)(i.seriesIndex != null && i.seriesIndex === o[s].seriesIndex || i.seriesId != null && i.seriesId === o[s].id) && (o[s][Cy] = !0) }) }) }), t.registerUpdateLifecycle("series:transition", function (e, r, n) { var a = mLe(r); if (a.oldSeries && n.updatedSeries && n.optionChanged) { var i = n.seriesTransition; if (i) E(mr(i), function (d) { SLe(d, a, n, r) }); else { var o = wLe(a, n); E(o.keys(), function (d) { var v = o.get(d); _H(v.oldSeries, v.newSeries, r) }) } E(n.updatedSeries, function (d) { d[Cy] && (d[Cy] = !1) }) } for (var s = e.getSeries(), l = a.oldSeries = [], u = a.oldDataGroupIds = [], c = a.oldData = [], f = 0; f < s.length; f++) { var h = s[f].getData(); h.count() < yH && (l.push(s[f]), u.push(s[f].get("dataGroupId")), c.push(h)) } }) } var qS = Math.sin, XS = Math.cos, bH = Math.PI, Vu = Math.PI * 2, xLe = 180 / bH, TLe = function () { function t() { } return t.prototype.reset = function (e) { this._start = !0, this._d = [], this._str = "", this._p = Math.pow(10, e || 4) }, t.prototype.moveTo = function (e, r) { this._add("M", e, r) }, t.prototype.lineTo = function (e, r) { this._add("L", e, r) }, t.prototype.bezierCurveTo = function (e, r, n, a, i, o) { this._add("C", e, r, n, a, i, o) }, t.prototype.quadraticCurveTo = function (e, r, n, a) { this._add("Q", e, r, n, a) }, t.prototype.arc = function (e, r, n, a, i, o) { this.ellipse(e, r, n, n, 0, a, i, o) }, t.prototype.ellipse = function (e, r, n, a, i, o, s, l) { var u = s - o, c = !l, f = Math.abs(u), h = Ml(f - Vu) || (c ? u >= Vu : -u >= Vu), d = u > 0 ? u % Vu : u % Vu + Vu, v = !1; h ? v = !0 : Ml(f) ? v = !1 : v = d >= bH == !!c; var p = e + n * XS(o), g = r + a * qS(o); this._start && this._add("M", p, g); var m = Math.round(i * xLe); if (h) { var y = 1 / this._p, _ = (c ? 1 : -1) * (Vu - y); this._add("A", n, a, m, 1, +c, e + n * XS(o + _), r + a * qS(o + _)), y > .01 && this._add("A", n, a, m, 0, +c, p, g) } else { var b = e + n * XS(s), x = r + a * qS(s); this._add("A", n, a, m, +v, +c, b, x) } }, t.prototype.rect = function (e, r, n, a) { this._add("M", e, r), this._add("l", n, 0), this._add("l", 0, a), this._add("l", -n, 0), this._add("Z") }, t.prototype.closePath = function () { this._d.length > 0 && this._add("Z") }, t.prototype._add = function (e, r, n, a, i, o, s, l, u) { for (var c = [], f = this._p, h = 1; h < arguments.length; h++) { var d = arguments[h]; if (isNaN(d)) { this._invalid = !0; return } c.push(Math.round(d * f) / f) } this._d.push(e + c.join(" ")), this._start = e === "Z" }, t.prototype.generateStr = function () { this._str = this._invalid ? "" : this._d.join(""), this._d = [] }, t.prototype.getStr = function () { return this._str }, t }(); const wH = TLe; var Fv = "none", DLe = Math.round; function CLe(t) { var e = t.fill; return e != null && e !== Fv } function MLe(t) { var e = t.stroke; return e != null && e !== Fv } var P2 = ["lineCap", "miterLimit", "lineJoin"], kLe = _e(P2, function (t) { return "stroke-" + t.toLowerCase() }); function ALe(t, e, r, n) { var a = e.opacity == null ? 1 : e.opacity; if (r instanceof Gn) { t("opacity", a); return } if (CLe(e)) { var i = lp(e.fill); t("fill", i.color); var o = e.fillOpacity != null ? e.fillOpacity * i.opacity * a : i.opacity * a; (n || o < 1) && t("fill-opacity", o) } else t("fill", Fv); if (MLe(e)) { var s = lp(e.stroke); t("stroke", s.color); var l = e.strokeNoScale ? r.getLineScale() : 1, u = l ? (e.lineWidth || 0) / l : 0, c = e.strokeOpacity != null ? e.strokeOpacity * s.opacity * a : s.opacity * a, f = e.strokeFirst; if ((n || u !== 1) && t("stroke-width", u), (n || f) && t("paint-order", f ? "stroke" : "fill"), (n || c < 1) && t("stroke-opacity", c), e.lineDash) { var h = $C(r), d = h[0], v = h[1]; d && (v = DLe(v || 0), t("stroke-dasharray", d.join(",")), (v || n) && t("stroke-dashoffset", v)) } else n && t("stroke-dasharray", Fv); for (var p = 0; p < P2.length; p++) { var g = P2[p]; if (n || e[g] !== o0[g]) { var m = e[g] || o0[g]; m && t(kLe[p], m) } } } else n && t("stroke", Fv) } var SH = "http://www.w3.org/2000/svg", xH = "http://www.w3.org/1999/xlink", LLe = "http://www.w3.org/2000/xmlns/", ILe = "http://www.w3.org/XML/1998/namespace"; function TH(t) { return document.createElementNS(SH, t) } function kn(t, e, r, n, a) { return { tag: t, attrs: r || {}, children: n, text: a, key: e } } function PLe(t, e) { var r = []; if (e) for (var n in e) { var a = e[n], i = n; a !== !1 && (a !== !0 && a != null && (i += '="' + a + '"'), r.push(i)) } return "<" + t + " " + r.join(" ") + ">" } function RLe(t) { return "</" + t + ">" } function tk(t, e) {
    e = e || {}; var r = e.newline ? `
`: ""; function n(a) { var i = a.children, o = a.tag, s = a.attrs, l = a.text; return PLe(o, s) + (o !== "style" ? Ca(l) : l || "") + (i ? "" + r + _e(i, function (u) { return n(u) }).join(r) + r : "") + RLe(o) } return n(t)
} function OLe(t, e, r) {
    r = r || {}; var n = r.newline ? `
`: "", a = " {" + n, i = n + "}", o = _e(Nt(t), function (l) { return l + a + _e(Nt(t[l]), function (u) { return u + ":" + t[l][u] + ";" }).join(n) + i }).join(n), s = _e(Nt(e), function (l) { return "@keyframes " + l + a + _e(Nt(e[l]), function (u) { return u + a + _e(Nt(e[l][u]), function (c) { var f = e[l][u][c]; return c === "d" && (f = 'path("' + f + '")'), c + ":" + f + ";" }).join(n) + i }).join(n) + i }).join(n); return !o && !s ? "" : ["<![CDATA[", o, s, "]]>"].join(n)
} function R2(t) { return { zrId: t, shadowCache: {}, patternCache: {}, gradientCache: {}, clipPathCache: {}, defs: {}, cssNodes: {}, cssAnims: {}, cssClassIdx: 0, cssAnimIdx: 0, shadowIdx: 0, gradientIdx: 0, patternIdx: 0, clipPathIdx: 0 } } function KN(t, e, r, n) { return kn("svg", "root", { width: t, height: e, xmlns: SH, "xmlns:xlink": xH, version: "1.1", baseProfile: "full", viewBox: n ? "0 0 " + t + " " + e : !1 }, r) } var QN = { cubicIn: "0.32,0,0.67,0", cubicOut: "0.33,1,0.68,1", cubicInOut: "0.65,0,0.35,1", quadraticIn: "0.11,0,0.5,0", quadraticOut: "0.5,1,0.89,1", quadraticInOut: "0.45,0,0.55,1", quarticIn: "0.5,0,0.75,0", quarticOut: "0.25,1,0.5,1", quarticInOut: "0.76,0,0.24,1", quinticIn: "0.64,0,0.78,0", quinticOut: "0.22,1,0.36,1", quinticInOut: "0.83,0,0.17,1", sinusoidalIn: "0.12,0,0.39,0", sinusoidalOut: "0.61,1,0.88,1", sinusoidalInOut: "0.37,0,0.63,1", exponentialIn: "0.7,0,0.84,0", exponentialOut: "0.16,1,0.3,1", exponentialInOut: "0.87,0,0.13,1", circularIn: "0.55,0,1,0.45", circularOut: "0,0.55,0.45,1", circularInOut: "0.85,0,0.15,1" }, Ku = "transform-origin"; function ELe(t, e, r) { var n = he({}, t.shape); he(n, e), t.buildPath(r, n); var a = new wH; return a.reset(X4(t)), r.rebuildPath(a, 1), a.generateStr(), a.getStr() } function NLe(t, e) { var r = e.originX, n = e.originY; (r || n) && (t[Ku] = r + "px " + n + "px") } var $Le = { fill: "fill", opacity: "opacity", lineWidth: "stroke-width", lineDashOffset: "stroke-dashoffset" }; function DH(t, e) { var r = e.zrId + "-ani-" + e.cssAnimIdx++; return e.cssAnims[r] = t, r } function FLe(t, e, r) { var n = t.shape.paths, a = {}, i, o; if (E(n, function (l) { var u = R2(r.zrId); u.animation = !0, D1(l, {}, u, !0); var c = u.cssAnims, f = u.cssNodes, h = Nt(c), d = h.length; if (d) { o = h[d - 1]; var v = c[o]; for (var p in v) { var g = v[p]; a[p] = a[p] || { d: "" }, a[p].d += g.d || "" } for (var m in f) { var y = f[m].animation; y.indexOf(o) >= 0 && (i = y) } } }), !!i) { e.d = !1; var s = DH(a, r); return i.replace(o, s) } } function JN(t) { return Oe(t) ? QN[t] ? "cubic-bezier(" + QN[t] + ")" : JD(t) ? t : "" : "" } function D1(t, e, r, n) { var a = t.animators, i = a.length, o = []; if (t instanceof gC) { var s = FLe(t, e, r); if (s) o.push(s); else if (!i) return } else if (!i) return; for (var l = {}, u = 0; u < i; u++) { var c = a[u], f = [c.getMaxTime() / 1e3 + "s"], h = JN(c.getClip().easing), d = c.getDelay(); h ? f.push(h) : f.push("linear"), d && f.push(d / 1e3 + "s"), c.getLoop() && f.push("infinite"); var v = f.join(" "); l[v] = l[v] || [v, []], l[v][1].push(c) } function p(y) { var _ = y[1], b = _.length, x = {}, S = {}, T = {}, C = "animation-timing-function"; function M(se, ue, pe) { for (var Se = se.getTracks(), G = se.getMaxTime(), Z = 0; Z < Se.length; Z++) { var J = Se[Z]; if (J.needsAnimate()) { var le = J.keyframes, ve = J.propName; if (pe && (ve = pe(ve)), ve) for (var we = 0; we < le.length; we++) { var Ne = le[we], Ce = Math.round(Ne.time / G * 100) + "%", Pe = JN(Ne.easing), xe = Ne.rawValue; (Oe(xe) || Gt(xe)) && (ue[Ce] = ue[Ce] || {}, ue[Ce][ve] = Ne.rawValue, Pe && (ue[Ce][C] = Pe)) } } } } for (var k = 0; k < b; k++) { var A = _[k], R = A.targetName; R ? R === "shape" && M(A, S) : !n && M(A, x) } for (var N in x) { var z = {}; tF(z, t), he(z, x[N]); var F = K4(z), V = x[N][C]; T[N] = F ? { transform: F } : {}, NLe(T[N], z), V && (T[N][C] = V) } var L, H = !0; for (var N in S) { T[N] = T[N] || {}; var q = !L, V = S[N][C]; q && (L = new No); var K = L.len(); L.reset(), T[N].d = ELe(t, S[N], L); var te = L.len(); if (!q && K !== te) { H = !1; break } V && (T[N][C] = V) } if (!H) for (var N in T) delete T[N].d; if (!n) for (var k = 0; k < b; k++) { var A = _[k], R = A.targetName; R === "style" && M(A, T, function (Se) { return $Le[Se] }) } for (var oe = Nt(T), X = !0, U, k = 1; k < oe.length; k++) { var B = oe[k - 1], ee = oe[k]; if (T[B][Ku] !== T[ee][Ku]) { X = !1; break } U = T[B][Ku] } if (X && U) { for (var N in T) T[N][Ku] && delete T[N][Ku]; e[Ku] = U } if (hr(oe, function (se) { return Nt(T[se]).length > 0 }).length) { var Q = DH(T, r); return Q + " " + y[0] + " both" } } for (var g in l) { var s = p(l[g]); s && o.push(s) } if (o.length) { var m = r.zrId + "-cls-" + r.cssClassIdx++; r.cssNodes["." + m] = { animation: o.join(",") }, e.class = m } } var Ip = Math.round; function CH(t) { return t && Oe(t.src) } function MH(t) { return t && je(t.toDataURL) } function rk(t, e, r, n) { ALe(function (a, i) { var o = a === "fill" || a === "stroke"; o && q4(i) ? AH(e, t, a, n) : o && eC(i) ? LH(r, t, a, n) : t[a] = i }, e, r, !1), WLe(r, t, n) } function e$(t) { return Ml(t[0] - 1) && Ml(t[1]) && Ml(t[2]) && Ml(t[3] - 1) } function BLe(t) { return Ml(t[4]) && Ml(t[5]) } function nk(t, e, r) { if (e && !(BLe(e) && e$(e))) { var n = r ? 10 : 1e4; t.transform = e$(e) ? "translate(" + Ip(e[4] * n) / n + " " + Ip(e[5] * n) / n + ")" : uce(e) } } function t$(t, e, r) { for (var n = t.points, a = [], i = 0; i < n.length; i++)a.push(Ip(n[i][0] * r) / r), a.push(Ip(n[i][1] * r) / r); e.points = a.join(" ") } function r$(t) { return !t.smooth } function VLe(t) { var e = _e(t, function (r) { return typeof r == "string" ? [r, r] : r }); return function (r, n, a) { for (var i = 0; i < e.length; i++) { var o = e[i], s = r[o[0]]; s != null && (n[o[1]] = Ip(s * a) / a) } } } var zLe = { circle: [VLe(["cx", "cy", "r"])], polyline: [t$, r$], polygon: [t$, r$] }; function HLe(t) { for (var e = t.animators, r = 0; r < e.length; r++)if (e[r].targetName === "shape") return !0; return !1 } function kH(t, e) { var r = t.style, n = t.shape, a = zLe[t.type], i = {}, o = e.animation, s = "path", l = t.style.strokePercent, u = e.compress && X4(t) || 4; if (a && !e.willUpdate && !(a[1] && !a[1](n)) && !(o && HLe(t)) && !(l < 1)) { s = t.type; var c = Math.pow(10, u); a[0](n, i, c) } else { var f = !t.path || t.shapeChanged(); t.path || t.createPathProxy(); var h = t.path; f && (h.beginPath(), t.buildPath(h, t.shape), t.pathUpdated()); var d = h.getVersion(), v = t, p = v.__svgPathBuilder; (v.__svgPathVersion !== d || !p || l !== v.__svgPathStrokePercent) && (p || (p = v.__svgPathBuilder = new wH), p.reset(u), h.rebuildPath(p, l), p.generateStr(), v.__svgPathVersion = d, v.__svgPathStrokePercent = l), i.d = p.getStr() } return nk(i, t.transform), rk(i, r, t, e), e.animation && D1(t, i, e), kn(s, t.id + "", i) } function YLe(t, e) { var r = t.style, n = r.image; if (n && !Oe(n) && (CH(n) ? n = n.src : MH(n) && (n = n.toDataURL())), !!n) { var a = r.x || 0, i = r.y || 0, o = r.width, s = r.height, l = { href: n, width: o, height: s }; return a && (l.x = a), i && (l.y = i), nk(l, t.transform), rk(l, r, t, e), e.animation && D1(t, l, e), kn("image", t.id + "", l) } } function ULe(t, e) { var r = t.style, n = r.text; if (n != null && (n += ""), !(!n || isNaN(r.x) || isNaN(r.y))) { var a = r.font || Zl, i = r.x || 0, o = fce(r.y || 0, W_(a), r.textBaseline), s = cce[r.textAlign] || r.textAlign, l = { "dominant-baseline": "central", "text-anchor": s }; if (OF(r)) { var u = "", c = r.fontStyle, f = RF(r.fontSize); if (!parseFloat(f)) return; var h = r.fontFamily || T4, d = r.fontWeight; u += "font-size:" + f + ";font-family:" + h + ";", c && c !== "normal" && (u += "font-style:" + c + ";"), d && d !== "normal" && (u += "font-weight:" + d + ";"), l.style = u } else l.style = "font: " + a; return n.match(/\s/) && (l["xml:space"] = "preserve"), i && (l.x = i), o && (l.y = o), nk(l, t.transform), rk(l, r, t, e), e.animation && D1(t, l, e), kn("text", t.id + "", l, void 0, n) } } function n$(t, e) { if (t instanceof At) return kH(t, e); if (t instanceof Gn) return YLe(t, e); if (t instanceof cp) return ULe(t, e) } function WLe(t, e, r) { var n = t.style; if (hce(n)) { var a = dce(t), i = r.shadowCache, o = i[a]; if (!o) { var s = t.getGlobalScale(), l = s[0], u = s[1]; if (!l || !u) return; var c = n.shadowOffsetX || 0, f = n.shadowOffsetY || 0, h = n.shadowBlur, d = lp(n.shadowColor), v = d.opacity, p = d.color, g = h / 2 / l, m = h / 2 / u, y = g + " " + m; o = r.zrId + "-s" + r.shadowIdx++, r.defs[o] = kn("filter", o, { id: o, x: "-100%", y: "-100%", width: "300%", height: "300%" }, [kn("feDropShadow", "", { dx: c / l, dy: f / u, stdDeviation: y, "flood-color": p, "flood-opacity": v })]), i[a] = o } e.filter = U_(o) } } function AH(t, e, r, n) { var a = t[r], i, o = { gradientUnits: a.global ? "userSpaceOnUse" : "objectBoundingBox" }; if (j4(a)) i = "linearGradient", o.x1 = a.x, o.y1 = a.y, o.x2 = a.x2, o.y2 = a.y2; else if (Z4(a)) i = "radialGradient", o.cx = _t(a.x, .5), o.cy = _t(a.y, .5), o.r = _t(a.r, .5); else return; for (var s = a.colorStops, l = [], u = 0, c = s.length; u < c; ++u) { var f = uT(s[u].offset) * 100 + "%", h = s[u].color, d = lp(h), v = d.color, p = d.opacity, g = { offset: f }; g["stop-color"] = v, p < 1 && (g["stop-opacity"] = p), l.push(kn("stop", u + "", g)) } var m = kn(i, "", o, l), y = tk(m), _ = n.gradientCache, b = _[y]; b || (b = n.zrId + "-g" + n.gradientIdx++, _[y] = b, o.id = b, n.defs[b] = kn(i, b, o, l)), e[r] = U_(b) } function LH(t, e, r, n) { var a = t.style[r], i = t.getBoundingRect(), o = {}, s = a.repeat, l = s === "no-repeat", u = s === "repeat-x", c = s === "repeat-y", f; if (G4(a)) { var h = a.imageWidth, d = a.imageHeight, v = void 0, p = a.image; if (Oe(p) ? v = p : CH(p) ? v = p.src : MH(p) && (v = p.toDataURL()), typeof Image > "u") { var g = "Image width/height must been given explictly in svg-ssr renderer."; ya(h, g), ya(d, g) } else if (h == null || d == null) { var m = function (k, A) { if (k) { var R = k.elm, N = h || A.width, z = d || A.height; k.tag === "pattern" && (u ? (z = 1, N /= i.width) : c && (N = 1, z /= i.height)), k.attrs.width = N, k.attrs.height = z, R && (R.setAttribute("width", N), R.setAttribute("height", z)) } }, y = sC(v, null, t, function (k) { l || m(S, k), m(f, k) }); y && y.width && y.height && (h = h || y.width, d = d || y.height) } f = kn("image", "img", { href: v, width: h, height: d }), o.width = h, o.height = d } else a.svgElement && (f = rt(a.svgElement), o.width = a.svgWidth, o.height = a.svgHeight); if (f) { var _, b; l ? _ = b = 1 : u ? (b = 1, _ = o.width / i.width) : c ? (_ = 1, b = o.height / i.height) : o.patternUnits = "userSpaceOnUse", _ != null && !isNaN(_) && (o.width = _), b != null && !isNaN(b) && (o.height = b); var x = K4(a); x && (o.patternTransform = x); var S = kn("pattern", "", o, [f]), T = tk(S), C = n.patternCache, M = C[T]; M || (M = n.zrId + "-p" + n.patternIdx++, C[T] = M, o.id = M, S = n.defs[M] = kn("pattern", M, o, [f])), e[r] = U_(M) } } function GLe(t, e, r) { var n = r.clipPathCache, a = r.defs, i = n[t.id]; if (!i) { i = r.zrId + "-c" + r.clipPathIdx++; var o = { id: i }; n[t.id] = i, a[i] = kn("clipPath", i, o, [kH(t, r)]) } e["clip-path"] = U_(i) } function a$(t) { return document.createTextNode(t) } function oc(t, e, r) { t.insertBefore(e, r) } function i$(t, e) { t.removeChild(e) } function o$(t, e) { t.appendChild(e) } function IH(t) { return t.parentNode } function PH(t) { return t.nextSibling } function KS(t, e) { t.textContent = e } var s$ = 58, jLe = 120, ZLe = kn("", ""); function O2(t) { return t === void 0 } function co(t) { return t !== void 0 } function qLe(t, e, r) { for (var n = {}, a = e; a <= r; ++a) { var i = t[a].key; i !== void 0 && (n[i] = a) } return n } function dv(t, e) { var r = t.key === e.key, n = t.tag === e.tag; return n && r } function Pp(t) { var e, r = t.children, n = t.tag; if (co(n)) { var a = t.elm = TH(n); if (ak(ZLe, t), me(r)) for (e = 0; e < r.length; ++e) { var i = r[e]; i != null && o$(a, Pp(i)) } else co(t.text) && !Qe(t.text) && o$(a, a$(t.text)) } else t.elm = a$(t.text); return t.elm } function RH(t, e, r, n, a) { for (; n <= a; ++n) { var i = r[n]; i != null && oc(t, Pp(i), e) } } function W0(t, e, r, n) { for (; r <= n; ++r) { var a = e[r]; if (a != null) if (co(a.tag)) { var i = IH(a.elm); i$(i, a.elm) } else i$(t, a.elm) } } function ak(t, e) { var r, n = e.elm, a = t && t.attrs || {}, i = e.attrs || {}; if (a !== i) { for (r in i) { var o = i[r], s = a[r]; s !== o && (o === !0 ? n.setAttribute(r, "") : o === !1 ? n.removeAttribute(r) : r.charCodeAt(0) !== jLe ? n.setAttribute(r, o) : r === "xmlns:xlink" || r === "xmlns" ? n.setAttributeNS(LLe, r, o) : r.charCodeAt(3) === s$ ? n.setAttributeNS(ILe, r, o) : r.charCodeAt(5) === s$ ? n.setAttributeNS(xH, r, o) : n.setAttribute(r, o)) } for (r in a) r in i || n.removeAttribute(r) } } function XLe(t, e, r) { for (var n = 0, a = 0, i = e.length - 1, o = e[0], s = e[i], l = r.length - 1, u = r[0], c = r[l], f, h, d, v; n <= i && a <= l;)o == null ? o = e[++n] : s == null ? s = e[--i] : u == null ? u = r[++a] : c == null ? c = r[--l] : dv(o, u) ? (Gf(o, u), o = e[++n], u = r[++a]) : dv(s, c) ? (Gf(s, c), s = e[--i], c = r[--l]) : dv(o, c) ? (Gf(o, c), oc(t, o.elm, PH(s.elm)), o = e[++n], c = r[--l]) : dv(s, u) ? (Gf(s, u), oc(t, s.elm, o.elm), s = e[--i], u = r[++a]) : (O2(f) && (f = qLe(e, n, i)), h = f[u.key], O2(h) ? oc(t, Pp(u), o.elm) : (d = e[h], d.tag !== u.tag ? oc(t, Pp(u), o.elm) : (Gf(d, u), e[h] = void 0, oc(t, d.elm, o.elm))), u = r[++a]); (n <= i || a <= l) && (n > i ? (v = r[l + 1] == null ? null : r[l + 1].elm, RH(t, v, r, a, l)) : W0(t, e, n, i)) } function Gf(t, e) { var r = e.elm = t.elm, n = t.children, a = e.children; t !== e && (ak(t, e), O2(e.text) ? co(n) && co(a) ? n !== a && XLe(r, n, a) : co(a) ? (co(t.text) && KS(r, ""), RH(r, null, a, 0, a.length - 1)) : co(n) ? W0(r, n, 0, n.length - 1) : co(t.text) && KS(r, "") : t.text !== e.text && (co(n) && W0(r, n, 0, n.length - 1), KS(r, e.text))) } function KLe(t, e) { if (dv(t, e)) Gf(t, e); else { var r = t.elm, n = IH(r); Pp(e), n !== null && (oc(n, e.elm, PH(r)), W0(n, [t], 0, 0)) } return e } var QLe = 0, JLe = function () { function t(e, r, n) { if (this.type = "svg", this.refreshHover = l$(), this.configLayer = l$(), this.storage = r, this._opts = n = he({}, n), this.root = e, this._id = "zr" + QLe++, this._oldVNode = KN(n.width, n.height), e && !n.ssr) { var a = this._viewport = document.createElement("div"); a.style.cssText = "position:relative;overflow:hidden"; var i = this._svgDom = this._oldVNode.elm = TH("svg"); ak(null, this._oldVNode), a.appendChild(i), e.appendChild(a) } this.resize(n.width, n.height) } return t.prototype.getType = function () { return this.type }, t.prototype.getViewportRoot = function () { return this._viewport }, t.prototype.getViewportRootOffset = function () { var e = this.getViewportRoot(); if (e) return { offsetLeft: e.offsetLeft || 0, offsetTop: e.offsetTop || 0 } }, t.prototype.getSvgDom = function () { return this._svgDom }, t.prototype.refresh = function () { if (this.root) { var e = this.renderToVNode({ willUpdate: !0 }); e.attrs.style = "position:absolute;left:0;top:0;user-select:none", KLe(this._oldVNode, e), this._oldVNode = e } }, t.prototype.renderOneToVNode = function (e) { return n$(e, R2(this._id)) }, t.prototype.renderToVNode = function (e) { e = e || {}; var r = this.storage.getDisplayList(!0), n = this._width, a = this._height, i = R2(this._id); i.animation = e.animation, i.willUpdate = e.willUpdate, i.compress = e.compress; var o = [], s = this._bgVNode = eIe(n, a, this._backgroundColor, i); s && o.push(s); var l = e.compress ? null : this._mainVNode = kn("g", "main", {}, []); this._paintList(r, i, l ? l.children : o), l && o.push(l); var u = _e(Nt(i.defs), function (h) { return i.defs[h] }); if (u.length && o.push(kn("defs", "defs", {}, u)), e.animation) { var c = OLe(i.cssNodes, i.cssAnims, { newline: !0 }); if (c) { var f = kn("style", "stl", {}, [], c); o.push(f) } } return KN(n, a, o, e.useViewBox) }, t.prototype.renderToString = function (e) { return e = e || {}, tk(this.renderToVNode({ animation: _t(e.cssAnimation, !0), willUpdate: !1, compress: !0, useViewBox: _t(e.useViewBox, !0) }), { newline: !0 }) }, t.prototype.setBackgroundColor = function (e) { this._backgroundColor = e }, t.prototype.getSvgRoot = function () { return this._mainVNode && this._mainVNode.elm }, t.prototype._paintList = function (e, r, n) { for (var a = e.length, i = [], o = 0, s, l, u = 0, c = 0; c < a; c++) { var f = e[c]; if (!f.invisible) { var h = f.__clipPaths, d = h && h.length || 0, v = l && l.length || 0, p = void 0; for (p = Math.max(d - 1, v - 1); p >= 0 && !(h && l && h[p] === l[p]); p--); for (var g = v - 1; g > p; g--)o--, s = i[o - 1]; for (var m = p + 1; m < d; m++) { var y = {}; GLe(h[m], y, r); var _ = kn("g", "clip-g-" + u++, y, []); (s ? s.children : n).push(_), i[o++] = _, s = _ } l = h; var b = n$(f, r); b && (s ? s.children : n).push(b) } } }, t.prototype.resize = function (e, r) { var n = this._opts, a = this.root, i = this._viewport; if (e != null && (n.width = e), r != null && (n.height = r), a && i && (i.style.display = "none", e = th(a, 0, n), r = th(a, 1, n), i.style.display = ""), this._width !== e || this._height !== r) { if (this._width = e, this._height = r, i) { var o = i.style; o.width = e + "px", o.height = r + "px" } if (eC(this._backgroundColor)) this.refresh(); else { var s = this._svgDom; s && (s.setAttribute("width", e), s.setAttribute("height", r)); var l = this._bgVNode && this._bgVNode.elm; l && (l.setAttribute("width", e), l.setAttribute("height", r)) } } }, t.prototype.getWidth = function () { return this._width }, t.prototype.getHeight = function () { return this._height }, t.prototype.dispose = function () { this.root && (this.root.innerHTML = ""), this._svgDom = this._viewport = this.storage = this._oldVNode = this._bgVNode = this._mainVNode = null }, t.prototype.clear = function () { this._svgDom && (this._svgDom.innerHTML = null), this._oldVNode = null }, t.prototype.toDataURL = function (e) { var r = this.renderToString(), n = "data:image/svg+xml;"; return e ? (r = pce(r), r && n + "base64," + r) : n + "charset=UTF-8," + encodeURIComponent(r) }, t }(); function l$(t) { return function () { } } function eIe(t, e, r, n) { var a; if (r && r !== "none") if (a = kn("rect", "bg", { width: t, height: e, x: "0", y: "0", id: "0" }), q4(r)) AH({ fill: r }, a.attrs, "fill", n); else if (eC(r)) LH({ style: { fill: r }, dirty: nn, getBoundingRect: function () { return { width: t, height: e } } }, a.attrs, "fill", n); else { var i = lp(r), o = i.color, s = i.opacity; a.attrs.fill = o, s < 1 && (a.attrs["fill-opacity"] = s) } return a } const tIe = JLe; function rIe(t) { t.registerPainter("svg", tIe) } function u$(t, e, r) { var n = ql.createCanvas(), a = e.getWidth(), i = e.getHeight(), o = n.style; return o && (o.position = "absolute", o.left = "0", o.top = "0", o.width = a + "px", o.height = i + "px", n.setAttribute("data-zr-dom-id", t)), n.width = a * r, n.height = i * r, n } var nIe = function (t) { ae(e, t); function e(r, n, a) { var i = t.call(this) || this; i.motionBlur = !1, i.lastFrameAlpha = .7, i.dpr = 1, i.virtual = !1, i.config = {}, i.incremental = !1, i.zlevel = 0, i.maxRepaintRectCount = 5, i.__dirty = !0, i.__firstTimePaint = !0, i.__used = !1, i.__drawIndex = 0, i.__startIndex = 0, i.__endIndex = 0, i.__prevStartIndex = null, i.__prevEndIndex = null; var o; a = a || n0, typeof r == "string" ? o = u$(r, n, a) : Qe(r) && (o = r, r = o.id), i.id = r, i.dom = o; var s = o.style; return s && (L4(o), o.onselectstart = function () { return !1 }, s.padding = "0", s.margin = "0", s.borderWidth = "0"), i.painter = n, i.dpr = a, i } return e.prototype.getElementCount = function () { return this.__endIndex - this.__startIndex }, e.prototype.afterBrush = function () { this.__prevStartIndex = this.__startIndex, this.__prevEndIndex = this.__endIndex }, e.prototype.initContext = function () { this.ctx = this.dom.getContext("2d"), this.ctx.dpr = this.dpr }, e.prototype.setUnpainted = function () { this.__firstTimePaint = !0 }, e.prototype.createBackBuffer = function () { var r = this.dpr; this.domBack = u$("back-" + this.id, this.painter, r), this.ctxBack = this.domBack.getContext("2d"), r !== 1 && this.ctxBack.scale(r, r) }, e.prototype.createRepaintRects = function (r, n, a, i) { if (this.__firstTimePaint) return this.__firstTimePaint = !1, null; var o = [], s = this.maxRepaintRectCount, l = !1, u = new wt(0, 0, 0, 0); function c(y) { if (!(!y.isFinite() || y.isZero())) if (o.length === 0) { var _ = new wt(0, 0, 0, 0); _.copy(y), o.push(_) } else { for (var b = !1, x = 1 / 0, S = 0, T = 0; T < o.length; ++T) { var C = o[T]; if (C.intersect(y)) { var M = new wt(0, 0, 0, 0); M.copy(C), M.union(y), o[T] = M, b = !0; break } else if (l) { u.copy(y), u.union(C); var k = y.width * y.height, A = C.width * C.height, R = u.width * u.height, N = R - k - A; N < x && (x = N, S = T) } } if (l && (o[S].union(y), b = !0), !b) { var _ = new wt(0, 0, 0, 0); _.copy(y), o.push(_) } l || (l = o.length >= s) } } for (var f = this.__startIndex; f < this.__endIndex; ++f) { var h = r[f]; if (h) { var d = h.shouldBePainted(a, i, !0, !0), v = h.__isRendered && (h.__dirty & Va || !d) ? h.getPrevPaintRect() : null; v && c(v); var p = d && (h.__dirty & Va || !h.__isRendered) ? h.getPaintRect() : null; p && c(p) } } for (var f = this.__prevStartIndex; f < this.__prevEndIndex; ++f) { var h = n[f], d = h.shouldBePainted(a, i, !0, !0); if (h && (!d || !h.__zr) && h.__isRendered) { var v = h.getPrevPaintRect(); v && c(v) } } var g; do { g = !1; for (var f = 0; f < o.length;) { if (o[f].isZero()) { o.splice(f, 1); continue } for (var m = f + 1; m < o.length;)o[f].intersect(o[m]) ? (g = !0, o[f].union(o[m]), o.splice(m, 1)) : m++; f++ } } while (g); return this._paintRects = o, o }, e.prototype.debugGetPaintRects = function () { return (this._paintRects || []).slice() }, e.prototype.resize = function (r, n) { var a = this.dpr, i = this.dom, o = i.style, s = this.domBack; o && (o.width = r + "px", o.height = n + "px"), i.width = r * a, i.height = n * a, s && (s.width = r * a, s.height = n * a, a !== 1 && this.ctxBack.scale(a, a)) }, e.prototype.clear = function (r, n, a) { var i = this.dom, o = this.ctx, s = i.width, l = i.height; n = n || this.clearColor; var u = this.motionBlur && !r, c = this.lastFrameAlpha, f = this.dpr, h = this; u && (this.domBack || this.createBackBuffer(), this.ctxBack.globalCompositeOperation = "copy", this.ctxBack.drawImage(i, 0, 0, s / f, l / f)); var d = this.domBack; function v(p, g, m, y) { if (o.clearRect(p, g, m, y), n && n !== "transparent") { var _ = void 0; if (z_(n)) { var b = n.global || n.__width === m && n.__height === y; _ = b && n.__canvasGradient || VT(o, n, { x: 0, y: 0, width: m, height: y }), n.__canvasGradient = _, n.__width = m, n.__height = y } else pue(n) && (n.scaleX = n.scaleX || f, n.scaleY = n.scaleY || f, _ = zT(o, n, { dirty: function () { h.setUnpainted(), h.__painter.refresh() } })); o.save(), o.fillStyle = _ || n, o.fillRect(p, g, m, y), o.restore() } u && (o.save(), o.globalAlpha = c, o.drawImage(d, p, g, m, y), o.restore()) } !a || u ? v(0, 0, s, l) : a.length && E(a, function (p) { v(p.x * f, p.y * f, p.width * f, p.height * f) }) }, e }(wi); const QS = nIe; var c$ = 1e5, zu = 314159, qm = .01, aIe = .001; function iIe(t) { return t ? t.__builtin__ ? !0 : !(typeof t.resize != "function" || typeof t.refresh != "function") : !1 } function oIe(t, e) { var r = document.createElement("div"); return r.style.cssText = ["position:relative", "width:" + t + "px", "height:" + e + "px", "padding:0", "margin:0", "border-width:0"].join(";") + ";", r } var sIe = function () { function t(e, r, n, a) { this.type = "canvas", this._zlevelList = [], this._prevDisplayList = [], this._layers = {}, this._layerConfig = {}, this._needsManuallyCompositing = !1, this.type = "canvas"; var i = !e.nodeName || e.nodeName.toUpperCase() === "CANVAS"; this._opts = n = he({}, n || {}), this.dpr = n.devicePixelRatio || n0, this._singleCanvas = i, this.root = e; var o = e.style; o && (L4(e), e.innerHTML = ""), this.storage = r; var s = this._zlevelList; this._prevDisplayList = []; var l = this._layers; if (i) { var c = e, f = c.width, h = c.height; n.width != null && (f = n.width), n.height != null && (h = n.height), this.dpr = n.devicePixelRatio || 1, c.width = f * this.dpr, c.height = h * this.dpr, this._width = f, this._height = h; var d = new QS(c, this, this.dpr); d.__builtin__ = !0, d.initContext(), l[zu] = d, d.zlevel = zu, s.push(zu), this._domRoot = e } else { this._width = th(e, 0, n), this._height = th(e, 1, n); var u = this._domRoot = oIe(this._width, this._height); e.appendChild(u) } } return t.prototype.getType = function () { return "canvas" }, t.prototype.isSingleCanvas = function () { return this._singleCanvas }, t.prototype.getViewportRoot = function () { return this._domRoot }, t.prototype.getViewportRootOffset = function () { var e = this.getViewportRoot(); if (e) return { offsetLeft: e.offsetLeft || 0, offsetTop: e.offsetTop || 0 } }, t.prototype.refresh = function (e) { var r = this.storage.getDisplayList(!0), n = this._prevDisplayList, a = this._zlevelList; this._redrawId = Math.random(), this._paintList(r, n, e, this._redrawId); for (var i = 0; i < a.length; i++) { var o = a[i], s = this._layers[o]; if (!s.__builtin__ && s.refresh) { var l = i === 0 ? this._backgroundColor : null; s.refresh(l) } } return this._opts.useDirtyRect && (this._prevDisplayList = r.slice()), this }, t.prototype.refreshHover = function () { this._paintHoverList(this.storage.getDisplayList(!1)) }, t.prototype._paintHoverList = function (e) { var r = e.length, n = this._hoverlayer; if (n && n.clear(), !!r) { for (var a = { inHover: !0, viewWidth: this._width, viewHeight: this._height }, i, o = 0; o < r; o++) { var s = e[o]; s.__inHover && (n || (n = this._hoverlayer = this.getLayer(c$)), i || (i = n.ctx, i.save()), dc(i, s, a, o === r - 1)) } i && i.restore() } }, t.prototype.getHoverLayer = function () { return this.getLayer(c$) }, t.prototype.paintOne = function (e, r) { M6(e, r) }, t.prototype._paintList = function (e, r, n, a) { if (this._redrawId === a) { n = n || !1, this._updateLayerStatus(e); var i = this._doPaintList(e, r, n), o = i.finished, s = i.needsRefreshHover; if (this._needsManuallyCompositing && this._compositeManually(), s && this._paintHoverList(e), o) this.eachLayer(function (u) { u.afterBrush && u.afterBrush() }); else { var l = this; aT(function () { l._paintList(e, r, n, a) }) } } }, t.prototype._compositeManually = function () { var e = this.getLayer(zu).ctx, r = this._domRoot.width, n = this._domRoot.height; e.clearRect(0, 0, r, n), this.eachBuiltinLayer(function (a) { a.virtual && e.drawImage(a.dom, 0, 0, r, n) }) }, t.prototype._doPaintList = function (e, r, n) { for (var a = this, i = [], o = this._opts.useDirtyRect, s = 0; s < this._zlevelList.length; s++) { var l = this._zlevelList[s], u = this._layers[l]; u.__builtin__ && u !== this._hoverlayer && (u.__dirty || n) && i.push(u) } for (var c = !0, f = !1, h = function (p) { var g = i[p], m = g.ctx, y = o && g.createRepaintRects(e, r, d._width, d._height), _ = n ? g.__startIndex : g.__drawIndex, b = !n && g.incremental && Date.now, x = b && Date.now(), S = g.zlevel === d._zlevelList[0] ? d._backgroundColor : null; if (g.__startIndex === g.__endIndex) g.clear(!1, S, y); else if (_ === g.__startIndex) { var T = e[_]; (!T.incremental || !T.notClear || n) && g.clear(!1, S, y) } _ === -1 && (console.error("For some unknown reason. drawIndex is -1"), _ = g.__startIndex); var C, M = function (N) { var z = { inHover: !1, allClipped: !1, prevEl: null, viewWidth: a._width, viewHeight: a._height }; for (C = _; C < g.__endIndex; C++) { var F = e[C]; if (F.__inHover && (f = !0), a._doPaintEl(F, g, o, N, z, C === g.__endIndex - 1), b) { var V = Date.now() - x; if (V > 15) break } } z.prevElClipPaths && m.restore() }; if (y) if (y.length === 0) C = g.__endIndex; else for (var k = d.dpr, A = 0; A < y.length; ++A) { var R = y[A]; m.save(), m.beginPath(), m.rect(R.x * k, R.y * k, R.width * k, R.height * k), m.clip(), M(R), m.restore() } else m.save(), M(), m.restore(); g.__drawIndex = C, g.__drawIndex < g.__endIndex && (c = !1) }, d = this, v = 0; v < i.length; v++)h(v); return Ut.wxa && E(this._layers, function (p) { p && p.ctx && p.ctx.draw && p.ctx.draw() }), { finished: c, needsRefreshHover: f } }, t.prototype._doPaintEl = function (e, r, n, a, i, o) { var s = r.ctx; if (n) { var l = e.getPaintRect(); (!a || l && l.intersect(a)) && (dc(s, e, i, o), e.setPrevPaintRect(l)) } else dc(s, e, i, o) }, t.prototype.getLayer = function (e, r) { this._singleCanvas && !this._needsManuallyCompositing && (e = zu); var n = this._layers[e]; return n || (n = new QS("zr_" + e, this, this.dpr), n.zlevel = e, n.__builtin__ = !0, this._layerConfig[e] ? bt(n, this._layerConfig[e], !0) : this._layerConfig[e - qm] && bt(n, this._layerConfig[e - qm], !0), r && (n.virtual = r), this.insertLayer(e, n), n.initContext()), n }, t.prototype.insertLayer = function (e, r) { var n = this._layers, a = this._zlevelList, i = a.length, o = this._domRoot, s = null, l = -1; if (!n[e] && iIe(r)) { if (i > 0 && e > a[0]) { for (l = 0; l < i - 1 && !(a[l] < e && a[l + 1] > e); l++); s = n[a[l]] } if (a.splice(l + 1, 0, e), n[e] = r, !r.virtual) if (s) { var u = s.dom; u.nextSibling ? o.insertBefore(r.dom, u.nextSibling) : o.appendChild(r.dom) } else o.firstChild ? o.insertBefore(r.dom, o.firstChild) : o.appendChild(r.dom); r.__painter = this } }, t.prototype.eachLayer = function (e, r) { for (var n = this._zlevelList, a = 0; a < n.length; a++) { var i = n[a]; e.call(r, this._layers[i], i) } }, t.prototype.eachBuiltinLayer = function (e, r) { for (var n = this._zlevelList, a = 0; a < n.length; a++) { var i = n[a], o = this._layers[i]; o.__builtin__ && e.call(r, o, i) } }, t.prototype.eachOtherLayer = function (e, r) { for (var n = this._zlevelList, a = 0; a < n.length; a++) { var i = n[a], o = this._layers[i]; o.__builtin__ || e.call(r, o, i) } }, t.prototype.getLayers = function () { return this._layers }, t.prototype._updateLayerStatus = function (e) { this.eachBuiltinLayer(function (f, h) { f.__dirty = f.__used = !1 }); function r(f) { i && (i.__endIndex !== f && (i.__dirty = !0), i.__endIndex = f) } if (this._singleCanvas) for (var n = 1; n < e.length; n++) { var a = e[n]; if (a.zlevel !== e[n - 1].zlevel || a.incremental) { this._needsManuallyCompositing = !0; break } } var i = null, o = 0, s, l; for (l = 0; l < e.length; l++) { var a = e[l], u = a.zlevel, c = void 0; s !== u && (s = u, o = 0), a.incremental ? (c = this.getLayer(u + aIe, this._needsManuallyCompositing), c.incremental = !0, o = 1) : c = this.getLayer(u + (o > 0 ? qm : 0), this._needsManuallyCompositing), c.__builtin__ || GD("ZLevel " + u + " has been used by unkown layer " + c.id), c !== i && (c.__used = !0, c.__startIndex !== l && (c.__dirty = !0), c.__startIndex = l, c.incremental ? c.__drawIndex = -1 : c.__drawIndex = l, r(l), i = c), a.__dirty & Va && !a.__inHover && (c.__dirty = !0, c.incremental && c.__drawIndex < 0 && (c.__drawIndex = l)) } r(l), this.eachBuiltinLayer(function (f, h) { !f.__used && f.getElementCount() > 0 && (f.__dirty = !0, f.__startIndex = f.__endIndex = f.__drawIndex = 0), f.__dirty && f.__drawIndex < 0 && (f.__drawIndex = f.__startIndex) }) }, t.prototype.clear = function () { return this.eachBuiltinLayer(this._clearLayer), this }, t.prototype._clearLayer = function (e) { e.clear() }, t.prototype.setBackgroundColor = function (e) { this._backgroundColor = e, E(this._layers, function (r) { r.setUnpainted() }) }, t.prototype.configLayer = function (e, r) { if (r) { var n = this._layerConfig; n[e] ? bt(n[e], r, !0) : n[e] = r; for (var a = 0; a < this._zlevelList.length; a++) { var i = this._zlevelList[a]; if (i === e || i === e + qm) { var o = this._layers[i]; bt(o, n[e], !0) } } } }, t.prototype.delLayer = function (e) { var r = this._layers, n = this._zlevelList, a = r[e]; a && (a.dom.parentNode.removeChild(a.dom), delete r[e], n.splice(Ct(n, e), 1)) }, t.prototype.resize = function (e, r) { if (this._domRoot.style) { var n = this._domRoot; n.style.display = "none"; var a = this._opts, i = this.root; if (e != null && (a.width = e), r != null && (a.height = r), e = th(i, 0, a), r = th(i, 1, a), n.style.display = "", this._width !== e || r !== this._height) { n.style.width = e + "px", n.style.height = r + "px"; for (var o in this._layers) this._layers.hasOwnProperty(o) && this._layers[o].resize(e, r); this.refresh(!0) } this._width = e, this._height = r } else { if (e == null || r == null) return; this._width = e, this._height = r, this.getLayer(zu).resize(e, r) } return this }, t.prototype.clearLayer = function (e) { var r = this._layers[e]; r && r.clear() }, t.prototype.dispose = function () { this.root.innerHTML = "", this.root = this.storage = this._domRoot = this._layers = null }, t.prototype.getRenderedCanvas = function (e) { if (e = e || {}, this._singleCanvas && !this._compositeManually) return this._layers[zu].dom; var r = new QS("image", this, e.pixelRatio || this.dpr); r.initContext(), r.clear(!1, e.backgroundColor || this._backgroundColor); var n = r.ctx; if (e.pixelRatio <= this.dpr) { this.refresh(); var a = r.dom.width, i = r.dom.height; this.eachLayer(function (f) { f.__builtin__ ? n.drawImage(f.dom, 0, 0, a, i) : f.renderToCanvas && (n.save(), f.renderToCanvas(n), n.restore()) }) } else for (var o = { inHover: !1, viewWidth: this._width, viewHeight: this._height }, s = this.storage.getDisplayList(!0), l = 0, u = s.length; l < u; l++) { var c = s[l]; dc(n, c, o, l === u - 1) } return r.dom }, t.prototype.getWidth = function () { return this._width }, t.prototype.getHeight = function () { return this._height }, t }(); const lIe = sIe; function ik(t) { t.registerPainter("canvas", lIe) } const E2 = Ue({ __name: "ChartBar", props: { data: { type: Array, default: [] }, title: { type: String, default: "" }, subTitle: { type: String, default: "" }, widthInit: { type: String, default: "100%" } }, setup(t) { const e = Vt(); Ki(), wn(), Dt([WM, UM, OM, QM, KM, UV, KC, ek, ik]); const r = ["#FFA41C", "#2F3037", "#9FE080", "#5C7BD9", "#7ED3F4", "#EE6666", "#c7c7c7", "#FFDC60"], n = ne(), a = t; mt(() => a.data, c => { c && l(c) }); const i = ne(null), o = ne(null), s = ne("500px"); Lt(() => { window.innerWidth < 400 ? s.value = "100%" : s.value = a.widthInit, Dr(() => { u(), l(a.data) }) }); function l(c) { let f = [], h = [], d = []; c.forEach(v => { h.push(v.value), f.push(v.name); let p = e.categoryNameMap.get(v.key) && e.categoryObjectMap.get(v.key).color; p && d.push(p) }), d.length > 0 ? o.value.color = d : o.value.color = r, o.value.colorBy = "data", o.value.xAxis[0].data = f, o.value.series[0].data = h, i.value.setOption(o.value) } function u() { o.value = { grid: { bottom: 40, right: 20, top: 30, left: 30 }, title: { text: "", left: "center", textStyle: { color: "#666666" } }, tooltip: { trigger: "axis", axisPointer: { type: "shadow" } }, xAxis: [{ type: "category", data: [], axisLabel: { fontSize: 11, color: "#666666", rotate: -45 } }], yAxis: [{ type: "value", axisLabel: { formatter: (c, f) => { let h = c / 1e3, d = c % 1e3; return h >= 1 ? `${h}k` : d } } }], series: [{ name: "到访人员类型", type: "bar", data: [], label: { show: !0, position: "top", fontSize: 12 } }] }, o.value.title.text = a.title, i.value = og(n.value), i.value.setOption(o.value), o.value.series[0].name = a.title } return (c, f) => ($(), j("div", { ref_key: "refBar", ref: n, class: "charts", style: at(`height: 300px; width: ${s.value}`) }, null, 4)) } });//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var OH; function ze() { return OH.apply(null, arguments) } function uIe(t) { OH = t } function qi(t) { return t instanceof Array || Object.prototype.toString.call(t) === "[object Array]" } function Ic(t) { return t != null && Object.prototype.toString.call(t) === "[object Object]" } function yr(t, e) { return Object.prototype.hasOwnProperty.call(t, e) } function ok(t) { if (Object.getOwnPropertyNames) return Object.getOwnPropertyNames(t).length === 0; var e; for (e in t) if (yr(t, e)) return !1; return !0 } function Da(t) { return t === void 0 } function $s(t) { return typeof t == "number" || Object.prototype.toString.call(t) === "[object Number]" } function yg(t) { return t instanceof Date || Object.prototype.toString.call(t) === "[object Date]" } function EH(t, e) { var r = [], n, a = t.length; for (n = 0; n < a; ++n)r.push(e(t[n], n)); return r } function Il(t, e) { for (var r in e) yr(e, r) && (t[r] = e[r]); return yr(e, "toString") && (t.toString = e.toString), yr(e, "valueOf") && (t.valueOf = e.valueOf), t } function Wo(t, e, r, n) { return a8(t, e, r, n, !0).utc() } function cIe() { return { empty: !1, unusedTokens: [], unusedInput: [], overflow: -2, charsLeftOver: 0, nullInput: !1, invalidEra: null, invalidMonth: null, invalidFormat: !1, userInvalidated: !1, iso: !1, parsedDateParts: [], era: null, meridiem: null, rfc2822: !1, weekdayMismatch: !1 } } function Ft(t) { return t._pf == null && (t._pf = cIe()), t._pf } var N2; Array.prototype.some ? N2 = Array.prototype.some : N2 = function (t) { var e = Object(this), r = e.length >>> 0, n; for (n = 0; n < r; n++)if (n in e && t.call(this, e[n], n, e)) return !0; return !1 }; function sk(t) { var e = null, r = !1, n = t._d && !isNaN(t._d.getTime()); if (n && (e = Ft(t), r = N2.call(e.parsedDateParts, function (a) { return a != null }), n = e.overflow < 0 && !e.empty && !e.invalidEra && !e.invalidMonth && !e.invalidWeekday && !e.weekdayMismatch && !e.nullInput && !e.invalidFormat && !e.userInvalidated && (!e.meridiem || e.meridiem && r), t._strict && (n = n && e.charsLeftOver === 0 && e.unusedTokens.length === 0 && e.bigHour === void 0)), Object.isFrozen == null || !Object.isFrozen(t)) t._isValid = n; else return n; return t._isValid } function C1(t) { var e = Wo(NaN); return t != null ? Il(Ft(e), t) : Ft(e).userInvalidated = !0, e } var f$ = ze.momentProperties = [], JS = !1; function lk(t, e) { var r, n, a, i = f$.length; if (Da(e._isAMomentObject) || (t._isAMomentObject = e._isAMomentObject), Da(e._i) || (t._i = e._i), Da(e._f) || (t._f = e._f), Da(e._l) || (t._l = e._l), Da(e._strict) || (t._strict = e._strict), Da(e._tzm) || (t._tzm = e._tzm), Da(e._isUTC) || (t._isUTC = e._isUTC), Da(e._offset) || (t._offset = e._offset), Da(e._pf) || (t._pf = Ft(e)), Da(e._locale) || (t._locale = e._locale), i > 0) for (r = 0; r < i; r++)n = f$[r], a = e[n], Da(a) || (t[n] = a); return t } function _g(t) { lk(this, t), this._d = new Date(t._d != null ? t._d.getTime() : NaN), this.isValid() || (this._d = new Date(NaN)), JS === !1 && (JS = !0, ze.updateOffset(this), JS = !1) } function Xi(t) { return t instanceof _g || t != null && t._isAMomentObject != null } function NH(t) { ze.suppressDeprecationWarnings === !1 && typeof console < "u" && console.warn && console.warn("Deprecation warning: " + t) } function Ti(t, e) {
    var r = !0; return Il(function () {
        if (ze.deprecationHandler != null && ze.deprecationHandler(null, t), r) {
            var n = [], a, i, o, s = arguments.length; for (i = 0; i < s; i++) {
                if (a = "", typeof arguments[i] == "object") {
                    a += `
[`+ i + "] "; for (o in arguments[0]) yr(arguments[0], o) && (a += o + ": " + arguments[0][o] + ", "); a = a.slice(0, -2)
                } else a = arguments[i]; n.push(a)
            } NH(t + `
Arguments: `+ Array.prototype.slice.call(n).join("") + `
`+ new Error().stack), r = !1
        } return e.apply(this, arguments)
    }, e)
} var h$ = {}; function $H(t, e) { ze.deprecationHandler != null && ze.deprecationHandler(t, e), h$[t] || (NH(e), h$[t] = !0) } ze.suppressDeprecationWarnings = !1; ze.deprecationHandler = null; function Go(t) { return typeof Function < "u" && t instanceof Function || Object.prototype.toString.call(t) === "[object Function]" } function fIe(t) { var e, r; for (r in t) yr(t, r) && (e = t[r], Go(e) ? this[r] = e : this["_" + r] = e); this._config = t, this._dayOfMonthOrdinalParseLenient = new RegExp((this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) + "|" + /\d{1,2}/.source) } function $2(t, e) { var r = Il({}, t), n; for (n in e) yr(e, n) && (Ic(t[n]) && Ic(e[n]) ? (r[n] = {}, Il(r[n], t[n]), Il(r[n], e[n])) : e[n] != null ? r[n] = e[n] : delete r[n]); for (n in t) yr(t, n) && !yr(e, n) && Ic(t[n]) && (r[n] = Il({}, r[n])); return r } function uk(t) { t != null && this.set(t) } var F2; Object.keys ? F2 = Object.keys : F2 = function (t) { var e, r = []; for (e in t) yr(t, e) && r.push(e); return r }; var hIe = { sameDay: "[Today at] LT", nextDay: "[Tomorrow at] LT", nextWeek: "dddd [at] LT", lastDay: "[Yesterday at] LT", lastWeek: "[Last] dddd [at] LT", sameElse: "L" }; function dIe(t, e, r) { var n = this._calendar[t] || this._calendar.sameElse; return Go(n) ? n.call(e, r) : n } function Fo(t, e, r) { var n = "" + Math.abs(t), a = e - n.length, i = t >= 0; return (i ? r ? "+" : "" : "-") + Math.pow(10, Math.max(0, a)).toString().substr(1) + n } var ck = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g, Xm = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, ex = {}, dh = {}; function ht(t, e, r, n) { var a = n; typeof n == "string" && (a = function () { return this[n]() }), t && (dh[t] = a), e && (dh[e[0]] = function () { return Fo(a.apply(this, arguments), e[1], e[2]) }), r && (dh[r] = function () { return this.localeData().ordinal(a.apply(this, arguments), t) }) } function vIe(t) { return t.match(/\[[\s\S]/) ? t.replace(/^\[|\]$/g, "") : t.replace(/\\/g, "") } function pIe(t) { var e = t.match(ck), r, n; for (r = 0, n = e.length; r < n; r++)dh[e[r]] ? e[r] = dh[e[r]] : e[r] = vIe(e[r]); return function (a) { var i = "", o; for (o = 0; o < n; o++)i += Go(e[o]) ? e[o].call(a, t) : e[o]; return i } } function Ry(t, e) { return t.isValid() ? (e = FH(e, t.localeData()), ex[e] = ex[e] || pIe(e), ex[e](t)) : t.localeData().invalidDate() } function FH(t, e) { var r = 5; function n(a) { return e.longDateFormat(a) || a } for (Xm.lastIndex = 0; r >= 0 && Xm.test(t);)t = t.replace(Xm, n), Xm.lastIndex = 0, r -= 1; return t } var gIe = { LTS: "h:mm:ss A", LT: "h:mm A", L: "MM/DD/YYYY", LL: "MMMM D, YYYY", LLL: "MMMM D, YYYY h:mm A", LLLL: "dddd, MMMM D, YYYY h:mm A" }; function mIe(t) { var e = this._longDateFormat[t], r = this._longDateFormat[t.toUpperCase()]; return e || !r ? e : (this._longDateFormat[t] = r.match(ck).map(function (n) { return n === "MMMM" || n === "MM" || n === "DD" || n === "dddd" ? n.slice(1) : n }).join(""), this._longDateFormat[t]) } var yIe = "Invalid date"; function _Ie() { return this._invalidDate } var bIe = "%d", wIe = /\d{1,2}/; function SIe(t) { return this._ordinal.replace("%d", t) } var xIe = { future: "in %s", past: "%s ago", s: "a few seconds", ss: "%d seconds", m: "a minute", mm: "%d minutes", h: "an hour", hh: "%d hours", d: "a day", dd: "%d days", w: "a week", ww: "%d weeks", M: "a month", MM: "%d months", y: "a year", yy: "%d years" }; function TIe(t, e, r, n) { var a = this._relativeTime[r]; return Go(a) ? a(t, e, r, n) : a.replace(/%d/i, t) } function DIe(t, e) { var r = this._relativeTime[t > 0 ? "future" : "past"]; return Go(r) ? r(e) : r.replace(/%s/i, e) } var d$ = { D: "date", dates: "date", date: "date", d: "day", days: "day", day: "day", e: "weekday", weekdays: "weekday", weekday: "weekday", E: "isoWeekday", isoweekdays: "isoWeekday", isoweekday: "isoWeekday", DDD: "dayOfYear", dayofyears: "dayOfYear", dayofyear: "dayOfYear", h: "hour", hours: "hour", hour: "hour", ms: "millisecond", milliseconds: "millisecond", millisecond: "millisecond", m: "minute", minutes: "minute", minute: "minute", M: "month", months: "month", month: "month", Q: "quarter", quarters: "quarter", quarter: "quarter", s: "second", seconds: "second", second: "second", gg: "weekYear", weekyears: "weekYear", weekyear: "weekYear", GG: "isoWeekYear", isoweekyears: "isoWeekYear", isoweekyear: "isoWeekYear", w: "week", weeks: "week", week: "week", W: "isoWeek", isoweeks: "isoWeek", isoweek: "isoWeek", y: "year", years: "year", year: "year" }; function Di(t) { return typeof t == "string" ? d$[t] || d$[t.toLowerCase()] : void 0 } function fk(t) { var e = {}, r, n; for (n in t) yr(t, n) && (r = Di(n), r && (e[r] = t[n])); return e } var CIe = { date: 9, day: 11, weekday: 11, isoWeekday: 11, dayOfYear: 4, hour: 13, millisecond: 16, minute: 14, month: 8, quarter: 7, second: 15, weekYear: 1, isoWeekYear: 1, week: 5, isoWeek: 5, year: 1 }; function MIe(t) { var e = [], r; for (r in t) yr(t, r) && e.push({ unit: r, priority: CIe[r] }); return e.sort(function (n, a) { return n.priority - a.priority }), e } var BH = /\d/, Ga = /\d\d/, VH = /\d{3}/, hk = /\d{4}/, M1 = /[+-]?\d{6}/, Wr = /\d\d?/, zH = /\d\d\d\d?/, HH = /\d\d\d\d\d\d?/, k1 = /\d{1,3}/, dk = /\d{1,4}/, A1 = /[+-]?\d{1,6}/, rd = /\d+/, L1 = /[+-]?\d+/, kIe = /Z|[+-]\d\d:?\d\d/gi, I1 = /Z|[+-]\d\d(?::?\d\d)?/gi, AIe = /[+-]?\d+(\.\d{1,3})?/, bg = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i, nd = /^[1-9]\d?/, vk = /^([1-9]\d|\d)/, G0; G0 = {}; function et(t, e, r) { G0[t] = Go(e) ? e : function (n, a) { return n && r ? r : e } } function LIe(t, e) { return yr(G0, t) ? G0[t](e._strict, e._locale) : new RegExp(IIe(t)) } function IIe(t) { return Ms(t.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (e, r, n, a, i) { return r || n || a || i })) } function Ms(t) { return t.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&") } function ui(t) { return t < 0 ? Math.ceil(t) || 0 : Math.floor(t) } function Qt(t) { var e = +t, r = 0; return e !== 0 && isFinite(e) && (r = ui(e)), r } var B2 = {}; function Rr(t, e) { var r, n = e, a; for (typeof t == "string" && (t = [t]), $s(e) && (n = function (i, o) { o[e] = Qt(i) }), a = t.length, r = 0; r < a; r++)B2[t[r]] = n } function wg(t, e) { Rr(t, function (r, n, a, i) { a._w = a._w || {}, e(r, a._w, a, i) }) } function PIe(t, e, r) { e != null && yr(B2, t) && B2[t](e, r._a, r, t) } function P1(t) { return t % 4 === 0 && t % 100 !== 0 || t % 400 === 0 } var ra = 0, ms = 1, mo = 2, An = 3, zi = 4, ys = 5, pc = 6, RIe = 7, OIe = 8; ht("Y", 0, 0, function () { var t = this.year(); return t <= 9999 ? Fo(t, 4) : "+" + t }); ht(0, ["YY", 2], 0, function () { return this.year() % 100 }); ht(0, ["YYYY", 4], 0, "year"); ht(0, ["YYYYY", 5], 0, "year"); ht(0, ["YYYYYY", 6, !0], 0, "year"); et("Y", L1); et("YY", Wr, Ga); et("YYYY", dk, hk); et("YYYYY", A1, M1); et("YYYYYY", A1, M1); Rr(["YYYYY", "YYYYYY"], ra); Rr("YYYY", function (t, e) { e[ra] = t.length === 2 ? ze.parseTwoDigitYear(t) : Qt(t) }); Rr("YY", function (t, e) { e[ra] = ze.parseTwoDigitYear(t) }); Rr("Y", function (t, e) { e[ra] = parseInt(t, 10) }); function Bv(t) { return P1(t) ? 366 : 365 } ze.parseTwoDigitYear = function (t) { return Qt(t) + (Qt(t) > 68 ? 1900 : 2e3) }; var YH = ad("FullYear", !0); function EIe() { return P1(this.year()) } function ad(t, e) { return function (r) { return r != null ? (UH(this, t, r), ze.updateOffset(this, e), this) : Rp(this, t) } } function Rp(t, e) { if (!t.isValid()) return NaN; var r = t._d, n = t._isUTC; switch (e) { case "Milliseconds": return n ? r.getUTCMilliseconds() : r.getMilliseconds(); case "Seconds": return n ? r.getUTCSeconds() : r.getSeconds(); case "Minutes": return n ? r.getUTCMinutes() : r.getMinutes(); case "Hours": return n ? r.getUTCHours() : r.getHours(); case "Date": return n ? r.getUTCDate() : r.getDate(); case "Day": return n ? r.getUTCDay() : r.getDay(); case "Month": return n ? r.getUTCMonth() : r.getMonth(); case "FullYear": return n ? r.getUTCFullYear() : r.getFullYear(); default: return NaN } } function UH(t, e, r) { var n, a, i, o, s; if (!(!t.isValid() || isNaN(r))) { switch (n = t._d, a = t._isUTC, e) { case "Milliseconds": return void (a ? n.setUTCMilliseconds(r) : n.setMilliseconds(r)); case "Seconds": return void (a ? n.setUTCSeconds(r) : n.setSeconds(r)); case "Minutes": return void (a ? n.setUTCMinutes(r) : n.setMinutes(r)); case "Hours": return void (a ? n.setUTCHours(r) : n.setHours(r)); case "Date": return void (a ? n.setUTCDate(r) : n.setDate(r)); case "FullYear": break; default: return }i = r, o = t.month(), s = t.date(), s = s === 29 && o === 1 && !P1(i) ? 28 : s, a ? n.setUTCFullYear(i, o, s) : n.setFullYear(i, o, s) } } function NIe(t) { return t = Di(t), Go(this[t]) ? this[t]() : this } function $Ie(t, e) { if (typeof t == "object") { t = fk(t); var r = MIe(t), n, a = r.length; for (n = 0; n < a; n++)this[r[n].unit](t[r[n].unit]) } else if (t = Di(t), Go(this[t])) return this[t](e); return this } function FIe(t, e) { return (t % e + e) % e } var sn; Array.prototype.indexOf ? sn = Array.prototype.indexOf : sn = function (t) { var e; for (e = 0; e < this.length; ++e)if (this[e] === t) return e; return -1 }; function pk(t, e) { if (isNaN(t) || isNaN(e)) return NaN; var r = FIe(e, 12); return t += (e - r) / 12, r === 1 ? P1(t) ? 29 : 28 : 31 - r % 7 % 2 } ht("M", ["MM", 2], "Mo", function () { return this.month() + 1 }); ht("MMM", 0, 0, function (t) { return this.localeData().monthsShort(this, t) }); ht("MMMM", 0, 0, function (t) { return this.localeData().months(this, t) }); et("M", Wr, nd); et("MM", Wr, Ga); et("MMM", function (t, e) { return e.monthsShortRegex(t) }); et("MMMM", function (t, e) { return e.monthsRegex(t) }); Rr(["M", "MM"], function (t, e) { e[ms] = Qt(t) - 1 }); Rr(["MMM", "MMMM"], function (t, e, r, n) { var a = r._locale.monthsParse(t, n, r._strict); a != null ? e[ms] = a : Ft(r).invalidMonth = t }); var BIe = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"), WH = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"), GH = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/, VIe = bg, zIe = bg; function HIe(t, e) { return t ? qi(this._months) ? this._months[t.month()] : this._months[(this._months.isFormat || GH).test(e) ? "format" : "standalone"][t.month()] : qi(this._months) ? this._months : this._months.standalone } function YIe(t, e) { return t ? qi(this._monthsShort) ? this._monthsShort[t.month()] : this._monthsShort[GH.test(e) ? "format" : "standalone"][t.month()] : qi(this._monthsShort) ? this._monthsShort : this._monthsShort.standalone } function UIe(t, e, r) { var n, a, i, o = t.toLocaleLowerCase(); if (!this._monthsParse) for (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = [], n = 0; n < 12; ++n)i = Wo([2e3, n]), this._shortMonthsParse[n] = this.monthsShort(i, "").toLocaleLowerCase(), this._longMonthsParse[n] = this.months(i, "").toLocaleLowerCase(); return r ? e === "MMM" ? (a = sn.call(this._shortMonthsParse, o), a !== -1 ? a : null) : (a = sn.call(this._longMonthsParse, o), a !== -1 ? a : null) : e === "MMM" ? (a = sn.call(this._shortMonthsParse, o), a !== -1 ? a : (a = sn.call(this._longMonthsParse, o), a !== -1 ? a : null)) : (a = sn.call(this._longMonthsParse, o), a !== -1 ? a : (a = sn.call(this._shortMonthsParse, o), a !== -1 ? a : null)) } function WIe(t, e, r) { var n, a, i; if (this._monthsParseExact) return UIe.call(this, t, e, r); for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), n = 0; n < 12; n++) { if (a = Wo([2e3, n]), r && !this._longMonthsParse[n] && (this._longMonthsParse[n] = new RegExp("^" + this.months(a, "").replace(".", "") + "$", "i"), this._shortMonthsParse[n] = new RegExp("^" + this.monthsShort(a, "").replace(".", "") + "$", "i")), !r && !this._monthsParse[n] && (i = "^" + this.months(a, "") + "|^" + this.monthsShort(a, ""), this._monthsParse[n] = new RegExp(i.replace(".", ""), "i")), r && e === "MMMM" && this._longMonthsParse[n].test(t)) return n; if (r && e === "MMM" && this._shortMonthsParse[n].test(t)) return n; if (!r && this._monthsParse[n].test(t)) return n } } function jH(t, e) { if (!t.isValid()) return t; if (typeof e == "string") { if (/^\d+$/.test(e)) e = Qt(e); else if (e = t.localeData().monthsParse(e), !$s(e)) return t } var r = e, n = t.date(); return n = n < 29 ? n : Math.min(n, pk(t.year(), r)), t._isUTC ? t._d.setUTCMonth(r, n) : t._d.setMonth(r, n), t } function ZH(t) { return t != null ? (jH(this, t), ze.updateOffset(this, !0), this) : Rp(this, "Month") } function GIe() { return pk(this.year(), this.month()) } function jIe(t) { return this._monthsParseExact ? (yr(this, "_monthsRegex") || qH.call(this), t ? this._monthsShortStrictRegex : this._monthsShortRegex) : (yr(this, "_monthsShortRegex") || (this._monthsShortRegex = VIe), this._monthsShortStrictRegex && t ? this._monthsShortStrictRegex : this._monthsShortRegex) } function ZIe(t) { return this._monthsParseExact ? (yr(this, "_monthsRegex") || qH.call(this), t ? this._monthsStrictRegex : this._monthsRegex) : (yr(this, "_monthsRegex") || (this._monthsRegex = zIe), this._monthsStrictRegex && t ? this._monthsStrictRegex : this._monthsRegex) } function qH() { function t(l, u) { return u.length - l.length } var e = [], r = [], n = [], a, i, o, s; for (a = 0; a < 12; a++)i = Wo([2e3, a]), o = Ms(this.monthsShort(i, "")), s = Ms(this.months(i, "")), e.push(o), r.push(s), n.push(s), n.push(o); e.sort(t), r.sort(t), n.sort(t), this._monthsRegex = new RegExp("^(" + n.join("|") + ")", "i"), this._monthsShortRegex = this._monthsRegex, this._monthsStrictRegex = new RegExp("^(" + r.join("|") + ")", "i"), this._monthsShortStrictRegex = new RegExp("^(" + e.join("|") + ")", "i") } function qIe(t, e, r, n, a, i, o) { var s; return t < 100 && t >= 0 ? (s = new Date(t + 400, e, r, n, a, i, o), isFinite(s.getFullYear()) && s.setFullYear(t)) : s = new Date(t, e, r, n, a, i, o), s } function Op(t) { var e, r; return t < 100 && t >= 0 ? (r = Array.prototype.slice.call(arguments), r[0] = t + 400, e = new Date(Date.UTC.apply(null, r)), isFinite(e.getUTCFullYear()) && e.setUTCFullYear(t)) : e = new Date(Date.UTC.apply(null, arguments)), e } function j0(t, e, r) { var n = 7 + e - r, a = (7 + Op(t, 0, n).getUTCDay() - e) % 7; return -a + n - 1 } function XH(t, e, r, n, a) { var i = (7 + r - n) % 7, o = j0(t, n, a), s = 1 + 7 * (e - 1) + i + o, l, u; return s <= 0 ? (l = t - 1, u = Bv(l) + s) : s > Bv(t) ? (l = t + 1, u = s - Bv(t)) : (l = t, u = s), { year: l, dayOfYear: u } } function Ep(t, e, r) { var n = j0(t.year(), e, r), a = Math.floor((t.dayOfYear() - n - 1) / 7) + 1, i, o; return a < 1 ? (o = t.year() - 1, i = a + ks(o, e, r)) : a > ks(t.year(), e, r) ? (i = a - ks(t.year(), e, r), o = t.year() + 1) : (o = t.year(), i = a), { week: i, year: o } } function ks(t, e, r) { var n = j0(t, e, r), a = j0(t + 1, e, r); return (Bv(t) - n + a) / 7 } ht("w", ["ww", 2], "wo", "week"); ht("W", ["WW", 2], "Wo", "isoWeek"); et("w", Wr, nd); et("ww", Wr, Ga); et("W", Wr, nd); et("WW", Wr, Ga); wg(["w", "ww", "W", "WW"], function (t, e, r, n) { e[n.substr(0, 1)] = Qt(t) }); function XIe(t) { return Ep(t, this._week.dow, this._week.doy).week } var KIe = { dow: 0, doy: 6 }; function QIe() { return this._week.dow } function JIe() { return this._week.doy } function ePe(t) { var e = this.localeData().week(this); return t == null ? e : this.add((t - e) * 7, "d") } function tPe(t) { var e = Ep(this, 1, 4).week; return t == null ? e : this.add((t - e) * 7, "d") } ht("d", 0, "do", "day"); ht("dd", 0, 0, function (t) { return this.localeData().weekdaysMin(this, t) }); ht("ddd", 0, 0, function (t) { return this.localeData().weekdaysShort(this, t) }); ht("dddd", 0, 0, function (t) { return this.localeData().weekdays(this, t) }); ht("e", 0, 0, "weekday"); ht("E", 0, 0, "isoWeekday"); et("d", Wr); et("e", Wr); et("E", Wr); et("dd", function (t, e) { return e.weekdaysMinRegex(t) }); et("ddd", function (t, e) { return e.weekdaysShortRegex(t) }); et("dddd", function (t, e) { return e.weekdaysRegex(t) }); wg(["dd", "ddd", "dddd"], function (t, e, r, n) { var a = r._locale.weekdaysParse(t, n, r._strict); a != null ? e.d = a : Ft(r).invalidWeekday = t }); wg(["d", "e", "E"], function (t, e, r, n) { e[n] = Qt(t) }); function rPe(t, e) { return typeof t != "string" ? t : isNaN(t) ? (t = e.weekdaysParse(t), typeof t == "number" ? t : null) : parseInt(t, 10) } function nPe(t, e) { return typeof t == "string" ? e.weekdaysParse(t) % 7 || 7 : isNaN(t) ? null : t } function gk(t, e) { return t.slice(e, 7).concat(t.slice(0, e)) } var aPe = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), KH = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"), iPe = "Su_Mo_Tu_We_Th_Fr_Sa".split("_"), oPe = bg, sPe = bg, lPe = bg; function uPe(t, e) { var r = qi(this._weekdays) ? this._weekdays : this._weekdays[t && t !== !0 && this._weekdays.isFormat.test(e) ? "format" : "standalone"]; return t === !0 ? gk(r, this._week.dow) : t ? r[t.day()] : r } function cPe(t) { return t === !0 ? gk(this._weekdaysShort, this._week.dow) : t ? this._weekdaysShort[t.day()] : this._weekdaysShort } function fPe(t) { return t === !0 ? gk(this._weekdaysMin, this._week.dow) : t ? this._weekdaysMin[t.day()] : this._weekdaysMin } function hPe(t, e, r) { var n, a, i, o = t.toLocaleLowerCase(); if (!this._weekdaysParse) for (this._weekdaysParse = [], this._shortWeekdaysParse = [], this._minWeekdaysParse = [], n = 0; n < 7; ++n)i = Wo([2e3, 1]).day(n), this._minWeekdaysParse[n] = this.weekdaysMin(i, "").toLocaleLowerCase(), this._shortWeekdaysParse[n] = this.weekdaysShort(i, "").toLocaleLowerCase(), this._weekdaysParse[n] = this.weekdays(i, "").toLocaleLowerCase(); return r ? e === "dddd" ? (a = sn.call(this._weekdaysParse, o), a !== -1 ? a : null) : e === "ddd" ? (a = sn.call(this._shortWeekdaysParse, o), a !== -1 ? a : null) : (a = sn.call(this._minWeekdaysParse, o), a !== -1 ? a : null) : e === "dddd" ? (a = sn.call(this._weekdaysParse, o), a !== -1 || (a = sn.call(this._shortWeekdaysParse, o), a !== -1) ? a : (a = sn.call(this._minWeekdaysParse, o), a !== -1 ? a : null)) : e === "ddd" ? (a = sn.call(this._shortWeekdaysParse, o), a !== -1 || (a = sn.call(this._weekdaysParse, o), a !== -1) ? a : (a = sn.call(this._minWeekdaysParse, o), a !== -1 ? a : null)) : (a = sn.call(this._minWeekdaysParse, o), a !== -1 || (a = sn.call(this._weekdaysParse, o), a !== -1) ? a : (a = sn.call(this._shortWeekdaysParse, o), a !== -1 ? a : null)) } function dPe(t, e, r) { var n, a, i; if (this._weekdaysParseExact) return hPe.call(this, t, e, r); for (this._weekdaysParse || (this._weekdaysParse = [], this._minWeekdaysParse = [], this._shortWeekdaysParse = [], this._fullWeekdaysParse = []), n = 0; n < 7; n++) { if (a = Wo([2e3, 1]).day(n), r && !this._fullWeekdaysParse[n] && (this._fullWeekdaysParse[n] = new RegExp("^" + this.weekdays(a, "").replace(".", "\\.?") + "$", "i"), this._shortWeekdaysParse[n] = new RegExp("^" + this.weekdaysShort(a, "").replace(".", "\\.?") + "$", "i"), this._minWeekdaysParse[n] = new RegExp("^" + this.weekdaysMin(a, "").replace(".", "\\.?") + "$", "i")), this._weekdaysParse[n] || (i = "^" + this.weekdays(a, "") + "|^" + this.weekdaysShort(a, "") + "|^" + this.weekdaysMin(a, ""), this._weekdaysParse[n] = new RegExp(i.replace(".", ""), "i")), r && e === "dddd" && this._fullWeekdaysParse[n].test(t)) return n; if (r && e === "ddd" && this._shortWeekdaysParse[n].test(t)) return n; if (r && e === "dd" && this._minWeekdaysParse[n].test(t)) return n; if (!r && this._weekdaysParse[n].test(t)) return n } } function vPe(t) { if (!this.isValid()) return t != null ? this : NaN; var e = Rp(this, "Day"); return t != null ? (t = rPe(t, this.localeData()), this.add(t - e, "d")) : e } function pPe(t) { if (!this.isValid()) return t != null ? this : NaN; var e = (this.day() + 7 - this.localeData()._week.dow) % 7; return t == null ? e : this.add(t - e, "d") } function gPe(t) { if (!this.isValid()) return t != null ? this : NaN; if (t != null) { var e = nPe(t, this.localeData()); return this.day(this.day() % 7 ? e : e - 7) } else return this.day() || 7 } function mPe(t) { return this._weekdaysParseExact ? (yr(this, "_weekdaysRegex") || mk.call(this), t ? this._weekdaysStrictRegex : this._weekdaysRegex) : (yr(this, "_weekdaysRegex") || (this._weekdaysRegex = oPe), this._weekdaysStrictRegex && t ? this._weekdaysStrictRegex : this._weekdaysRegex) } function yPe(t) { return this._weekdaysParseExact ? (yr(this, "_weekdaysRegex") || mk.call(this), t ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) : (yr(this, "_weekdaysShortRegex") || (this._weekdaysShortRegex = sPe), this._weekdaysShortStrictRegex && t ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) } function _Pe(t) { return this._weekdaysParseExact ? (yr(this, "_weekdaysRegex") || mk.call(this), t ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) : (yr(this, "_weekdaysMinRegex") || (this._weekdaysMinRegex = lPe), this._weekdaysMinStrictRegex && t ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) } function mk() { function t(c, f) { return f.length - c.length } var e = [], r = [], n = [], a = [], i, o, s, l, u; for (i = 0; i < 7; i++)o = Wo([2e3, 1]).day(i), s = Ms(this.weekdaysMin(o, "")), l = Ms(this.weekdaysShort(o, "")), u = Ms(this.weekdays(o, "")), e.push(s), r.push(l), n.push(u), a.push(s), a.push(l), a.push(u); e.sort(t), r.sort(t), n.sort(t), a.sort(t), this._weekdaysRegex = new RegExp("^(" + a.join("|") + ")", "i"), this._weekdaysShortRegex = this._weekdaysRegex, this._weekdaysMinRegex = this._weekdaysRegex, this._weekdaysStrictRegex = new RegExp("^(" + n.join("|") + ")", "i"), this._weekdaysShortStrictRegex = new RegExp("^(" + r.join("|") + ")", "i"), this._weekdaysMinStrictRegex = new RegExp("^(" + e.join("|") + ")", "i") } function yk() { return this.hours() % 12 || 12 } function bPe() { return this.hours() || 24 } ht("H", ["HH", 2], 0, "hour"); ht("h", ["hh", 2], 0, yk); ht("k", ["kk", 2], 0, bPe); ht("hmm", 0, 0, function () { return "" + yk.apply(this) + Fo(this.minutes(), 2) }); ht("hmmss", 0, 0, function () { return "" + yk.apply(this) + Fo(this.minutes(), 2) + Fo(this.seconds(), 2) }); ht("Hmm", 0, 0, function () { return "" + this.hours() + Fo(this.minutes(), 2) }); ht("Hmmss", 0, 0, function () { return "" + this.hours() + Fo(this.minutes(), 2) + Fo(this.seconds(), 2) }); function QH(t, e) { ht(t, 0, 0, function () { return this.localeData().meridiem(this.hours(), this.minutes(), e) }) } QH("a", !0); QH("A", !1); function JH(t, e) { return e._meridiemParse } et("a", JH); et("A", JH); et("H", Wr, vk); et("h", Wr, nd); et("k", Wr, nd); et("HH", Wr, Ga); et("hh", Wr, Ga); et("kk", Wr, Ga); et("hmm", zH); et("hmmss", HH); et("Hmm", zH); et("Hmmss", HH); Rr(["H", "HH"], An); Rr(["k", "kk"], function (t, e, r) { var n = Qt(t); e[An] = n === 24 ? 0 : n }); Rr(["a", "A"], function (t, e, r) { r._isPm = r._locale.isPM(t), r._meridiem = t }); Rr(["h", "hh"], function (t, e, r) { e[An] = Qt(t), Ft(r).bigHour = !0 }); Rr("hmm", function (t, e, r) { var n = t.length - 2; e[An] = Qt(t.substr(0, n)), e[zi] = Qt(t.substr(n)), Ft(r).bigHour = !0 }); Rr("hmmss", function (t, e, r) { var n = t.length - 4, a = t.length - 2; e[An] = Qt(t.substr(0, n)), e[zi] = Qt(t.substr(n, 2)), e[ys] = Qt(t.substr(a)), Ft(r).bigHour = !0 }); Rr("Hmm", function (t, e, r) { var n = t.length - 2; e[An] = Qt(t.substr(0, n)), e[zi] = Qt(t.substr(n)) }); Rr("Hmmss", function (t, e, r) { var n = t.length - 4, a = t.length - 2; e[An] = Qt(t.substr(0, n)), e[zi] = Qt(t.substr(n, 2)), e[ys] = Qt(t.substr(a)) }); function wPe(t) { return (t + "").toLowerCase().charAt(0) === "p" } var SPe = /[ap]\.?m?\.?/i, xPe = ad("Hours", !0); function TPe(t, e, r) { return t > 11 ? r ? "pm" : "PM" : r ? "am" : "AM" } var e8 = { calendar: hIe, longDateFormat: gIe, invalidDate: yIe, ordinal: bIe, dayOfMonthOrdinalParse: wIe, relativeTime: xIe, months: BIe, monthsShort: WH, week: KIe, weekdays: aPe, weekdaysMin: iPe, weekdaysShort: KH, meridiemParse: SPe }, jr = {}, qd = {}, Np; function DPe(t, e) { var r, n = Math.min(t.length, e.length); for (r = 0; r < n; r += 1)if (t[r] !== e[r]) return r; return n } function v$(t) { return t && t.toLowerCase().replace("_", "-") } function CPe(t) { for (var e = 0, r, n, a, i; e < t.length;) { for (i = v$(t[e]).split("-"), r = i.length, n = v$(t[e + 1]), n = n ? n.split("-") : null; r > 0;) { if (a = R1(i.slice(0, r).join("-")), a) return a; if (n && n.length >= r && DPe(i, n) >= r - 1) break; r-- } e++ } return Np } function MPe(t) { return !!(t && t.match("^[^/\\\\]*$")) } function R1(t) { var e = null, r; if (jr[t] === void 0 && typeof module < "u" && module && module.exports && MPe(t)) try { e = Np._abbr, r = require, r("./locale/" + t), Bl(e) } catch { jr[t] = null } return jr[t] } function Bl(t, e) { var r; return t && (Da(e) ? r = Us(t) : r = _k(t, e), r ? Np = r : typeof console < "u" && console.warn && console.warn("Locale " + t + " not found. Did you forget to load it?")), Np._abbr } function _k(t, e) { if (e !== null) { var r, n = e8; if (e.abbr = t, jr[t] != null) $H("defineLocaleOverride", "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."), n = jr[t]._config; else if (e.parentLocale != null) if (jr[e.parentLocale] != null) n = jr[e.parentLocale]._config; else if (r = R1(e.parentLocale), r != null) n = r._config; else return qd[e.parentLocale] || (qd[e.parentLocale] = []), qd[e.parentLocale].push({ name: t, config: e }), null; return jr[t] = new uk($2(n, e)), qd[t] && qd[t].forEach(function (a) { _k(a.name, a.config) }), Bl(t), jr[t] } else return delete jr[t], null } function kPe(t, e) { if (e != null) { var r, n, a = e8; jr[t] != null && jr[t].parentLocale != null ? jr[t].set($2(jr[t]._config, e)) : (n = R1(t), n != null && (a = n._config), e = $2(a, e), n == null && (e.abbr = t), r = new uk(e), r.parentLocale = jr[t], jr[t] = r), Bl(t) } else jr[t] != null && (jr[t].parentLocale != null ? (jr[t] = jr[t].parentLocale, t === Bl() && Bl(t)) : jr[t] != null && delete jr[t]); return jr[t] } function Us(t) { var e; if (t && t._locale && t._locale._abbr && (t = t._locale._abbr), !t) return Np; if (!qi(t)) { if (e = R1(t), e) return e; t = [t] } return CPe(t) } function APe() { return F2(jr) } function bk(t) { var e, r = t._a; return r && Ft(t).overflow === -2 && (e = r[ms] < 0 || r[ms] > 11 ? ms : r[mo] < 1 || r[mo] > pk(r[ra], r[ms]) ? mo : r[An] < 0 || r[An] > 24 || r[An] === 24 && (r[zi] !== 0 || r[ys] !== 0 || r[pc] !== 0) ? An : r[zi] < 0 || r[zi] > 59 ? zi : r[ys] < 0 || r[ys] > 59 ? ys : r[pc] < 0 || r[pc] > 999 ? pc : -1, Ft(t)._overflowDayOfYear && (e < ra || e > mo) && (e = mo), Ft(t)._overflowWeeks && e === -1 && (e = RIe), Ft(t)._overflowWeekday && e === -1 && (e = OIe), Ft(t).overflow = e), t } var LPe = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/, IPe = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/, PPe = /Z|[+-]\d\d(?::?\d\d)?/, Km = [["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/], ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/], ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/], ["GGGG-[W]WW", /\d{4}-W\d\d/, !1], ["YYYY-DDD", /\d{4}-\d{3}/], ["YYYY-MM", /\d{4}-\d\d/, !1], ["YYYYYYMMDD", /[+-]\d{10}/], ["YYYYMMDD", /\d{8}/], ["GGGG[W]WWE", /\d{4}W\d{3}/], ["GGGG[W]WW", /\d{4}W\d{2}/, !1], ["YYYYDDD", /\d{7}/], ["YYYYMM", /\d{6}/, !1], ["YYYY", /\d{4}/, !1]], tx = [["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/], ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/], ["HH:mm:ss", /\d\d:\d\d:\d\d/], ["HH:mm", /\d\d:\d\d/], ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/], ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/], ["HHmmss", /\d\d\d\d\d\d/], ["HHmm", /\d\d\d\d/], ["HH", /\d\d/]], RPe = /^\/?Date\((-?\d+)/i, OPe = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/, EPe = { UT: 0, GMT: 0, EDT: -4 * 60, EST: -5 * 60, CDT: -5 * 60, CST: -6 * 60, MDT: -6 * 60, MST: -7 * 60, PDT: -7 * 60, PST: -8 * 60 }; function t8(t) { var e, r, n = t._i, a = LPe.exec(n) || IPe.exec(n), i, o, s, l, u = Km.length, c = tx.length; if (a) { for (Ft(t).iso = !0, e = 0, r = u; e < r; e++)if (Km[e][1].exec(a[1])) { o = Km[e][0], i = Km[e][2] !== !1; break } if (o == null) { t._isValid = !1; return } if (a[3]) { for (e = 0, r = c; e < r; e++)if (tx[e][1].exec(a[3])) { s = (a[2] || " ") + tx[e][0]; break } if (s == null) { t._isValid = !1; return } } if (!i && s != null) { t._isValid = !1; return } if (a[4]) if (PPe.exec(a[4])) l = "Z"; else { t._isValid = !1; return } t._f = o + (s || "") + (l || ""), Sk(t) } else t._isValid = !1 } function NPe(t, e, r, n, a, i) { var o = [$Pe(t), WH.indexOf(e), parseInt(r, 10), parseInt(n, 10), parseInt(a, 10)]; return i && o.push(parseInt(i, 10)), o } function $Pe(t) { var e = parseInt(t, 10); return e <= 49 ? 2e3 + e : e <= 999 ? 1900 + e : e } function FPe(t) { return t.replace(/\([^()]*\)|[\n\t]/g, " ").replace(/(\s\s+)/g, " ").replace(/^\s\s*/, "").replace(/\s\s*$/, "") } function BPe(t, e, r) { if (t) { var n = KH.indexOf(t), a = new Date(e[0], e[1], e[2]).getDay(); if (n !== a) return Ft(r).weekdayMismatch = !0, r._isValid = !1, !1 } return !0 } function VPe(t, e, r) { if (t) return EPe[t]; if (e) return 0; var n = parseInt(r, 10), a = n % 100, i = (n - a) / 100; return i * 60 + a } function r8(t) { var e = OPe.exec(FPe(t._i)), r; if (e) { if (r = NPe(e[4], e[3], e[2], e[5], e[6], e[7]), !BPe(e[1], r, t)) return; t._a = r, t._tzm = VPe(e[8], e[9], e[10]), t._d = Op.apply(null, t._a), t._d.setUTCMinutes(t._d.getUTCMinutes() - t._tzm), Ft(t).rfc2822 = !0 } else t._isValid = !1 } function zPe(t) { var e = RPe.exec(t._i); if (e !== null) { t._d = new Date(+e[1]); return } if (t8(t), t._isValid === !1) delete t._isValid; else return; if (r8(t), t._isValid === !1) delete t._isValid; else return; t._strict ? t._isValid = !1 : ze.createFromInputFallback(t) } ze.createFromInputFallback = Ti("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.", function (t) { t._d = new Date(t._i + (t._useUTC ? " UTC" : "")) }); function jf(t, e, r) { return t ?? e ?? r } function HPe(t) { var e = new Date(ze.now()); return t._useUTC ? [e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate()] : [e.getFullYear(), e.getMonth(), e.getDate()] } function wk(t) { var e, r, n = [], a, i, o; if (!t._d) { for (a = HPe(t), t._w && t._a[mo] == null && t._a[ms] == null && YPe(t), t._dayOfYear != null && (o = jf(t._a[ra], a[ra]), (t._dayOfYear > Bv(o) || t._dayOfYear === 0) && (Ft(t)._overflowDayOfYear = !0), r = Op(o, 0, t._dayOfYear), t._a[ms] = r.getUTCMonth(), t._a[mo] = r.getUTCDate()), e = 0; e < 3 && t._a[e] == null; ++e)t._a[e] = n[e] = a[e]; for (; e < 7; e++)t._a[e] = n[e] = t._a[e] == null ? e === 2 ? 1 : 0 : t._a[e]; t._a[An] === 24 && t._a[zi] === 0 && t._a[ys] === 0 && t._a[pc] === 0 && (t._nextDay = !0, t._a[An] = 0), t._d = (t._useUTC ? Op : qIe).apply(null, n), i = t._useUTC ? t._d.getUTCDay() : t._d.getDay(), t._tzm != null && t._d.setUTCMinutes(t._d.getUTCMinutes() - t._tzm), t._nextDay && (t._a[An] = 24), t._w && typeof t._w.d < "u" && t._w.d !== i && (Ft(t).weekdayMismatch = !0) } } function YPe(t) { var e, r, n, a, i, o, s, l, u; e = t._w, e.GG != null || e.W != null || e.E != null ? (i = 1, o = 4, r = jf(e.GG, t._a[ra], Ep(Ur(), 1, 4).year), n = jf(e.W, 1), a = jf(e.E, 1), (a < 1 || a > 7) && (l = !0)) : (i = t._locale._week.dow, o = t._locale._week.doy, u = Ep(Ur(), i, o), r = jf(e.gg, t._a[ra], u.year), n = jf(e.w, u.week), e.d != null ? (a = e.d, (a < 0 || a > 6) && (l = !0)) : e.e != null ? (a = e.e + i, (e.e < 0 || e.e > 6) && (l = !0)) : a = i), n < 1 || n > ks(r, i, o) ? Ft(t)._overflowWeeks = !0 : l != null ? Ft(t)._overflowWeekday = !0 : (s = XH(r, n, a, i, o), t._a[ra] = s.year, t._dayOfYear = s.dayOfYear) } ze.ISO_8601 = function () { }; ze.RFC_2822 = function () { }; function Sk(t) { if (t._f === ze.ISO_8601) { t8(t); return } if (t._f === ze.RFC_2822) { r8(t); return } t._a = [], Ft(t).empty = !0; var e = "" + t._i, r, n, a, i, o, s = e.length, l = 0, u, c; for (a = FH(t._f, t._locale).match(ck) || [], c = a.length, r = 0; r < c; r++)i = a[r], n = (e.match(LIe(i, t)) || [])[0], n && (o = e.substr(0, e.indexOf(n)), o.length > 0 && Ft(t).unusedInput.push(o), e = e.slice(e.indexOf(n) + n.length), l += n.length), dh[i] ? (n ? Ft(t).empty = !1 : Ft(t).unusedTokens.push(i), PIe(i, n, t)) : t._strict && !n && Ft(t).unusedTokens.push(i); Ft(t).charsLeftOver = s - l, e.length > 0 && Ft(t).unusedInput.push(e), t._a[An] <= 12 && Ft(t).bigHour === !0 && t._a[An] > 0 && (Ft(t).bigHour = void 0), Ft(t).parsedDateParts = t._a.slice(0), Ft(t).meridiem = t._meridiem, t._a[An] = UPe(t._locale, t._a[An], t._meridiem), u = Ft(t).era, u !== null && (t._a[ra] = t._locale.erasConvertYear(u, t._a[ra])), wk(t), bk(t) } function UPe(t, e, r) { var n; return r == null ? e : t.meridiemHour != null ? t.meridiemHour(e, r) : (t.isPM != null && (n = t.isPM(r), n && e < 12 && (e += 12), !n && e === 12 && (e = 0)), e) } function WPe(t) { var e, r, n, a, i, o, s = !1, l = t._f.length; if (l === 0) { Ft(t).invalidFormat = !0, t._d = new Date(NaN); return } for (a = 0; a < l; a++)i = 0, o = !1, e = lk({}, t), t._useUTC != null && (e._useUTC = t._useUTC), e._f = t._f[a], Sk(e), sk(e) && (o = !0), i += Ft(e).charsLeftOver, i += Ft(e).unusedTokens.length * 10, Ft(e).score = i, s ? i < n && (n = i, r = e) : (n == null || i < n || o) && (n = i, r = e, o && (s = !0)); Il(t, r || e) } function GPe(t) { if (!t._d) { var e = fk(t._i), r = e.day === void 0 ? e.date : e.day; t._a = EH([e.year, e.month, r, e.hour, e.minute, e.second, e.millisecond], function (n) { return n && parseInt(n, 10) }), wk(t) } } function jPe(t) { var e = new _g(bk(n8(t))); return e._nextDay && (e.add(1, "d"), e._nextDay = void 0), e } function n8(t) { var e = t._i, r = t._f; return t._locale = t._locale || Us(t._l), e === null || r === void 0 && e === "" ? C1({ nullInput: !0 }) : (typeof e == "string" && (t._i = e = t._locale.preparse(e)), Xi(e) ? new _g(bk(e)) : (yg(e) ? t._d = e : qi(r) ? WPe(t) : r ? Sk(t) : ZPe(t), sk(t) || (t._d = null), t)) } function ZPe(t) { var e = t._i; Da(e) ? t._d = new Date(ze.now()) : yg(e) ? t._d = new Date(e.valueOf()) : typeof e == "string" ? zPe(t) : qi(e) ? (t._a = EH(e.slice(0), function (r) { return parseInt(r, 10) }), wk(t)) : Ic(e) ? GPe(t) : $s(e) ? t._d = new Date(e) : ze.createFromInputFallback(t) } function a8(t, e, r, n, a) { var i = {}; return (e === !0 || e === !1) && (n = e, e = void 0), (r === !0 || r === !1) && (n = r, r = void 0), (Ic(t) && ok(t) || qi(t) && t.length === 0) && (t = void 0), i._isAMomentObject = !0, i._useUTC = i._isUTC = a, i._l = r, i._i = t, i._f = e, i._strict = n, jPe(i) } function Ur(t, e, r, n) { return a8(t, e, r, n, !1) } var qPe = Ti("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/", function () { var t = Ur.apply(null, arguments); return this.isValid() && t.isValid() ? t < this ? this : t : C1() }), XPe = Ti("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/", function () { var t = Ur.apply(null, arguments); return this.isValid() && t.isValid() ? t > this ? this : t : C1() }); function i8(t, e) { var r, n; if (e.length === 1 && qi(e[0]) && (e = e[0]), !e.length) return Ur(); for (r = e[0], n = 1; n < e.length; ++n)(!e[n].isValid() || e[n][t](r)) && (r = e[n]); return r } function KPe() { var t = [].slice.call(arguments, 0); return i8("isBefore", t) } function QPe() { var t = [].slice.call(arguments, 0); return i8("isAfter", t) } var JPe = function () { return Date.now ? Date.now() : +new Date }, Xd = ["year", "quarter", "month", "week", "day", "hour", "minute", "second", "millisecond"]; function eRe(t) { var e, r = !1, n, a = Xd.length; for (e in t) if (yr(t, e) && !(sn.call(Xd, e) !== -1 && (t[e] == null || !isNaN(t[e])))) return !1; for (n = 0; n < a; ++n)if (t[Xd[n]]) { if (r) return !1; parseFloat(t[Xd[n]]) !== Qt(t[Xd[n]]) && (r = !0) } return !0 } function tRe() { return this._isValid } function rRe() { return eo(NaN) } function O1(t) { var e = fk(t), r = e.year || 0, n = e.quarter || 0, a = e.month || 0, i = e.week || e.isoWeek || 0, o = e.day || 0, s = e.hour || 0, l = e.minute || 0, u = e.second || 0, c = e.millisecond || 0; this._isValid = eRe(e), this._milliseconds = +c + u * 1e3 + l * 6e4 + s * 1e3 * 60 * 60, this._days = +o + i * 7, this._months = +a + n * 3 + r * 12, this._data = {}, this._locale = Us(), this._bubble() } function Oy(t) { return t instanceof O1 } function V2(t) { return t < 0 ? Math.round(-1 * t) * -1 : Math.round(t) } function nRe(t, e, r) { var n = Math.min(t.length, e.length), a = Math.abs(t.length - e.length), i = 0, o; for (o = 0; o < n; o++)(r && t[o] !== e[o] || !r && Qt(t[o]) !== Qt(e[o])) && i++; return i + a } function o8(t, e) { ht(t, 0, 0, function () { var r = this.utcOffset(), n = "+"; return r < 0 && (r = -r, n = "-"), n + Fo(~~(r / 60), 2) + e + Fo(~~r % 60, 2) }) } o8("Z", ":"); o8("ZZ", ""); et("Z", I1); et("ZZ", I1); Rr(["Z", "ZZ"], function (t, e, r) { r._useUTC = !0, r._tzm = xk(I1, t) }); var aRe = /([\+\-]|\d\d)/gi; function xk(t, e) { var r = (e || "").match(t), n, a, i; return r === null ? null : (n = r[r.length - 1] || [], a = (n + "").match(aRe) || ["-", 0, 0], i = +(a[1] * 60) + Qt(a[2]), i === 0 ? 0 : a[0] === "+" ? i : -i) } function Tk(t, e) { var r, n; return e._isUTC ? (r = e.clone(), n = (Xi(t) || yg(t) ? t.valueOf() : Ur(t).valueOf()) - r.valueOf(), r._d.setTime(r._d.valueOf() + n), ze.updateOffset(r, !1), r) : Ur(t).local() } function z2(t) { return -Math.round(t._d.getTimezoneOffset()) } ze.updateOffset = function () { }; function iRe(t, e, r) { var n = this._offset || 0, a; if (!this.isValid()) return t != null ? this : NaN; if (t != null) { if (typeof t == "string") { if (t = xk(I1, t), t === null) return this } else Math.abs(t) < 16 && !r && (t = t * 60); return !this._isUTC && e && (a = z2(this)), this._offset = t, this._isUTC = !0, a != null && this.add(a, "m"), n !== t && (!e || this._changeInProgress ? u8(this, eo(t - n, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, ze.updateOffset(this, !0), this._changeInProgress = null)), this } else return this._isUTC ? n : z2(this) } function oRe(t, e) { return t != null ? (typeof t != "string" && (t = -t), this.utcOffset(t, e), this) : -this.utcOffset() } function sRe(t) { return this.utcOffset(0, t) } function lRe(t) { return this._isUTC && (this.utcOffset(0, t), this._isUTC = !1, t && this.subtract(z2(this), "m")), this } function uRe() { if (this._tzm != null) this.utcOffset(this._tzm, !1, !0); else if (typeof this._i == "string") { var t = xk(kIe, this._i); t != null ? this.utcOffset(t) : this.utcOffset(0, !0) } return this } function cRe(t) { return this.isValid() ? (t = t ? Ur(t).utcOffset() : 0, (this.utcOffset() - t) % 60 === 0) : !1 } function fRe() { return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset() } function hRe() { if (!Da(this._isDSTShifted)) return this._isDSTShifted; var t = {}, e; return lk(t, this), t = n8(t), t._a ? (e = t._isUTC ? Wo(t._a) : Ur(t._a), this._isDSTShifted = this.isValid() && nRe(t._a, e.toArray()) > 0) : this._isDSTShifted = !1, this._isDSTShifted } function dRe() { return this.isValid() ? !this._isUTC : !1 } function vRe() { return this.isValid() ? this._isUTC : !1 } function s8() { return this.isValid() ? this._isUTC && this._offset === 0 : !1 } var pRe = /^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/, gRe = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/; function eo(t, e) { var r = t, n = null, a, i, o; return Oy(t) ? r = { ms: t._milliseconds, d: t._days, M: t._months } : $s(t) || !isNaN(+t) ? (r = {}, e ? r[e] = +t : r.milliseconds = +t) : (n = pRe.exec(t)) ? (a = n[1] === "-" ? -1 : 1, r = { y: 0, d: Qt(n[mo]) * a, h: Qt(n[An]) * a, m: Qt(n[zi]) * a, s: Qt(n[ys]) * a, ms: Qt(V2(n[pc] * 1e3)) * a }) : (n = gRe.exec(t)) ? (a = n[1] === "-" ? -1 : 1, r = { y: Hu(n[2], a), M: Hu(n[3], a), w: Hu(n[4], a), d: Hu(n[5], a), h: Hu(n[6], a), m: Hu(n[7], a), s: Hu(n[8], a) }) : r == null ? r = {} : typeof r == "object" && ("from" in r || "to" in r) && (o = mRe(Ur(r.from), Ur(r.to)), r = {}, r.ms = o.milliseconds, r.M = o.months), i = new O1(r), Oy(t) && yr(t, "_locale") && (i._locale = t._locale), Oy(t) && yr(t, "_isValid") && (i._isValid = t._isValid), i } eo.fn = O1.prototype; eo.invalid = rRe; function Hu(t, e) { var r = t && parseFloat(t.replace(",", ".")); return (isNaN(r) ? 0 : r) * e } function p$(t, e) { var r = {}; return r.months = e.month() - t.month() + (e.year() - t.year()) * 12, t.clone().add(r.months, "M").isAfter(e) && --r.months, r.milliseconds = +e - +t.clone().add(r.months, "M"), r } function mRe(t, e) { var r; return t.isValid() && e.isValid() ? (e = Tk(e, t), t.isBefore(e) ? r = p$(t, e) : (r = p$(e, t), r.milliseconds = -r.milliseconds, r.months = -r.months), r) : { milliseconds: 0, months: 0 } } function l8(t, e) { return function (r, n) { var a, i; return n !== null && !isNaN(+n) && ($H(e, "moment()." + e + "(period, number) is deprecated. Please use moment()." + e + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."), i = r, r = n, n = i), a = eo(r, n), u8(this, a, t), this } } function u8(t, e, r, n) { var a = e._milliseconds, i = V2(e._days), o = V2(e._months); t.isValid() && (n = n ?? !0, o && jH(t, Rp(t, "Month") + o * r), i && UH(t, "Date", Rp(t, "Date") + i * r), a && t._d.setTime(t._d.valueOf() + a * r), n && ze.updateOffset(t, i || o)) } var yRe = l8(1, "add"), _Re = l8(-1, "subtract"); function c8(t) { return typeof t == "string" || t instanceof String } function bRe(t) { return Xi(t) || yg(t) || c8(t) || $s(t) || SRe(t) || wRe(t) || t === null || t === void 0 } function wRe(t) { var e = Ic(t) && !ok(t), r = !1, n = ["years", "year", "y", "months", "month", "M", "days", "day", "d", "dates", "date", "D", "hours", "hour", "h", "minutes", "minute", "m", "seconds", "second", "s", "milliseconds", "millisecond", "ms"], a, i, o = n.length; for (a = 0; a < o; a += 1)i = n[a], r = r || yr(t, i); return e && r } function SRe(t) { var e = qi(t), r = !1; return e && (r = t.filter(function (n) { return !$s(n) && c8(t) }).length === 0), e && r } function xRe(t) { var e = Ic(t) && !ok(t), r = !1, n = ["sameDay", "nextDay", "lastDay", "nextWeek", "lastWeek", "sameElse"], a, i; for (a = 0; a < n.length; a += 1)i = n[a], r = r || yr(t, i); return e && r } function TRe(t, e) { var r = t.diff(e, "days", !0); return r < -6 ? "sameElse" : r < -1 ? "lastWeek" : r < 0 ? "lastDay" : r < 1 ? "sameDay" : r < 2 ? "nextDay" : r < 7 ? "nextWeek" : "sameElse" } function DRe(t, e) { arguments.length === 1 && (arguments[0] ? bRe(arguments[0]) ? (t = arguments[0], e = void 0) : xRe(arguments[0]) && (e = arguments[0], t = void 0) : (t = void 0, e = void 0)); var r = t || Ur(), n = Tk(r, this).startOf("day"), a = ze.calendarFormat(this, n) || "sameElse", i = e && (Go(e[a]) ? e[a].call(this, r) : e[a]); return this.format(i || this.localeData().calendar(a, this, Ur(r))) } function CRe() { return new _g(this) } function MRe(t, e) { var r = Xi(t) ? t : Ur(t); return this.isValid() && r.isValid() ? (e = Di(e) || "millisecond", e === "millisecond" ? this.valueOf() > r.valueOf() : r.valueOf() < this.clone().startOf(e).valueOf()) : !1 } function kRe(t, e) { var r = Xi(t) ? t : Ur(t); return this.isValid() && r.isValid() ? (e = Di(e) || "millisecond", e === "millisecond" ? this.valueOf() < r.valueOf() : this.clone().endOf(e).valueOf() < r.valueOf()) : !1 } function ARe(t, e, r, n) { var a = Xi(t) ? t : Ur(t), i = Xi(e) ? e : Ur(e); return this.isValid() && a.isValid() && i.isValid() ? (n = n || "()", (n[0] === "(" ? this.isAfter(a, r) : !this.isBefore(a, r)) && (n[1] === ")" ? this.isBefore(i, r) : !this.isAfter(i, r))) : !1 } function LRe(t, e) { var r = Xi(t) ? t : Ur(t), n; return this.isValid() && r.isValid() ? (e = Di(e) || "millisecond", e === "millisecond" ? this.valueOf() === r.valueOf() : (n = r.valueOf(), this.clone().startOf(e).valueOf() <= n && n <= this.clone().endOf(e).valueOf())) : !1 } function IRe(t, e) { return this.isSame(t, e) || this.isAfter(t, e) } function PRe(t, e) { return this.isSame(t, e) || this.isBefore(t, e) } function RRe(t, e, r) { var n, a, i; if (!this.isValid()) return NaN; if (n = Tk(t, this), !n.isValid()) return NaN; switch (a = (n.utcOffset() - this.utcOffset()) * 6e4, e = Di(e), e) { case "year": i = Ey(this, n) / 12; break; case "month": i = Ey(this, n); break; case "quarter": i = Ey(this, n) / 3; break; case "second": i = (this - n) / 1e3; break; case "minute": i = (this - n) / 6e4; break; case "hour": i = (this - n) / 36e5; break; case "day": i = (this - n - a) / 864e5; break; case "week": i = (this - n - a) / 6048e5; break; default: i = this - n }return r ? i : ui(i) } function Ey(t, e) { if (t.date() < e.date()) return -Ey(e, t); var r = (e.year() - t.year()) * 12 + (e.month() - t.month()), n = t.clone().add(r, "months"), a, i; return e - n < 0 ? (a = t.clone().add(r - 1, "months"), i = (e - n) / (n - a)) : (a = t.clone().add(r + 1, "months"), i = (e - n) / (a - n)), -(r + i) || 0 } ze.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ"; ze.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]"; function ORe() { return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ") } function ERe(t) { if (!this.isValid()) return null; var e = t !== !0, r = e ? this.clone().utc() : this; return r.year() < 0 || r.year() > 9999 ? Ry(r, e ? "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYYYY-MM-DD[T]HH:mm:ss.SSSZ") : Go(Date.prototype.toISOString) ? e ? this.toDate().toISOString() : new Date(this.valueOf() + this.utcOffset() * 60 * 1e3).toISOString().replace("Z", Ry(r, "Z")) : Ry(r, e ? "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYY-MM-DD[T]HH:mm:ss.SSSZ") } function NRe() { if (!this.isValid()) return "moment.invalid(/* " + this._i + " */)"; var t = "moment", e = "", r, n, a, i; return this.isLocal() || (t = this.utcOffset() === 0 ? "moment.utc" : "moment.parseZone", e = "Z"), r = "[" + t + '("]', n = 0 <= this.year() && this.year() <= 9999 ? "YYYY" : "YYYYYY", a = "-MM-DD[T]HH:mm:ss.SSS", i = e + '[")]', this.format(r + n + a + i) } function $Re(t) { t || (t = this.isUtc() ? ze.defaultFormatUtc : ze.defaultFormat); var e = Ry(this, t); return this.localeData().postformat(e) } function FRe(t, e) { return this.isValid() && (Xi(t) && t.isValid() || Ur(t).isValid()) ? eo({ to: this, from: t }).locale(this.locale()).humanize(!e) : this.localeData().invalidDate() } function BRe(t) { return this.from(Ur(), t) } function VRe(t, e) { return this.isValid() && (Xi(t) && t.isValid() || Ur(t).isValid()) ? eo({ from: this, to: t }).locale(this.locale()).humanize(!e) : this.localeData().invalidDate() } function zRe(t) { return this.to(Ur(), t) } function f8(t) { var e; return t === void 0 ? this._locale._abbr : (e = Us(t), e != null && (this._locale = e), this) } var h8 = Ti("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function (t) { return t === void 0 ? this.localeData() : this.locale(t) }); function d8() { return this._locale } var Z0 = 1e3, vh = 60 * Z0, q0 = 60 * vh, v8 = (365 * 400 + 97) * 24 * q0; function ph(t, e) { return (t % e + e) % e } function p8(t, e, r) { return t < 100 && t >= 0 ? new Date(t + 400, e, r) - v8 : new Date(t, e, r).valueOf() } function g8(t, e, r) { return t < 100 && t >= 0 ? Date.UTC(t + 400, e, r) - v8 : Date.UTC(t, e, r) } function HRe(t) { var e, r; if (t = Di(t), t === void 0 || t === "millisecond" || !this.isValid()) return this; switch (r = this._isUTC ? g8 : p8, t) { case "year": e = r(this.year(), 0, 1); break; case "quarter": e = r(this.year(), this.month() - this.month() % 3, 1); break; case "month": e = r(this.year(), this.month(), 1); break; case "week": e = r(this.year(), this.month(), this.date() - this.weekday()); break; case "isoWeek": e = r(this.year(), this.month(), this.date() - (this.isoWeekday() - 1)); break; case "day": case "date": e = r(this.year(), this.month(), this.date()); break; case "hour": e = this._d.valueOf(), e -= ph(e + (this._isUTC ? 0 : this.utcOffset() * vh), q0); break; case "minute": e = this._d.valueOf(), e -= ph(e, vh); break; case "second": e = this._d.valueOf(), e -= ph(e, Z0); break }return this._d.setTime(e), ze.updateOffset(this, !0), this } function YRe(t) { var e, r; if (t = Di(t), t === void 0 || t === "millisecond" || !this.isValid()) return this; switch (r = this._isUTC ? g8 : p8, t) { case "year": e = r(this.year() + 1, 0, 1) - 1; break; case "quarter": e = r(this.year(), this.month() - this.month() % 3 + 3, 1) - 1; break; case "month": e = r(this.year(), this.month() + 1, 1) - 1; break; case "week": e = r(this.year(), this.month(), this.date() - this.weekday() + 7) - 1; break; case "isoWeek": e = r(this.year(), this.month(), this.date() - (this.isoWeekday() - 1) + 7) - 1; break; case "day": case "date": e = r(this.year(), this.month(), this.date() + 1) - 1; break; case "hour": e = this._d.valueOf(), e += q0 - ph(e + (this._isUTC ? 0 : this.utcOffset() * vh), q0) - 1; break; case "minute": e = this._d.valueOf(), e += vh - ph(e, vh) - 1; break; case "second": e = this._d.valueOf(), e += Z0 - ph(e, Z0) - 1; break }return this._d.setTime(e), ze.updateOffset(this, !0), this } function URe() { return this._d.valueOf() - (this._offset || 0) * 6e4 } function WRe() { return Math.floor(this.valueOf() / 1e3) } function GRe() { return new Date(this.valueOf()) } function jRe() { var t = this; return [t.year(), t.month(), t.date(), t.hour(), t.minute(), t.second(), t.millisecond()] } function ZRe() { var t = this; return { years: t.year(), months: t.month(), date: t.date(), hours: t.hours(), minutes: t.minutes(), seconds: t.seconds(), milliseconds: t.milliseconds() } } function qRe() { return this.isValid() ? this.toISOString() : null } function XRe() { return sk(this) } function KRe() { return Il({}, Ft(this)) } function QRe() { return Ft(this).overflow } function JRe() { return { input: this._i, format: this._f, locale: this._locale, isUTC: this._isUTC, strict: this._strict } } ht("N", 0, 0, "eraAbbr"); ht("NN", 0, 0, "eraAbbr"); ht("NNN", 0, 0, "eraAbbr"); ht("NNNN", 0, 0, "eraName"); ht("NNNNN", 0, 0, "eraNarrow"); ht("y", ["y", 1], "yo", "eraYear"); ht("y", ["yy", 2], 0, "eraYear"); ht("y", ["yyy", 3], 0, "eraYear"); ht("y", ["yyyy", 4], 0, "eraYear"); et("N", Dk); et("NN", Dk); et("NNN", Dk); et("NNNN", cOe); et("NNNNN", fOe); Rr(["N", "NN", "NNN", "NNNN", "NNNNN"], function (t, e, r, n) { var a = r._locale.erasParse(t, n, r._strict); a ? Ft(r).era = a : Ft(r).invalidEra = t }); et("y", rd); et("yy", rd); et("yyy", rd); et("yyyy", rd); et("yo", hOe); Rr(["y", "yy", "yyy", "yyyy"], ra); Rr(["yo"], function (t, e, r, n) { var a; r._locale._eraYearOrdinalRegex && (a = t.match(r._locale._eraYearOrdinalRegex)), r._locale.eraYearOrdinalParse ? e[ra] = r._locale.eraYearOrdinalParse(t, a) : e[ra] = parseInt(t, 10) }); function eOe(t, e) { var r, n, a, i = this._eras || Us("en")._eras; for (r = 0, n = i.length; r < n; ++r) { switch (typeof i[r].since) { case "string": a = ze(i[r].since).startOf("day"), i[r].since = a.valueOf(); break }switch (typeof i[r].until) { case "undefined": i[r].until = 1 / 0; break; case "string": a = ze(i[r].until).startOf("day").valueOf(), i[r].until = a.valueOf(); break } } return i } function tOe(t, e, r) { var n, a, i = this.eras(), o, s, l; for (t = t.toUpperCase(), n = 0, a = i.length; n < a; ++n)if (o = i[n].name.toUpperCase(), s = i[n].abbr.toUpperCase(), l = i[n].narrow.toUpperCase(), r) switch (e) { case "N": case "NN": case "NNN": if (s === t) return i[n]; break; case "NNNN": if (o === t) return i[n]; break; case "NNNNN": if (l === t) return i[n]; break } else if ([o, s, l].indexOf(t) >= 0) return i[n] } function rOe(t, e) { var r = t.since <= t.until ? 1 : -1; return e === void 0 ? ze(t.since).year() : ze(t.since).year() + (e - t.offset) * r } function nOe() { var t, e, r, n = this.localeData().eras(); for (t = 0, e = n.length; t < e; ++t)if (r = this.clone().startOf("day").valueOf(), n[t].since <= r && r <= n[t].until || n[t].until <= r && r <= n[t].since) return n[t].name; return "" } function aOe() { var t, e, r, n = this.localeData().eras(); for (t = 0, e = n.length; t < e; ++t)if (r = this.clone().startOf("day").valueOf(), n[t].since <= r && r <= n[t].until || n[t].until <= r && r <= n[t].since) return n[t].narrow; return "" } function iOe() { var t, e, r, n = this.localeData().eras(); for (t = 0, e = n.length; t < e; ++t)if (r = this.clone().startOf("day").valueOf(), n[t].since <= r && r <= n[t].until || n[t].until <= r && r <= n[t].since) return n[t].abbr; return "" } function oOe() { var t, e, r, n, a = this.localeData().eras(); for (t = 0, e = a.length; t < e; ++t)if (r = a[t].since <= a[t].until ? 1 : -1, n = this.clone().startOf("day").valueOf(), a[t].since <= n && n <= a[t].until || a[t].until <= n && n <= a[t].since) return (this.year() - ze(a[t].since).year()) * r + a[t].offset; return this.year() } function sOe(t) { return yr(this, "_erasNameRegex") || Ck.call(this), t ? this._erasNameRegex : this._erasRegex } function lOe(t) { return yr(this, "_erasAbbrRegex") || Ck.call(this), t ? this._erasAbbrRegex : this._erasRegex } function uOe(t) { return yr(this, "_erasNarrowRegex") || Ck.call(this), t ? this._erasNarrowRegex : this._erasRegex } function Dk(t, e) { return e.erasAbbrRegex(t) } function cOe(t, e) { return e.erasNameRegex(t) } function fOe(t, e) { return e.erasNarrowRegex(t) } function hOe(t, e) { return e._eraYearOrdinalRegex || rd } function Ck() { var t = [], e = [], r = [], n = [], a, i, o, s, l, u = this.eras(); for (a = 0, i = u.length; a < i; ++a)o = Ms(u[a].name), s = Ms(u[a].abbr), l = Ms(u[a].narrow), e.push(o), t.push(s), r.push(l), n.push(o), n.push(s), n.push(l); this._erasRegex = new RegExp("^(" + n.join("|") + ")", "i"), this._erasNameRegex = new RegExp("^(" + e.join("|") + ")", "i"), this._erasAbbrRegex = new RegExp("^(" + t.join("|") + ")", "i"), this._erasNarrowRegex = new RegExp("^(" + r.join("|") + ")", "i") } ht(0, ["gg", 2], 0, function () { return this.weekYear() % 100 }); ht(0, ["GG", 2], 0, function () { return this.isoWeekYear() % 100 }); function E1(t, e) { ht(0, [t, t.length], 0, e) } E1("gggg", "weekYear"); E1("ggggg", "weekYear"); E1("GGGG", "isoWeekYear"); E1("GGGGG", "isoWeekYear"); et("G", L1); et("g", L1); et("GG", Wr, Ga); et("gg", Wr, Ga); et("GGGG", dk, hk); et("gggg", dk, hk); et("GGGGG", A1, M1); et("ggggg", A1, M1); wg(["gggg", "ggggg", "GGGG", "GGGGG"], function (t, e, r, n) { e[n.substr(0, 2)] = Qt(t) }); wg(["gg", "GG"], function (t, e, r, n) { e[n] = ze.parseTwoDigitYear(t) }); function dOe(t) { return m8.call(this, t, this.week(), this.weekday() + this.localeData()._week.dow, this.localeData()._week.dow, this.localeData()._week.doy) } function vOe(t) { return m8.call(this, t, this.isoWeek(), this.isoWeekday(), 1, 4) } function pOe() { return ks(this.year(), 1, 4) } function gOe() { return ks(this.isoWeekYear(), 1, 4) } function mOe() { var t = this.localeData()._week; return ks(this.year(), t.dow, t.doy) } function yOe() { var t = this.localeData()._week; return ks(this.weekYear(), t.dow, t.doy) } function m8(t, e, r, n, a) { var i; return t == null ? Ep(this, n, a).year : (i = ks(t, n, a), e > i && (e = i), _Oe.call(this, t, e, r, n, a)) } function _Oe(t, e, r, n, a) { var i = XH(t, e, r, n, a), o = Op(i.year, 0, i.dayOfYear); return this.year(o.getUTCFullYear()), this.month(o.getUTCMonth()), this.date(o.getUTCDate()), this } ht("Q", 0, "Qo", "quarter"); et("Q", BH); Rr("Q", function (t, e) { e[ms] = (Qt(t) - 1) * 3 }); function bOe(t) { return t == null ? Math.ceil((this.month() + 1) / 3) : this.month((t - 1) * 3 + this.month() % 3) } ht("D", ["DD", 2], "Do", "date"); et("D", Wr, nd); et("DD", Wr, Ga); et("Do", function (t, e) { return t ? e._dayOfMonthOrdinalParse || e._ordinalParse : e._dayOfMonthOrdinalParseLenient }); Rr(["D", "DD"], mo); Rr("Do", function (t, e) { e[mo] = Qt(t.match(Wr)[0]) }); var y8 = ad("Date", !0); ht("DDD", ["DDDD", 3], "DDDo", "dayOfYear"); et("DDD", k1); et("DDDD", VH); Rr(["DDD", "DDDD"], function (t, e, r) { r._dayOfYear = Qt(t) }); function wOe(t) { var e = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1; return t == null ? e : this.add(t - e, "d") } ht("m", ["mm", 2], 0, "minute"); et("m", Wr, vk); et("mm", Wr, Ga); Rr(["m", "mm"], zi); var SOe = ad("Minutes", !1); ht("s", ["ss", 2], 0, "second"); et("s", Wr, vk); et("ss", Wr, Ga); Rr(["s", "ss"], ys); var xOe = ad("Seconds", !1); ht("S", 0, 0, function () { return ~~(this.millisecond() / 100) }); ht(0, ["SS", 2], 0, function () { return ~~(this.millisecond() / 10) }); ht(0, ["SSS", 3], 0, "millisecond"); ht(0, ["SSSS", 4], 0, function () { return this.millisecond() * 10 }); ht(0, ["SSSSS", 5], 0, function () { return this.millisecond() * 100 }); ht(0, ["SSSSSS", 6], 0, function () { return this.millisecond() * 1e3 }); ht(0, ["SSSSSSS", 7], 0, function () { return this.millisecond() * 1e4 }); ht(0, ["SSSSSSSS", 8], 0, function () { return this.millisecond() * 1e5 }); ht(0, ["SSSSSSSSS", 9], 0, function () { return this.millisecond() * 1e6 }); et("S", k1, BH); et("SS", k1, Ga); et("SSS", k1, VH); var Pl, _8; for (Pl = "SSSS"; Pl.length <= 9; Pl += "S")et(Pl, rd); function TOe(t, e) { e[pc] = Qt(("0." + t) * 1e3) } for (Pl = "S"; Pl.length <= 9; Pl += "S")Rr(Pl, TOe); _8 = ad("Milliseconds", !1); ht("z", 0, 0, "zoneAbbr"); ht("zz", 0, 0, "zoneName"); function DOe() { return this._isUTC ? "UTC" : "" } function COe() { return this._isUTC ? "Coordinated Universal Time" : "" } var Ee = _g.prototype; Ee.add = yRe; Ee.calendar = DRe; Ee.clone = CRe; Ee.diff = RRe; Ee.endOf = YRe; Ee.format = $Re; Ee.from = FRe; Ee.fromNow = BRe; Ee.to = VRe; Ee.toNow = zRe; Ee.get = NIe; Ee.invalidAt = QRe; Ee.isAfter = MRe; Ee.isBefore = kRe; Ee.isBetween = ARe; Ee.isSame = LRe; Ee.isSameOrAfter = IRe; Ee.isSameOrBefore = PRe; Ee.isValid = XRe; Ee.lang = h8; Ee.locale = f8; Ee.localeData = d8; Ee.max = XPe; Ee.min = qPe; Ee.parsingFlags = KRe; Ee.set = $Ie; Ee.startOf = HRe; Ee.subtract = _Re; Ee.toArray = jRe; Ee.toObject = ZRe; Ee.toDate = GRe; Ee.toISOString = ERe; Ee.inspect = NRe; typeof Symbol < "u" && Symbol.for != null && (Ee[Symbol.for("nodejs.util.inspect.custom")] = function () { return "Moment<" + this.format() + ">" }); Ee.toJSON = qRe; Ee.toString = ORe; Ee.unix = WRe; Ee.valueOf = URe; Ee.creationData = JRe; Ee.eraName = nOe; Ee.eraNarrow = aOe; Ee.eraAbbr = iOe; Ee.eraYear = oOe; Ee.year = YH; Ee.isLeapYear = EIe; Ee.weekYear = dOe; Ee.isoWeekYear = vOe; Ee.quarter = Ee.quarters = bOe; Ee.month = ZH; Ee.daysInMonth = GIe; Ee.week = Ee.weeks = ePe; Ee.isoWeek = Ee.isoWeeks = tPe; Ee.weeksInYear = mOe; Ee.weeksInWeekYear = yOe; Ee.isoWeeksInYear = pOe; Ee.isoWeeksInISOWeekYear = gOe; Ee.date = y8; Ee.day = Ee.days = vPe; Ee.weekday = pPe; Ee.isoWeekday = gPe; Ee.dayOfYear = wOe; Ee.hour = Ee.hours = xPe; Ee.minute = Ee.minutes = SOe; Ee.second = Ee.seconds = xOe; Ee.millisecond = Ee.milliseconds = _8; Ee.utcOffset = iRe; Ee.utc = sRe; Ee.local = lRe; Ee.parseZone = uRe; Ee.hasAlignedHourOffset = cRe; Ee.isDST = fRe; Ee.isLocal = dRe; Ee.isUtcOffset = vRe; Ee.isUtc = s8; Ee.isUTC = s8; Ee.zoneAbbr = DOe; Ee.zoneName = COe; Ee.dates = Ti("dates accessor is deprecated. Use date instead.", y8); Ee.months = Ti("months accessor is deprecated. Use month instead", ZH); Ee.years = Ti("years accessor is deprecated. Use year instead", YH); Ee.zone = Ti("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/", oRe); Ee.isDSTShifted = Ti("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information", hRe); function MOe(t) { return Ur(t * 1e3) } function kOe() { return Ur.apply(null, arguments).parseZone() } function b8(t) { return t } var _r = uk.prototype; _r.calendar = dIe; _r.longDateFormat = mIe; _r.invalidDate = _Ie; _r.ordinal = SIe; _r.preparse = b8; _r.postformat = b8; _r.relativeTime = TIe; _r.pastFuture = DIe; _r.set = fIe; _r.eras = eOe; _r.erasParse = tOe; _r.erasConvertYear = rOe; _r.erasAbbrRegex = lOe; _r.erasNameRegex = sOe; _r.erasNarrowRegex = uOe; _r.months = HIe; _r.monthsShort = YIe; _r.monthsParse = WIe; _r.monthsRegex = ZIe; _r.monthsShortRegex = jIe; _r.week = XIe; _r.firstDayOfYear = JIe; _r.firstDayOfWeek = QIe; _r.weekdays = uPe; _r.weekdaysMin = fPe; _r.weekdaysShort = cPe; _r.weekdaysParse = dPe; _r.weekdaysRegex = mPe; _r.weekdaysShortRegex = yPe; _r.weekdaysMinRegex = _Pe; _r.isPM = wPe; _r.meridiem = TPe; function X0(t, e, r, n) { var a = Us(), i = Wo().set(n, e); return a[r](i, t) } function w8(t, e, r) { if ($s(t) && (e = t, t = void 0), t = t || "", e != null) return X0(t, e, r, "month"); var n, a = []; for (n = 0; n < 12; n++)a[n] = X0(t, n, r, "month"); return a } function Mk(t, e, r, n) { typeof t == "boolean" ? ($s(e) && (r = e, e = void 0), e = e || "") : (e = t, r = e, t = !1, $s(e) && (r = e, e = void 0), e = e || ""); var a = Us(), i = t ? a._week.dow : 0, o, s = []; if (r != null) return X0(e, (r + i) % 7, n, "day"); for (o = 0; o < 7; o++)s[o] = X0(e, (o + i) % 7, n, "day"); return s } function AOe(t, e) { return w8(t, e, "months") } function LOe(t, e) { return w8(t, e, "monthsShort") } function IOe(t, e, r) { return Mk(t, e, r, "weekdays") } function POe(t, e, r) { return Mk(t, e, r, "weekdaysShort") } function ROe(t, e, r) { return Mk(t, e, r, "weekdaysMin") } Bl("en", { eras: [{ since: "0001-01-01", until: 1 / 0, offset: 1, name: "Anno Domini", narrow: "AD", abbr: "AD" }, { since: "0000-12-31", until: -1 / 0, offset: 1, name: "Before Christ", narrow: "BC", abbr: "BC" }], dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/, ordinal: function (t) { var e = t % 10, r = Qt(t % 100 / 10) === 1 ? "th" : e === 1 ? "st" : e === 2 ? "nd" : e === 3 ? "rd" : "th"; return t + r } }); ze.lang = Ti("moment.lang is deprecated. Use moment.locale instead.", Bl); ze.langData = Ti("moment.langData is deprecated. Use moment.localeData instead.", Us); var os = Math.abs; function OOe() { var t = this._data; return this._milliseconds = os(this._milliseconds), this._days = os(this._days), this._months = os(this._months), t.milliseconds = os(t.milliseconds), t.seconds = os(t.seconds), t.minutes = os(t.minutes), t.hours = os(t.hours), t.months = os(t.months), t.years = os(t.years), this } function S8(t, e, r, n) { var a = eo(e, r); return t._milliseconds += n * a._milliseconds, t._days += n * a._days, t._months += n * a._months, t._bubble() } function EOe(t, e) { return S8(this, t, e, 1) } function NOe(t, e) { return S8(this, t, e, -1) } function g$(t) { return t < 0 ? Math.floor(t) : Math.ceil(t) } function $Oe() { var t = this._milliseconds, e = this._days, r = this._months, n = this._data, a, i, o, s, l; return t >= 0 && e >= 0 && r >= 0 || t <= 0 && e <= 0 && r <= 0 || (t += g$(H2(r) + e) * 864e5, e = 0, r = 0), n.milliseconds = t % 1e3, a = ui(t / 1e3), n.seconds = a % 60, i = ui(a / 60), n.minutes = i % 60, o = ui(i / 60), n.hours = o % 24, e += ui(o / 24), l = ui(x8(e)), r += l, e -= g$(H2(l)), s = ui(r / 12), r %= 12, n.days = e, n.months = r, n.years = s, this } function x8(t) { return t * 4800 / 146097 } function H2(t) { return t * 146097 / 4800 } function FOe(t) { if (!this.isValid()) return NaN; var e, r, n = this._milliseconds; if (t = Di(t), t === "month" || t === "quarter" || t === "year") switch (e = this._days + n / 864e5, r = this._months + x8(e), t) { case "month": return r; case "quarter": return r / 3; case "year": return r / 12 } else switch (e = this._days + Math.round(H2(this._months)), t) { case "week": return e / 7 + n / 6048e5; case "day": return e + n / 864e5; case "hour": return e * 24 + n / 36e5; case "minute": return e * 1440 + n / 6e4; case "second": return e * 86400 + n / 1e3; case "millisecond": return Math.floor(e * 864e5) + n; default: throw new Error("Unknown unit " + t) } } function Ws(t) { return function () { return this.as(t) } } var T8 = Ws("ms"), BOe = Ws("s"), VOe = Ws("m"), zOe = Ws("h"), HOe = Ws("d"), YOe = Ws("w"), UOe = Ws("M"), WOe = Ws("Q"), GOe = Ws("y"), jOe = T8; function ZOe() { return eo(this) } function qOe(t) { return t = Di(t), this.isValid() ? this[t + "s"]() : NaN } function tf(t) { return function () { return this.isValid() ? this._data[t] : NaN } } var XOe = tf("milliseconds"), KOe = tf("seconds"), QOe = tf("minutes"), JOe = tf("hours"), eEe = tf("days"), tEe = tf("months"), rEe = tf("years"); function nEe() { return ui(this.days() / 7) } var cs = Math.round, nh = { ss: 44, s: 45, m: 45, h: 22, d: 26, w: null, M: 11 }; function aEe(t, e, r, n, a) { return a.relativeTime(e || 1, !!r, t, n) } function iEe(t, e, r, n) { var a = eo(t).abs(), i = cs(a.as("s")), o = cs(a.as("m")), s = cs(a.as("h")), l = cs(a.as("d")), u = cs(a.as("M")), c = cs(a.as("w")), f = cs(a.as("y")), h = i <= r.ss && ["s", i] || i < r.s && ["ss", i] || o <= 1 && ["m"] || o < r.m && ["mm", o] || s <= 1 && ["h"] || s < r.h && ["hh", s] || l <= 1 && ["d"] || l < r.d && ["dd", l]; return r.w != null && (h = h || c <= 1 && ["w"] || c < r.w && ["ww", c]), h = h || u <= 1 && ["M"] || u < r.M && ["MM", u] || f <= 1 && ["y"] || ["yy", f], h[2] = e, h[3] = +t > 0, h[4] = n, aEe.apply(null, h) } function oEe(t) { return t === void 0 ? cs : typeof t == "function" ? (cs = t, !0) : !1 } function sEe(t, e) { return nh[t] === void 0 ? !1 : e === void 0 ? nh[t] : (nh[t] = e, t === "s" && (nh.ss = e - 1), !0) } function lEe(t, e) { if (!this.isValid()) return this.localeData().invalidDate(); var r = !1, n = nh, a, i; return typeof t == "object" && (e = t, t = !1), typeof t == "boolean" && (r = t), typeof e == "object" && (n = Object.assign({}, nh, e), e.s != null && e.ss == null && (n.ss = e.s - 1)), a = this.localeData(), i = iEe(this, !r, n, a), r && (i = a.pastFuture(+this, i)), a.postformat(i) } var rx = Math.abs; function $f(t) { return (t > 0) - (t < 0) || +t } function N1() { if (!this.isValid()) return this.localeData().invalidDate(); var t = rx(this._milliseconds) / 1e3, e = rx(this._days), r = rx(this._months), n, a, i, o, s = this.asSeconds(), l, u, c, f; return s ? (n = ui(t / 60), a = ui(n / 60), t %= 60, n %= 60, i = ui(r / 12), r %= 12, o = t ? t.toFixed(3).replace(/\.?0+$/, "") : "", l = s < 0 ? "-" : "", u = $f(this._months) !== $f(s) ? "-" : "", c = $f(this._days) !== $f(s) ? "-" : "", f = $f(this._milliseconds) !== $f(s) ? "-" : "", l + "P" + (i ? u + i + "Y" : "") + (r ? u + r + "M" : "") + (e ? c + e + "D" : "") + (a || n || t ? "T" : "") + (a ? f + a + "H" : "") + (n ? f + n + "M" : "") + (t ? f + o + "S" : "")) : "P0D" } var lr = O1.prototype; lr.isValid = tRe; lr.abs = OOe; lr.add = EOe; lr.subtract = NOe; lr.as = FOe; lr.asMilliseconds = T8; lr.asSeconds = BOe; lr.asMinutes = VOe; lr.asHours = zOe; lr.asDays = HOe; lr.asWeeks = YOe; lr.asMonths = UOe; lr.asQuarters = WOe; lr.asYears = GOe; lr.valueOf = jOe; lr._bubble = $Oe; lr.clone = ZOe; lr.get = qOe; lr.milliseconds = XOe; lr.seconds = KOe; lr.minutes = QOe; lr.hours = JOe; lr.days = eEe; lr.weeks = nEe; lr.months = tEe; lr.years = rEe; lr.humanize = lEe; lr.toISOString = N1; lr.toString = N1; lr.toJSON = N1; lr.locale = f8; lr.localeData = d8; lr.toIsoString = Ti("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", N1); lr.lang = h8; ht("X", 0, 0, "unix"); ht("x", 0, 0, "valueOf"); et("x", L1); et("X", AIe); Rr("X", function (t, e, r) { r._d = new Date(parseFloat(t) * 1e3) }); Rr("x", function (t, e, r) { r._d = new Date(Qt(t)) });//! moment.js
ze.version = "2.30.1"; uIe(Ur); ze.fn = Ee; ze.min = KPe; ze.max = QPe; ze.now = JPe; ze.utc = Wo; ze.unix = MOe; ze.months = AOe; ze.isDate = yg; ze.locale = Bl; ze.invalid = C1; ze.duration = eo; ze.isMoment = Xi; ze.weekdays = IOe; ze.parseZone = kOe; ze.localeData = Us; ze.isDuration = Oy; ze.monthsShort = LOe; ze.weekdaysMin = ROe; ze.defineLocale = _k; ze.updateLocale = kPe; ze.locales = APe; ze.weekdaysShort = POe; ze.normalizeUnits = Di; ze.relativeTimeRounding = oEe; ze.relativeTimeThreshold = sEe; ze.calendarFormat = TRe; ze.prototype = Ee; ze.HTML5_FMT = { DATETIME_LOCAL: "YYYY-MM-DDTHH:mm", DATETIME_LOCAL_SECONDS: "YYYY-MM-DDTHH:mm:ss", DATETIME_LOCAL_MS: "YYYY-MM-DDTHH:mm:ss.SSS", DATE: "YYYY-MM-DD", TIME: "HH:mm", TIME_SECONDS: "HH:mm:ss", TIME_MS: "HH:mm:ss.SSS", WEEK: "GGGG-[W]WW", MONTH: "YYYY-MM" }; const kk = t => (ba("data-v-b7b42e22"), t = t(), wa(), t), uEe = { key: 0, class: "statistic-user" }, cEe = { key: 0, class: "user-list" }, fEe = kk(() => P("thead", null, [P("tr", null, [P("th", { class: "" }, "ID"), P("th", { class: "text-left" }, "用户名"), P("th", { class: "" }, "最后访问时间"), P("th", { class: "text-center hide-in-mobile" }, "注册时间"), P("th", null, "日记"), P("th", null, "码表"), P("th", null, "路书"), P("th", null, "同步次数")])], -1)), hEe = { class: "number id" }, dEe = { class: "text-right number hide-in-mobile" }, vEe = { class: "number" }, pEe = { class: "number" }, gEe = { class: "number" }, mEe = { class: "number" }, yEe = kk(() => P("thead", null, [P("tr", null, [P("th", { class: "" }, "ID"), P("th", { class: "text-left" }, "用户名"), P("th", { class: "" }, "最后访问时间"), P("th", { class: "text-center hide-in-mobile" }, "注册时间"), P("th", null, "日记"), P("th", null, "码表"), P("th", null, "路书"), P("th", null, "同步次数")])], -1)), _Ee = { class: "number" }, bEe = { class: "text-right number hide-in-mobile" }, wEe = { class: "number" }, SEe = { class: "number" }, xEe = { class: "number" }, TEe = { class: "number" }, DEe = kk(() => P("thead", null, [P("tr", null, [P("th", { class: "" }, "ID"), P("th", { class: "text-left" }, "用户名"), P("th", { class: "" }, "最后访问时间"), P("th", { class: "text-center hide-in-mobile" }, "注册时间"), P("th", null, "日记"), P("th", null, "码表"), P("th", null, "路书"), P("th", null, "同步次数")])], -1)), CEe = { class: "number" }, MEe = { class: "text-right number hide-in-mobile" }, kEe = { class: "number" }, AEe = { class: "number" }, LEe = { class: "number" }, IEe = { class: "number" }, PEe = Ue({ __name: "StatisticUsers", setup(t) { Vt(), Lt(() => { c() }); const e = De(() => qr().group_id === 1), r = ne([]), n = ne([]), a = ne([]), i = ne([]), o = ne([]), s = ne([]), l = ne(!1); function u(f) { let h = ze(f), v = ze().diff(h, "day"); return v < 7 ? `date-level-${v}` : "date-level-dead" } function c() { Io.users().then(f => { l.value = !0, r.value = f.data.map(h => (h.register_time_string = Hr(new Date(h.register_time)), h.last_visit_time_string = Hr(new Date(h.last_visit_time)), h)), n.value = r.value.filter(h => h.count_diary > 0), a.value = r.value.filter(h => h.count_dict > 0), i.value = r.value.filter(h => h.count_map_route > 0), o.value = f.data.map(h => ({ name: h.nickname, value: h.count_diary })).filter(h => h.value > 0).sort((h, d) => d.value - h.value), s.value = f.data.map(h => ({ name: h.nickname, value: h.count_dict })) }).catch(() => { l.value = !1 }) } return (f, h) => ($(), Ie(Cr, { "enter-active-class": "animated fadeIn", "leave-active-class": "animated faceOut" }, { default: Me(() => [l.value ? ($(), j("div", uEe, [e.value ? ($(), j("div", cEe, [de(fs, { title: "日记用户" }, { default: Me(() => [P("table", null, [fEe, P("tbody", null, [($(!0), j(Ve, null, It(n.value, d => ($(), j("tr", { key: d.uid }, [P("td", hEe, fe(d.uid), 1), P("td", { class: Be(["text-left", "name", u(d.last_visit_time)]) }, fe(d.nickname), 3), P("td", { class: Be(["text-right", "number", u(d.last_visit_time_string)]) }, fe(d.last_visit_time_string.substring(0, d.last_visit_time_string.length - 8)), 3), P("td", dEe, fe(d.register_time_string.substring(0, d.register_time_string.length - 8)), 1), P("td", vEe, fe(d.count_diary), 1), P("td", pEe, fe(d.count_dict), 1), P("td", gEe, fe(d.count_map_route), 1), P("td", mEe, fe(d.sync_count), 1)]))), 128))])])]), _: 1 }), de(fs, { title: "五笔码表用户" }, { default: Me(() => [P("table", null, [yEe, P("tbody", null, [($(!0), j(Ve, null, It(a.value, d => ($(), j("tr", { key: d.uid }, [P("td", _Ee, fe(d.uid), 1), P("td", { class: Be(["text-left", "name", u(d.last_visit_time)]) }, fe(d.nickname), 3), P("td", { class: Be(["text-right", "number", u(d.last_visit_time_string)]) }, fe(d.last_visit_time_string.substring(0, d.last_visit_time_string.length - 8)), 3), P("td", bEe, fe(d.register_time_string.substring(0, d.register_time_string.length - 8)), 1), P("td", wEe, fe(d.count_diary), 1), P("td", SEe, fe(d.count_dict), 1), P("td", xEe, fe(d.count_map_route), 1), P("td", TEe, fe(d.sync_count), 1)]))), 128))])])]), _: 1 }), de(fs, { title: "路书用户" }, { default: Me(() => [P("table", null, [DEe, P("tbody", null, [($(!0), j(Ve, null, It(i.value, d => ($(), j("tr", { key: d.uid }, [P("td", CEe, fe(d.uid), 1), P("td", { class: Be(["text-left", "name", u(d.last_visit_time)]) }, fe(d.nickname), 3), P("td", { class: Be(["text-right", "number", u(d.last_visit_time_string)]) }, fe(d.last_visit_time_string.substring(0, d.last_visit_time_string.length - 8)), 3), P("td", MEe, fe(d.register_time_string.substring(0, d.register_time_string.length - 8)), 1), P("td", kEe, fe(d.count_diary), 1), P("td", AEe, fe(d.count_dict), 1), P("td", LEe, fe(d.count_map_route), 1), P("td", IEe, fe(d.sync_count), 1)]))), 128))])])]), _: 1 })])) : ce("", !0), de(fs, { title: "用户日记数量" }, { default: Me(() => [de(E2, { title: "", data: o.value }, null, 8, ["data"])]), _: 1 })])) : ce("", !0)]), _: 1 })) } }); const REe = Et(PEe, [["__scopeId", "data-v-b7b42e22"]]), m$ = Ue({ __name: "ChartPie", props: { data: { type: Array, default: [] }, title: { type: String, default: "" }, subTitle: { type: String, default: "" } }, setup(t) { const e = Vt(); Dt([WM, UM, OM, QM, KM, ZV, KC, ek, ik]); const r = ["#FFA41C", "#2F3037", "#9FE080", "#5C7BD9", "#7ED3F4", "#EE6666", "#c7c7c7", "#FFDC60"], n = t; mt(() => n.data, c => { c && l(c) }); const a = ne(), i = ne(null), o = ne(null), s = ne("100%"); Lt(() => { window.innerWidth < 400 && (s.value = "100%"), Dr(() => { u(), l(n.data) }) }), De(() => n.data); function l(c) { o.value.series[0].data = c, i.value.setOption(o.value) } function u() { o.value = { grid: { top: 0, bottom: 0, left: 0, right: 0 }, title: { text: "", left: "center", textStyle: { color: "#666666" } }, tooltip: { trigger: "item" }, series: [{ name: "饼状图", type: "pie", radius: "60%", data: [], itemStyle: { color: c => c.data.key ? e.categoryObjectMap.get(c.data.key).color : r[c.dataIndex % (r.length - 1)] }, label: { show: !0, position: "outside", fontSize: 12, formatter: c => `${c.name}	${Math.ceil(c.percent)}%` }, emphasis: { itemStyle: { shadowBlur: 10, shadowOffsetX: 0, shadowColor: "rgba(0, 0, 0, 0.2)" } } }] }, window.innerWidth < 400 && (o.value.series[0].radius = "40%"), o.value.title.text = n.title, i.value = og(a.value), i.value.setOption(o.value), o.value.series[0].name = n.title } return (c, f) => ($(), j("div", { ref_key: "refPieDom", ref: a, class: "charts", style: at(`height: 300px; width: ${s.value}`) }, null, 4)) } }); Dt([ik]); Dt([rIe]); Dt([mye, UV, ZV, R0e, X0e, U_e, w1e, sbe, Ebe, Ube, twe, iSe, PSe, WSe, fxe, yxe, Nxe, Gxe, iTe, dTe, CTe, f2e]); Dt(OM); Dt(dDe); Dt(vz); Dt(LDe); Dt(e9); Dt($De); Dt(GDe); Dt(jCe); Dt(UM); Dt(mg); Dt(EMe); Dt(WM); Dt(QMe); Dt(lke); Dt(gke); Dt(Tke); Dt(Fke); Dt(oAe); Dt(iH); Dt(oH); Dt(RAe); Dt(fH); Dt(hH); Dt(FAe); Dt(KM); Dt(QM); Dt(ek); Dt(KC); const Zf = { main: "#00deff", label: "#aaa", title: "#fff", white: "#fff", line: "rgba(0,0,0,0.2)", green: "#2bb06a", cyan: "#5AC8FA", blue: "#007AFF", purple: "#5856D6", magenta: "#FF2D70", red: "#FF3B30", orange: "#FF9500", yellow: "#FFCC00", gray: "#8E8E93", primary: "#409EFF" }, OEe = ["#FF9500", "#007AFF", "#4CD964", "#5AC8FA", "#5856D6", "#FF2D70", "#FF3B30", "#FFCC00", "#8E8E93"], EEe = { textStyle: { color: "#fff" }, type: "scroll", orient: "vertical", top: 0, right: 0, data: [] }, NEe = { trigger: "axis" }, $Ee = { top: 20, bottom: 20, left: 40, right: 20, borderColor: Zf.green }, va = { COLOR: Zf, LEGEND: EEe, GRID: $Ee, TOOLTIP: NEe, COLOR_ARRAY: OEe, COLOR_OPTION: [Zf.main, Zf.green], COLOR_BAR: [Zf.green, Zf.purple] }; const FEe = { name: "ChartLineTrend", props: { combineData: { type: Array, default: [] }, height: { type: Number } }, data() { return { requestDataConstantly: !0, timeoutHandle: null, dataCount: 20, option: { legend: { textStyle: {}, type: "scroll", orient: "vertical", top: 0, right: 0, data: [] }, grid: { top: 40, bottom: 120, left: 25, right: 30 }, dataZoom: [{ startValue: "2021-06-01" }, { type: "inside" }], tooltip: { trigger: "axis", axisPointer: { type: "cross", label: { backgroundColor: "#6a7985" } } }, xAxis: { type: "category", data: [], axisLabel: { fontSize: 10, rotate: -70 }, axisLine: { lineStyle: { color: va.COLOR.gray } } }, yAxis: { type: "value", splitNumber: 3, axisLabel: { fontSize: 10 }, axisLine: { show: !0, lineStyle: { color: va.COLOR.gray } }, splitLine: { show: !0, lineStyle: { color: va.COLOR.line, width: 1, type: "solid" } }, max: function (t) { return t.max + 10 } }, series: [] } } }, mounted() { this.$nextTick(() => { this.initChart() }) }, beforeDestroy() { this.chart.clear(), clearTimeout(this.timeoutHandle), this.timeoutHandle = null, this.requestDataConstantly = !1 }, methods: { initChart() { this.chart = og(this.$refs.chart), this.option.series.push({ name: "身处温度", data: this.combineData.map(t => t.temperature), lineStyle: { width: 2, opacity: 0 }, color: va.COLOR.orange, type: "line", smooth: !0, label: { show: !0, fontSize: 10 } }), this.option.xAxis.data = this.combineData.map(t => t.date), this.option.legend.data.push("身处温度"), this.option.series.push({ name: "室外温度", data: this.combineData.map(t => t.temperature_outside), lineStyle: { width: 2, opacity: 0 }, color: va.COLOR.blue, type: "line", smooth: !0, label: { show: !0, fontSize: 10 } }), this.option.xAxis.data = this.combineData.map(t => t.date), this.option.legend.data.push("室外温度"), this.chart.setOption(this.option) } } }; function BEe(t, e, r, n, a, i) { return $(), j("div", { ref: "chart", class: "chart", style: at(r.height ? `height: ${r.height}px` : "") }, null, 4) } const VEe = Et(FEe, [["render", BEe], ["__scopeId", "data-v-0b1e7a72"]]), zEe = { key: 0, class: "statistic-charts" }, HEe = Ue({ __name: "StatisticWeather", setup(t) { const e = ne(!1), r = ne([]); Lt(() => { e.value = !0, n() }); function n() { Io.weather().then(a => { let i = a.data.map(o => (o.temperature = o.temperature === -273 ? null : o.temperature, o.date = Hr(new Date(o.date), "yyyy-MM-dd"), o.temperature_outside = o.temperature_outside === -273 ? null : o.temperature_outside, o)); r.value = i }) } return (a, i) => ($(), Ie(Cr, { "enter-active-class": "animated fadeIn", "leave-active-class": "animated faceOut" }, { default: Me(() => [e.value ? ($(), j("div", zEe, [r.value.length > 0 ? ($(), Ie(VEe, { key: 0, height: 400, "combine-data": r.value }, null, 8, ["combine-data"])) : ce("", !0)])) : ce("", !0)]), _: 1 })) } }); const YEe = { name: "ChartBarOfBillDay", props: { combineData: { type: Array, default: [] }, height: { type: Number } }, data() { return { requestDataConstantly: !0, timeoutHandle: null, dataCount: 20, option: { legend: { textStyle: {}, type: "scroll", orient: "vertical", top: 0, right: 0, data: [] }, grid: { top: 20, bottom: 120, left: 30, right: 20 }, dataZoom: [{ startValue: "2022-06-01" }, { type: "inside" }], tooltip: { trigger: "axis", axisPointer: { type: "cross", label: { backgroundColor: "#6a7985" } } }, xAxis: { type: "category", data: [], axisLabel: { fontSize: 10, rotate: -70 }, axisLine: { lineStyle: { color: va.COLOR.gray } } }, yAxis: { type: "value", splitNumber: 3, axisLabel: { fontSize: 10, formatter: (t, e) => { let r = t / 1e3, n = t % 1e3; return r >= 1 ? `${r.toFixed(0)}k` : n } }, axisLine: { show: !0, lineStyle: { color: va.COLOR.gray } }, splitLine: { show: !0, lineStyle: { color: va.COLOR.line, width: 1, type: "solid" } }, max: function (t) { return t.max + 10 } }, series: [] } } }, mounted() { this.$nextTick(() => { this.initChart() }) }, beforeDestroy() { this.chart.clear(), clearTimeout(this.timeoutHandle), this.timeoutHandle = null, this.requestDataConstantly = !1 }, methods: { initChart() { this.chart = og(this.$refs.chart), this.option.series.push({ name: "收入", data: this.combineData.map(t => t.sumIncome), lineStyle: { width: 2, opacity: 1 }, color: va.COLOR.red, type: "bar" }), this.option.xAxis.data = this.combineData.map(t => t.date).reverse(), this.option.legend.data.push("收入"), this.option.series.push({ name: "支出", data: this.combineData.map(t => t.sumOutput), lineStyle: { width: 2, opacity: 1 }, color: va.COLOR.green, type: "bar" }), this.option.xAxis.data = this.combineData.map(t => t.date), this.option.legend.data.push("支出"), this.chart.setOption(this.option) } } }; function UEe(t, e, r, n, a, i) { return $(), j("div", { ref: "chart", class: "chart", style: at(r.height ? `height: ${r.height}px` : "") }, null, 4) } const WEe = Et(YEe, [["render", UEe], ["__scopeId", "data-v-d0f5aa82"]]), GEe = { key: 0, class: "statistic-charts" }, jEe = Ue({ __name: "StatisticBillDaySum", setup(t) { const e = ne(!1), r = ne([]); Lt(() => { e.value = !0, n() }); function n() { Io.daySum().then(a => { r.value = a.data.map(i => (i.sumOutput = Math.abs(i.sumOutput), i.date = Hr(new Date(i.date), "yyyy-MM-dd"), i)) }) } return (a, i) => ($(), Ie(Cr, { "enter-active-class": "animated fadeIn", "leave-active-class": "animated faceOut" }, { default: Me(() => [e.value ? ($(), j("div", GEe, [r.value.length > 0 ? ($(), Ie(WEe, { key: 0, height: 400, "combine-data": r.value }, null, 8, ["combine-data"])) : ce("", !0)])) : ce("", !0)]), _: 1 })) } }); const ZEe = { name: "ChartBarOfBillMonth", props: { combineData: { type: Array, default: [] }, height: { type: Number } }, data() { return { requestDataConstantly: !0, timeoutHandle: null, dataCount: 20, option: { legend: { textStyle: {}, type: "scroll", orient: "vertical", top: 0, right: 0, data: [] }, grid: { top: 20, bottom: 120, left: 30, right: 20 }, dataZoom: [{ startValue: "2021-06-01" }, { type: "inside" }], tooltip: { trigger: "axis", axisPointer: { type: "cross", label: { backgroundColor: "#6a7985" } } }, xAxis: { type: "category", data: [], axisLabel: { fontSize: 10, rotate: -70 }, axisLine: { lineStyle: { color: va.COLOR.gray } } }, yAxis: { type: "value", splitNumber: 3, axisLabel: { fontSize: 10, formatter: (t, e) => { let r = t / 1e3, n = t % 1e3; return r >= 1 ? `${r.toFixed(0)}k` : n } }, axisLine: { show: !0, lineStyle: { color: va.COLOR.gray } }, splitLine: { show: !0, lineStyle: { color: va.COLOR.line, width: 1, type: "solid" } }, max: function (t) { return t.max + 10 } }, series: [] } } }, mounted() { this.$nextTick(() => { this.initChart() }) }, beforeDestroy() { this.chart.clear(), clearTimeout(this.timeoutHandle), this.timeoutHandle = null, this.requestDataConstantly = !1 }, methods: { initChart() { this.chart = og(this.$refs.chart), this.option.series.push({ name: "收入", data: this.combineData.map(t => t.sumIncome), color: va.COLOR.red, type: "bar", label: { show: !0, position: "top", fontSize: 10 } }), this.option.xAxis.data = this.combineData.map(t => t.date).reverse(), this.option.legend.data.push("收入"), this.option.series.push({ name: "支出", data: this.combineData.map(t => t.sumOutput), color: va.COLOR.green, type: "bar", label: { show: !0, position: "top", fontSize: 10 } }), this.option.xAxis.data = this.combineData.map(t => t.date), this.option.legend.data.push("支出"), this.chart.setOption(this.option) } } }; function qEe(t, e, r, n, a, i) { return $(), j("div", { ref: "chart", class: "chart", style: at(r.height ? `height: ${r.height}px` : "") }, null, 4) } const XEe = Et(ZEe, [["render", qEe], ["__scopeId", "data-v-0878021f"]]), KEe = { key: 0, class: "statistic-charts" }, QEe = Ue({ __name: "StatisticBillMonthSum", setup(t) { const e = ne(!1), r = ne([]); Lt(() => { e.value = !0, n() }); function n() { Io.monthSum().then(a => { r.value = a.data.map(i => (i.sumOutput = Math.abs(i.sumOutput), i.date = i.month_id, i)) }) } return (a, i) => ($(), Ie(Cr, { "enter-active-class": "animated fadeIn", "leave-active-class": "animated faceOut" }, { default: Me(() => [e.value ? ($(), j("div", KEe, [r.value.length > 0 ? ($(), Ie(XEe, { key: 0, height: 400, "combine-data": r.value }, null, 8, ["combine-data"])) : ce("", !0)])) : ce("", !0)]), _: 1 })) } }), JEe = { key: 0, class: "statistic-charts" }, e3e = { class: "statistic-group" }, t3e = { class: "info-list" }, r3e = { class: "info-list-item" }, n3e = { class: "key" }, a3e = { class: "value" }, i3e = { class: "statistic-group" }, o3e = { class: "info-list" }, s3e = { class: "info-list-item" }, l3e = { class: "key" }, u3e = { class: "value" }, c3e = Ue({ __name: "StatisticCharts", setup(t) { const e = Vt(), r = ne(!1); return Lt(() => { r.value = !0 }), (n, a) => ($(), Ie(Cr, { "enter-active-class": "animated fadeIn", "leave-active-class": "animated faceOut" }, { default: Me(() => [r.value ? ($(), j("div", JEe, [de(fs, { title: "类别数据" }, { default: Me(() => [P("div", e3e, [de(E2, { data: Y(e).dataArrayCategory, title: "" }, null, 8, ["data"]), de(m$, { data: Y(e).dataArrayCategory, title: "" }, null, 8, ["data"]), P("div", t3e, [($(!0), j(Ve, null, It(Y(e).dataArrayCategory, i => ($(), j("div", r3e, [P("div", n3e, fe(i.name), 1), P("div", a3e, fe(i.value), 1)]))), 256))])])]), _: 1 }), de(fs, { title: "年份数据" }, { default: Me(() => [P("div", i3e, [de(E2, { data: Y(e).dataArrayYear, title: "" }, null, 8, ["data"]), de(m$, { data: Y(e).dataArrayYear, title: "" }, null, 8, ["data"]), P("div", o3e, [($(!0), j(Ve, null, It(Y(e).dataArrayYear, i => ($(), j("div", s3e, [P("div", l3e, fe(i.name), 1), P("div", u3e, fe(i.value), 1)]))), 256))])])]), _: 1 }), de(fs, { title: "温度趋势" }, { default: Me(() => [de(HEe)]), _: 1 }), de(fs, { title: "账单趋势 - 日" }, { default: Me(() => [de(jEe)]), _: 1 }), de(fs, { title: "账单趋势 - 月" }, { default: Me(() => [de(QEe)]), _: 1 })])) : ce("", !0)]), _: 1 })) } }); const f3e = Et(c3e, [["__scopeId", "data-v-4e99b583"]]), D8 = t => (ba("data-v-3e18dca4"), t = t(), wa(), t), h3e = { class: "main-statistic" }, d3e = { class: "main-statistic-item" }, v3e = D8(() => P("div", { class: "label" }, "共享", -1)), p3e = { class: "number value" }, g3e = { class: "main-statistic-item" }, m3e = D8(() => P("div", { class: "label" }, "总计", -1)), y3e = { class: "number value" }, _3e = { key: 0, class: "pt-8 pb-8" }, b3e = { class: "statistic-user" }, w3e = { class: "statistic-diary" }, S3e = Ue({ __name: "StatisticsMain", setup(t) { const e = Vt(), r = ne(!1); Lt(() => { n() }); function n() { Io.category().then(a => { e.statisticsCategory = a.data; let i = Object.keys(a.data); i = i.filter(o => o !== "amount" && o !== "shared"), e.dataArrayCategory = i.map(o => ({ name: e.categoryNameMap.get(o), key: o, value: a.data[o] })) }), Io.year().then(a => { e.statisticsYear = a.data, a.data && (e.dataArrayYear = a.data.reverse().map(i => ({ name: i.year, value: i.count }))) }) } return (a, i) => ($(), j("div", { class: "statistic-container", style: at(`height: ${Y(e).insets.windowsHeight}px`) }, [de(qp, { title: "统计数据" }, { default: Me(() => [P("div", h3e, [P("div", d3e, [v3e, Tt(), P("div", p3e, fe(Y(e).statisticsCategory.shared), 1)]), P("div", g3e, [m3e, Tt(), P("div", y3e, fe(Y(e).statisticsCategory.amount), 1)])])]), _: 1 }), r.value ? ($(), j("div", _3e, [de(Gi, { loading: r.value }, null, 8, ["loading"])])) : ($(), j("div", { key: 1, class: "statistic-content", style: at(`height:${Y(e).insets.heightPanel}px`) }, [P("div", b3e, [de(REe)]), P("div", w3e, [de(f3e)])], 4))], 4)) } }); const x3e = Et(S3e, [["__scopeId", "data-v-3e18dca4"]]), T3e = { class: "diary-header" }, D3e = { key: 0, class: "date-wrapper" }, C3e = { class: "date-time" }, M3e = { class: "date-lunar" }, k3e = { class: "weather-wrapper" }, A3e = { class: "weather" }, L3e = ["src", "alt"], I3e = { class: "temperatures" }, P3e = { key: 0, class: "temperature" }, R3e = { key: 1, class: "temperature" }, O3e = { class: "category-wrapper" }, E3e = Ue({ __name: "DetailHeader", props: { isLoading: { type: Boolean, default: !1 }, diary: { type: Object, default: {} }, lunarObject: { type: Object, default: {} } }, setup(t) { const e = Vt(), r = t, n = De(() => r.diary && r.diary.category ? `background-color: ${e.categoryObjectMap.get(r.diary.category).color}` : ""); function a(i) { return i >= 35 ? "temperature-35" : i < 35 && i >= 28 ? "temperature-35-28" : i < 28 && i >= 22 ? "temperature-28-22" : i < 22 && i >= 15 ? "temperature-22-15" : i < 15 && i >= 4 ? "temperature-15-4" : i < 4 ? "temperature-4" : "" } return (i, o) => ($(), j("div", T3e, [r.diary.dateObj ? ($(), j("div", D3e, [P("div", C3e, fe(r.diary.dateObj.dateFull) + " " + fe(r.diary.dateObj.time), 1), P("div", M3e, fe(t.lunarObject.IMonthCn) + fe(t.lunarObject.IDayCn) + " " + fe(r.diary.dateObj.weekday), 1)])) : ce("", !0), P("div", k3e, [P("div", A3e, [r.diary.weather ? ($(), j("img", { key: 0, src: Y(ke).weather_icons[`${r.diary.weather}_active`], alt: r.diary.weather }, null, 8, L3e)) : ce("", !0)]), P("div", I3e, [r.diary.temperature ? ($(), j("div", P3e, [Tt(" 身处 "), P("span", { class: Be(["temperature-number", a(Number(r.diary.temperature))]) }, fe(r.diary.temperature), 3), Tt(" ℃ ")])) : ce("", !0), r.diary.temperature_outside ? ($(), j("div", R3e, [Tt(" 室外 "), P("span", { class: Be(["temperature-number", a(Number(r.diary.temperature_outside))]) }, fe(r.diary.temperature_outside), 3), Tt(" ℃ ")])) : ce("", !0)])]), P("div", O3e, [P("div", { class: "detail-category", style: at(n.value) }, [P("span", null, fe(r.diary.categoryString), 1)], 4)])])) } }); const N3e = Et(E3e, [["__scopeId", "data-v-484e1790"]]), $3e = Ue({ __name: "ButtonNormal", props: { type: { type: String, default: "" } }, setup(t) { const e = t; return (r, n) => ($(), j("div", { class: Be(["btn-normal", e.type]) }, [We(r.$slots, "default", {}, void 0, !0)], 2)) } }); const gc = Et($3e, [["__scopeId", "data-v-1fb47007"]]), F3e = { class: "word-explode" }, B3e = { class: "operation-list" }, V3e = ["onClick", "data-index"], z3e = { key: 0 }, H3e = { key: 1 }, Y3e = { key: 2 }, U3e = { key: 0 }, W3e = Ue({
    __name: "WordExplode", props: { content: { type: String, default: "" } }, setup(t) {
        const e = t, r = ne(), n = ne([]), a = ne(0), i = ne(0); Lt(() => { n.value = c(e.content), Dr(() => { let h = r.value.children; for (let d = 0; d < h.length; d++)h[d].addEventListener("mouseenter", v => { v.preventDefault(); let p = Number(v.target.getAttribute("data-index") || -1); switch (p > i.value && (i.value = p), p < i.value && (a.value = p), v.buttons) { case 1: p !== -1 && (n.value[p].active = !0); break; case 2: p !== -1 && (n.value[p].active = !1); break } }) }) }), Nh(() => { let h = r.value.children; if (h && h.length > 0) for (let d = 0; d < h.length; d++)h[d].removeEventListener("mouseenter", v => { }) }), mt(() => e.content, h => { n.value = c(h) }), mt(a, () => { for (let h = 0; h < n.value.length; h++)n.value }); function o() { n.value.forEach(h => h.active = !0) } function s() { n.value.forEach(h => h.active = !1) } function l() { let h = n.value.filter(d => d.active).map(d => d.value).join(""); h.length === 0 ? Mt("warning", "未复制，没有选择任何内容哟", () => { }, 1.5) : navigator.clipboard.writeText(h).then(() => { Mt("success", "已复制到 剪贴板", () => { }, 1), console.log("✓ copied") }) } function u(h) { n.value[h].active = !n.value[h].active } function c(h) { if (h && h.length === 0) return []; { let d = [], v = "", p = ""; for (let g = 0; g < h.length; g++) { let m = h[g]; f(m, v) ? (p = p.concat(m), v = m) : (p.length === 0 || d.push(p), p = m, v = m) } return p.length > 0 && d.push(p), d.map(g => ({ active: !1, value: g })) } } function f(h, d) { const v = `'"，。“”‘’`.split(""); return v.includes(h) || v.includes(d) ? !1 : /[0-9.]/.test(h) && /[0-9.]/.test(d) || /[￥$0-9.]/.test(h) && /[￥$0-9.]/.test(d) || /[0-9a-zA-Z\-@_]/.test(h) && /[0-9a-zA-Z\-@_]/.test(d) || /[\u4E00-\u9FA5]/.test(h) && /[\u4E00-\u9FA5]/.test(d) } return (h, d) => ($(), j("div", F3e, [P("div", B3e, [de(gc, { onClick: s }, { default: Me(() => [Tt("取消选择")]), _: 1 }), de(gc, { onClick: o }, { default: Me(() => [Tt("全选")]), _: 1 }), de(gc, { type: "confirm", onClick: l }, { default: Me(() => [Tt("复制")]), _: 1 })]), P("div", { class: "word-list", ref_key: "refWordList", ref: r }, [($(!0), j(Ve, null, It(n.value, (v, p) => ($(), j(Ve, { key: p }, [P("div", { onClick: g => u(p), "data-index": p, class: Be(["word", { active: v.active }, { space: v.value === " " }]) }, [v.value === `
`? ($(), j("span", z3e, "↙")) : v.value === " " ? ($(), j("span", H3e, "　")) : ($(), j("span", Y3e, fe(v.value), 1))], 10, V3e), v.value === `
`? ($(), j("br", U3e)) : ce("", !0)], 64))), 128))], 512)]))
    }
}); const G3e = { key: 1, class: "diary-title" }, j3e = { class: "toolbar" }, Z3e = { key: 2, class: "diary-content" }, q3e = { key: 0 }, X3e = { key: 1 }, K3e = { class: "toolbar" }, Q3e = { key: 0 }, J3e = { key: 1 }, eNe = ["innerHTML"], tNe = ["innerHTML"], rNe = Ue({
    __name: "Detail", setup(t) {
        const e = Vt(), r = wn(), n = Ki(), a = ne(!1), i = ne({}), o = ne(), s = ne({}), l = ne(!1); Lt(() => { n.params.id && h(Number(n.params.id)), o.value = new jp(".clipboard", { text: d => d.getAttribute("data-clipboard") }), o.value.on("success", () => { Mt("success", "已复制到 剪贴板", null, 1) }) }), Bs(() => { o.value.destroy() }); const u = De(() => pt.parse(i.value.content)); mt(() => n.params.id, d => { d && h(Number(d)) }); function c() { l.value = !l.value } function f(d) {
            if (/\[ ?code ?\]/i.test(d)) return `<pre class="code">${e.isHideContent ? d.replace(/[^，。 \n]/g, "*") : d}</pre>`; {
                let p = d.split(`
`), g = ""; return p.forEach(m => { m === "" ? g += "<br/>" : g += `<p>${e.isHideContent ? m.replace(/[^，。 \n]/g, "*") : m}</p>` }), g
            }
        } function h(d) { a.value = !0; let v = { diaryId: d }; Pa.detail(v).then(p => { a.value = !1; let g = p.data; i.value = g; let m = ze(i.value.date); s.value = BD.solar2lunar(m.year(), m.month() + 1, m.date()), e.currentDiary = g; let y = Gl(g.date); i.value.dateObj = y, document.title = "日记 - " + y.dateFull, i.value.temperature = bh(g.temperature), i.value.temperature_outside = bh(g.temperature_outside), g.categoryString = e.categoryNameMap.get(g.category) }).catch(() => { a.value = !1, r.push({ name: "List" }) }) } return (d, v) => ($(), j("div", { class: "diary-detail", id: "diaryDetail", style: at(`min-height: ${Y(e).insets.heightPanel}px`) }, [de(N3e, { isLoading: a.value, diary: i.value, "lunar-object": s.value }, null, 8, ["isLoading", "diary", "lunar-object"]), Y(e).isInMobileMode ? ($(), Ie(Gi, { key: 0, loading: a.value }, null, 8, ["loading"])) : ce("", !0), i.value.title ? ($(), j("div", G3e, [P("h2", null, fe(Y(e).isHideContent ? i.value.title.replace(/[^，。 \n]/g, "*") : i.value.title), 1), P("div", j3e, [de(gc, { class: "clipboard", "data-clipboard": i.value.title }, { default: Me(() => [Tt("复制")]), _: 1 }, 8, ["data-clipboard"])])])) : ce("", !0), i.value.content ? ($(), j("div", Z3e, [i.value.category === "todo" ? ($(), j("div", q3e, [de(x4, { readonly: !1, diary: i.value }, null, 8, ["diary"])])) : ($(), j("div", X3e, [P("div", K3e, [de(gc, { class: "clipboard", type: "confirm", "data-clipboard": i.value.content }, { default: Me(() => [Tt("全部复制")]), _: 1 }, 8, ["data-clipboard"]), l.value ? ($(), Ie(gc, { key: 0, class: "clipboard", onClick: c }, { default: Me(() => [Tt("普通")]), _: 1 })) : ($(), Ie(gc, { key: 1, class: "clipboard", onClick: c }, { default: Me(() => [Tt("炸词")]), _: 1 }))]), l.value ? ($(), j("div", Q3e, [i.value.content ? ($(), Ie(W3e, { key: 0, content: i.value.content }, null, 8, ["content"])) : ce("", !0)])) : ($(), j("div", J3e, [i.value.is_markdown === 1 && !Y(e).isHideContent ? ($(), j("div", { key: 0, class: "markdown", innerHTML: u.value }, null, 8, eNe)) : ($(), j("div", { key: 1, class: "content", innerHTML: f(i.value.content) }, null, 8, tNe))]))]))])) : ce("", !0)], 4))
    }
}); const nNe = { class: "edit-category-selector" }, aNe = ["onClick"], iNe = Ue({ __name: "EditorCategorySelector", props: { category: { default: "life", type: String } }, emits: ["change"], setup(t, { emit: e }) { const r = Vt(), n = t, a = e, i = ne(n.category); mt(() => n.category, () => { i.value = n.category }), mt(i, l => { a("change", l) }); function o(l, u) { return l ? `color: white; background-color: ${u.color}` : `color: ${u.color}` } function s(l) { i.value = l } return (l, u) => ($(), j("div", nNe, [($(!0), j(Ve, null, It(Y(r).categoryAll, c => ($(), j("div", { class: "category-wrapper", onClick: f => s(c.name_en), key: c.name_en }, [P("div", { class: "category", style: at(o(i.value === c.name_en, c)) }, fe(c.name), 5)], 8, aNe))), 128))])) } }); const oNe = Et(iNe, [["__scopeId", "data-v-6d93605c"]]), sNe = { class: "weather-selector" }, lNe = ["onClick"], uNe = ["src", "alt", "title"], cNe = Ue({ __name: "WeatherSelector", props: { weather: { type: String, default: "sunny" } }, emits: ["change"], setup(t, { emit: e }) { const r = e, n = t, a = ne(n.weather); mt(() => n.weather, () => { a.value = n.weather }), mt(a, () => { r("change", a.value) }); function i(o) { a.value = o } return (o, s) => ($(), j("div", sNe, [($(!0), j(Ve, null, It(Y(FD), l => ($(), j("div", { class: "weather", onClick: u => i(l.value), key: l.value }, [P("img", { src: a.value === l.value ? Y(ke).weather_icons[l.value + "_active"] : Y(ke).weather_icons[l.value], alt: l.label, title: l.label }, null, 8, uNe)], 8, lNe))), 128))])) } }); const fNe = Et(cNe, [["__scopeId", "data-v-ae445074"]]), Ak = t => (ba("data-v-54154490"), t = t(), wa(), t), hNe = { key: 0, class: "loading" }, dNe = Ak(() => P("div", { class: "loading-1 loading-item" }, null, -1)), vNe = Ak(() => P("div", { class: "loading-2 loading-item" }, null, -1)), pNe = Ak(() => P("div", { class: "loading-3 loading-item" }, null, -1)), gNe = [dNe, vNe, pNe], mNe = Ue({ __name: "LoadingButton", props: { isLoading: { type: Boolean, default: !1 }, type: { type: String, default: "active" } }, emits: ["click", "submit"], setup(t, { emit: e }) { const r = t, n = e; return (a, i) => ($(), j("div", { class: Be(["btn", { "btn-light": r.type === "light" }, { "btn-active": r.type === "active" }, { "btn-inactive": r.type === "inactive" }]), onClick: i[0] || (i[0] = o => n("click")), onSubmit: i[1] || (i[1] = o => n("submit")) }, [We(a.$slots, "default", {}, void 0, !0), t.isLoading ? ($(), j("div", hNe, gNe)) : ce("", !0)], 34)) } }); const yNe = Et(mNe, [["__scopeId", "data-v-54154490"]]); function _Ne(t) { throw new Error('Could not dynamically require "' + t + '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.') } var C8 = { exports: {} }; (function (t, e) {
    (function (r, n) { t.exports = n() })(c4, function () {
        var r; function n() { return r.apply(null, arguments) } function a(w) { r = w } function i(w) { return w instanceof Array || Object.prototype.toString.call(w) === "[object Array]" } function o(w) { return w != null && Object.prototype.toString.call(w) === "[object Object]" } function s(w, D) { return Object.prototype.hasOwnProperty.call(w, D) } function l(w) { if (Object.getOwnPropertyNames) return Object.getOwnPropertyNames(w).length === 0; var D; for (D in w) if (s(w, D)) return !1; return !0 } function u(w) { return w === void 0 } function c(w) { return typeof w == "number" || Object.prototype.toString.call(w) === "[object Number]" } function f(w) { return w instanceof Date || Object.prototype.toString.call(w) === "[object Date]" } function h(w, D) { var I = [], O, W = w.length; for (O = 0; O < W; ++O)I.push(D(w[O], O)); return I } function d(w, D) { for (var I in D) s(D, I) && (w[I] = D[I]); return s(D, "toString") && (w.toString = D.toString), s(D, "valueOf") && (w.valueOf = D.valueOf), w } function v(w, D, I, O) { return uA(w, D, I, O, !0).utc() } function p() { return { empty: !1, unusedTokens: [], unusedInput: [], overflow: -2, charsLeftOver: 0, nullInput: !1, invalidEra: null, invalidMonth: null, invalidFormat: !1, userInvalidated: !1, iso: !1, parsedDateParts: [], era: null, meridiem: null, rfc2822: !1, weekdayMismatch: !1 } } function g(w) { return w._pf == null && (w._pf = p()), w._pf } var m; Array.prototype.some ? m = Array.prototype.some : m = function (w) { var D = Object(this), I = D.length >>> 0, O; for (O = 0; O < I; O++)if (O in D && w.call(this, D[O], O, D)) return !0; return !1 }; function y(w) { var D = null, I = !1, O = w._d && !isNaN(w._d.getTime()); if (O && (D = g(w), I = m.call(D.parsedDateParts, function (W) { return W != null }), O = D.overflow < 0 && !D.empty && !D.invalidEra && !D.invalidMonth && !D.invalidWeekday && !D.weekdayMismatch && !D.nullInput && !D.invalidFormat && !D.userInvalidated && (!D.meridiem || D.meridiem && I), w._strict && (O = O && D.charsLeftOver === 0 && D.unusedTokens.length === 0 && D.bigHour === void 0)), Object.isFrozen == null || !Object.isFrozen(w)) w._isValid = O; else return O; return w._isValid } function _(w) { var D = v(NaN); return w != null ? d(g(D), w) : g(D).userInvalidated = !0, D } var b = n.momentProperties = [], x = !1; function S(w, D) { var I, O, W, re = b.length; if (u(D._isAMomentObject) || (w._isAMomentObject = D._isAMomentObject), u(D._i) || (w._i = D._i), u(D._f) || (w._f = D._f), u(D._l) || (w._l = D._l), u(D._strict) || (w._strict = D._strict), u(D._tzm) || (w._tzm = D._tzm), u(D._isUTC) || (w._isUTC = D._isUTC), u(D._offset) || (w._offset = D._offset), u(D._pf) || (w._pf = g(D)), u(D._locale) || (w._locale = D._locale), re > 0) for (I = 0; I < re; I++)O = b[I], W = D[O], u(W) || (w[O] = W); return w } function T(w) { S(this, w), this._d = new Date(w._d != null ? w._d.getTime() : NaN), this.isValid() || (this._d = new Date(NaN)), x === !1 && (x = !0, n.updateOffset(this), x = !1) } function C(w) { return w instanceof T || w != null && w._isAMomentObject != null } function M(w) { n.suppressDeprecationWarnings === !1 && typeof console < "u" && console.warn && console.warn("Deprecation warning: " + w) } function k(w, D) {
            var I = !0; return d(function () {
                if (n.deprecationHandler != null && n.deprecationHandler(null, w), I) {
                    var O = [], W, re, ye, Ke = arguments.length; for (re = 0; re < Ke; re++) {
                        if (W = "", typeof arguments[re] == "object") {
                            W += `
[`+ re + "] "; for (ye in arguments[0]) s(arguments[0], ye) && (W += ye + ": " + arguments[0][ye] + ", "); W = W.slice(0, -2)
                        } else W = arguments[re]; O.push(W)
                    } M(w + `
Arguments: `+ Array.prototype.slice.call(O).join("") + `
`+ new Error().stack), I = !1
                } return D.apply(this, arguments)
            }, D)
        } var A = {}; function R(w, D) { n.deprecationHandler != null && n.deprecationHandler(w, D), A[w] || (M(D), A[w] = !0) } n.suppressDeprecationWarnings = !1, n.deprecationHandler = null; function N(w) { return typeof Function < "u" && w instanceof Function || Object.prototype.toString.call(w) === "[object Function]" } function z(w) { var D, I; for (I in w) s(w, I) && (D = w[I], N(D) ? this[I] = D : this["_" + I] = D); this._config = w, this._dayOfMonthOrdinalParseLenient = new RegExp((this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) + "|" + /\d{1,2}/.source) } function F(w, D) { var I = d({}, w), O; for (O in D) s(D, O) && (o(w[O]) && o(D[O]) ? (I[O] = {}, d(I[O], w[O]), d(I[O], D[O])) : D[O] != null ? I[O] = D[O] : delete I[O]); for (O in w) s(w, O) && !s(D, O) && o(w[O]) && (I[O] = d({}, I[O])); return I } function V(w) { w != null && this.set(w) } var L; Object.keys ? L = Object.keys : L = function (w) { var D, I = []; for (D in w) s(w, D) && I.push(D); return I }; var H = { sameDay: "[Today at] LT", nextDay: "[Tomorrow at] LT", nextWeek: "dddd [at] LT", lastDay: "[Yesterday at] LT", lastWeek: "[Last] dddd [at] LT", sameElse: "L" }; function q(w, D, I) { var O = this._calendar[w] || this._calendar.sameElse; return N(O) ? O.call(D, I) : O } function K(w, D, I) { var O = "" + Math.abs(w), W = D - O.length, re = w >= 0; return (re ? I ? "+" : "" : "-") + Math.pow(10, Math.max(0, W)).toString().substr(1) + O } var te = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g, oe = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, X = {}, U = {}; function B(w, D, I, O) { var W = O; typeof O == "string" && (W = function () { return this[O]() }), w && (U[w] = W), D && (U[D[0]] = function () { return K(W.apply(this, arguments), D[1], D[2]) }), I && (U[I] = function () { return this.localeData().ordinal(W.apply(this, arguments), w) }) } function ee(w) { return w.match(/\[[\s\S]/) ? w.replace(/^\[|\]$/g, "") : w.replace(/\\/g, "") } function Q(w) { var D = w.match(te), I, O; for (I = 0, O = D.length; I < O; I++)U[D[I]] ? D[I] = U[D[I]] : D[I] = ee(D[I]); return function (W) { var re = "", ye; for (ye = 0; ye < O; ye++)re += N(D[ye]) ? D[ye].call(W, w) : D[ye]; return re } } function se(w, D) { return w.isValid() ? (D = ue(D, w.localeData()), X[D] = X[D] || Q(D), X[D](w)) : w.localeData().invalidDate() } function ue(w, D) { var I = 5; function O(W) { return D.longDateFormat(W) || W } for (oe.lastIndex = 0; I >= 0 && oe.test(w);)w = w.replace(oe, O), oe.lastIndex = 0, I -= 1; return w } var pe = { LTS: "h:mm:ss A", LT: "h:mm A", L: "MM/DD/YYYY", LL: "MMMM D, YYYY", LLL: "MMMM D, YYYY h:mm A", LLLL: "dddd, MMMM D, YYYY h:mm A" }; function Se(w) { var D = this._longDateFormat[w], I = this._longDateFormat[w.toUpperCase()]; return D || !I ? D : (this._longDateFormat[w] = I.match(te).map(function (O) { return O === "MMMM" || O === "MM" || O === "DD" || O === "dddd" ? O.slice(1) : O }).join(""), this._longDateFormat[w]) } var G = "Invalid date"; function Z() { return this._invalidDate } var J = "%d", le = /\d{1,2}/; function ve(w) { return this._ordinal.replace("%d", w) } var we = { future: "in %s", past: "%s ago", s: "a few seconds", ss: "%d seconds", m: "a minute", mm: "%d minutes", h: "an hour", hh: "%d hours", d: "a day", dd: "%d days", w: "a week", ww: "%d weeks", M: "a month", MM: "%d months", y: "a year", yy: "%d years" }; function Ne(w, D, I, O) { var W = this._relativeTime[I]; return N(W) ? W(w, D, I, O) : W.replace(/%d/i, w) } function Ce(w, D) { var I = this._relativeTime[w > 0 ? "future" : "past"]; return N(I) ? I(D) : I.replace(/%s/i, D) } var Pe = { D: "date", dates: "date", date: "date", d: "day", days: "day", day: "day", e: "weekday", weekdays: "weekday", weekday: "weekday", E: "isoWeekday", isoweekdays: "isoWeekday", isoweekday: "isoWeekday", DDD: "dayOfYear", dayofyears: "dayOfYear", dayofyear: "dayOfYear", h: "hour", hours: "hour", hour: "hour", ms: "millisecond", milliseconds: "millisecond", millisecond: "millisecond", m: "minute", minutes: "minute", minute: "minute", M: "month", months: "month", month: "month", Q: "quarter", quarters: "quarter", quarter: "quarter", s: "second", seconds: "second", second: "second", gg: "weekYear", weekyears: "weekYear", weekyear: "weekYear", GG: "isoWeekYear", isoweekyears: "isoWeekYear", isoweekyear: "isoWeekYear", w: "week", weeks: "week", week: "week", W: "isoWeek", isoweeks: "isoWeek", isoweek: "isoWeek", y: "year", years: "year", year: "year" }; function xe(w) { return typeof w == "string" ? Pe[w] || Pe[w.toLowerCase()] : void 0 } function Ye(w) { var D = {}, I, O; for (O in w) s(w, O) && (I = xe(O), I && (D[I] = w[O])); return D } var ot = { date: 9, day: 11, weekday: 11, isoWeekday: 11, dayOfYear: 4, hour: 13, millisecond: 16, minute: 14, month: 8, quarter: 7, second: 15, weekYear: 1, isoWeekYear: 1, week: 5, isoWeek: 5, year: 1 }; function st(w) { var D = [], I; for (I in w) s(w, I) && D.push({ unit: I, priority: ot[I] }); return D.sort(function (O, W) { return O.priority - W.priority }), D } var xt = /\d/, vt = /\d\d/, Jt = /\d{3}/, ur = /\d{4}/, ie = /[+-]?\d{6}/, ge = /\d\d?/, nt = /\d\d\d\d?/, ct = /\d\d\d\d\d\d?/, Zt = /\d{1,3}/, Fn = /\d{1,4}/, Nr = /[+-]?\d{1,6}/, be = /\d+/, qe = /[+-]?\d+/, Bn = /Z|[+-]\d\d:?\d\d/gi, Sn = /Z|[+-]\d\d(?::?\d\d)?/gi, af = /[+-]?\d+(\.\d{1,3})?/, ft = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i, $a = /^[1-9]\d?/, Ht = /^([1-9]\d|\d)/, of; of = {}; function Ge(w, D, I) { of[w] = N(D) ? D : function (O, W) { return O && I ? I : D } } function LY(w, D) { return s(of, w) ? of[w](D._strict, D._locale) : new RegExp(IY(w)) } function IY(w) { return jo(w.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (D, I, O, W, re) { return I || O || W || re })) } function jo(w) { return w.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&") } function Za(w) { return w < 0 ? Math.ceil(w) || 0 : Math.floor(w) } function Xt(w) { var D = +w, I = 0; return D !== 0 && isFinite(D) && (I = Za(D)), I } var W1 = {}; function Lr(w, D) { var I, O = D, W; for (typeof w == "string" && (w = [w]), c(D) && (O = function (re, ye) { ye[D] = Xt(re) }), W = w.length, I = 0; I < W; I++)W1[w[I]] = O } function id(w, D) { Lr(w, function (I, O, W, re) { W._w = W._w || {}, D(I, W._w, W, re) }) } function PY(w, D, I) { D != null && s(W1, w) && W1[w](D, I._a, I, w) } function Tg(w) { return w % 4 === 0 && w % 100 !== 0 || w % 400 === 0 } var jn = 0, Zo = 1, to = 2, xn = 3, Ci = 4, qo = 5, fu = 6, RY = 7, OY = 8; B("Y", 0, 0, function () { var w = this.year(); return w <= 9999 ? K(w, 4) : "+" + w }), B(0, ["YY", 2], 0, function () { return this.year() % 100 }), B(0, ["YYYY", 4], 0, "year"), B(0, ["YYYYY", 5], 0, "year"), B(0, ["YYYYYY", 6, !0], 0, "year"), Ge("Y", qe), Ge("YY", ge, vt), Ge("YYYY", Fn, ur), Ge("YYYYY", Nr, ie), Ge("YYYYYY", Nr, ie), Lr(["YYYYY", "YYYYYY"], jn), Lr("YYYY", function (w, D) { D[jn] = w.length === 2 ? n.parseTwoDigitYear(w) : Xt(w) }), Lr("YY", function (w, D) { D[jn] = n.parseTwoDigitYear(w) }), Lr("Y", function (w, D) { D[jn] = parseInt(w, 10) }); function od(w) { return Tg(w) ? 366 : 365 } n.parseTwoDigitYear = function (w) { return Xt(w) + (Xt(w) > 68 ? 1900 : 2e3) }; var jk = sf("FullYear", !0); function EY() { return Tg(this.year()) } function sf(w, D) { return function (I) { return I != null ? (Zk(this, w, I), n.updateOffset(this, D), this) : sd(this, w) } } function sd(w, D) { if (!w.isValid()) return NaN; var I = w._d, O = w._isUTC; switch (D) { case "Milliseconds": return O ? I.getUTCMilliseconds() : I.getMilliseconds(); case "Seconds": return O ? I.getUTCSeconds() : I.getSeconds(); case "Minutes": return O ? I.getUTCMinutes() : I.getMinutes(); case "Hours": return O ? I.getUTCHours() : I.getHours(); case "Date": return O ? I.getUTCDate() : I.getDate(); case "Day": return O ? I.getUTCDay() : I.getDay(); case "Month": return O ? I.getUTCMonth() : I.getMonth(); case "FullYear": return O ? I.getUTCFullYear() : I.getFullYear(); default: return NaN } } function Zk(w, D, I) { var O, W, re, ye, Ke; if (!(!w.isValid() || isNaN(I))) { switch (O = w._d, W = w._isUTC, D) { case "Milliseconds": return void (W ? O.setUTCMilliseconds(I) : O.setMilliseconds(I)); case "Seconds": return void (W ? O.setUTCSeconds(I) : O.setSeconds(I)); case "Minutes": return void (W ? O.setUTCMinutes(I) : O.setMinutes(I)); case "Hours": return void (W ? O.setUTCHours(I) : O.setHours(I)); case "Date": return void (W ? O.setUTCDate(I) : O.setDate(I)); case "FullYear": break; default: return }re = I, ye = w.month(), Ke = w.date(), Ke = Ke === 29 && ye === 1 && !Tg(re) ? 28 : Ke, W ? O.setUTCFullYear(re, ye, Ke) : O.setFullYear(re, ye, Ke) } } function NY(w) { return w = xe(w), N(this[w]) ? this[w]() : this } function $Y(w, D) { if (typeof w == "object") { w = Ye(w); var I = st(w), O, W = I.length; for (O = 0; O < W; O++)this[I[O].unit](w[I[O].unit]) } else if (w = xe(w), N(this[w])) return this[w](D); return this } function FY(w, D) { return (w % D + D) % D } var on; Array.prototype.indexOf ? on = Array.prototype.indexOf : on = function (w) { var D; for (D = 0; D < this.length; ++D)if (this[D] === w) return D; return -1 }; function G1(w, D) { if (isNaN(w) || isNaN(D)) return NaN; var I = FY(D, 12); return w += (D - I) / 12, I === 1 ? Tg(w) ? 29 : 28 : 31 - I % 7 % 2 } B("M", ["MM", 2], "Mo", function () { return this.month() + 1 }), B("MMM", 0, 0, function (w) { return this.localeData().monthsShort(this, w) }), B("MMMM", 0, 0, function (w) { return this.localeData().months(this, w) }), Ge("M", ge, $a), Ge("MM", ge, vt), Ge("MMM", function (w, D) { return D.monthsShortRegex(w) }), Ge("MMMM", function (w, D) { return D.monthsRegex(w) }), Lr(["M", "MM"], function (w, D) { D[Zo] = Xt(w) - 1 }), Lr(["MMM", "MMMM"], function (w, D, I, O) { var W = I._locale.monthsParse(w, O, I._strict); W != null ? D[Zo] = W : g(I).invalidMonth = w }); var BY = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"), qk = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"), Xk = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/, VY = ft, zY = ft; function HY(w, D) { return w ? i(this._months) ? this._months[w.month()] : this._months[(this._months.isFormat || Xk).test(D) ? "format" : "standalone"][w.month()] : i(this._months) ? this._months : this._months.standalone } function YY(w, D) { return w ? i(this._monthsShort) ? this._monthsShort[w.month()] : this._monthsShort[Xk.test(D) ? "format" : "standalone"][w.month()] : i(this._monthsShort) ? this._monthsShort : this._monthsShort.standalone } function UY(w, D, I) { var O, W, re, ye = w.toLocaleLowerCase(); if (!this._monthsParse) for (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = [], O = 0; O < 12; ++O)re = v([2e3, O]), this._shortMonthsParse[O] = this.monthsShort(re, "").toLocaleLowerCase(), this._longMonthsParse[O] = this.months(re, "").toLocaleLowerCase(); return I ? D === "MMM" ? (W = on.call(this._shortMonthsParse, ye), W !== -1 ? W : null) : (W = on.call(this._longMonthsParse, ye), W !== -1 ? W : null) : D === "MMM" ? (W = on.call(this._shortMonthsParse, ye), W !== -1 ? W : (W = on.call(this._longMonthsParse, ye), W !== -1 ? W : null)) : (W = on.call(this._longMonthsParse, ye), W !== -1 ? W : (W = on.call(this._shortMonthsParse, ye), W !== -1 ? W : null)) } function WY(w, D, I) { var O, W, re; if (this._monthsParseExact) return UY.call(this, w, D, I); for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), O = 0; O < 12; O++) { if (W = v([2e3, O]), I && !this._longMonthsParse[O] && (this._longMonthsParse[O] = new RegExp("^" + this.months(W, "").replace(".", "") + "$", "i"), this._shortMonthsParse[O] = new RegExp("^" + this.monthsShort(W, "").replace(".", "") + "$", "i")), !I && !this._monthsParse[O] && (re = "^" + this.months(W, "") + "|^" + this.monthsShort(W, ""), this._monthsParse[O] = new RegExp(re.replace(".", ""), "i")), I && D === "MMMM" && this._longMonthsParse[O].test(w)) return O; if (I && D === "MMM" && this._shortMonthsParse[O].test(w)) return O; if (!I && this._monthsParse[O].test(w)) return O } } function Kk(w, D) { if (!w.isValid()) return w; if (typeof D == "string") { if (/^\d+$/.test(D)) D = Xt(D); else if (D = w.localeData().monthsParse(D), !c(D)) return w } var I = D, O = w.date(); return O = O < 29 ? O : Math.min(O, G1(w.year(), I)), w._isUTC ? w._d.setUTCMonth(I, O) : w._d.setMonth(I, O), w } function Qk(w) { return w != null ? (Kk(this, w), n.updateOffset(this, !0), this) : sd(this, "Month") } function GY() { return G1(this.year(), this.month()) } function jY(w) { return this._monthsParseExact ? (s(this, "_monthsRegex") || Jk.call(this), w ? this._monthsShortStrictRegex : this._monthsShortRegex) : (s(this, "_monthsShortRegex") || (this._monthsShortRegex = VY), this._monthsShortStrictRegex && w ? this._monthsShortStrictRegex : this._monthsShortRegex) } function ZY(w) { return this._monthsParseExact ? (s(this, "_monthsRegex") || Jk.call(this), w ? this._monthsStrictRegex : this._monthsRegex) : (s(this, "_monthsRegex") || (this._monthsRegex = zY), this._monthsStrictRegex && w ? this._monthsStrictRegex : this._monthsRegex) } function Jk() { function w(Rt, er) { return er.length - Rt.length } var D = [], I = [], O = [], W, re, ye, Ke; for (W = 0; W < 12; W++)re = v([2e3, W]), ye = jo(this.monthsShort(re, "")), Ke = jo(this.months(re, "")), D.push(ye), I.push(Ke), O.push(Ke), O.push(ye); D.sort(w), I.sort(w), O.sort(w), this._monthsRegex = new RegExp("^(" + O.join("|") + ")", "i"), this._monthsShortRegex = this._monthsRegex, this._monthsStrictRegex = new RegExp("^(" + I.join("|") + ")", "i"), this._monthsShortStrictRegex = new RegExp("^(" + D.join("|") + ")", "i") } function qY(w, D, I, O, W, re, ye) { var Ke; return w < 100 && w >= 0 ? (Ke = new Date(w + 400, D, I, O, W, re, ye), isFinite(Ke.getFullYear()) && Ke.setFullYear(w)) : Ke = new Date(w, D, I, O, W, re, ye), Ke } function ld(w) { var D, I; return w < 100 && w >= 0 ? (I = Array.prototype.slice.call(arguments), I[0] = w + 400, D = new Date(Date.UTC.apply(null, I)), isFinite(D.getUTCFullYear()) && D.setUTCFullYear(w)) : D = new Date(Date.UTC.apply(null, arguments)), D } function Dg(w, D, I) { var O = 7 + D - I, W = (7 + ld(w, 0, O).getUTCDay() - D) % 7; return -W + O - 1 } function eA(w, D, I, O, W) { var re = (7 + I - O) % 7, ye = Dg(w, O, W), Ke = 1 + 7 * (D - 1) + re + ye, Rt, er; return Ke <= 0 ? (Rt = w - 1, er = od(Rt) + Ke) : Ke > od(w) ? (Rt = w + 1, er = Ke - od(w)) : (Rt = w, er = Ke), { year: Rt, dayOfYear: er } } function ud(w, D, I) { var O = Dg(w.year(), D, I), W = Math.floor((w.dayOfYear() - O - 1) / 7) + 1, re, ye; return W < 1 ? (ye = w.year() - 1, re = W + Xo(ye, D, I)) : W > Xo(w.year(), D, I) ? (re = W - Xo(w.year(), D, I), ye = w.year() + 1) : (ye = w.year(), re = W), { week: re, year: ye } } function Xo(w, D, I) { var O = Dg(w, D, I), W = Dg(w + 1, D, I); return (od(w) - O + W) / 7 } B("w", ["ww", 2], "wo", "week"), B("W", ["WW", 2], "Wo", "isoWeek"), Ge("w", ge, $a), Ge("ww", ge, vt), Ge("W", ge, $a), Ge("WW", ge, vt), id(["w", "ww", "W", "WW"], function (w, D, I, O) { D[O.substr(0, 1)] = Xt(w) }); function XY(w) { return ud(w, this._week.dow, this._week.doy).week } var KY = { dow: 0, doy: 6 }; function QY() { return this._week.dow } function JY() { return this._week.doy } function eU(w) { var D = this.localeData().week(this); return w == null ? D : this.add((w - D) * 7, "d") } function tU(w) { var D = ud(this, 1, 4).week; return w == null ? D : this.add((w - D) * 7, "d") } B("d", 0, "do", "day"), B("dd", 0, 0, function (w) { return this.localeData().weekdaysMin(this, w) }), B("ddd", 0, 0, function (w) { return this.localeData().weekdaysShort(this, w) }), B("dddd", 0, 0, function (w) { return this.localeData().weekdays(this, w) }), B("e", 0, 0, "weekday"), B("E", 0, 0, "isoWeekday"), Ge("d", ge), Ge("e", ge), Ge("E", ge), Ge("dd", function (w, D) { return D.weekdaysMinRegex(w) }), Ge("ddd", function (w, D) { return D.weekdaysShortRegex(w) }), Ge("dddd", function (w, D) { return D.weekdaysRegex(w) }), id(["dd", "ddd", "dddd"], function (w, D, I, O) { var W = I._locale.weekdaysParse(w, O, I._strict); W != null ? D.d = W : g(I).invalidWeekday = w }), id(["d", "e", "E"], function (w, D, I, O) { D[O] = Xt(w) }); function rU(w, D) { return typeof w != "string" ? w : isNaN(w) ? (w = D.weekdaysParse(w), typeof w == "number" ? w : null) : parseInt(w, 10) } function nU(w, D) { return typeof w == "string" ? D.weekdaysParse(w) % 7 || 7 : isNaN(w) ? null : w } function j1(w, D) { return w.slice(D, 7).concat(w.slice(0, D)) } var aU = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), tA = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"), iU = "Su_Mo_Tu_We_Th_Fr_Sa".split("_"), oU = ft, sU = ft, lU = ft; function uU(w, D) { var I = i(this._weekdays) ? this._weekdays : this._weekdays[w && w !== !0 && this._weekdays.isFormat.test(D) ? "format" : "standalone"]; return w === !0 ? j1(I, this._week.dow) : w ? I[w.day()] : I } function cU(w) { return w === !0 ? j1(this._weekdaysShort, this._week.dow) : w ? this._weekdaysShort[w.day()] : this._weekdaysShort } function fU(w) { return w === !0 ? j1(this._weekdaysMin, this._week.dow) : w ? this._weekdaysMin[w.day()] : this._weekdaysMin } function hU(w, D, I) { var O, W, re, ye = w.toLocaleLowerCase(); if (!this._weekdaysParse) for (this._weekdaysParse = [], this._shortWeekdaysParse = [], this._minWeekdaysParse = [], O = 0; O < 7; ++O)re = v([2e3, 1]).day(O), this._minWeekdaysParse[O] = this.weekdaysMin(re, "").toLocaleLowerCase(), this._shortWeekdaysParse[O] = this.weekdaysShort(re, "").toLocaleLowerCase(), this._weekdaysParse[O] = this.weekdays(re, "").toLocaleLowerCase(); return I ? D === "dddd" ? (W = on.call(this._weekdaysParse, ye), W !== -1 ? W : null) : D === "ddd" ? (W = on.call(this._shortWeekdaysParse, ye), W !== -1 ? W : null) : (W = on.call(this._minWeekdaysParse, ye), W !== -1 ? W : null) : D === "dddd" ? (W = on.call(this._weekdaysParse, ye), W !== -1 || (W = on.call(this._shortWeekdaysParse, ye), W !== -1) ? W : (W = on.call(this._minWeekdaysParse, ye), W !== -1 ? W : null)) : D === "ddd" ? (W = on.call(this._shortWeekdaysParse, ye), W !== -1 || (W = on.call(this._weekdaysParse, ye), W !== -1) ? W : (W = on.call(this._minWeekdaysParse, ye), W !== -1 ? W : null)) : (W = on.call(this._minWeekdaysParse, ye), W !== -1 || (W = on.call(this._weekdaysParse, ye), W !== -1) ? W : (W = on.call(this._shortWeekdaysParse, ye), W !== -1 ? W : null)) } function dU(w, D, I) { var O, W, re; if (this._weekdaysParseExact) return hU.call(this, w, D, I); for (this._weekdaysParse || (this._weekdaysParse = [], this._minWeekdaysParse = [], this._shortWeekdaysParse = [], this._fullWeekdaysParse = []), O = 0; O < 7; O++) { if (W = v([2e3, 1]).day(O), I && !this._fullWeekdaysParse[O] && (this._fullWeekdaysParse[O] = new RegExp("^" + this.weekdays(W, "").replace(".", "\\.?") + "$", "i"), this._shortWeekdaysParse[O] = new RegExp("^" + this.weekdaysShort(W, "").replace(".", "\\.?") + "$", "i"), this._minWeekdaysParse[O] = new RegExp("^" + this.weekdaysMin(W, "").replace(".", "\\.?") + "$", "i")), this._weekdaysParse[O] || (re = "^" + this.weekdays(W, "") + "|^" + this.weekdaysShort(W, "") + "|^" + this.weekdaysMin(W, ""), this._weekdaysParse[O] = new RegExp(re.replace(".", ""), "i")), I && D === "dddd" && this._fullWeekdaysParse[O].test(w)) return O; if (I && D === "ddd" && this._shortWeekdaysParse[O].test(w)) return O; if (I && D === "dd" && this._minWeekdaysParse[O].test(w)) return O; if (!I && this._weekdaysParse[O].test(w)) return O } } function vU(w) { if (!this.isValid()) return w != null ? this : NaN; var D = sd(this, "Day"); return w != null ? (w = rU(w, this.localeData()), this.add(w - D, "d")) : D } function pU(w) { if (!this.isValid()) return w != null ? this : NaN; var D = (this.day() + 7 - this.localeData()._week.dow) % 7; return w == null ? D : this.add(w - D, "d") } function gU(w) { if (!this.isValid()) return w != null ? this : NaN; if (w != null) { var D = nU(w, this.localeData()); return this.day(this.day() % 7 ? D : D - 7) } else return this.day() || 7 } function mU(w) { return this._weekdaysParseExact ? (s(this, "_weekdaysRegex") || Z1.call(this), w ? this._weekdaysStrictRegex : this._weekdaysRegex) : (s(this, "_weekdaysRegex") || (this._weekdaysRegex = oU), this._weekdaysStrictRegex && w ? this._weekdaysStrictRegex : this._weekdaysRegex) } function yU(w) { return this._weekdaysParseExact ? (s(this, "_weekdaysRegex") || Z1.call(this), w ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) : (s(this, "_weekdaysShortRegex") || (this._weekdaysShortRegex = sU), this._weekdaysShortStrictRegex && w ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) } function _U(w) { return this._weekdaysParseExact ? (s(this, "_weekdaysRegex") || Z1.call(this), w ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) : (s(this, "_weekdaysMinRegex") || (this._weekdaysMinRegex = lU), this._weekdaysMinStrictRegex && w ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) } function Z1() { function w(ia, ts) { return ts.length - ia.length } var D = [], I = [], O = [], W = [], re, ye, Ke, Rt, er; for (re = 0; re < 7; re++)ye = v([2e3, 1]).day(re), Ke = jo(this.weekdaysMin(ye, "")), Rt = jo(this.weekdaysShort(ye, "")), er = jo(this.weekdays(ye, "")), D.push(Ke), I.push(Rt), O.push(er), W.push(Ke), W.push(Rt), W.push(er); D.sort(w), I.sort(w), O.sort(w), W.sort(w), this._weekdaysRegex = new RegExp("^(" + W.join("|") + ")", "i"), this._weekdaysShortRegex = this._weekdaysRegex, this._weekdaysMinRegex = this._weekdaysRegex, this._weekdaysStrictRegex = new RegExp("^(" + O.join("|") + ")", "i"), this._weekdaysShortStrictRegex = new RegExp("^(" + I.join("|") + ")", "i"), this._weekdaysMinStrictRegex = new RegExp("^(" + D.join("|") + ")", "i") } function q1() { return this.hours() % 12 || 12 } function bU() { return this.hours() || 24 } B("H", ["HH", 2], 0, "hour"), B("h", ["hh", 2], 0, q1), B("k", ["kk", 2], 0, bU), B("hmm", 0, 0, function () { return "" + q1.apply(this) + K(this.minutes(), 2) }), B("hmmss", 0, 0, function () { return "" + q1.apply(this) + K(this.minutes(), 2) + K(this.seconds(), 2) }), B("Hmm", 0, 0, function () { return "" + this.hours() + K(this.minutes(), 2) }), B("Hmmss", 0, 0, function () { return "" + this.hours() + K(this.minutes(), 2) + K(this.seconds(), 2) }); function rA(w, D) { B(w, 0, 0, function () { return this.localeData().meridiem(this.hours(), this.minutes(), D) }) } rA("a", !0), rA("A", !1); function nA(w, D) { return D._meridiemParse } Ge("a", nA), Ge("A", nA), Ge("H", ge, Ht), Ge("h", ge, $a), Ge("k", ge, $a), Ge("HH", ge, vt), Ge("hh", ge, vt), Ge("kk", ge, vt), Ge("hmm", nt), Ge("hmmss", ct), Ge("Hmm", nt), Ge("Hmmss", ct), Lr(["H", "HH"], xn), Lr(["k", "kk"], function (w, D, I) { var O = Xt(w); D[xn] = O === 24 ? 0 : O }), Lr(["a", "A"], function (w, D, I) { I._isPm = I._locale.isPM(w), I._meridiem = w }), Lr(["h", "hh"], function (w, D, I) { D[xn] = Xt(w), g(I).bigHour = !0 }), Lr("hmm", function (w, D, I) { var O = w.length - 2; D[xn] = Xt(w.substr(0, O)), D[Ci] = Xt(w.substr(O)), g(I).bigHour = !0 }), Lr("hmmss", function (w, D, I) { var O = w.length - 4, W = w.length - 2; D[xn] = Xt(w.substr(0, O)), D[Ci] = Xt(w.substr(O, 2)), D[qo] = Xt(w.substr(W)), g(I).bigHour = !0 }), Lr("Hmm", function (w, D, I) { var O = w.length - 2; D[xn] = Xt(w.substr(0, O)), D[Ci] = Xt(w.substr(O)) }), Lr("Hmmss", function (w, D, I) { var O = w.length - 4, W = w.length - 2; D[xn] = Xt(w.substr(0, O)), D[Ci] = Xt(w.substr(O, 2)), D[qo] = Xt(w.substr(W)) }); function wU(w) { return (w + "").toLowerCase().charAt(0) === "p" } var SU = /[ap]\.?m?\.?/i, xU = sf("Hours", !0); function TU(w, D, I) { return w > 11 ? I ? "pm" : "PM" : I ? "am" : "AM" } var aA = { calendar: H, longDateFormat: pe, invalidDate: G, ordinal: J, dayOfMonthOrdinalParse: le, relativeTime: we, months: BY, monthsShort: qk, week: KY, weekdays: aU, weekdaysMin: iU, weekdaysShort: tA, meridiemParse: SU }, Gr = {}, cd = {}, fd; function DU(w, D) { var I, O = Math.min(w.length, D.length); for (I = 0; I < O; I += 1)if (w[I] !== D[I]) return I; return O } function iA(w) { return w && w.toLowerCase().replace("_", "-") } function CU(w) { for (var D = 0, I, O, W, re; D < w.length;) { for (re = iA(w[D]).split("-"), I = re.length, O = iA(w[D + 1]), O = O ? O.split("-") : null; I > 0;) { if (W = Cg(re.slice(0, I).join("-")), W) return W; if (O && O.length >= I && DU(re, O) >= I - 1) break; I-- } D++ } return fd } function MU(w) { return !!(w && w.match("^[^/\\\\]*$")) } function Cg(w) { var D = null, I; if (Gr[w] === void 0 && t && t.exports && MU(w)) try { D = fd._abbr, I = _Ne, I("./locale/" + w), Gs(D) } catch { Gr[w] = null } return Gr[w] } function Gs(w, D) { var I; return w && (u(D) ? I = Ko(w) : I = X1(w, D), I ? fd = I : typeof console < "u" && console.warn && console.warn("Locale " + w + " not found. Did you forget to load it?")), fd._abbr } function X1(w, D) { if (D !== null) { var I, O = aA; if (D.abbr = w, Gr[w] != null) R("defineLocaleOverride", "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."), O = Gr[w]._config; else if (D.parentLocale != null) if (Gr[D.parentLocale] != null) O = Gr[D.parentLocale]._config; else if (I = Cg(D.parentLocale), I != null) O = I._config; else return cd[D.parentLocale] || (cd[D.parentLocale] = []), cd[D.parentLocale].push({ name: w, config: D }), null; return Gr[w] = new V(F(O, D)), cd[w] && cd[w].forEach(function (W) { X1(W.name, W.config) }), Gs(w), Gr[w] } else return delete Gr[w], null } function kU(w, D) { if (D != null) { var I, O, W = aA; Gr[w] != null && Gr[w].parentLocale != null ? Gr[w].set(F(Gr[w]._config, D)) : (O = Cg(w), O != null && (W = O._config), D = F(W, D), O == null && (D.abbr = w), I = new V(D), I.parentLocale = Gr[w], Gr[w] = I), Gs(w) } else Gr[w] != null && (Gr[w].parentLocale != null ? (Gr[w] = Gr[w].parentLocale, w === Gs() && Gs(w)) : Gr[w] != null && delete Gr[w]); return Gr[w] } function Ko(w) { var D; if (w && w._locale && w._locale._abbr && (w = w._locale._abbr), !w) return fd; if (!i(w)) { if (D = Cg(w), D) return D; w = [w] } return CU(w) } function AU() { return L(Gr) } function K1(w) { var D, I = w._a; return I && g(w).overflow === -2 && (D = I[Zo] < 0 || I[Zo] > 11 ? Zo : I[to] < 1 || I[to] > G1(I[jn], I[Zo]) ? to : I[xn] < 0 || I[xn] > 24 || I[xn] === 24 && (I[Ci] !== 0 || I[qo] !== 0 || I[fu] !== 0) ? xn : I[Ci] < 0 || I[Ci] > 59 ? Ci : I[qo] < 0 || I[qo] > 59 ? qo : I[fu] < 0 || I[fu] > 999 ? fu : -1, g(w)._overflowDayOfYear && (D < jn || D > to) && (D = to), g(w)._overflowWeeks && D === -1 && (D = RY), g(w)._overflowWeekday && D === -1 && (D = OY), g(w).overflow = D), w } var LU = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/, IU = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/, PU = /Z|[+-]\d\d(?::?\d\d)?/, Mg = [["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/], ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/], ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/], ["GGGG-[W]WW", /\d{4}-W\d\d/, !1], ["YYYY-DDD", /\d{4}-\d{3}/], ["YYYY-MM", /\d{4}-\d\d/, !1], ["YYYYYYMMDD", /[+-]\d{10}/], ["YYYYMMDD", /\d{8}/], ["GGGG[W]WWE", /\d{4}W\d{3}/], ["GGGG[W]WW", /\d{4}W\d{2}/, !1], ["YYYYDDD", /\d{7}/], ["YYYYMM", /\d{6}/, !1], ["YYYY", /\d{4}/, !1]], Q1 = [["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/], ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/], ["HH:mm:ss", /\d\d:\d\d:\d\d/], ["HH:mm", /\d\d:\d\d/], ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/], ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/], ["HHmmss", /\d\d\d\d\d\d/], ["HHmm", /\d\d\d\d/], ["HH", /\d\d/]], RU = /^\/?Date\((-?\d+)/i, OU = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/, EU = { UT: 0, GMT: 0, EDT: -4 * 60, EST: -5 * 60, CDT: -5 * 60, CST: -6 * 60, MDT: -6 * 60, MST: -7 * 60, PDT: -7 * 60, PST: -8 * 60 }; function oA(w) { var D, I, O = w._i, W = LU.exec(O) || IU.exec(O), re, ye, Ke, Rt, er = Mg.length, ia = Q1.length; if (W) { for (g(w).iso = !0, D = 0, I = er; D < I; D++)if (Mg[D][1].exec(W[1])) { ye = Mg[D][0], re = Mg[D][2] !== !1; break } if (ye == null) { w._isValid = !1; return } if (W[3]) { for (D = 0, I = ia; D < I; D++)if (Q1[D][1].exec(W[3])) { Ke = (W[2] || " ") + Q1[D][0]; break } if (Ke == null) { w._isValid = !1; return } } if (!re && Ke != null) { w._isValid = !1; return } if (W[4]) if (PU.exec(W[4])) Rt = "Z"; else { w._isValid = !1; return } w._f = ye + (Ke || "") + (Rt || ""), eb(w) } else w._isValid = !1 } function NU(w, D, I, O, W, re) { var ye = [$U(w), qk.indexOf(D), parseInt(I, 10), parseInt(O, 10), parseInt(W, 10)]; return re && ye.push(parseInt(re, 10)), ye } function $U(w) { var D = parseInt(w, 10); return D <= 49 ? 2e3 + D : D <= 999 ? 1900 + D : D } function FU(w) { return w.replace(/\([^()]*\)|[\n\t]/g, " ").replace(/(\s\s+)/g, " ").replace(/^\s\s*/, "").replace(/\s\s*$/, "") } function BU(w, D, I) { if (w) { var O = tA.indexOf(w), W = new Date(D[0], D[1], D[2]).getDay(); if (O !== W) return g(I).weekdayMismatch = !0, I._isValid = !1, !1 } return !0 } function VU(w, D, I) { if (w) return EU[w]; if (D) return 0; var O = parseInt(I, 10), W = O % 100, re = (O - W) / 100; return re * 60 + W } function sA(w) { var D = OU.exec(FU(w._i)), I; if (D) { if (I = NU(D[4], D[3], D[2], D[5], D[6], D[7]), !BU(D[1], I, w)) return; w._a = I, w._tzm = VU(D[8], D[9], D[10]), w._d = ld.apply(null, w._a), w._d.setUTCMinutes(w._d.getUTCMinutes() - w._tzm), g(w).rfc2822 = !0 } else w._isValid = !1 } function zU(w) { var D = RU.exec(w._i); if (D !== null) { w._d = new Date(+D[1]); return } if (oA(w), w._isValid === !1) delete w._isValid; else return; if (sA(w), w._isValid === !1) delete w._isValid; else return; w._strict ? w._isValid = !1 : n.createFromInputFallback(w) } n.createFromInputFallback = k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.", function (w) { w._d = new Date(w._i + (w._useUTC ? " UTC" : "")) }); function lf(w, D, I) { return w ?? D ?? I } function HU(w) { var D = new Date(n.now()); return w._useUTC ? [D.getUTCFullYear(), D.getUTCMonth(), D.getUTCDate()] : [D.getFullYear(), D.getMonth(), D.getDate()] } function J1(w) { var D, I, O = [], W, re, ye; if (!w._d) { for (W = HU(w), w._w && w._a[to] == null && w._a[Zo] == null && YU(w), w._dayOfYear != null && (ye = lf(w._a[jn], W[jn]), (w._dayOfYear > od(ye) || w._dayOfYear === 0) && (g(w)._overflowDayOfYear = !0), I = ld(ye, 0, w._dayOfYear), w._a[Zo] = I.getUTCMonth(), w._a[to] = I.getUTCDate()), D = 0; D < 3 && w._a[D] == null; ++D)w._a[D] = O[D] = W[D]; for (; D < 7; D++)w._a[D] = O[D] = w._a[D] == null ? D === 2 ? 1 : 0 : w._a[D]; w._a[xn] === 24 && w._a[Ci] === 0 && w._a[qo] === 0 && w._a[fu] === 0 && (w._nextDay = !0, w._a[xn] = 0), w._d = (w._useUTC ? ld : qY).apply(null, O), re = w._useUTC ? w._d.getUTCDay() : w._d.getDay(), w._tzm != null && w._d.setUTCMinutes(w._d.getUTCMinutes() - w._tzm), w._nextDay && (w._a[xn] = 24), w._w && typeof w._w.d < "u" && w._w.d !== re && (g(w).weekdayMismatch = !0) } } function YU(w) { var D, I, O, W, re, ye, Ke, Rt, er; D = w._w, D.GG != null || D.W != null || D.E != null ? (re = 1, ye = 4, I = lf(D.GG, w._a[jn], ud(Fr(), 1, 4).year), O = lf(D.W, 1), W = lf(D.E, 1), (W < 1 || W > 7) && (Rt = !0)) : (re = w._locale._week.dow, ye = w._locale._week.doy, er = ud(Fr(), re, ye), I = lf(D.gg, w._a[jn], er.year), O = lf(D.w, er.week), D.d != null ? (W = D.d, (W < 0 || W > 6) && (Rt = !0)) : D.e != null ? (W = D.e + re, (D.e < 0 || D.e > 6) && (Rt = !0)) : W = re), O < 1 || O > Xo(I, re, ye) ? g(w)._overflowWeeks = !0 : Rt != null ? g(w)._overflowWeekday = !0 : (Ke = eA(I, O, W, re, ye), w._a[jn] = Ke.year, w._dayOfYear = Ke.dayOfYear) } n.ISO_8601 = function () { }, n.RFC_2822 = function () { }; function eb(w) { if (w._f === n.ISO_8601) { oA(w); return } if (w._f === n.RFC_2822) { sA(w); return } w._a = [], g(w).empty = !0; var D = "" + w._i, I, O, W, re, ye, Ke = D.length, Rt = 0, er, ia; for (W = ue(w._f, w._locale).match(te) || [], ia = W.length, I = 0; I < ia; I++)re = W[I], O = (D.match(LY(re, w)) || [])[0], O && (ye = D.substr(0, D.indexOf(O)), ye.length > 0 && g(w).unusedInput.push(ye), D = D.slice(D.indexOf(O) + O.length), Rt += O.length), U[re] ? (O ? g(w).empty = !1 : g(w).unusedTokens.push(re), PY(re, O, w)) : w._strict && !O && g(w).unusedTokens.push(re); g(w).charsLeftOver = Ke - Rt, D.length > 0 && g(w).unusedInput.push(D), w._a[xn] <= 12 && g(w).bigHour === !0 && w._a[xn] > 0 && (g(w).bigHour = void 0), g(w).parsedDateParts = w._a.slice(0), g(w).meridiem = w._meridiem, w._a[xn] = UU(w._locale, w._a[xn], w._meridiem), er = g(w).era, er !== null && (w._a[jn] = w._locale.erasConvertYear(er, w._a[jn])), J1(w), K1(w) } function UU(w, D, I) { var O; return I == null ? D : w.meridiemHour != null ? w.meridiemHour(D, I) : (w.isPM != null && (O = w.isPM(I), O && D < 12 && (D += 12), !O && D === 12 && (D = 0)), D) } function WU(w) { var D, I, O, W, re, ye, Ke = !1, Rt = w._f.length; if (Rt === 0) { g(w).invalidFormat = !0, w._d = new Date(NaN); return } for (W = 0; W < Rt; W++)re = 0, ye = !1, D = S({}, w), w._useUTC != null && (D._useUTC = w._useUTC), D._f = w._f[W], eb(D), y(D) && (ye = !0), re += g(D).charsLeftOver, re += g(D).unusedTokens.length * 10, g(D).score = re, Ke ? re < O && (O = re, I = D) : (O == null || re < O || ye) && (O = re, I = D, ye && (Ke = !0)); d(w, I || D) } function GU(w) { if (!w._d) { var D = Ye(w._i), I = D.day === void 0 ? D.date : D.day; w._a = h([D.year, D.month, I, D.hour, D.minute, D.second, D.millisecond], function (O) { return O && parseInt(O, 10) }), J1(w) } } function jU(w) { var D = new T(K1(lA(w))); return D._nextDay && (D.add(1, "d"), D._nextDay = void 0), D } function lA(w) { var D = w._i, I = w._f; return w._locale = w._locale || Ko(w._l), D === null || I === void 0 && D === "" ? _({ nullInput: !0 }) : (typeof D == "string" && (w._i = D = w._locale.preparse(D)), C(D) ? new T(K1(D)) : (f(D) ? w._d = D : i(I) ? WU(w) : I ? eb(w) : ZU(w), y(w) || (w._d = null), w)) } function ZU(w) { var D = w._i; u(D) ? w._d = new Date(n.now()) : f(D) ? w._d = new Date(D.valueOf()) : typeof D == "string" ? zU(w) : i(D) ? (w._a = h(D.slice(0), function (I) { return parseInt(I, 10) }), J1(w)) : o(D) ? GU(w) : c(D) ? w._d = new Date(D) : n.createFromInputFallback(w) } function uA(w, D, I, O, W) { var re = {}; return (D === !0 || D === !1) && (O = D, D = void 0), (I === !0 || I === !1) && (O = I, I = void 0), (o(w) && l(w) || i(w) && w.length === 0) && (w = void 0), re._isAMomentObject = !0, re._useUTC = re._isUTC = W, re._l = I, re._i = w, re._f = D, re._strict = O, jU(re) } function Fr(w, D, I, O) { return uA(w, D, I, O, !1) } var qU = k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/", function () { var w = Fr.apply(null, arguments); return this.isValid() && w.isValid() ? w < this ? this : w : _() }), XU = k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/", function () { var w = Fr.apply(null, arguments); return this.isValid() && w.isValid() ? w > this ? this : w : _() }); function cA(w, D) { var I, O; if (D.length === 1 && i(D[0]) && (D = D[0]), !D.length) return Fr(); for (I = D[0], O = 1; O < D.length; ++O)(!D[O].isValid() || D[O][w](I)) && (I = D[O]); return I } function KU() { var w = [].slice.call(arguments, 0); return cA("isBefore", w) } function QU() { var w = [].slice.call(arguments, 0); return cA("isAfter", w) } var JU = function () { return Date.now ? Date.now() : +new Date }, hd = ["year", "quarter", "month", "week", "day", "hour", "minute", "second", "millisecond"]; function eW(w) { var D, I = !1, O, W = hd.length; for (D in w) if (s(w, D) && !(on.call(hd, D) !== -1 && (w[D] == null || !isNaN(w[D])))) return !1; for (O = 0; O < W; ++O)if (w[hd[O]]) { if (I) return !1; parseFloat(w[hd[O]]) !== Xt(w[hd[O]]) && (I = !0) } return !0 } function tW() { return this._isValid } function rW() { return Mi(NaN) } function kg(w) { var D = Ye(w), I = D.year || 0, O = D.quarter || 0, W = D.month || 0, re = D.week || D.isoWeek || 0, ye = D.day || 0, Ke = D.hour || 0, Rt = D.minute || 0, er = D.second || 0, ia = D.millisecond || 0; this._isValid = eW(D), this._milliseconds = +ia + er * 1e3 + Rt * 6e4 + Ke * 1e3 * 60 * 60, this._days = +ye + re * 7, this._months = +W + O * 3 + I * 12, this._data = {}, this._locale = Ko(), this._bubble() } function Ag(w) { return w instanceof kg } function tb(w) { return w < 0 ? Math.round(-1 * w) * -1 : Math.round(w) } function nW(w, D, I) { var O = Math.min(w.length, D.length), W = Math.abs(w.length - D.length), re = 0, ye; for (ye = 0; ye < O; ye++)(I && w[ye] !== D[ye] || !I && Xt(w[ye]) !== Xt(D[ye])) && re++; return re + W } function fA(w, D) { B(w, 0, 0, function () { var I = this.utcOffset(), O = "+"; return I < 0 && (I = -I, O = "-"), O + K(~~(I / 60), 2) + D + K(~~I % 60, 2) }) } fA("Z", ":"), fA("ZZ", ""), Ge("Z", Sn), Ge("ZZ", Sn), Lr(["Z", "ZZ"], function (w, D, I) { I._useUTC = !0, I._tzm = rb(Sn, w) }); var aW = /([\+\-]|\d\d)/gi; function rb(w, D) { var I = (D || "").match(w), O, W, re; return I === null ? null : (O = I[I.length - 1] || [], W = (O + "").match(aW) || ["-", 0, 0], re = +(W[1] * 60) + Xt(W[2]), re === 0 ? 0 : W[0] === "+" ? re : -re) } function nb(w, D) { var I, O; return D._isUTC ? (I = D.clone(), O = (C(w) || f(w) ? w.valueOf() : Fr(w).valueOf()) - I.valueOf(), I._d.setTime(I._d.valueOf() + O), n.updateOffset(I, !1), I) : Fr(w).local() } function ab(w) { return -Math.round(w._d.getTimezoneOffset()) } n.updateOffset = function () { }; function iW(w, D, I) { var O = this._offset || 0, W; if (!this.isValid()) return w != null ? this : NaN; if (w != null) { if (typeof w == "string") { if (w = rb(Sn, w), w === null) return this } else Math.abs(w) < 16 && !I && (w = w * 60); return !this._isUTC && D && (W = ab(this)), this._offset = w, this._isUTC = !0, W != null && this.add(W, "m"), O !== w && (!D || this._changeInProgress ? pA(this, Mi(w - O, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, n.updateOffset(this, !0), this._changeInProgress = null)), this } else return this._isUTC ? O : ab(this) } function oW(w, D) { return w != null ? (typeof w != "string" && (w = -w), this.utcOffset(w, D), this) : -this.utcOffset() } function sW(w) { return this.utcOffset(0, w) } function lW(w) { return this._isUTC && (this.utcOffset(0, w), this._isUTC = !1, w && this.subtract(ab(this), "m")), this } function uW() { if (this._tzm != null) this.utcOffset(this._tzm, !1, !0); else if (typeof this._i == "string") { var w = rb(Bn, this._i); w != null ? this.utcOffset(w) : this.utcOffset(0, !0) } return this } function cW(w) { return this.isValid() ? (w = w ? Fr(w).utcOffset() : 0, (this.utcOffset() - w) % 60 === 0) : !1 } function fW() { return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset() } function hW() { if (!u(this._isDSTShifted)) return this._isDSTShifted; var w = {}, D; return S(w, this), w = lA(w), w._a ? (D = w._isUTC ? v(w._a) : Fr(w._a), this._isDSTShifted = this.isValid() && nW(w._a, D.toArray()) > 0) : this._isDSTShifted = !1, this._isDSTShifted } function dW() { return this.isValid() ? !this._isUTC : !1 } function vW() { return this.isValid() ? this._isUTC : !1 } function hA() { return this.isValid() ? this._isUTC && this._offset === 0 : !1 } var pW = /^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/, gW = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/; function Mi(w, D) { var I = w, O = null, W, re, ye; return Ag(w) ? I = { ms: w._milliseconds, d: w._days, M: w._months } : c(w) || !isNaN(+w) ? (I = {}, D ? I[D] = +w : I.milliseconds = +w) : (O = pW.exec(w)) ? (W = O[1] === "-" ? -1 : 1, I = { y: 0, d: Xt(O[to]) * W, h: Xt(O[xn]) * W, m: Xt(O[Ci]) * W, s: Xt(O[qo]) * W, ms: Xt(tb(O[fu] * 1e3)) * W }) : (O = gW.exec(w)) ? (W = O[1] === "-" ? -1 : 1, I = { y: hu(O[2], W), M: hu(O[3], W), w: hu(O[4], W), d: hu(O[5], W), h: hu(O[6], W), m: hu(O[7], W), s: hu(O[8], W) }) : I == null ? I = {} : typeof I == "object" && ("from" in I || "to" in I) && (ye = mW(Fr(I.from), Fr(I.to)), I = {}, I.ms = ye.milliseconds, I.M = ye.months), re = new kg(I), Ag(w) && s(w, "_locale") && (re._locale = w._locale), Ag(w) && s(w, "_isValid") && (re._isValid = w._isValid), re } Mi.fn = kg.prototype, Mi.invalid = rW; function hu(w, D) { var I = w && parseFloat(w.replace(",", ".")); return (isNaN(I) ? 0 : I) * D } function dA(w, D) { var I = {}; return I.months = D.month() - w.month() + (D.year() - w.year()) * 12, w.clone().add(I.months, "M").isAfter(D) && --I.months, I.milliseconds = +D - +w.clone().add(I.months, "M"), I } function mW(w, D) { var I; return w.isValid() && D.isValid() ? (D = nb(D, w), w.isBefore(D) ? I = dA(w, D) : (I = dA(D, w), I.milliseconds = -I.milliseconds, I.months = -I.months), I) : { milliseconds: 0, months: 0 } } function vA(w, D) { return function (I, O) { var W, re; return O !== null && !isNaN(+O) && (R(D, "moment()." + D + "(period, number) is deprecated. Please use moment()." + D + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."), re = I, I = O, O = re), W = Mi(I, O), pA(this, W, w), this } } function pA(w, D, I, O) { var W = D._milliseconds, re = tb(D._days), ye = tb(D._months); w.isValid() && (O = O ?? !0, ye && Kk(w, sd(w, "Month") + ye * I), re && Zk(w, "Date", sd(w, "Date") + re * I), W && w._d.setTime(w._d.valueOf() + W * I), O && n.updateOffset(w, re || ye)) } var yW = vA(1, "add"), _W = vA(-1, "subtract"); function gA(w) { return typeof w == "string" || w instanceof String } function bW(w) { return C(w) || f(w) || gA(w) || c(w) || SW(w) || wW(w) || w === null || w === void 0 } function wW(w) { var D = o(w) && !l(w), I = !1, O = ["years", "year", "y", "months", "month", "M", "days", "day", "d", "dates", "date", "D", "hours", "hour", "h", "minutes", "minute", "m", "seconds", "second", "s", "milliseconds", "millisecond", "ms"], W, re, ye = O.length; for (W = 0; W < ye; W += 1)re = O[W], I = I || s(w, re); return D && I } function SW(w) { var D = i(w), I = !1; return D && (I = w.filter(function (O) { return !c(O) && gA(w) }).length === 0), D && I } function xW(w) { var D = o(w) && !l(w), I = !1, O = ["sameDay", "nextDay", "lastDay", "nextWeek", "lastWeek", "sameElse"], W, re; for (W = 0; W < O.length; W += 1)re = O[W], I = I || s(w, re); return D && I } function TW(w, D) { var I = w.diff(D, "days", !0); return I < -6 ? "sameElse" : I < -1 ? "lastWeek" : I < 0 ? "lastDay" : I < 1 ? "sameDay" : I < 2 ? "nextDay" : I < 7 ? "nextWeek" : "sameElse" } function DW(w, D) { arguments.length === 1 && (arguments[0] ? bW(arguments[0]) ? (w = arguments[0], D = void 0) : xW(arguments[0]) && (D = arguments[0], w = void 0) : (w = void 0, D = void 0)); var I = w || Fr(), O = nb(I, this).startOf("day"), W = n.calendarFormat(this, O) || "sameElse", re = D && (N(D[W]) ? D[W].call(this, I) : D[W]); return this.format(re || this.localeData().calendar(W, this, Fr(I))) } function CW() { return new T(this) } function MW(w, D) { var I = C(w) ? w : Fr(w); return this.isValid() && I.isValid() ? (D = xe(D) || "millisecond", D === "millisecond" ? this.valueOf() > I.valueOf() : I.valueOf() < this.clone().startOf(D).valueOf()) : !1 } function kW(w, D) { var I = C(w) ? w : Fr(w); return this.isValid() && I.isValid() ? (D = xe(D) || "millisecond", D === "millisecond" ? this.valueOf() < I.valueOf() : this.clone().endOf(D).valueOf() < I.valueOf()) : !1 } function AW(w, D, I, O) { var W = C(w) ? w : Fr(w), re = C(D) ? D : Fr(D); return this.isValid() && W.isValid() && re.isValid() ? (O = O || "()", (O[0] === "(" ? this.isAfter(W, I) : !this.isBefore(W, I)) && (O[1] === ")" ? this.isBefore(re, I) : !this.isAfter(re, I))) : !1 } function LW(w, D) { var I = C(w) ? w : Fr(w), O; return this.isValid() && I.isValid() ? (D = xe(D) || "millisecond", D === "millisecond" ? this.valueOf() === I.valueOf() : (O = I.valueOf(), this.clone().startOf(D).valueOf() <= O && O <= this.clone().endOf(D).valueOf())) : !1 } function IW(w, D) { return this.isSame(w, D) || this.isAfter(w, D) } function PW(w, D) { return this.isSame(w, D) || this.isBefore(w, D) } function RW(w, D, I) { var O, W, re; if (!this.isValid()) return NaN; if (O = nb(w, this), !O.isValid()) return NaN; switch (W = (O.utcOffset() - this.utcOffset()) * 6e4, D = xe(D), D) { case "year": re = Lg(this, O) / 12; break; case "month": re = Lg(this, O); break; case "quarter": re = Lg(this, O) / 3; break; case "second": re = (this - O) / 1e3; break; case "minute": re = (this - O) / 6e4; break; case "hour": re = (this - O) / 36e5; break; case "day": re = (this - O - W) / 864e5; break; case "week": re = (this - O - W) / 6048e5; break; default: re = this - O }return I ? re : Za(re) } function Lg(w, D) { if (w.date() < D.date()) return -Lg(D, w); var I = (D.year() - w.year()) * 12 + (D.month() - w.month()), O = w.clone().add(I, "months"), W, re; return D - O < 0 ? (W = w.clone().add(I - 1, "months"), re = (D - O) / (O - W)) : (W = w.clone().add(I + 1, "months"), re = (D - O) / (W - O)), -(I + re) || 0 } n.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ", n.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]"; function OW() { return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ") } function EW(w) { if (!this.isValid()) return null; var D = w !== !0, I = D ? this.clone().utc() : this; return I.year() < 0 || I.year() > 9999 ? se(I, D ? "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYYYY-MM-DD[T]HH:mm:ss.SSSZ") : N(Date.prototype.toISOString) ? D ? this.toDate().toISOString() : new Date(this.valueOf() + this.utcOffset() * 60 * 1e3).toISOString().replace("Z", se(I, "Z")) : se(I, D ? "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYY-MM-DD[T]HH:mm:ss.SSSZ") } function NW() { if (!this.isValid()) return "moment.invalid(/* " + this._i + " */)"; var w = "moment", D = "", I, O, W, re; return this.isLocal() || (w = this.utcOffset() === 0 ? "moment.utc" : "moment.parseZone", D = "Z"), I = "[" + w + '("]', O = 0 <= this.year() && this.year() <= 9999 ? "YYYY" : "YYYYYY", W = "-MM-DD[T]HH:mm:ss.SSS", re = D + '[")]', this.format(I + O + W + re) } function $W(w) { w || (w = this.isUtc() ? n.defaultFormatUtc : n.defaultFormat); var D = se(this, w); return this.localeData().postformat(D) } function FW(w, D) { return this.isValid() && (C(w) && w.isValid() || Fr(w).isValid()) ? Mi({ to: this, from: w }).locale(this.locale()).humanize(!D) : this.localeData().invalidDate() } function BW(w) { return this.from(Fr(), w) } function VW(w, D) { return this.isValid() && (C(w) && w.isValid() || Fr(w).isValid()) ? Mi({ from: this, to: w }).locale(this.locale()).humanize(!D) : this.localeData().invalidDate() } function zW(w) { return this.to(Fr(), w) } function mA(w) { var D; return w === void 0 ? this._locale._abbr : (D = Ko(w), D != null && (this._locale = D), this) } var yA = k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function (w) { return w === void 0 ? this.localeData() : this.locale(w) }); function _A() { return this._locale } var Ig = 1e3, uf = 60 * Ig, Pg = 60 * uf, bA = (365 * 400 + 97) * 24 * Pg; function cf(w, D) { return (w % D + D) % D } function wA(w, D, I) { return w < 100 && w >= 0 ? new Date(w + 400, D, I) - bA : new Date(w, D, I).valueOf() } function SA(w, D, I) { return w < 100 && w >= 0 ? Date.UTC(w + 400, D, I) - bA : Date.UTC(w, D, I) } function HW(w) { var D, I; if (w = xe(w), w === void 0 || w === "millisecond" || !this.isValid()) return this; switch (I = this._isUTC ? SA : wA, w) { case "year": D = I(this.year(), 0, 1); break; case "quarter": D = I(this.year(), this.month() - this.month() % 3, 1); break; case "month": D = I(this.year(), this.month(), 1); break; case "week": D = I(this.year(), this.month(), this.date() - this.weekday()); break; case "isoWeek": D = I(this.year(), this.month(), this.date() - (this.isoWeekday() - 1)); break; case "day": case "date": D = I(this.year(), this.month(), this.date()); break; case "hour": D = this._d.valueOf(), D -= cf(D + (this._isUTC ? 0 : this.utcOffset() * uf), Pg); break; case "minute": D = this._d.valueOf(), D -= cf(D, uf); break; case "second": D = this._d.valueOf(), D -= cf(D, Ig); break }return this._d.setTime(D), n.updateOffset(this, !0), this } function YW(w) { var D, I; if (w = xe(w), w === void 0 || w === "millisecond" || !this.isValid()) return this; switch (I = this._isUTC ? SA : wA, w) { case "year": D = I(this.year() + 1, 0, 1) - 1; break; case "quarter": D = I(this.year(), this.month() - this.month() % 3 + 3, 1) - 1; break; case "month": D = I(this.year(), this.month() + 1, 1) - 1; break; case "week": D = I(this.year(), this.month(), this.date() - this.weekday() + 7) - 1; break; case "isoWeek": D = I(this.year(), this.month(), this.date() - (this.isoWeekday() - 1) + 7) - 1; break; case "day": case "date": D = I(this.year(), this.month(), this.date() + 1) - 1; break; case "hour": D = this._d.valueOf(), D += Pg - cf(D + (this._isUTC ? 0 : this.utcOffset() * uf), Pg) - 1; break; case "minute": D = this._d.valueOf(), D += uf - cf(D, uf) - 1; break; case "second": D = this._d.valueOf(), D += Ig - cf(D, Ig) - 1; break }return this._d.setTime(D), n.updateOffset(this, !0), this } function UW() { return this._d.valueOf() - (this._offset || 0) * 6e4 } function WW() { return Math.floor(this.valueOf() / 1e3) } function GW() { return new Date(this.valueOf()) } function jW() { var w = this; return [w.year(), w.month(), w.date(), w.hour(), w.minute(), w.second(), w.millisecond()] } function ZW() { var w = this; return { years: w.year(), months: w.month(), date: w.date(), hours: w.hours(), minutes: w.minutes(), seconds: w.seconds(), milliseconds: w.milliseconds() } } function qW() { return this.isValid() ? this.toISOString() : null } function XW() { return y(this) } function KW() { return d({}, g(this)) } function QW() { return g(this).overflow } function JW() { return { input: this._i, format: this._f, locale: this._locale, isUTC: this._isUTC, strict: this._strict } } B("N", 0, 0, "eraAbbr"), B("NN", 0, 0, "eraAbbr"), B("NNN", 0, 0, "eraAbbr"), B("NNNN", 0, 0, "eraName"), B("NNNNN", 0, 0, "eraNarrow"), B("y", ["y", 1], "yo", "eraYear"), B("y", ["yy", 2], 0, "eraYear"), B("y", ["yyy", 3], 0, "eraYear"), B("y", ["yyyy", 4], 0, "eraYear"), Ge("N", ib), Ge("NN", ib), Ge("NNN", ib), Ge("NNNN", cG), Ge("NNNNN", fG), Lr(["N", "NN", "NNN", "NNNN", "NNNNN"], function (w, D, I, O) { var W = I._locale.erasParse(w, O, I._strict); W ? g(I).era = W : g(I).invalidEra = w }), Ge("y", be), Ge("yy", be), Ge("yyy", be), Ge("yyyy", be), Ge("yo", hG), Lr(["y", "yy", "yyy", "yyyy"], jn), Lr(["yo"], function (w, D, I, O) { var W; I._locale._eraYearOrdinalRegex && (W = w.match(I._locale._eraYearOrdinalRegex)), I._locale.eraYearOrdinalParse ? D[jn] = I._locale.eraYearOrdinalParse(w, W) : D[jn] = parseInt(w, 10) }); function eG(w, D) { var I, O, W, re = this._eras || Ko("en")._eras; for (I = 0, O = re.length; I < O; ++I) { switch (typeof re[I].since) { case "string": W = n(re[I].since).startOf("day"), re[I].since = W.valueOf(); break }switch (typeof re[I].until) { case "undefined": re[I].until = 1 / 0; break; case "string": W = n(re[I].until).startOf("day").valueOf(), re[I].until = W.valueOf(); break } } return re } function tG(w, D, I) { var O, W, re = this.eras(), ye, Ke, Rt; for (w = w.toUpperCase(), O = 0, W = re.length; O < W; ++O)if (ye = re[O].name.toUpperCase(), Ke = re[O].abbr.toUpperCase(), Rt = re[O].narrow.toUpperCase(), I) switch (D) { case "N": case "NN": case "NNN": if (Ke === w) return re[O]; break; case "NNNN": if (ye === w) return re[O]; break; case "NNNNN": if (Rt === w) return re[O]; break } else if ([ye, Ke, Rt].indexOf(w) >= 0) return re[O] } function rG(w, D) { var I = w.since <= w.until ? 1 : -1; return D === void 0 ? n(w.since).year() : n(w.since).year() + (D - w.offset) * I } function nG() { var w, D, I, O = this.localeData().eras(); for (w = 0, D = O.length; w < D; ++w)if (I = this.clone().startOf("day").valueOf(), O[w].since <= I && I <= O[w].until || O[w].until <= I && I <= O[w].since) return O[w].name; return "" } function aG() { var w, D, I, O = this.localeData().eras(); for (w = 0, D = O.length; w < D; ++w)if (I = this.clone().startOf("day").valueOf(), O[w].since <= I && I <= O[w].until || O[w].until <= I && I <= O[w].since) return O[w].narrow; return "" } function iG() { var w, D, I, O = this.localeData().eras(); for (w = 0, D = O.length; w < D; ++w)if (I = this.clone().startOf("day").valueOf(), O[w].since <= I && I <= O[w].until || O[w].until <= I && I <= O[w].since) return O[w].abbr; return "" } function oG() { var w, D, I, O, W = this.localeData().eras(); for (w = 0, D = W.length; w < D; ++w)if (I = W[w].since <= W[w].until ? 1 : -1, O = this.clone().startOf("day").valueOf(), W[w].since <= O && O <= W[w].until || W[w].until <= O && O <= W[w].since) return (this.year() - n(W[w].since).year()) * I + W[w].offset; return this.year() } function sG(w) { return s(this, "_erasNameRegex") || ob.call(this), w ? this._erasNameRegex : this._erasRegex } function lG(w) { return s(this, "_erasAbbrRegex") || ob.call(this), w ? this._erasAbbrRegex : this._erasRegex } function uG(w) { return s(this, "_erasNarrowRegex") || ob.call(this), w ? this._erasNarrowRegex : this._erasRegex } function ib(w, D) { return D.erasAbbrRegex(w) } function cG(w, D) { return D.erasNameRegex(w) } function fG(w, D) { return D.erasNarrowRegex(w) } function hG(w, D) { return D._eraYearOrdinalRegex || be } function ob() { var w = [], D = [], I = [], O = [], W, re, ye, Ke, Rt, er = this.eras(); for (W = 0, re = er.length; W < re; ++W)ye = jo(er[W].name), Ke = jo(er[W].abbr), Rt = jo(er[W].narrow), D.push(ye), w.push(Ke), I.push(Rt), O.push(ye), O.push(Ke), O.push(Rt); this._erasRegex = new RegExp("^(" + O.join("|") + ")", "i"), this._erasNameRegex = new RegExp("^(" + D.join("|") + ")", "i"), this._erasAbbrRegex = new RegExp("^(" + w.join("|") + ")", "i"), this._erasNarrowRegex = new RegExp("^(" + I.join("|") + ")", "i") } B(0, ["gg", 2], 0, function () { return this.weekYear() % 100 }), B(0, ["GG", 2], 0, function () { return this.isoWeekYear() % 100 }); function Rg(w, D) { B(0, [w, w.length], 0, D) } Rg("gggg", "weekYear"), Rg("ggggg", "weekYear"), Rg("GGGG", "isoWeekYear"), Rg("GGGGG", "isoWeekYear"), Ge("G", qe), Ge("g", qe), Ge("GG", ge, vt), Ge("gg", ge, vt), Ge("GGGG", Fn, ur), Ge("gggg", Fn, ur), Ge("GGGGG", Nr, ie), Ge("ggggg", Nr, ie), id(["gggg", "ggggg", "GGGG", "GGGGG"], function (w, D, I, O) { D[O.substr(0, 2)] = Xt(w) }), id(["gg", "GG"], function (w, D, I, O) { D[O] = n.parseTwoDigitYear(w) }); function dG(w) { return xA.call(this, w, this.week(), this.weekday() + this.localeData()._week.dow, this.localeData()._week.dow, this.localeData()._week.doy) } function vG(w) { return xA.call(this, w, this.isoWeek(), this.isoWeekday(), 1, 4) } function pG() { return Xo(this.year(), 1, 4) } function gG() { return Xo(this.isoWeekYear(), 1, 4) } function mG() { var w = this.localeData()._week; return Xo(this.year(), w.dow, w.doy) } function yG() { var w = this.localeData()._week; return Xo(this.weekYear(), w.dow, w.doy) } function xA(w, D, I, O, W) { var re; return w == null ? ud(this, O, W).year : (re = Xo(w, O, W), D > re && (D = re), _G.call(this, w, D, I, O, W)) } function _G(w, D, I, O, W) { var re = eA(w, D, I, O, W), ye = ld(re.year, 0, re.dayOfYear); return this.year(ye.getUTCFullYear()), this.month(ye.getUTCMonth()), this.date(ye.getUTCDate()), this } B("Q", 0, "Qo", "quarter"), Ge("Q", xt), Lr("Q", function (w, D) { D[Zo] = (Xt(w) - 1) * 3 }); function bG(w) { return w == null ? Math.ceil((this.month() + 1) / 3) : this.month((w - 1) * 3 + this.month() % 3) } B("D", ["DD", 2], "Do", "date"), Ge("D", ge, $a), Ge("DD", ge, vt), Ge("Do", function (w, D) { return w ? D._dayOfMonthOrdinalParse || D._ordinalParse : D._dayOfMonthOrdinalParseLenient }), Lr(["D", "DD"], to), Lr("Do", function (w, D) { D[to] = Xt(w.match(ge)[0]) }); var TA = sf("Date", !0); B("DDD", ["DDDD", 3], "DDDo", "dayOfYear"), Ge("DDD", Zt), Ge("DDDD", Jt), Lr(["DDD", "DDDD"], function (w, D, I) { I._dayOfYear = Xt(w) }); function wG(w) { var D = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1; return w == null ? D : this.add(w - D, "d") } B("m", ["mm", 2], 0, "minute"), Ge("m", ge, Ht), Ge("mm", ge, vt), Lr(["m", "mm"], Ci); var SG = sf("Minutes", !1); B("s", ["ss", 2], 0, "second"), Ge("s", ge, Ht), Ge("ss", ge, vt), Lr(["s", "ss"], qo); var xG = sf("Seconds", !1); B("S", 0, 0, function () { return ~~(this.millisecond() / 100) }), B(0, ["SS", 2], 0, function () { return ~~(this.millisecond() / 10) }), B(0, ["SSS", 3], 0, "millisecond"), B(0, ["SSSS", 4], 0, function () { return this.millisecond() * 10 }), B(0, ["SSSSS", 5], 0, function () { return this.millisecond() * 100 }), B(0, ["SSSSSS", 6], 0, function () { return this.millisecond() * 1e3 }), B(0, ["SSSSSSS", 7], 0, function () { return this.millisecond() * 1e4 }), B(0, ["SSSSSSSS", 8], 0, function () { return this.millisecond() * 1e5 }), B(0, ["SSSSSSSSS", 9], 0, function () { return this.millisecond() * 1e6 }), Ge("S", Zt, xt), Ge("SS", Zt, vt), Ge("SSS", Zt, Jt); var js, DA; for (js = "SSSS"; js.length <= 9; js += "S")Ge(js, be); function TG(w, D) { D[fu] = Xt(("0." + w) * 1e3) } for (js = "S"; js.length <= 9; js += "S")Lr(js, TG); DA = sf("Milliseconds", !1), B("z", 0, 0, "zoneAbbr"), B("zz", 0, 0, "zoneName"); function DG() { return this._isUTC ? "UTC" : "" } function CG() { return this._isUTC ? "Coordinated Universal Time" : "" } var Re = T.prototype; Re.add = yW, Re.calendar = DW, Re.clone = CW, Re.diff = RW, Re.endOf = YW, Re.format = $W, Re.from = FW, Re.fromNow = BW, Re.to = VW, Re.toNow = zW, Re.get = NY, Re.invalidAt = QW, Re.isAfter = MW, Re.isBefore = kW, Re.isBetween = AW, Re.isSame = LW, Re.isSameOrAfter = IW, Re.isSameOrBefore = PW, Re.isValid = XW, Re.lang = yA, Re.locale = mA, Re.localeData = _A, Re.max = XU, Re.min = qU, Re.parsingFlags = KW, Re.set = $Y, Re.startOf = HW, Re.subtract = _W, Re.toArray = jW, Re.toObject = ZW, Re.toDate = GW, Re.toISOString = EW, Re.inspect = NW, typeof Symbol < "u" && Symbol.for != null && (Re[Symbol.for("nodejs.util.inspect.custom")] = function () { return "Moment<" + this.format() + ">" }), Re.toJSON = qW, Re.toString = OW, Re.unix = WW, Re.valueOf = UW, Re.creationData = JW, Re.eraName = nG, Re.eraNarrow = aG, Re.eraAbbr = iG, Re.eraYear = oG, Re.year = jk, Re.isLeapYear = EY, Re.weekYear = dG, Re.isoWeekYear = vG, Re.quarter = Re.quarters = bG, Re.month = Qk, Re.daysInMonth = GY, Re.week = Re.weeks = eU, Re.isoWeek = Re.isoWeeks = tU, Re.weeksInYear = mG, Re.weeksInWeekYear = yG, Re.isoWeeksInYear = pG, Re.isoWeeksInISOWeekYear = gG, Re.date = TA, Re.day = Re.days = vU, Re.weekday = pU, Re.isoWeekday = gU, Re.dayOfYear = wG, Re.hour = Re.hours = xU, Re.minute = Re.minutes = SG, Re.second = Re.seconds = xG, Re.millisecond = Re.milliseconds = DA, Re.utcOffset = iW, Re.utc = sW, Re.local = lW, Re.parseZone = uW, Re.hasAlignedHourOffset = cW, Re.isDST = fW, Re.isLocal = dW, Re.isUtcOffset = vW, Re.isUtc = hA, Re.isUTC = hA, Re.zoneAbbr = DG, Re.zoneName = CG, Re.dates = k("dates accessor is deprecated. Use date instead.", TA), Re.months = k("months accessor is deprecated. Use month instead", Qk), Re.years = k("years accessor is deprecated. Use year instead", jk), Re.zone = k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/", oW), Re.isDSTShifted = k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information", hW); function MG(w) { return Fr(w * 1e3) } function kG() { return Fr.apply(null, arguments).parseZone() } function CA(w) { return w } var pr = V.prototype; pr.calendar = q, pr.longDateFormat = Se, pr.invalidDate = Z, pr.ordinal = ve, pr.preparse = CA, pr.postformat = CA, pr.relativeTime = Ne, pr.pastFuture = Ce, pr.set = z, pr.eras = eG, pr.erasParse = tG, pr.erasConvertYear = rG, pr.erasAbbrRegex = lG, pr.erasNameRegex = sG, pr.erasNarrowRegex = uG, pr.months = HY, pr.monthsShort = YY, pr.monthsParse = WY, pr.monthsRegex = ZY, pr.monthsShortRegex = jY, pr.week = XY, pr.firstDayOfYear = JY, pr.firstDayOfWeek = QY, pr.weekdays = uU, pr.weekdaysMin = fU, pr.weekdaysShort = cU, pr.weekdaysParse = dU, pr.weekdaysRegex = mU, pr.weekdaysShortRegex = yU, pr.weekdaysMinRegex = _U, pr.isPM = wU, pr.meridiem = TU; function Og(w, D, I, O) { var W = Ko(), re = v().set(O, D); return W[I](re, w) } function MA(w, D, I) { if (c(w) && (D = w, w = void 0), w = w || "", D != null) return Og(w, D, I, "month"); var O, W = []; for (O = 0; O < 12; O++)W[O] = Og(w, O, I, "month"); return W } function sb(w, D, I, O) { typeof w == "boolean" ? (c(D) && (I = D, D = void 0), D = D || "") : (D = w, I = D, w = !1, c(D) && (I = D, D = void 0), D = D || ""); var W = Ko(), re = w ? W._week.dow : 0, ye, Ke = []; if (I != null) return Og(D, (I + re) % 7, O, "day"); for (ye = 0; ye < 7; ye++)Ke[ye] = Og(D, (ye + re) % 7, O, "day"); return Ke } function AG(w, D) { return MA(w, D, "months") } function LG(w, D) { return MA(w, D, "monthsShort") } function IG(w, D, I) { return sb(w, D, I, "weekdays") } function PG(w, D, I) { return sb(w, D, I, "weekdaysShort") } function RG(w, D, I) { return sb(w, D, I, "weekdaysMin") } Gs("en", { eras: [{ since: "0001-01-01", until: 1 / 0, offset: 1, name: "Anno Domini", narrow: "AD", abbr: "AD" }, { since: "0000-12-31", until: -1 / 0, offset: 1, name: "Before Christ", narrow: "BC", abbr: "BC" }], dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/, ordinal: function (w) { var D = w % 10, I = Xt(w % 100 / 10) === 1 ? "th" : D === 1 ? "st" : D === 2 ? "nd" : D === 3 ? "rd" : "th"; return w + I } }), n.lang = k("moment.lang is deprecated. Use moment.locale instead.", Gs), n.langData = k("moment.langData is deprecated. Use moment.localeData instead.", Ko); var Qo = Math.abs; function OG() { var w = this._data; return this._milliseconds = Qo(this._milliseconds), this._days = Qo(this._days), this._months = Qo(this._months), w.milliseconds = Qo(w.milliseconds), w.seconds = Qo(w.seconds), w.minutes = Qo(w.minutes), w.hours = Qo(w.hours), w.months = Qo(w.months), w.years = Qo(w.years), this } function kA(w, D, I, O) { var W = Mi(D, I); return w._milliseconds += O * W._milliseconds, w._days += O * W._days, w._months += O * W._months, w._bubble() } function EG(w, D) { return kA(this, w, D, 1) } function NG(w, D) { return kA(this, w, D, -1) } function AA(w) { return w < 0 ? Math.floor(w) : Math.ceil(w) } function $G() { var w = this._milliseconds, D = this._days, I = this._months, O = this._data, W, re, ye, Ke, Rt; return w >= 0 && D >= 0 && I >= 0 || w <= 0 && D <= 0 && I <= 0 || (w += AA(lb(I) + D) * 864e5, D = 0, I = 0), O.milliseconds = w % 1e3, W = Za(w / 1e3), O.seconds = W % 60, re = Za(W / 60), O.minutes = re % 60, ye = Za(re / 60), O.hours = ye % 24, D += Za(ye / 24), Rt = Za(LA(D)), I += Rt, D -= AA(lb(Rt)), Ke = Za(I / 12), I %= 12, O.days = D, O.months = I, O.years = Ke, this } function LA(w) { return w * 4800 / 146097 } function lb(w) { return w * 146097 / 4800 } function FG(w) { if (!this.isValid()) return NaN; var D, I, O = this._milliseconds; if (w = xe(w), w === "month" || w === "quarter" || w === "year") switch (D = this._days + O / 864e5, I = this._months + LA(D), w) { case "month": return I; case "quarter": return I / 3; case "year": return I / 12 } else switch (D = this._days + Math.round(lb(this._months)), w) { case "week": return D / 7 + O / 6048e5; case "day": return D + O / 864e5; case "hour": return D * 24 + O / 36e5; case "minute": return D * 1440 + O / 6e4; case "second": return D * 86400 + O / 1e3; case "millisecond": return Math.floor(D * 864e5) + O; default: throw new Error("Unknown unit " + w) } } function Jo(w) { return function () { return this.as(w) } } var IA = Jo("ms"), BG = Jo("s"), VG = Jo("m"), zG = Jo("h"), HG = Jo("d"), YG = Jo("w"), UG = Jo("M"), WG = Jo("Q"), GG = Jo("y"), jG = IA; function ZG() { return Mi(this) } function qG(w) { return w = xe(w), this.isValid() ? this[w + "s"]() : NaN } function du(w) { return function () { return this.isValid() ? this._data[w] : NaN } } var XG = du("milliseconds"), KG = du("seconds"), QG = du("minutes"), JG = du("hours"), ej = du("days"), tj = du("months"), rj = du("years"); function nj() { return Za(this.days() / 7) } var es = Math.round, ff = { ss: 44, s: 45, m: 45, h: 22, d: 26, w: null, M: 11 }; function aj(w, D, I, O, W) { return W.relativeTime(D || 1, !!I, w, O) } function ij(w, D, I, O) { var W = Mi(w).abs(), re = es(W.as("s")), ye = es(W.as("m")), Ke = es(W.as("h")), Rt = es(W.as("d")), er = es(W.as("M")), ia = es(W.as("w")), ts = es(W.as("y")), Zs = re <= I.ss && ["s", re] || re < I.s && ["ss", re] || ye <= 1 && ["m"] || ye < I.m && ["mm", ye] || Ke <= 1 && ["h"] || Ke < I.h && ["hh", Ke] || Rt <= 1 && ["d"] || Rt < I.d && ["dd", Rt]; return I.w != null && (Zs = Zs || ia <= 1 && ["w"] || ia < I.w && ["ww", ia]), Zs = Zs || er <= 1 && ["M"] || er < I.M && ["MM", er] || ts <= 1 && ["y"] || ["yy", ts], Zs[2] = D, Zs[3] = +w > 0, Zs[4] = O, aj.apply(null, Zs) } function oj(w) { return w === void 0 ? es : typeof w == "function" ? (es = w, !0) : !1 } function sj(w, D) { return ff[w] === void 0 ? !1 : D === void 0 ? ff[w] : (ff[w] = D, w === "s" && (ff.ss = D - 1), !0) } function lj(w, D) { if (!this.isValid()) return this.localeData().invalidDate(); var I = !1, O = ff, W, re; return typeof w == "object" && (D = w, w = !1), typeof w == "boolean" && (I = w), typeof D == "object" && (O = Object.assign({}, ff, D), D.s != null && D.ss == null && (O.ss = D.s - 1)), W = this.localeData(), re = ij(this, !I, O, W), I && (re = W.pastFuture(+this, re)), W.postformat(re) } var ub = Math.abs; function hf(w) { return (w > 0) - (w < 0) || +w } function Eg() { if (!this.isValid()) return this.localeData().invalidDate(); var w = ub(this._milliseconds) / 1e3, D = ub(this._days), I = ub(this._months), O, W, re, ye, Ke = this.asSeconds(), Rt, er, ia, ts; return Ke ? (O = Za(w / 60), W = Za(O / 60), w %= 60, O %= 60, re = Za(I / 12), I %= 12, ye = w ? w.toFixed(3).replace(/\.?0+$/, "") : "", Rt = Ke < 0 ? "-" : "", er = hf(this._months) !== hf(Ke) ? "-" : "", ia = hf(this._days) !== hf(Ke) ? "-" : "", ts = hf(this._milliseconds) !== hf(Ke) ? "-" : "", Rt + "P" + (re ? er + re + "Y" : "") + (I ? er + I + "M" : "") + (D ? ia + D + "D" : "") + (W || O || w ? "T" : "") + (W ? ts + W + "H" : "") + (O ? ts + O + "M" : "") + (w ? ts + ye + "S" : "")) : "P0D" } var ar = kg.prototype; ar.isValid = tW, ar.abs = OG, ar.add = EG, ar.subtract = NG, ar.as = FG, ar.asMilliseconds = IA, ar.asSeconds = BG, ar.asMinutes = VG, ar.asHours = zG, ar.asDays = HG, ar.asWeeks = YG, ar.asMonths = UG, ar.asQuarters = WG, ar.asYears = GG, ar.valueOf = jG, ar._bubble = $G, ar.clone = ZG, ar.get = qG, ar.milliseconds = XG, ar.seconds = KG, ar.minutes = QG, ar.hours = JG, ar.days = ej, ar.weeks = nj, ar.months = tj, ar.years = rj, ar.humanize = lj, ar.toISOString = Eg, ar.toString = Eg, ar.toJSON = Eg, ar.locale = mA, ar.localeData = _A, ar.toIsoString = k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", Eg), ar.lang = yA, B("X", 0, 0, "unix"), B("x", 0, 0, "valueOf"), Ge("x", qe), Ge("X", af), Lr("X", function (w, D, I) { I._d = new Date(parseFloat(w) * 1e3) }), Lr("x", function (w, D, I) { I._d = new Date(Xt(w)) });//! moment.js
        return n.version = "2.30.1", a(Fr), n.fn = Re, n.min = KU, n.max = QU, n.now = JU, n.utc = v, n.unix = MG, n.months = AG, n.isDate = f, n.locale = Gs, n.invalid = _, n.duration = Mi, n.isMoment = C, n.weekdays = IG, n.parseZone = kG, n.localeData = Ko, n.isDuration = Ag, n.monthsShort = LG, n.weekdaysMin = RG, n.defineLocale = X1, n.updateLocale = kU, n.locales = AU, n.weekdaysShort = PG, n.normalizeUnits = xe, n.relativeTimeRounding = oj, n.relativeTimeThreshold = sj, n.calendarFormat = TW, n.prototype = Re, n.HTML5_FMT = { DATETIME_LOCAL: "YYYY-MM-DDTHH:mm", DATETIME_LOCAL_SECONDS: "YYYY-MM-DDTHH:mm:ss", DATETIME_LOCAL_MS: "YYYY-MM-DDTHH:mm:ss.SSS", DATE: "YYYY-MM-DD", TIME: "HH:mm", TIME_SECONDS: "HH:mm:ss", TIME_MS: "HH:mm:ss.SSS", WEEK: "GGGG-[W]WW", MONTH: "YYYY-MM" }, n
    })
})(C8); var bNe = C8.exports; const Qm = VD(bNe), wNe = { class: "date-selector" }, SNe = { class: "date-set-item" }, xNe = { class: "date-meta" }, TNe = { class: "lunar" }, DNe = { class: "weekday" }, CNe = Ue({ __name: "EditorDateSelector", props: { modelValue: { type: Object, default: new Date } }, emits: ["dayChange", "update:modelValue"], setup(t, { emit: e }) { const r = t, n = e; Lt(() => { Dr(() => { a.value = r.modelValue }) }); const a = ne(new Date), i = ne({}); mt(() => r.modelValue, u => { a.value = u }), mt(a, (u, c) => { i.value = BD.solar2lunar(u.getFullYear(), u.getMonth() + 1, u.getDate()), n("update:modelValue", a.value); let f = Qm(u), h = Qm(c); f.isSame(h, "day") || (f.isSame(new Date, "day") ? n("dayChange", !0) : n("dayChange", !1)) }); function o(u) { u.preventDefault(), u.ctrlKey ? u.deltaY > 10 ? s(1) : u.deltaY < -10 && s(-1) : u.deltaY > 10 ? l(1) : u.deltaY < -10 && l(-1) } function s(u) { switch (u) { case -1: case 1: let c = Qm(a.value); c.add(u, "day"), a.value = c.toDate(), n("update:modelValue", a.value); break; case 0: a.value = new Date, n("update:modelValue", a.value); break } } function l(u) { switch (u) { case -1: case 1: let c = Qm(a.value); c.add(u, "hour"), a.value = c.toDate(), n("update:modelValue", a.value); break; case 0: a.value = new Date, n("update:modelValue", a.value); break } } return (u, c) => { const f = In("Datepicker"); return $(), j("div", wNe, [P("div", SNe, [de(f, { onWheel: o, editable: !1, "show-now-button": !0, modelValue: a.value, "onUpdate:modelValue": c[0] || (c[0] = h => a.value = h), format: "yyyy.MM.dd HH:mm", selectText: "确定", cancelText: "取消", locale: "zh-CN", placeholder: "----.--.-- --:--", "input-class": "date", clearable: !1 }, null, 8, ["modelValue"])]), P("div", xNe, [P("div", TNe, fe(i.value.IMonthCn) + fe(i.value.IDayCn), 1), P("div", DNe, fe(i.value.ncWeek), 1)])]) } } }); const MNe = {}, kNe = { class: "btn-small" }; function ANe(t, e) { return $(), j("div", kNe, [We(t.$slots, "default", {}, void 0, !0)]) } const LNe = Et(MNe, [["render", ANe], ["__scopeId", "data-v-9edbabb2"]]), INe = { class: "unit" }, PNe = Ue({ __name: "TemperatureSetItem", props: { label: { type: String, default: "温度" }, modelValue: { type: String, default: "20" }, unit: { type: String, default: "℃" } }, emits: ["update:modelValue"], setup(t, { emit: e }) { const r = t, n = e, a = ne(""); Lt(() => { Dr(() => { i.value = r.modelValue, a.value = r.modelValue }) }); const i = ne(""); return mt(() => r.modelValue, o => { i.value = o }), mt(i, o => { n("update:modelValue", o) }), (o, s) => ($(), j("div", { class: Be(["temperature-set-item", { active: !!i.value }]) }, [Ot(P("input", { placeholder: "--", autocomplete: "off", class: "temperature", name: "temperature", id: "temperature", "onUpdate:modelValue": s[0] || (s[0] = l => i.value = l) }, null, 512), [[fn, i.value, void 0, { trim: !0 }]]), P("div", INe, fe(t.unit), 1)], 2)) } }); const y$ = Et(PNe, [["__scopeId", "data-v-4157fe0c"]]), RNe = ["onClick"], ONe = { class: "index" }, ENe = { class: "value" }, NNe = Ue({ __name: "PossibleBillKeySelector", props: { possibleBillItems: { type: Array, default: [] }, positionLeft: { type: Number, default: 150 }, positionTop: { type: Number, default: 20 } }, emits: ["selectKey"], setup(t, { emit: e }) { const r = t, n = e; return (a, i) => r.possibleBillItems.length > 0 ? ($(), j("div", { key: 0, class: "possible-bill-key-list", style: at(`left: ${r.positionLeft}px; top: ${r.positionTop}px`) }, [($(!0), j(Ve, null, It(r.possibleBillItems, (o, s) => ($(), j("div", { class: "possible-bill-key-list-item", key: s, onClick: l => n("selectKey", o.item) }, [P("div", ONe, fe(s + 1), 1), P("div", ENe, fe(o.item), 1)], 8, RNe))), 128))], 4)) : ce("", !0) } }); const $Ne = Et(NNe, [["__scopeId", "data-v-34c21443"]]), FNe = { class: "diary-edit-content" }, BNe = { class: "editor-title" }, VNe = P("label", { class: "hidden" }, null, -1), zNe = { class: "editor-content" }, HNe = P("label", { class: "hidden" }, null, -1), YNe = { key: 0, class: "editor-float-btn" }, UNe = { class: "diary-edit-meta" }, WNe = { class: "editor-form" }, GNe = { class: "editor-meta-switches" }, jNe = { class: "editor-form-item" }, ZNe = P("label", { for: "markdown" }, "身处", -1), qNe = { class: "editor-form-item" }, XNe = P("label", { for: "markdown" }, "室外", -1), KNe = { class: "editor-form-item" }, QNe = P("label", { for: "shareState" }, "共享", -1), JNe = { class: "input" }, e$e = P("label", { class: "switch", for: "shareState" }, null, -1), t$e = { class: "editor-form-item" }, r$e = P("label", { for: "markdown" }, "MD", -1), n$e = { class: "input" }, a$e = P("label", { class: "switch", for: "markdown" }, null, -1), _$ = Ue({
    __name: "Edit", setup(t) {
        const e = Vt(), r = Ki(), n = wn(), a = ne("✎"), i = ne(!0), o = ne(!1), s = ne({ id: -1, title: "", content: "", is_public: !1, is_markdown: !1, date: new Date, weather: "sunny", category: "life", temperature: "", temperature_outside: "" }), l = ne({ id: -1, title: "", content: "", is_public: !1, is_markdown: !1, date: new Date, weather: "sunny", category: "life", temperature: "", temperature_outside: "" }), u = ne({ title: "", content: "" }), c = ne({ keywords: [], pageNo: 1, pageSize: 15, categories: JSON.stringify(["work"]), filterShared: 0, dateFilterString: "" }), f = ne([]), h = ne([]), d = ne(150), v = ne(20), p = ne(); pD(() => { window.onkeydown = null }), Lt(() => {
            f.value = tQ(), window.onbeforeunload = () => { if (g.value) return "日记内容已改变，显示提示框" }, i.value = !r.params.id, i.value ? q() : V(Number(r.params.id)), Dr(() => {
                window.onkeydown = X => { (X.ctrlKey || X.metaKey) && X.key === "s" && (X.preventDefault(), L()) }, p.value.onkeydown = X => {
                    if (h.value.length > 0) switch (X.key) { case "Tab": b(h.value[0].item), X.preventDefault(); break; case "1": case "2": case "3": case "4": case "5": case "6": case "7": case "8": case "9": b(h.value[Number(X.key) - 1].item), X.preventDefault(); break } else {
                        if ((X.ctrlKey || X.metaKey) && X.key === "ArrowLeft") {
                            X.preventDefault(); let U = p.value, B = M(U, s.value.content), Q = B.textLineArray.slice(0, B.cursorLineIndex).join(`
`), se = 0; Q.length === 0 || (se = Q.length + 1), Dr(() => { U.setSelectionRange(se, se) })
                        } if ((X.ctrlKey || X.metaKey) && X.key === "ArrowRight") {
                            X.preventDefault(); let U = p.value, B = M(U, s.value.content), se = B.textLineArray.slice(0, B.cursorLineIndex + 1).join(`
`).length; Dr(() => { U.setSelectionRange(se, se) })
                        } if ((X.ctrlKey || X.metaKey) && X.key === "d") {
                            X.preventDefault(); let U = p.value, B = M(U, s.value.content); B.textLineArray.splice(B.cursorLineIndex, 0, B.cursorLineContent), s.value.content = B.textLineArray.join(`
`), Dr(() => { U.setSelectionRange(B.cursorSelectionStart, B.cursorSelectionStart) })
                        } if ((X.ctrlKey || X.metaKey) && X.key === "x") {
                            let U = p.value, B = M(U, s.value.content); B.cursorSelectionStart === B.cursorSelectionEnd && (X.preventDefault(), window.isSecureContext ? (navigator.clipboard.writeText(B.cursorLineContent).then(() => { console.log("✓ moved") }), B.textLineArray.splice(B.cursorLineIndex, 1), s.value.content = B.textLineArray.join(`
`), Dr(() => { U.setSelectionRange(B.cursorSelectionStart, B.cursorSelectionStart) })) : (B.textLineArray.splice(B.cursorLineIndex, 1), s.value.content = B.textLineArray.join(`
`)))
                        } if ((X.ctrlKey || X.metaKey) && X.key === "c") { let U = p.value, B = M(U, s.value.content); B.cursorSelectionStart === B.cursorSelectionEnd && window.isSecureContext && navigator.clipboard.writeText(B.cursorLineContent).then(() => { console.log("✓ copied") }) } if (X.shiftKey && X.key === "Tab") {
                            X.preventDefault(); let U = p.value, B = M(U, s.value.content), ee = B.cursorLineContent, Q = 0; if (ee.substring(0, 4) === "    ") ee = ee.substring(4), Q = 4; else { let se = C(0, ee); ee = se.lineContent, Q = se.countSpace } B.textLineArray.splice(B.cursorLineIndex, 1, ee), s.value.content = B.textLineArray.join(`
`), Dr(() => { U.setSelectionRange(B.cursorSelectionStart - Q, B.cursorSelectionStart - Q) })
                        } else if (X.key === "Tab") { X.preventDefault(); let U = p.value, B = M(U, s.value.content), ee = s.value.content.substring(0, B.cursorSelectionStart), Q = s.value.content.substring(B.cursorSelectionStart); s.value.content = ee + "    " + Q, Dr(() => { U.setSelectionRange(B.cursorSelectionStart + 4, B.cursorSelectionStart + 4) }) }
                    }
                }
            })
        }), iJ((X, U, B) => { g.value ? Mt("warning", "当前日记未保存", () => { }) : B() }); const g = De(() => s.value.title === "" && s.value.content === "" ? !1 : s.value.title !== l.value.title || s.value.content !== l.value.content || s.value.temperature !== l.value.temperature || s.value.temperature_outside !== l.value.temperature_outside || s.value.weather !== l.value.weather || s.value.category !== l.value.category || s.value.is_public !== l.value.is_public || s.value.is_markdown !== l.value.is_markdown); mt(() => r.params.id, X => { X ? V(Number(X)) : q() }), mt(s, X => { F(), X.content === "" && (h.value = []) }, { deep: !0 }); const { isDiaryNeedToBeSaved: m, isDiaryNeedToBeRecovered: y, isHideContent: _ } = L_(e); mt(m, X => { X && L() }), mt(y, X => { X && K() }), mt(_, X => { X ? (e.isDiaryEditorContentHasChanged && (u.value = { title: s.value.title, content: s.value.content }), s.value.title = s.value.title.replace(/[^，。 \n]/g, "*"), s.value.content = s.value.content.replace(/[^，。 \n]/g, "*")) : u.value.title || u.value.content ? (s.value.title = u.value.title, s.value.content = u.value.content) : (s.value.title = l.value.title, s.value.content = l.value.content) }); function b(X) {
            h.value = []; let U = s.value.content.split(`
`).filter(B => B !== ""); U.pop(), U.push(X + " "), s.value.content = U.join(`
`), p.value.focus()
        } function x(X) {
            if (s.value.category === "bill") {
                let U = X.target.value; if (U) {
                    let B = U.split(`
`); v.value = B.length * 24 + 15; let ee = B[B.length - 1]; d.value = ee.length * 15 + 30, ee !== "" && (h.value = f.value.filter(Q => Q.item.indexOf(ee) > -1).splice(0, 9))
                } else h.value = []
            }
        } function S() { s.value.content.indexOf(a.value) > -1 ? (s.value.content = s.value.content.substring(0, s.value.content.length - 1), s.value.content = s.value.content.replace(/·/ig, " ")) : (s.value.content = s.value.content.replace(/ /ig, "·"), s.value.content = s.value.content + a.value) } function T(X) { X ? R() : (s.value.temperature = "", s.value.temperature_outside = "", s.value.weather = "sunny") } function C(X, U) { let B = X; return U.substring(0, 1) === " " ? (B = B + 1, U = U.substring(1), C(B, U)) : { countSpace: B, lineContent: U } } function M(X, U) {
            let B = X.selectionStart, ee = X.selectionEnd, Q = U.substring(0, B).split(`
`).length - 1, se = U.split(`
`), ue = se[Q]; return { cursorSelectionStart: B, cursorSelectionEnd: ee, cursorLineIndex: Q, textLineArray: se, cursorLineContent: ue }
        } function k() { o.value = !0, Pa.list(c.value).then(X => { o.value = !1; const U = ze(s.value.date).startOf("week"), B = ze(s.value.date).endOf("week"); let ee = X.data.filter(Q => ze(Q.date).isBetween(U, B)); s.value.title = "周报", s.value.content = A(ee) }).catch(() => { o.value = !1 }) } function A(X) {
            let U = ""; return X.forEach(B => {
                U = U + B.title + `
`+ B.content + `
`}), U
        } function R() { let X = qr().geolocation; X ? OD.get("https://devapi.qweather.com/v7/weather/now", { params: { key: ta.HefengWeatherKey, location: X } }).then(U => { U.data.code === "200" && (s.value.temperature_outside = U.data.now.temp, l.value.temperature_outside = U.data.now.temp, s.value.weather = oe(U.data.now.icon), l.value.weather = oe(U.data.now.icon)) }).catch(U => { console.log(U) }) : console.log("没有配置地域信息") } function N(X) { s.value.category = X, X === "bill" && s.value.title === "" && (s.value.title = "账单") } function z(X) { s.value.weather = X } function F() { document.title = g.value ? "日记 - 编辑中..." : "日记", e.isDiaryEditorContentHasChanged = g.value, g.value ? e.editLogoImg = s.value.content ? ke.logo_icons.logo_content : ke.logo_icons.logo_title : e.editLogoImg = s.value.content ? ke.logo_icons.logo_content_saved : ke.logo_icons.logo_title_saved } function V(X) { Pa.detail({ diaryId: X }).then(U => { let B = U.data; e.isHideContent ? (s.value.title = B.title.replace(/[^，。 \n]/g, "*"), s.value.content = B.content.replace(/[^，。 \n]/g, "*")) : (s.value.title = B.title, s.value.content = B.content), s.value.id = B.id, s.value.category = B.category, s.value.date = new Date(B.date.replace(" ", "T")), s.value.weather = B.weather, s.value.is_public = !!B.is_public, s.value.is_markdown = !!B.is_markdown, s.value.temperature = bh(B.temperature), s.value.temperature_outside = bh(B.temperature_outside), Object.assign(l.value, s.value) }).catch(U => { console.log("EDIT: get diary info error: ", U), n.push({ name: "List" }) }) } function L() { if (/^(-?\d{1,3}(\.\d{1,2})?)?$/.test(s.value.temperature)) if (/^(-?\d{1,3}(\.\d{1,2})?)?$/.test(s.value.temperature)) { if (s.value.title.trim().length === 0) { s.value.title = "", Mt("warning", "内容未填写", null), e.isDiaryNeedToBeSaved = !1; return } } else { Mt("warning", "室外温度填写错误，请检查 23.45 这样", () => { }, 2); return } else { Mt("warning", "身处温度填写错误，应为 23.45 这样", () => { }, 2); return } let X = { id: s.value.id, title: s.value.title, content: s.value.content, category: s.value.category, temperature: Xf(s.value.temperature), temperature_outside: Xf(s.value.temperature_outside), weather: s.value.weather, is_public: s.value.is_public ? 1 : 0, is_markdown: s.value.is_markdown ? 1 : 0, date: Hr(s.value.date) }; i.value ? Pa.add(X).then(H).catch(U => { Mt("danger", U.message, () => { e.isSavingDiary = !1, e.isDiaryNeedToBeSaved = !1 }, 3) }) : Pa.modify(X).then(H).catch(U => { Mt("danger", U.message, () => { e.isSavingDiary = !1, e.isDiaryNeedToBeSaved = !1 }, 3) }) } function H(X) { e.isSavingDiary = !1, Object.assign(l.value, s.value), F(), e.isDiaryNeedToBeSaved = !1, i.value ? (s.value.id = X.data.id, Mt("success", X.message, () => { e.listOperation = { type: "add", diary: te() }, Dr(() => { n.push({ name: "Edit", params: { id: X.data.id } }) }) }, 1)) : Mt("success", X.message, () => { e.listOperation = { type: "change", diary: te() }, Dr(() => { n.push({ name: "Edit", params: { id: X.data.id } }) }) }, 1), i.value = !1 } function q() { i.value = !0, ze(s.value.date).isSame(new Date, "day") ? R() : (s.value.temperature = "", s.value.temperature_outside = "", l.value.temperature = "", l.value.temperature_outside = ""), s.value = { id: -1, title: s.value.category === "bill" ? "账单" : "", content: "", is_public: !1, is_markdown: !1, date: s.value.date || new Date, weather: "sunny", category: s.value.category, temperature: "", temperature_outside: "" }, Object.assign(l.value, s.value), F() } function K() { Object.assign(s.value, l.value), u.value = { title: "", content: "" }, e.isDiaryNeedToBeRecovered = !1 } function te() { let X = Hr(s.value.date); return { id: s.value.id, date: X, title: s.value.title, content: s.value.content, temperature: Xf(s.value.temperature), temperature_outside: Xf(s.value.temperature_outside), weather: s.value.weather, category: s.value.category, date_create: X, date_modify: "", is_public: s.value.is_public ? 1 : 0, is_markdown: s.value.is_markdown ? 1 : 0 } } function oe(X) { return new Map([["100", "sunny"], ["101", "cloudy"], ["104", "overcast"], ["305", "sprinkle"], ["306", "rain"], ["310", "thunderstorm"], ["499", "snow"], ["501", "fog"], ["507", "sandstorm"], ["502", "smog"]]).get(X) || "sunny" } return (X, U) => ($(), j("div", { class: "diary-edit-container", style: at(`min-height: ${Y(e).insets.heightPanel}px`) }, [P("div", FNe, [P("div", BNe, [VNe, Ot(P("textarea", { ref: "refDiaryTitle", class: "title", style: { height: "150px" }, placeholder: "一句话，概括你的一天", "onUpdate:modelValue": U[0] || (U[0] = B => s.value.title = B) }, null, 512), [[fn, s.value.title]])]), P("div", zNe, [de($Ne, { "possible-bill-items": h.value, "position-left": d.value, "position-top": v.value, onSelectKey: b }, null, 8, ["possible-bill-items", "position-left", "position-top"]), HNe, Ot(P("textarea", { ref_key: "refDiaryContentTextArea", ref: p, "onUpdate:modelValue": U[1] || (U[1] = B => s.value.content = B), style: at(Y(e).insets.windowsWidth > 1366 ? `height: ${Y(e).insets.heightPanel - 150 - 40 - 20}px` : ""), placeholder: "日记详细内容，如果你有很多要写的", onInput: U[2] || (U[2] = B => x(B)), class: "content" }, null, 36), [[fn, s.value.content]]), s.value.is_markdown ? ($(), j("div", YNe, [de(LNe, { onClick: S }, { default: Me(() => [Tt("切换空格显示")]), _: 1 })])) : ce("", !0)])]), P("div", UNe, [P("div", WNe, [de(CNe, { onDayChange: T, modelValue: s.value.date, "onUpdate:modelValue": U[3] || (U[3] = B => s.value.date = B) }, null, 8, ["modelValue"]), P("div", GNe, [P("div", jNe, [ZNe, de(y$, { unit: "℃", modelValue: s.value.temperature, "onUpdate:modelValue": U[4] || (U[4] = B => s.value.temperature = B) }, null, 8, ["modelValue"])]), P("div", qNe, [XNe, de(y$, { unit: "℃", modelValue: s.value.temperature_outside, "onUpdate:modelValue": U[5] || (U[5] = B => s.value.temperature_outside = B) }, null, 8, ["modelValue"])]), P("div", KNe, [QNe, P("div", JNe, [Ot(P("input", { class: "share", type: "checkbox", name: "share", id: "shareState", "onUpdate:modelValue": U[6] || (U[6] = B => s.value.is_public = B) }, null, 512), [[Ex, s.value.is_public]]), e$e])]), P("div", t$e, [r$e, P("div", n$e, [Ot(P("input", { class: "share", type: "checkbox", name: "share", id: "markdown", "onUpdate:modelValue": U[7] || (U[7] = B => s.value.is_markdown = B) }, null, 512), [[Ex, s.value.is_markdown]]), a$e])])])]), de(oNe, { category: s.value.category, onChange: N }, null, 8, ["category"]), s.value.category === "week" ? ($(), Ie(yNe, { key: 0, "is-loading": o.value, type: "light", onClick: k }, { default: Me(() => [Tt("载入本周工作日志")]), _: 1 }, 8, ["is-loading"])) : ce("", !0), de(fNe, { weather: s.value.weather, onChange: z }, null, 8, ["weather"])])], 4))
    }
}); const i$e = t => (ba("data-v-cd9da781"), t = t(), wa(), t), o$e = { class: "not-found" }, s$e = { class: "logo" }, l$e = ["src"], u$e = i$e(() => P("h1", null, "访问的页面不存在", -1)), c$e = Ue({ __name: "NotFound_404", setup(t) { const e = Vt(); return (r, n) => { const a = In("router-link"); return $(), j("div", { class: "bg", style: at(`height: ${Y(e).insets.windowsHeight}px`) }, [P("div", o$e, [P("div", s$e, [P("img", { src: Y(ke).logo_icons.logo_server_error, alt: "logo error" }, null, 8, l$e)]), u$e, P("h1", null, [de(a, { to: "/" }, { default: Me(() => [Tt("返回主页")]), _: 1 })])])], 4) } } }); const f$e = Et(c$e, [["__scopeId", "data-v-cd9da781"]]), h$e = { class: "diary-list-hole-item" }, d$e = { class: "title" }, v$e = ["innerHTML"], p$e = ["innerHTML"], g$e = { class: "date" }, m$e = { class: "week" }, y$e = { class: "category" }, _$e = Ue({ __name: "DiaryListHoleItem", props: { isActive: { type: Boolean, default: !1 }, diary: Object }, setup(t) { const e = Vt(), r = t, n = De(() => `background-color: ${e.categoryObjectMap.get(r.diary.category).color}`); De(() => `color: ${e.categoryObjectMap.get(r.diary.category).color}`); const a = De(() => pt.parse(r.diary.content)); return (i, o) => { const s = In("router-link"); return $(), Ie(s, { ref: "listItem", class: Be(["diary-list-item", { active: r.isActive }]), to: `/detail/${r.diary.id}`, style: at(n.value) }, { default: Me(() => [P("div", h$e, [P("div", d$e, fe(r.diary.title), 1), r.diary.is_markdown === 1 ? ($(), j("div", { key: 0, class: "content markdown small", innerHTML: a.value }, null, 8, v$e)) : ($(), j("div", { key: 1, class: "content", innerHTML: r.diary.contentHtml }, null, 8, p$e)), P("div", { class: "meta", style: at(n.value) }, [P("div", g$e, fe(r.diary.dateString), 1), P("div", m$e, fe(r.diary.weekday), 1), P("div", y$e, fe(r.diary.categoryString), 1)], 4), P("div", { style: at(n.value), class: "marker left" }, null, 4), P("div", { style: at(n.value), class: "marker right" }, null, 4), P("div", { style: at(n.value), class: "marker bottom" }, null, 4)])]), _: 1 }, 8, ["class", "to", "style"]) } } }); const b$e = Et(_$e, [["__scopeId", "data-v-b9cb7e9c"]]), w$e = { key: 0, class: "search-bar" }, S$e = { class: "diary-list-hole" }, x$e = { key: 0, class: "pt-4 pb-4" }, T$e = { class: "end-of-diary" }, D$e = { key: 0, class: "no-diary-list" }, C$e = ["src"], M$e = Ue({ __name: "ListHole", setup(t) { const e = Vt(), r = Ki(), n = wn(), a = ne(!0), i = ne(!0), o = ne(""); ne(!0); const s = ne({ keywords: [], pageNo: 1, pageSize: 150, categories: [], filterShared: 0, dateFilterString: "" }), l = ne([]); Lt(() => { document.title = "日记", o.value = oi().keywords && oi().keywords.join(" "), Dr(() => { v() }), e.isShowSearchBar = !!o.value, f() }), mt(e.isShowSearchBar, p => { p && Dr(() => { document.querySelector("#keyword").focus() }) }), mt(r, p => { p.path === "/" && f() }), mt(o, p => { e.keywords = p.split(" ") }), mt(e.isListNeedBeReload, () => { e.isListNeedBeReload && f() }), mt(e.listOperation, ({ type: p, diary: g, id: m }) => { switch (p) { case "add": let y = 0; for (let _ = 0; _ < l.value.length; _++) { let b = l.value[_]; if (g.date > b.date) { y = _; break } } l.value.splice(y, 0, g); break; case "delete": l.value.map((_, b) => { _.id === m && (l.value.splice(b, 1), l.value[b] ? n.push({ name: "Detail", params: { id: l.value[b].id } }) : n.push({ name: "Index" })) }); break; case "change": l.value.map((_, b) => { Number(_.id) === Number(g.id) && l.value.splice(b, 1, g) }); break } }); function u() { e.keywords = o.value.split(" "), f() } function c() { o.value = "", u() } function f() { s.value.pageNo = 1, s.value.keywords = JSON.stringify(e.keywords), l.value = [], h() } function h() { a.value = !1, i.value = !0, s.value.categories = JSON.stringify(oi().filteredCategories), s.value.dateFilterString = oi().dateFilterString, s.value.filterShared = oi().isFilterShared ? 1 : 0, d(s.value) } function d(p) { Pa.list(p).then(g => { let m = g.data.map(y => (y.content && (y.contentHtml = y.content.replace(/\n/g, "<br/>")), y.categoryString = e.categoryNameMap.get(y.category), y.weekday = Gl(y.date).weekday, y.dateString = Gl(y.date).date, y)); g.data.length === p.pageSize ? (a.value = !0, p.pageNo++) : a.value = !1, l.value = l.value.concat(m) }).finally(() => { e.isListNeedBeReload = !1, i.value = !1 }) } function v() { document.querySelector(".diary-list-container").addEventListener("scroll", () => { function p() { let g = document.querySelector(".diary-list-group > div:last-child"); if (!g) return !1; let m = g.offsetTop, y = window.innerHeight, b = document.querySelector(".diary-list-container").scrollTop; return m < y + b + innerHeight } a.value && p() && h() }) } return (p, g) => ($(), j("div", { class: "diary-list-group-container", style: at(`min-height: ${p.insets.heightPanel}px`) }, [de(Cr, { "enter-active-class": "animated-fast slideInDown", "leave-active-class": "animated-fast slideOutUp" }, { default: Me(() => [p.isShowSearchBar ? ($(), j("div", w$e, [P("form", { onSubmit: hn(u, ["prevent"]) }, [Ot(P("input", { id: "keyword", type: "text", placeholder: "搜索内容", "onUpdate:modelValue": g[0] || (g[0] = m => o.value = m) }, null, 512), [[fn, o.value]]), Ot(P("span", { onClick: c, class: "clear" }, "✕", 512), [[un, o.value.length > 0]])], 32)])) : ce("", !0)]), _: 1 }), P("div", S$e, [($(), j(Ve, null, It(10, m => P("div", { class: "diary-list-hole-col", style: at(`width:${(p.insets.windowsWidth - 3) / 10}px`), key: m }, [($(!0), j(Ve, null, It(l.value.filter((y, _) => _ % 10 === m - 1), y => ($(), Ie(b$e, { key: y.id, diary: y }, null, 8, ["diary"]))), 128))], 4)), 64))]), i.value ? ($(), j("div", x$e, [de(Gi, { loading: i.value }, null, 8, ["loading"])])) : ce("", !0), Ot(P("div", T$e, [l.value.length < 1 ? ($(), j("div", D$e, "无日记")) : ce("", !0), P("p", null, [P("img", { src: Y(ke).EOF, alt: "EOF" }, null, 8, C$e)])], 512), [[un, !i.value && !a.value]])], 4)) } }); const k$e = Et(M$e, [["__scopeId", "data-v-3e039aef"]]), A$e = { key: 0, class: "body-login" }, L$e = { id: "reg" }, I$e = { class: "logo-wrapper" }, P$e = { class: "logo" }, R$e = ["src"], O$e = ["src"], E$e = { class: "desc" }, N$e = P("p", null, "这是你最后反悔的机会", -1), $$e = P("p", null, "你的所有日记都将被删除", -1), F$e = { class: "mt-2" }, B$e = P("p", null, null, -1), V$e = { id: "regForm" }, z$e = Ue({ __name: "RemoveAllYourDiary", setup(t) { const e = Vt(), r = wn(), n = ne(!1), a = qr(); Lt(() => { n.value = !0, document.title = "日记 - 清空日记" }); function i() { Pa.clear().then(o => { Mt("success", o.message, () => { r.push({ name: "List" }) }, 2) }).catch(o => { Mt("danger", o.message, () => { }, 3) }) } return (o, s) => ($(), j("div", { class: "body-login-bg", style: at(`min-height: ${Y(e).insets.windowsHeight}px`) }, [de(Cr, { "enter-active-class": "animated-fast fadeIn", "leave-active-class": "animated-fast faceOut" }, { default: Me(() => [n.value ? ($(), j("div", A$e, [P("div", L$e, [P("div", I$e, [P("div", P$e, [Y(a).avatar ? ($(), j("img", { key: 0, src: Y(a).avatar + "-" + Y(ta).QiniuStyleSuffix || Y(ke).logo_icons.logo_rounded, alt: "Avatar" }, null, 8, R$e)) : ($(), j("img", { key: 1, src: Y(ke).logo_icons.logo_avatar, alt: "Avatar" }, null, 8, O$e))]), P("div", E$e, [N$e, $$e, P("p", F$e, [Tt("总计 "), P("b", null, fe(Y(e).statisticsCategory.amount), 1), Tt(" 篇，共享日记 "), P("b", null, fe(Y(e).statisticsCategory.shared), 1), Tt(" 篇")]), B$e])]), P("form", V$e, [P("button", { class: "btn btn-active mt-8", type: "button", onClick: hn(i, ["prevent"]) }, "确认清空所有日记 "), P("button", { class: "btn mt-5", type: "button", onClick: s[0] || (s[0] = hn(l => Y(r).go(-1), ["prevent"])) }, "取消 ")])])])) : ce("", !0)]), _: 1 })], 4)) } }), H$e = { key: 0, class: "body-login" }, Y$e = { id: "reg" }, U$e = { class: "logo-wrapper" }, W$e = { class: "logo" }, G$e = ["src"], j$e = ["src"], Z$e = P("div", { class: "desc" }, [P("p", null, "这是你最后反悔的机会"), P("p", null, "该账号的所有内容都将被删除")], -1), q$e = { id: "regForm" }, X$e = Ue({ __name: "DestroyAccount", setup(t) { const e = Vt(), r = wn(), n = ne(!1), a = qr(); Lt(() => { n.value = !0, document.title = "日记 - 注销账号" }); function i() { Th.destroyAccount().then(o => { DD(), oQ(), Mt("success", "注销成功，3 秒后跳转到登录页面", () => { r.push({ name: "Login" }) }, 3) }).catch(o => { Mt("danger", o.message, () => { }, 3) }) } return (o, s) => ($(), j("div", { class: "body-login-bg", style: at(`min-height: ${Y(e).insets.windowsHeight}px`) }, [de(Cr, { "enter-active-class": "animated-fast fadeIn", "leave-active-class": "animated-fast faceOut" }, { default: Me(() => [n.value ? ($(), j("div", H$e, [P("div", Y$e, [P("div", U$e, [P("div", W$e, [Y(a).avatar ? ($(), j("img", { key: 0, src: Y(a).avatar + "-" + Y(ta).QiniuStyleSuffix || Y(ke).logo_icons.logo_rounded, alt: "Avatar" }, null, 8, G$e)) : ($(), j("img", { key: 1, src: Y(ke).logo_icons.logo_avatar, alt: "Avatar" }, null, 8, j$e))]), Z$e]), P("form", q$e, [P("button", { class: "btn btn-active mt-8", type: "button", onClick: hn(i, ["prevent"]) }, "确认注销账号 "), P("button", { class: "btn mt-5", type: "button", onClick: s[0] || (s[0] = hn(l => Y(r).go(-1), ["prevent"])) }, "取消 ")])])])) : ce("", !0)]), _: 1 })], 4)) } }), K0 = { list(t) { return fr("get", t, null, "/file-manager/list") }, upload(t) { return fr("post", null, t, "/file-manager/upload") }, modifyFileName(t) { return fr("post", null, t, "/file-manager/modify") }, delete(t) { return fr("delete", null, t, "/file-manager/delete") } }; const K$e = {}, Q$e = { class: "modal" }; function J$e(t, e) { return $(), j("div", Q$e, [We(t.$slots, "default")]) } const M8 = Et(K$e, [["render", J$e]]), Lk = t => (ba("data-v-a9b98fc8"), t = t(), wa(), t), e5e = { class: "file-list-item" }, t5e = { class: "id" }, r5e = { class: "file-meta" }, n5e = { class: "file-info" }, a5e = { class: "name" }, i5e = { class: "size" }, o5e = { class: "description" }, s5e = { class: "date" }, l5e = { class: "input-group" }, u5e = Lk(() => P("label", { for: "fileNameOld" }, "旧文件名", -1)), c5e = ["value"], f5e = { class: "input-group" }, h5e = Lk(() => P("label", { for: "fileName" }, "新文件名", -1)), d5e = Lk(() => P("button", { class: "btn mt-8 btn-active", type: "submit" }, "确定", -1)), v5e = Ue({ __name: "FileListItem", props: { fileInfo: { type: Object, default: {} } }, emits: ["refreshList"], setup(t, { emit: e }) { const r = t, n = De(() => `http://kylebing.cn/${r.fileInfo.path}`), a = e, i = ne(!1), o = ne(""); function s() { window.open(n.value, "_blank") } function l() { K0.delete({ fileId: r.fileInfo.id }).then(c => { console.log(c), Mt("success", c.message), a("refreshList") }).catch(c => { Mt("danger", c.message) }) } function u() { K0.modifyFileName({ fileId: r.fileInfo.id, description: o.value }).then(c => { Mt("success", c.message), a("refreshList") }).catch(c => { Mt("danger", c.message) }) } return (c, f) => ($(), j("div", e5e, [P("div", t5e, fe(r.fileInfo.id), 1), P("div", r5e, [de(gr, { onClick: s, size: "small", alt: "黑色-内容显示" }), de(gr, { onClick: f[0] || (f[0] = h => i.value = !0), size: "small", alt: "黑色-编辑" }), de(gr, { onClick: l, size: "small", alt: "黑色-删除" }), de(gr, { size: "small", alt: "黑色-分享", class: "clipboard", "data-clipboard": n.value }, null, 8, ["data-clipboard"])]), P("div", n5e, [P("div", a5e, fe(r.fileInfo.description), 1), P("div", i5e, fe((r.fileInfo.size / 1024).toFixed(0)) + " kb", 1), P("div", o5e, fe(r.fileInfo.name_original), 1), P("div", s5e, fe(r.fileInfo.date_time), 1), P("div", { class: Be(["file-type", { image: r.fileInfo.type.indexOf("image") > -1 }]) }, fe(r.fileInfo.type), 3)]), i.value ? ($(), Ie(M8, { key: 0 }, { default: Me(() => [P("form", { class: "modal-form-panel", method: "post", id: "formModifyFileName", onSubmit: hn(u, ["prevent"]) }, [P("div", l5e, [u5e, P("input", { value: r.fileInfo.description, type: "text", name: "fileNameOld", id: "fileNameOld" }, null, 8, c5e)]), P("div", f5e, [h5e, Ot(P("input", { "onUpdate:modelValue": f[1] || (f[1] = h => o.value = h), type: "text", name: "fileName", id: "fileName" }, null, 512), [[fn, o.value, void 0, { lazy: !0 }]])]), d5e, P("button", { class: "btn mt-2", onClick: f[2] || (f[2] = h => i.value = !1), type: "submit" }, "取消")], 32)]), _: 1 })) : ce("", !0)])) } }); const p5e = Et(v5e, [["__scopeId", "data-v-a9b98fc8"]]), g5e = { key: 0, for: "uploader", class: "file-content" }, m5e = { key: 1, class: "avatar-btn-add", for: "uploader" }, y5e = Ue({ __name: "FileSelector", emits: ["fileChange"], setup(t, { emit: e }) { const r = e; ne(""), ne(!1); const n = ne(null); function a(i) { let o = i.target.files; if (console.log(o), o.length > 0) { let s = o[0]; s.size > 20 * 1024 * 1024 ? Mt("warning", "请选择小于200k的图片文件") : (n.value = s, r("fileChange", s)) } } return (i, o) => ($(), j("div", null, [P("input", { ref: "input", type: "file", id: "uploader", accept: "*/*", onChange: a }, null, 544), n.value ? ($(), j("label", g5e, fe(n.value.name), 1)) : ($(), j("label", m5e))])) } }); const _5e = Et(y5e, [["__scopeId", "data-v-181fd50d"]]), $1 = t => (ba("data-v-e40c0ab0"), t = t(), wa(), t), b5e = { key: 0, class: "pt-8 pb-8" }, w5e = { key: 0, class: "file-list" }, S5e = { class: "input-group" }, x5e = $1(() => P("label", { for: "name" }, "文件名称", -1)), T5e = { class: "input-group" }, D5e = $1(() => P("label", { for: "file" }, "文件", -1)), C5e = $1(() => P("input", { onchange: "handleFileInput", name: "password", type: "file", id: "file" }, null, -1)), M5e = $1(() => P("button", { class: "btn mt-8 btn-active", type: "submit" }, "上传", -1)), k5e = Ue({ __name: "FileManager", setup(t) { Vt(); const e = ne(!1), r = ne([]), n = ne(null), a = ne({ pageSize: 300, pageNo: 1, total: 0 }), i = ne(!1), o = ne({ name: "", file: null }); Lt(() => { c(), n.value = new jp(".clipboard", { text: f => f.getAttribute("data-clipboard") }), n.value.on("success", () => { Mt("success", "文件地址已复制到剪贴板", null) }) }), Bs(() => { n.value && n.value.destroy() }); function s(f) { console.log(f), o.value.file = f, o.value.name || (o.value.name = f.name) } function l() { i.value = !0 } function u() { if (!o.value.name) { Mt("warning", "文件名未填写"); return } if (!o.value.file) { Mt("warning", "未选择任何文件"); return } let f = new FormData; f.append("file", o.value.file), f.append("note", o.value.name), K0.upload(f).then(() => { Mt("success", "上传成功"), c(), o.value = { file: null, name: "" }, i.value = !1 }).catch(h => { Mt("danger", h.message) }) } function c() { e.value = !0; let f = { pageNo: a.value.pageNo, pageSize: a.value.pageSize }; K0.list(f).then(h => { r.value = h.data.map(d => (d.date_time = Hr(new Date(d.date_create)), d)), e.value = !1 }).catch(() => { e.value = !1 }) } return (f, h) => ($(), j(Ve, null, [de(qp, { title: "文件列表", subtitle: "" }, { default: Me(() => [de(gr, { onClick: l, alt: "添加" })]), _: 1 }), de(iu, null, { default: Me(() => [e.value ? ($(), j("div", b5e, [de(Gi, { loading: e.value }, null, 8, ["loading"])])) : ($(), j(Ve, { key: 1 }, [r.value.length > 0 ? ($(), j("div", w5e, [($(!0), j(Ve, null, It(r.value, d => ($(), Ie(p5e, { fileInfo: d, key: d.id, onRefreshList: c, onModifyFileName: h[0] || (h[0] = v => f.showModalModifyFileName(f.fileId)) }, null, 8, ["fileInfo"]))), 128))])) : ce("", !0)], 64))]), _: 1 }), i.value ? ($(), Ie(M8, { key: 0 }, { default: Me(() => [P("form", { class: "modal-form-panel", method: "post", id: "formUpload", onSubmit: hn(u, ["prevent"]) }, [P("div", S5e, [x5e, Ot(P("input", { "onUpdate:modelValue": h[1] || (h[1] = d => o.value.name = d), type: "text", name: "name", id: "name" }, null, 512), [[fn, o.value.name, void 0, { lazy: !0 }]])]), P("div", T5e, [D5e, C5e, de(_5e, { onFileChange: s })]), M5e, P("button", { class: "btn mt-2", onClick: h[2] || (h[2] = d => i.value = !1), type: "submit" }, "取消")], 32)]), _: 1 })) : ce("", !0)], 64)) } }); const A5e = Et(k5e, [["__scopeId", "data-v-e40c0ab0"]]), L5e = { class: "body-login" }, I5e = { class: "logo-wrapper" }, P5e = { class: "logo" }, R5e = ["src"], O5e = P("div", { class: "project-name" }, "找回密码", -1), E5e = { class: Be(["footer", "center"]) }, N5e = `
            <h3>如果你忘记密码</h3>
            <p>请使用你注册的邮件发邮件到此邮箱，管理员将为你重置密码： <a href="mailto:kylebing@163.com">kylebing@163.com</a></p>
            <p>之后用重置的密码登录，再修改密码即可。</p>
        `, $5e = Ue({ __name: "FetchPassword", setup(t) { const e = Vt(); return (r, n) => { const a = In("router-link"); return $(), j("div", { class: "body-login-bg", style: at(`min-height: ${Y(e).insets.windowsHeight}px`) }, [de(Cr, { "enter-active-class": "animated-fast fadeIn", "leave-active-class": "animated-fast faceOut" }, { default: Me(() => [P("div", L5e, [P("div", I5e, [P("div", P5e, [P("img", { src: Y(ke).logo_icons.logo_change_password, alt: "Diary Logo" }, null, 8, R5e)]), O5e]), de(d4, { "html-content": N5e }), P("div", E5e, [de(a, { to: "/login" }, { default: Me(() => [Tt("登录")]), _: 1 })])])]), _: 1 })], 4) } } }), F5e = [{ name: "Index", path: "/", component: pae, redirect: "/list", children: [{ name: "List", path: "list", component: u4 }, { name: "Detail", path: "detail/:id", component: rNe }, { name: "EditNew", path: "edit", component: _$ }, { name: "Edit", path: "edit/:id", component: _$ }] }, { name: "Hole", path: "/hole", component: yae, children: [{ name: "ListHole", path: "list", component: k$e }] }, { name: "Register", path: "/register", component: Iae }, { name: "Share", path: "/share/:id", component: Zle }, { name: "RemoveAllYourDiary", path: "/clear-diary", component: z$e }, { name: "DestroyAccount", path: "/destroy-account", component: X$e }, { name: "ChangePassword", path: "/change-password", component: nie }, { name: "ChangeProfile", path: "/change-profile", component: Coe }, { name: "Login", path: "/login", component: Wae }, { name: "FetchPassword", path: "/fetch-password", component: $5e }, { name: "Statistics", path: "/statistics", component: x3e }, { name: "FileManager", path: "/file-manager", component: A5e }, { name: "Bill", path: "/bill", component: _se }, { name: "BankCard", path: "/bank-card", component: rle }, { name: "Invitation", path: "/invitation", component: cle }, { name: "NotFound", path: "/:pathMatch(.*)*", component: f$e }], k8 = dJ({ history: kQ(), routes: F5e }); k8.beforeEach((t, e) => { switch (t.name) { case "Login": case "Register": case "Share": case "FetchPassword": case "Invitation": return !0; default: return qr() && qr().email ? t.name === "List" ? uQ() ? !0 : { name: "EditNew" } : !0 : { name: "Login" } } }); const B5e = ["top", "right", "bottom", "left"], b$ = ["start", "end"], w$ = B5e.reduce((t, e) => t.concat(e, e + "-" + b$[0], e + "-" + b$[1]), []), $p = Math.min, Qu = Math.max, V5e = { left: "right", right: "left", bottom: "top", top: "bottom" }, z5e = { start: "end", end: "start" }; function Y2(t, e, r) { return Qu(t, $p(e, r)) } function rf(t, e) { return typeof t == "function" ? t(e) : t } function Bo(t) { return t.split("-")[0] } function Ui(t) { return t.split("-")[1] } function A8(t) { return t === "x" ? "y" : "x" } function Ik(t) { return t === "y" ? "height" : "width" } function Sg(t) { return ["top", "bottom"].includes(Bo(t)) ? "y" : "x" } function Pk(t) { return A8(Sg(t)) } function L8(t, e, r) { r === void 0 && (r = !1); const n = Ui(t), a = Pk(t), i = Ik(a); let o = a === "x" ? n === (r ? "end" : "start") ? "right" : "left" : n === "start" ? "bottom" : "top"; return e.reference[i] > e.floating[i] && (o = J0(o)), [o, J0(o)] } function H5e(t) { const e = J0(t); return [Q0(t), e, Q0(e)] } function Q0(t) { return t.replace(/start|end/g, e => z5e[e]) } function Y5e(t, e, r) { const n = ["left", "right"], a = ["right", "left"], i = ["top", "bottom"], o = ["bottom", "top"]; switch (t) { case "top": case "bottom": return r ? e ? a : n : e ? n : a; case "left": case "right": return e ? i : o; default: return [] } } function U5e(t, e, r, n) { const a = Ui(t); let i = Y5e(Bo(t), r === "start", n); return a && (i = i.map(o => o + "-" + a), e && (i = i.concat(i.map(Q0)))), i } function J0(t) { return t.replace(/left|right|bottom|top/g, e => V5e[e]) } function W5e(t) { return { top: 0, right: 0, bottom: 0, left: 0, ...t } } function I8(t) { return typeof t != "number" ? W5e(t) : { top: t, right: t, bottom: t, left: t } } function Vv(t) { return { ...t, top: t.y, left: t.x, right: t.x + t.width, bottom: t.y + t.height } } function S$(t, e, r) { let { reference: n, floating: a } = t; const i = Sg(e), o = Pk(e), s = Ik(o), l = Bo(e), u = i === "y", c = n.x + n.width / 2 - a.width / 2, f = n.y + n.height / 2 - a.height / 2, h = n[s] / 2 - a[s] / 2; let d; switch (l) { case "top": d = { x: c, y: n.y - a.height }; break; case "bottom": d = { x: c, y: n.y + n.height }; break; case "right": d = { x: n.x + n.width, y: f }; break; case "left": d = { x: n.x - a.width, y: f }; break; default: d = { x: n.x, y: n.y } }switch (Ui(e)) { case "start": d[o] -= h * (r && u ? -1 : 1); break; case "end": d[o] += h * (r && u ? -1 : 1); break }return d } const G5e = async (t, e, r) => { const { placement: n = "bottom", strategy: a = "absolute", middleware: i = [], platform: o } = r, s = i.filter(Boolean), l = await (o.isRTL == null ? void 0 : o.isRTL(e)); let u = await o.getElementRects({ reference: t, floating: e, strategy: a }), { x: c, y: f } = S$(u, n, l), h = n, d = {}, v = 0; for (let p = 0; p < s.length; p++) { const { name: g, fn: m } = s[p], { x: y, y: _, data: b, reset: x } = await m({ x: c, y: f, initialPlacement: n, placement: h, strategy: a, middlewareData: d, rects: u, platform: o, elements: { reference: t, floating: e } }); if (c = y ?? c, f = _ ?? f, d = { ...d, [g]: { ...d[g], ...b } }, x && v <= 50) { v++, typeof x == "object" && (x.placement && (h = x.placement), x.rects && (u = x.rects === !0 ? await o.getElementRects({ reference: t, floating: e, strategy: a }) : x.rects), { x: c, y: f } = S$(u, h, l)), p = -1; continue } } return { x: c, y: f, placement: h, strategy: a, middlewareData: d } }; async function F1(t, e) { var r; e === void 0 && (e = {}); const { x: n, y: a, platform: i, rects: o, elements: s, strategy: l } = t, { boundary: u = "clippingAncestors", rootBoundary: c = "viewport", elementContext: f = "floating", altBoundary: h = !1, padding: d = 0 } = rf(e, t), v = I8(d), g = s[h ? f === "floating" ? "reference" : "floating" : f], m = Vv(await i.getClippingRect({ element: (r = await (i.isElement == null ? void 0 : i.isElement(g))) == null || r ? g : g.contextElement || await (i.getDocumentElement == null ? void 0 : i.getDocumentElement(s.floating)), boundary: u, rootBoundary: c, strategy: l })), y = f === "floating" ? { ...o.floating, x: n, y: a } : o.reference, _ = await (i.getOffsetParent == null ? void 0 : i.getOffsetParent(s.floating)), b = await (i.isElement == null ? void 0 : i.isElement(_)) ? await (i.getScale == null ? void 0 : i.getScale(_)) || { x: 1, y: 1 } : { x: 1, y: 1 }, x = Vv(i.convertOffsetParentRelativeRectToViewportRelativeRect ? await i.convertOffsetParentRelativeRectToViewportRelativeRect({ rect: y, offsetParent: _, strategy: l }) : y); return { top: (m.top - x.top + v.top) / b.y, bottom: (x.bottom - m.bottom + v.bottom) / b.y, left: (m.left - x.left + v.left) / b.x, right: (x.right - m.right + v.right) / b.x } } const j5e = t => ({ name: "arrow", options: t, async fn(e) { const { x: r, y: n, placement: a, rects: i, platform: o, elements: s, middlewareData: l } = e, { element: u, padding: c = 0 } = rf(t, e) || {}; if (u == null) return {}; const f = I8(c), h = { x: r, y: n }, d = Pk(a), v = Ik(d), p = await o.getDimensions(u), g = d === "y", m = g ? "top" : "left", y = g ? "bottom" : "right", _ = g ? "clientHeight" : "clientWidth", b = i.reference[v] + i.reference[d] - h[d] - i.floating[v], x = h[d] - i.reference[d], S = await (o.getOffsetParent == null ? void 0 : o.getOffsetParent(u)); let T = S ? S[_] : 0; (!T || !await (o.isElement == null ? void 0 : o.isElement(S))) && (T = s.floating[_] || i.floating[v]); const C = b / 2 - x / 2, M = T / 2 - p[v] / 2 - 1, k = $p(f[m], M), A = $p(f[y], M), R = k, N = T - p[v] - A, z = T / 2 - p[v] / 2 + C, F = Y2(R, z, N), V = !l.arrow && Ui(a) != null && z != F && i.reference[v] / 2 - (z < R ? k : A) - p[v] / 2 < 0, L = V ? z < R ? z - R : z - N : 0; return { [d]: h[d] + L, data: { [d]: F, centerOffset: z - F - L, ...V && { alignmentOffset: L } }, reset: V } } }); function Z5e(t, e, r) { return (t ? [...r.filter(a => Ui(a) === t), ...r.filter(a => Ui(a) !== t)] : r.filter(a => Bo(a) === a)).filter(a => t ? Ui(a) === t || (e ? Q0(a) !== a : !1) : !0) } const q5e = function (t) { return t === void 0 && (t = {}), { name: "autoPlacement", options: t, async fn(e) { var r, n, a; const { rects: i, middlewareData: o, placement: s, platform: l, elements: u } = e, { crossAxis: c = !1, alignment: f, allowedPlacements: h = w$, autoAlignment: d = !0, ...v } = rf(t, e), p = f !== void 0 || h === w$ ? Z5e(f || null, d, h) : h, g = await F1(e, v), m = ((r = o.autoPlacement) == null ? void 0 : r.index) || 0, y = p[m]; if (y == null) return {}; const _ = L8(y, i, await (l.isRTL == null ? void 0 : l.isRTL(u.floating))); if (s !== y) return { reset: { placement: p[0] } }; const b = [g[Bo(y)], g[_[0]], g[_[1]]], x = [...((n = o.autoPlacement) == null ? void 0 : n.overflows) || [], { placement: y, overflows: b }], S = p[m + 1]; if (S) return { data: { index: m + 1, overflows: x }, reset: { placement: S } }; const T = x.map(k => { const A = Ui(k.placement); return [k.placement, A && c ? k.overflows.slice(0, 2).reduce((R, N) => R + N, 0) : k.overflows[0], k.overflows] }).sort((k, A) => k[1] - A[1]), M = ((a = T.filter(k => k[2].slice(0, Ui(k[0]) ? 2 : 3).every(A => A <= 0))[0]) == null ? void 0 : a[0]) || T[0][0]; return M !== s ? { data: { index: m + 1, overflows: x }, reset: { placement: M } } : {} } } }, X5e = function (t) { return t === void 0 && (t = {}), { name: "flip", options: t, async fn(e) { var r, n; const { placement: a, middlewareData: i, rects: o, initialPlacement: s, platform: l, elements: u } = e, { mainAxis: c = !0, crossAxis: f = !0, fallbackPlacements: h, fallbackStrategy: d = "bestFit", fallbackAxisSideDirection: v = "none", flipAlignment: p = !0, ...g } = rf(t, e); if ((r = i.arrow) != null && r.alignmentOffset) return {}; const m = Bo(a), y = Bo(s) === s, _ = await (l.isRTL == null ? void 0 : l.isRTL(u.floating)), b = h || (y || !p ? [J0(s)] : H5e(s)); !h && v !== "none" && b.push(...U5e(s, p, v, _)); const x = [s, ...b], S = await F1(e, g), T = []; let C = ((n = i.flip) == null ? void 0 : n.overflows) || []; if (c && T.push(S[m]), f) { const R = L8(a, o, _); T.push(S[R[0]], S[R[1]]) } if (C = [...C, { placement: a, overflows: T }], !T.every(R => R <= 0)) { var M, k; const R = (((M = i.flip) == null ? void 0 : M.index) || 0) + 1, N = x[R]; if (N) return { data: { index: R, overflows: C }, reset: { placement: N } }; let z = (k = C.filter(F => F.overflows[0] <= 0).sort((F, V) => F.overflows[1] - V.overflows[1])[0]) == null ? void 0 : k.placement; if (!z) switch (d) { case "bestFit": { var A; const F = (A = C.map(V => [V.placement, V.overflows.filter(L => L > 0).reduce((L, H) => L + H, 0)]).sort((V, L) => V[1] - L[1])[0]) == null ? void 0 : A[0]; F && (z = F); break } case "initialPlacement": z = s; break }if (a !== z) return { reset: { placement: z } } } return {} } } }; async function K5e(t, e) { const { placement: r, platform: n, elements: a } = t, i = await (n.isRTL == null ? void 0 : n.isRTL(a.floating)), o = Bo(r), s = Ui(r), l = Sg(r) === "y", u = ["left", "top"].includes(o) ? -1 : 1, c = i && l ? -1 : 1, f = rf(e, t); let { mainAxis: h, crossAxis: d, alignmentAxis: v } = typeof f == "number" ? { mainAxis: f, crossAxis: 0, alignmentAxis: null } : { mainAxis: 0, crossAxis: 0, alignmentAxis: null, ...f }; return s && typeof v == "number" && (d = s === "end" ? v * -1 : v), l ? { x: d * c, y: h * u } : { x: h * u, y: d * c } } const Q5e = function (t) { return t === void 0 && (t = 0), { name: "offset", options: t, async fn(e) { var r, n; const { x: a, y: i, placement: o, middlewareData: s } = e, l = await K5e(e, t); return o === ((r = s.offset) == null ? void 0 : r.placement) && (n = s.arrow) != null && n.alignmentOffset ? {} : { x: a + l.x, y: i + l.y, data: { ...l, placement: o } } } } }, J5e = function (t) { return t === void 0 && (t = {}), { name: "shift", options: t, async fn(e) { const { x: r, y: n, placement: a } = e, { mainAxis: i = !0, crossAxis: o = !1, limiter: s = { fn: g => { let { x: m, y } = g; return { x: m, y } } }, ...l } = rf(t, e), u = { x: r, y: n }, c = await F1(e, l), f = Sg(Bo(a)), h = A8(f); let d = u[h], v = u[f]; if (i) { const g = h === "y" ? "top" : "left", m = h === "y" ? "bottom" : "right", y = d + c[g], _ = d - c[m]; d = Y2(y, d, _) } if (o) { const g = f === "y" ? "top" : "left", m = f === "y" ? "bottom" : "right", y = v + c[g], _ = v - c[m]; v = Y2(y, v, _) } const p = s.fn({ ...e, [h]: d, [f]: v }); return { ...p, data: { x: p.x - r, y: p.y - n } } } } }, e7e = function (t) { return t === void 0 && (t = {}), { name: "size", options: t, async fn(e) { const { placement: r, rects: n, platform: a, elements: i } = e, { apply: o = () => { }, ...s } = rf(t, e), l = await F1(e, s), u = Bo(r), c = Ui(r), f = Sg(r) === "y", { width: h, height: d } = n.floating; let v, p; u === "top" || u === "bottom" ? (v = u, p = c === (await (a.isRTL == null ? void 0 : a.isRTL(i.floating)) ? "start" : "end") ? "left" : "right") : (p = u, v = c === "end" ? "top" : "bottom"); const g = d - l[v], m = h - l[p], y = !e.middlewareData.shift; let _ = g, b = m; if (f) { const S = h - l.left - l.right; b = c || y ? $p(m, S) : S } else { const S = d - l.top - l.bottom; _ = c || y ? $p(g, S) : S } if (y && !c) { const S = Qu(l.left, 0), T = Qu(l.right, 0), C = Qu(l.top, 0), M = Qu(l.bottom, 0); f ? b = h - 2 * (S !== 0 || T !== 0 ? S + T : Qu(l.left, l.right)) : _ = d - 2 * (C !== 0 || M !== 0 ? C + M : Qu(l.top, l.bottom)) } await o({ ...e, availableWidth: b, availableHeight: _ }); const x = await a.getDimensions(i.floating); return h !== x.width || d !== x.height ? { reset: { rects: !0 } } : {} } } }; function di(t) { var e; return ((e = t.ownerDocument) == null ? void 0 : e.defaultView) || window } function ko(t) { return di(t).getComputedStyle(t) } const x$ = Math.min, zv = Math.max, e_ = Math.round; function P8(t) { const e = ko(t); let r = parseFloat(e.width), n = parseFloat(e.height); const a = t.offsetWidth, i = t.offsetHeight, o = e_(r) !== a || e_(n) !== i; return o && (r = a, n = i), { width: r, height: n, fallback: o } } function au(t) { return O8(t) ? (t.nodeName || "").toLowerCase() : "" } let Jm; function R8() { if (Jm) return Jm; const t = navigator.userAgentData; return t && Array.isArray(t.brands) ? (Jm = t.brands.map(e => e.brand + "/" + e.version).join(" "), Jm) : navigator.userAgent } function Ao(t) { return t instanceof di(t).HTMLElement } function Vl(t) { return t instanceof di(t).Element } function O8(t) { return t instanceof di(t).Node } function T$(t) { return typeof ShadowRoot > "u" ? !1 : t instanceof di(t).ShadowRoot || t instanceof ShadowRoot } function B1(t) { const { overflow: e, overflowX: r, overflowY: n, display: a } = ko(t); return /auto|scroll|overlay|hidden|clip/.test(e + n + r) && !["inline", "contents"].includes(a) } function t7e(t) { return ["table", "td", "th"].includes(au(t)) } function U2(t) { const e = /firefox/i.test(R8()), r = ko(t), n = r.backdropFilter || r.WebkitBackdropFilter; return r.transform !== "none" || r.perspective !== "none" || !!n && n !== "none" || e && r.willChange === "filter" || e && !!r.filter && r.filter !== "none" || ["transform", "perspective"].some(a => r.willChange.includes(a)) || ["paint", "layout", "strict", "content"].some(a => { const i = r.contain; return i != null && i.includes(a) }) } function E8() { return !/^((?!chrome|android).)*safari/i.test(R8()) } function Rk(t) { return ["html", "body", "#document"].includes(au(t)) } function N8(t) { return Vl(t) ? t : t.contextElement } const $8 = { x: 1, y: 1 }; function gh(t) { const e = N8(t); if (!Ao(e)) return $8; const r = e.getBoundingClientRect(), { width: n, height: a, fallback: i } = P8(e); let o = (i ? e_(r.width) : r.width) / n, s = (i ? e_(r.height) : r.height) / a; return o && Number.isFinite(o) || (o = 1), s && Number.isFinite(s) || (s = 1), { x: o, y: s } } function Fp(t, e, r, n) { var a, i; e === void 0 && (e = !1), r === void 0 && (r = !1); const o = t.getBoundingClientRect(), s = N8(t); let l = $8; e && (n ? Vl(n) && (l = gh(n)) : l = gh(t)); const u = s ? di(s) : window, c = !E8() && r; let f = (o.left + (c && ((a = u.visualViewport) == null ? void 0 : a.offsetLeft) || 0)) / l.x, h = (o.top + (c && ((i = u.visualViewport) == null ? void 0 : i.offsetTop) || 0)) / l.y, d = o.width / l.x, v = o.height / l.y; if (s) { const p = di(s), g = n && Vl(n) ? di(n) : n; let m = p.frameElement; for (; m && n && g !== p;) { const y = gh(m), _ = m.getBoundingClientRect(), b = getComputedStyle(m); _.x += (m.clientLeft + parseFloat(b.paddingLeft)) * y.x, _.y += (m.clientTop + parseFloat(b.paddingTop)) * y.y, f *= y.x, h *= y.y, d *= y.x, v *= y.y, f += _.x, h += _.y, m = di(m).frameElement } } return { width: d, height: v, top: h, right: f + d, bottom: h + v, left: f, x: f, y: h } } function zl(t) { return ((O8(t) ? t.ownerDocument : t.document) || window.document).documentElement } function V1(t) { return Vl(t) ? { scrollLeft: t.scrollLeft, scrollTop: t.scrollTop } : { scrollLeft: t.pageXOffset, scrollTop: t.pageYOffset } } function F8(t) { return Fp(zl(t)).left + V1(t).scrollLeft } function Bp(t) { if (au(t) === "html") return t; const e = t.assignedSlot || t.parentNode || T$(t) && t.host || zl(t); return T$(e) ? e.host : e } function B8(t) { const e = Bp(t); return Rk(e) ? e.ownerDocument.body : Ao(e) && B1(e) ? e : B8(e) } function t_(t, e) { var r; e === void 0 && (e = []); const n = B8(t), a = n === ((r = t.ownerDocument) == null ? void 0 : r.body), i = di(n); return a ? e.concat(i, i.visualViewport || [], B1(n) ? n : []) : e.concat(n, t_(n)) } function D$(t, e, r) { return e === "viewport" ? Vv(function (n, a) { const i = di(n), o = zl(n), s = i.visualViewport; let l = o.clientWidth, u = o.clientHeight, c = 0, f = 0; if (s) { l = s.width, u = s.height; const h = E8(); (h || !h && a === "fixed") && (c = s.offsetLeft, f = s.offsetTop) } return { width: l, height: u, x: c, y: f } }(t, r)) : Vl(e) ? Vv(function (n, a) { const i = Fp(n, !0, a === "fixed"), o = i.top + n.clientTop, s = i.left + n.clientLeft, l = Ao(n) ? gh(n) : { x: 1, y: 1 }; return { width: n.clientWidth * l.x, height: n.clientHeight * l.y, x: s * l.x, y: o * l.y } }(e, r)) : Vv(function (n) { const a = zl(n), i = V1(n), o = n.ownerDocument.body, s = zv(a.scrollWidth, a.clientWidth, o.scrollWidth, o.clientWidth), l = zv(a.scrollHeight, a.clientHeight, o.scrollHeight, o.clientHeight); let u = -i.scrollLeft + F8(n); const c = -i.scrollTop; return ko(o).direction === "rtl" && (u += zv(a.clientWidth, o.clientWidth) - s), { width: s, height: l, x: u, y: c } }(zl(t))) } function C$(t) { return Ao(t) && ko(t).position !== "fixed" ? t.offsetParent : null } function M$(t) { const e = di(t); let r = C$(t); for (; r && t7e(r) && ko(r).position === "static";)r = C$(r); return r && (au(r) === "html" || au(r) === "body" && ko(r).position === "static" && !U2(r)) ? e : r || function (n) { let a = Bp(n); for (; Ao(a) && !Rk(a);) { if (U2(a)) return a; a = Bp(a) } return null }(t) || e } function r7e(t, e, r) { const n = Ao(e), a = zl(e), i = Fp(t, !0, r === "fixed", e); let o = { scrollLeft: 0, scrollTop: 0 }; const s = { x: 0, y: 0 }; if (n || !n && r !== "fixed") if ((au(e) !== "body" || B1(a)) && (o = V1(e)), Ao(e)) { const l = Fp(e, !0); s.x = l.x + e.clientLeft, s.y = l.y + e.clientTop } else a && (s.x = F8(a)); return { x: i.left + o.scrollLeft - s.x, y: i.top + o.scrollTop - s.y, width: i.width, height: i.height } } const n7e = { getClippingRect: function (t) { let { element: e, boundary: r, rootBoundary: n, strategy: a } = t; const i = r === "clippingAncestors" ? function (u, c) { const f = c.get(u); if (f) return f; let h = t_(u).filter(g => Vl(g) && au(g) !== "body"), d = null; const v = ko(u).position === "fixed"; let p = v ? Bp(u) : u; for (; Vl(p) && !Rk(p);) { const g = ko(p), m = U2(p); (v ? m || d : m || g.position !== "static" || !d || !["absolute", "fixed"].includes(d.position)) ? d = g : h = h.filter(y => y !== p), p = Bp(p) } return c.set(u, h), h }(e, this._c) : [].concat(r), o = [...i, n], s = o[0], l = o.reduce((u, c) => { const f = D$(e, c, a); return u.top = zv(f.top, u.top), u.right = x$(f.right, u.right), u.bottom = x$(f.bottom, u.bottom), u.left = zv(f.left, u.left), u }, D$(e, s, a)); return { width: l.right - l.left, height: l.bottom - l.top, x: l.left, y: l.top } }, convertOffsetParentRelativeRectToViewportRelativeRect: function (t) { let { rect: e, offsetParent: r, strategy: n } = t; const a = Ao(r), i = zl(r); if (r === i) return e; let o = { scrollLeft: 0, scrollTop: 0 }, s = { x: 1, y: 1 }; const l = { x: 0, y: 0 }; if ((a || !a && n !== "fixed") && ((au(r) !== "body" || B1(i)) && (o = V1(r)), Ao(r))) { const u = Fp(r); s = gh(r), l.x = u.x + r.clientLeft, l.y = u.y + r.clientTop } return { width: e.width * s.x, height: e.height * s.y, x: e.x * s.x - o.scrollLeft * s.x + l.x, y: e.y * s.y - o.scrollTop * s.y + l.y } }, isElement: Vl, getDimensions: function (t) { return Ao(t) ? P8(t) : t.getBoundingClientRect() }, getOffsetParent: M$, getDocumentElement: zl, getScale: gh, async getElementRects(t) { let { reference: e, floating: r, strategy: n } = t; const a = this.getOffsetParent || M$, i = this.getDimensions; return { reference: r7e(e, await a(r), n), floating: { x: 0, y: 0, ...await i(r) } } }, getClientRects: t => Array.from(t.getClientRects()), isRTL: t => ko(t).direction === "rtl" }, a7e = (t, e, r) => { const n = new Map, a = { platform: n7e, ...r }, i = { ...a.platform, _c: n }; return G5e(t, e, { ...a, platform: i }) }; function V8(t, e) { for (const r in e) Object.prototype.hasOwnProperty.call(e, r) && (typeof e[r] == "object" && t[r] ? V8(t[r], e[r]) : t[r] = e[r]) } const As = { disabled: !1, distance: 5, skidding: 0, container: "body", boundary: void 0, instantMove: !1, disposeTimeout: 5e3, popperTriggers: [], strategy: "absolute", preventOverflow: !0, flip: !0, shift: !0, overflowPadding: 0, arrowPadding: 0, arrowOverflow: !0, themes: { tooltip: { placement: "top", triggers: ["hover", "focus", "touch"], hideTriggers: t => [...t, "click"], delay: { show: 200, hide: 0 }, handleResize: !1, html: !1, loadingContent: "..." }, dropdown: { placement: "bottom", triggers: ["click"], delay: 0, handleResize: !0, autoHide: !0 }, menu: { $extend: "dropdown", triggers: ["hover", "focus"], popperTriggers: ["hover", "focus"], delay: { show: 0, hide: 400 } } } }; function Vp(t, e) { let r = As.themes[t] || {}, n; do n = r[e], typeof n > "u" ? r.$extend ? r = As.themes[r.$extend] || {} : (r = null, n = As[e]) : r = null; while (r); return n } function i7e(t) { const e = [t]; let r = As.themes[t] || {}; do r.$extend && !r.$resetCss ? (e.push(r.$extend), r = As.themes[r.$extend] || {}) : r = null; while (r); return e.map(n => `v-popper--theme-${n}`) } function k$(t) { const e = [t]; let r = As.themes[t] || {}; do r.$extend ? (e.push(r.$extend), r = As.themes[r.$extend] || {}) : r = null; while (r); return e } let zc = !1; if (typeof window < "u") { zc = !1; try { const t = Object.defineProperty({}, "passive", { get() { zc = !0 } }); window.addEventListener("test", null, t) } catch { } } let z8 = !1; typeof window < "u" && typeof navigator < "u" && (z8 = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream); const H8 = ["auto", "top", "bottom", "left", "right"].reduce((t, e) => t.concat([e, `${e}-start`, `${e}-end`]), []), A$ = { hover: "mouseenter", focus: "focus", click: "click", touch: "touchstart", pointer: "pointerdown" }, L$ = { hover: "mouseleave", focus: "blur", click: "click", touch: "touchend", pointer: "pointerup" }; function I$(t, e) { const r = t.indexOf(e); r !== -1 && t.splice(r, 1) } function nx() { return new Promise(t => requestAnimationFrame(() => { requestAnimationFrame(t) })) } const Ei = []; let Yu = null; const P$ = {}; function R$(t) { let e = P$[t]; return e || (e = P$[t] = []), e } let W2 = function () { }; typeof window < "u" && (W2 = window.Element); function ir(t) { return function (e) { return Vp(e.theme, t) } } const ax = "__floating-vue__popper", Y8 = () => Ue({ name: "VPopper", provide() { return { [ax]: { parentPopper: this } } }, inject: { [ax]: { default: null } }, props: { theme: { type: String, required: !0 }, targetNodes: { type: Function, required: !0 }, referenceNode: { type: Function, default: null }, popperNode: { type: Function, required: !0 }, shown: { type: Boolean, default: !1 }, showGroup: { type: String, default: null }, ariaId: { default: null }, disabled: { type: Boolean, default: ir("disabled") }, positioningDisabled: { type: Boolean, default: ir("positioningDisabled") }, placement: { type: String, default: ir("placement"), validator: t => H8.includes(t) }, delay: { type: [String, Number, Object], default: ir("delay") }, distance: { type: [Number, String], default: ir("distance") }, skidding: { type: [Number, String], default: ir("skidding") }, triggers: { type: Array, default: ir("triggers") }, showTriggers: { type: [Array, Function], default: ir("showTriggers") }, hideTriggers: { type: [Array, Function], default: ir("hideTriggers") }, popperTriggers: { type: Array, default: ir("popperTriggers") }, popperShowTriggers: { type: [Array, Function], default: ir("popperShowTriggers") }, popperHideTriggers: { type: [Array, Function], default: ir("popperHideTriggers") }, container: { type: [String, Object, W2, Boolean], default: ir("container") }, boundary: { type: [String, W2], default: ir("boundary") }, strategy: { type: String, validator: t => ["absolute", "fixed"].includes(t), default: ir("strategy") }, autoHide: { type: [Boolean, Function], default: ir("autoHide") }, handleResize: { type: Boolean, default: ir("handleResize") }, instantMove: { type: Boolean, default: ir("instantMove") }, eagerMount: { type: Boolean, default: ir("eagerMount") }, popperClass: { type: [String, Array, Object], default: ir("popperClass") }, computeTransformOrigin: { type: Boolean, default: ir("computeTransformOrigin") }, autoMinSize: { type: Boolean, default: ir("autoMinSize") }, autoSize: { type: [Boolean, String], default: ir("autoSize") }, autoMaxSize: { type: Boolean, default: ir("autoMaxSize") }, autoBoundaryMaxSize: { type: Boolean, default: ir("autoBoundaryMaxSize") }, preventOverflow: { type: Boolean, default: ir("preventOverflow") }, overflowPadding: { type: [Number, String], default: ir("overflowPadding") }, arrowPadding: { type: [Number, String], default: ir("arrowPadding") }, arrowOverflow: { type: Boolean, default: ir("arrowOverflow") }, flip: { type: Boolean, default: ir("flip") }, shift: { type: Boolean, default: ir("shift") }, shiftCrossAxis: { type: Boolean, default: ir("shiftCrossAxis") }, noAutoFocus: { type: Boolean, default: ir("noAutoFocus") }, disposeTimeout: { type: Number, default: ir("disposeTimeout") } }, emits: ["show", "hide", "update:shown", "apply-show", "apply-hide", "close-group", "close-directive", "auto-hide", "resize", "dispose"], data() { return { isShown: !1, isMounted: !1, skipTransition: !1, classes: { showFrom: !1, showTo: !1, hideFrom: !1, hideTo: !0 }, result: { x: 0, y: 0, placement: "", strategy: this.strategy, arrow: { x: 0, y: 0, centerOffset: 0 }, transformOrigin: null }, shownChildren: new Set, lastAutoHide: !0 } }, computed: { popperId() { return this.ariaId != null ? this.ariaId : this.randomId }, shouldMountContent() { return this.eagerMount || this.isMounted }, slotData() { return { popperId: this.popperId, isShown: this.isShown, shouldMountContent: this.shouldMountContent, skipTransition: this.skipTransition, autoHide: typeof this.autoHide == "function" ? this.lastAutoHide : this.autoHide, show: this.show, hide: this.hide, handleResize: this.handleResize, onResize: this.onResize, classes: { ...this.classes, popperClass: this.popperClass }, result: this.positioningDisabled ? null : this.result, attrs: this.$attrs } }, parentPopper() { var t; return (t = this[ax]) == null ? void 0 : t.parentPopper }, hasPopperShowTriggerHover() { var t, e; return ((t = this.popperTriggers) == null ? void 0 : t.includes("hover")) || ((e = this.popperShowTriggers) == null ? void 0 : e.includes("hover")) } }, watch: { shown: "$_autoShowHide", disabled(t) { t ? this.dispose() : this.init() }, async container() { this.isShown && (this.$_ensureTeleport(), await this.$_computePosition()) }, ...["triggers", "positioningDisabled"].reduce((t, e) => (t[e] = "$_refreshListeners", t), {}), ...["placement", "distance", "skidding", "boundary", "strategy", "overflowPadding", "arrowPadding", "preventOverflow", "shift", "shiftCrossAxis", "flip"].reduce((t, e) => (t[e] = "$_computePosition", t), {}) }, created() { this.$_isDisposed = !0, this.randomId = `popper_${[Math.random(), Date.now()].map(t => t.toString(36).substring(2, 10)).join("_")}`, this.autoMinSize && console.warn('[floating-vue] `autoMinSize` option is deprecated. Use `autoSize="min"` instead.'), this.autoMaxSize && console.warn("[floating-vue] `autoMaxSize` option is deprecated. Use `autoBoundaryMaxSize` instead.") }, mounted() { this.init(), this.$_detachPopperNode() }, activated() { this.$_autoShowHide() }, deactivated() { this.hide() }, beforeUnmount() { this.dispose() }, methods: { show({ event: t = null, skipDelay: e = !1, force: r = !1 } = {}) { var n, a; (n = this.parentPopper) != null && n.lockedChild && this.parentPopper.lockedChild !== this || (this.$_pendingHide = !1, (r || !this.disabled) && (((a = this.parentPopper) == null ? void 0 : a.lockedChild) === this && (this.parentPopper.lockedChild = null), this.$_scheduleShow(t, e), this.$emit("show"), this.$_showFrameLocked = !0, requestAnimationFrame(() => { this.$_showFrameLocked = !1 })), this.$emit("update:shown", !0)) }, hide({ event: t = null, skipDelay: e = !1 } = {}) { var r; if (!this.$_hideInProgress) { if (this.shownChildren.size > 0) { this.$_pendingHide = !0; return } if (this.hasPopperShowTriggerHover && this.$_isAimingPopper()) { this.parentPopper && (this.parentPopper.lockedChild = this, clearTimeout(this.parentPopper.lockedChildTimer), this.parentPopper.lockedChildTimer = setTimeout(() => { this.parentPopper.lockedChild === this && (this.parentPopper.lockedChild.hide({ skipDelay: e }), this.parentPopper.lockedChild = null) }, 1e3)); return } ((r = this.parentPopper) == null ? void 0 : r.lockedChild) === this && (this.parentPopper.lockedChild = null), this.$_pendingHide = !1, this.$_scheduleHide(t, e), this.$emit("hide"), this.$emit("update:shown", !1) } }, init() { var t; this.$_isDisposed && (this.$_isDisposed = !1, this.isMounted = !1, this.$_events = [], this.$_preventShow = !1, this.$_referenceNode = ((t = this.referenceNode) == null ? void 0 : t.call(this)) ?? this.$el, this.$_targetNodes = this.targetNodes().filter(e => e.nodeType === e.ELEMENT_NODE), this.$_popperNode = this.popperNode(), this.$_innerNode = this.$_popperNode.querySelector(".v-popper__inner"), this.$_arrowNode = this.$_popperNode.querySelector(".v-popper__arrow-container"), this.$_swapTargetAttrs("title", "data-original-title"), this.$_detachPopperNode(), this.triggers.length && this.$_addEventListeners(), this.shown && this.show()) }, dispose() { this.$_isDisposed || (this.$_isDisposed = !0, this.$_removeEventListeners(), this.hide({ skipDelay: !0 }), this.$_detachPopperNode(), this.isMounted = !1, this.isShown = !1, this.$_updateParentShownChildren(!1), this.$_swapTargetAttrs("data-original-title", "title"), this.$emit("dispose")) }, async onResize() { this.isShown && (await this.$_computePosition(), this.$emit("resize")) }, async $_computePosition() { if (this.$_isDisposed || this.positioningDisabled) return; const t = { strategy: this.strategy, middleware: [] }; (this.distance || this.skidding) && t.middleware.push(Q5e({ mainAxis: this.distance, crossAxis: this.skidding })); const e = this.placement.startsWith("auto"); if (e ? t.middleware.push(q5e({ alignment: this.placement.split("-")[1] ?? "" })) : t.placement = this.placement, this.preventOverflow && (this.shift && t.middleware.push(J5e({ padding: this.overflowPadding, boundary: this.boundary, crossAxis: this.shiftCrossAxis })), !e && this.flip && t.middleware.push(X5e({ padding: this.overflowPadding, boundary: this.boundary }))), t.middleware.push(j5e({ element: this.$_arrowNode, padding: this.arrowPadding })), this.arrowOverflow && t.middleware.push({ name: "arrowOverflow", fn: ({ placement: n, rects: a, middlewareData: i }) => { let o; const { centerOffset: s } = i.arrow; return n.startsWith("top") || n.startsWith("bottom") ? o = Math.abs(s) > a.reference.width / 2 : o = Math.abs(s) > a.reference.height / 2, { data: { overflow: o } } } }), this.autoMinSize || this.autoSize) { const n = this.autoSize ? this.autoSize : this.autoMinSize ? "min" : null; t.middleware.push({ name: "autoSize", fn: ({ rects: a, placement: i, middlewareData: o }) => { var s; if ((s = o.autoSize) != null && s.skip) return {}; let l, u; return i.startsWith("top") || i.startsWith("bottom") ? l = a.reference.width : u = a.reference.height, this.$_innerNode.style[n === "min" ? "minWidth" : n === "max" ? "maxWidth" : "width"] = l != null ? `${l}px` : null, this.$_innerNode.style[n === "min" ? "minHeight" : n === "max" ? "maxHeight" : "height"] = u != null ? `${u}px` : null, { data: { skip: !0 }, reset: { rects: !0 } } } }) } (this.autoMaxSize || this.autoBoundaryMaxSize) && (this.$_innerNode.style.maxWidth = null, this.$_innerNode.style.maxHeight = null, t.middleware.push(e7e({ boundary: this.boundary, padding: this.overflowPadding, apply: ({ availableWidth: n, availableHeight: a }) => { this.$_innerNode.style.maxWidth = n != null ? `${n}px` : null, this.$_innerNode.style.maxHeight = a != null ? `${a}px` : null } }))); const r = await a7e(this.$_referenceNode, this.$_popperNode, t); Object.assign(this.result, { x: r.x, y: r.y, placement: r.placement, strategy: r.strategy, arrow: { ...r.middlewareData.arrow, ...r.middlewareData.arrowOverflow } }) }, $_scheduleShow(t = null, e = !1) { if (this.$_updateParentShownChildren(!0), this.$_hideInProgress = !1, clearTimeout(this.$_scheduleTimer), Yu && this.instantMove && Yu.instantMove && Yu !== this.parentPopper) { Yu.$_applyHide(!0), this.$_applyShow(!0); return } e ? this.$_applyShow() : this.$_scheduleTimer = setTimeout(this.$_applyShow.bind(this), this.$_computeDelay("show")) }, $_scheduleHide(t = null, e = !1) { if (this.shownChildren.size > 0) { this.$_pendingHide = !0; return } this.$_updateParentShownChildren(!1), this.$_hideInProgress = !0, clearTimeout(this.$_scheduleTimer), this.isShown && (Yu = this), e ? this.$_applyHide() : this.$_scheduleTimer = setTimeout(this.$_applyHide.bind(this), this.$_computeDelay("hide")) }, $_computeDelay(t) { const e = this.delay; return parseInt(e && e[t] || e || 0) }, async $_applyShow(t = !1) { clearTimeout(this.$_disposeTimer), clearTimeout(this.$_scheduleTimer), this.skipTransition = t, !this.isShown && (this.$_ensureTeleport(), await nx(), await this.$_computePosition(), await this.$_applyShowEffect(), this.positioningDisabled || this.$_registerEventListeners([...t_(this.$_referenceNode), ...t_(this.$_popperNode)], "scroll", () => { this.$_computePosition() })) }, async $_applyShowEffect() { if (this.$_hideInProgress) return; if (this.computeTransformOrigin) { const e = this.$_referenceNode.getBoundingClientRect(), r = this.$_popperNode.querySelector(".v-popper__wrapper"), n = r.parentNode.getBoundingClientRect(), a = e.x + e.width / 2 - (n.left + r.offsetLeft), i = e.y + e.height / 2 - (n.top + r.offsetTop); this.result.transformOrigin = `${a}px ${i}px` } this.isShown = !0, this.$_applyAttrsToTarget({ "aria-describedby": this.popperId, "data-popper-shown": "" }); const t = this.showGroup; if (t) { let e; for (let r = 0; r < Ei.length; r++)e = Ei[r], e.showGroup !== t && (e.hide(), e.$emit("close-group")) } Ei.push(this), document.body.classList.add("v-popper--some-open"); for (const e of k$(this.theme)) R$(e).push(this), document.body.classList.add(`v-popper--some-open--${e}`); this.$emit("apply-show"), this.classes.showFrom = !0, this.classes.showTo = !1, this.classes.hideFrom = !1, this.classes.hideTo = !1, await nx(), this.classes.showFrom = !1, this.classes.showTo = !0, this.noAutoFocus || this.$_popperNode.focus() }, async $_applyHide(t = !1) { if (this.shownChildren.size > 0) { this.$_pendingHide = !0, this.$_hideInProgress = !1; return } if (clearTimeout(this.$_scheduleTimer), !this.isShown) return; this.skipTransition = t, I$(Ei, this), Ei.length === 0 && document.body.classList.remove("v-popper--some-open"); for (const r of k$(this.theme)) { const n = R$(r); I$(n, this), n.length === 0 && document.body.classList.remove(`v-popper--some-open--${r}`) } Yu === this && (Yu = null), this.isShown = !1, this.$_applyAttrsToTarget({ "aria-describedby": void 0, "data-popper-shown": void 0 }), clearTimeout(this.$_disposeTimer); const e = this.disposeTimeout; e !== null && (this.$_disposeTimer = setTimeout(() => { this.$_popperNode && (this.$_detachPopperNode(), this.isMounted = !1) }, e)), this.$_removeEventListeners("scroll"), this.$emit("apply-hide"), this.classes.showFrom = !1, this.classes.showTo = !1, this.classes.hideFrom = !0, this.classes.hideTo = !1, await nx(), this.classes.hideFrom = !1, this.classes.hideTo = !0 }, $_autoShowHide() { this.shown ? this.show() : this.hide() }, $_ensureTeleport() { if (this.$_isDisposed) return; let t = this.container; if (typeof t == "string" ? t = window.document.querySelector(t) : t === !1 && (t = this.$_targetNodes[0].parentNode), !t) throw new Error("No container for popover: " + this.container); t.appendChild(this.$_popperNode), this.isMounted = !0 }, $_addEventListeners() { const t = r => { this.isShown && !this.$_hideInProgress || (r.usedByTooltip = !0, !this.$_preventShow && this.show({ event: r })) }; this.$_registerTriggerListeners(this.$_targetNodes, A$, this.triggers, this.showTriggers, t), this.$_registerTriggerListeners([this.$_popperNode], A$, this.popperTriggers, this.popperShowTriggers, t); const e = r => { r.usedByTooltip || this.hide({ event: r }) }; this.$_registerTriggerListeners(this.$_targetNodes, L$, this.triggers, this.hideTriggers, e), this.$_registerTriggerListeners([this.$_popperNode], L$, this.popperTriggers, this.popperHideTriggers, e) }, $_registerEventListeners(t, e, r) { this.$_events.push({ targetNodes: t, eventType: e, handler: r }), t.forEach(n => n.addEventListener(e, r, zc ? { passive: !0 } : void 0)) }, $_registerTriggerListeners(t, e, r, n, a) { let i = r; n != null && (i = typeof n == "function" ? n(i) : n), i.forEach(o => { const s = e[o]; s && this.$_registerEventListeners(t, s, a) }) }, $_removeEventListeners(t) { const e = []; this.$_events.forEach(r => { const { targetNodes: n, eventType: a, handler: i } = r; !t || t === a ? n.forEach(o => o.removeEventListener(a, i)) : e.push(r) }), this.$_events = e }, $_refreshListeners() { this.$_isDisposed || (this.$_removeEventListeners(), this.$_addEventListeners()) }, $_handleGlobalClose(t, e = !1) { this.$_showFrameLocked || (this.hide({ event: t }), t.closePopover ? this.$emit("close-directive") : this.$emit("auto-hide"), e && (this.$_preventShow = !0, setTimeout(() => { this.$_preventShow = !1 }, 300))) }, $_detachPopperNode() { this.$_popperNode.parentNode && this.$_popperNode.parentNode.removeChild(this.$_popperNode) }, $_swapTargetAttrs(t, e) { for (const r of this.$_targetNodes) { const n = r.getAttribute(t); n && (r.removeAttribute(t), r.setAttribute(e, n)) } }, $_applyAttrsToTarget(t) { for (const e of this.$_targetNodes) for (const r in t) { const n = t[r]; n == null ? e.removeAttribute(r) : e.setAttribute(r, n) } }, $_updateParentShownChildren(t) { let e = this.parentPopper; for (; e;)t ? e.shownChildren.add(this.randomId) : (e.shownChildren.delete(this.randomId), e.$_pendingHide && e.hide()), e = e.parentPopper }, $_isAimingPopper() { const t = this.$_referenceNode.getBoundingClientRect(); if (Hv >= t.left && Hv <= t.right && Yv >= t.top && Yv <= t.bottom) { const e = this.$_popperNode.getBoundingClientRect(), r = Hv - vl, n = Yv - pl, a = e.left + e.width / 2 - vl + (e.top + e.height / 2) - pl + e.width + e.height, i = vl + r * a, o = pl + n * a; return ey(vl, pl, i, o, e.left, e.top, e.left, e.bottom) || ey(vl, pl, i, o, e.left, e.top, e.right, e.top) || ey(vl, pl, i, o, e.right, e.top, e.right, e.bottom) || ey(vl, pl, i, o, e.left, e.bottom, e.right, e.bottom) } return !1 } }, render() { return this.$slots.default(this.slotData) } }); typeof document < "u" && typeof window < "u" && (z8 ? (document.addEventListener("touchstart", O$, zc ? { passive: !0, capture: !0 } : !0), document.addEventListener("touchend", s7e, zc ? { passive: !0, capture: !0 } : !0)) : (window.addEventListener("mousedown", O$, !0), window.addEventListener("click", o7e, !0)), window.addEventListener("resize", c7e)); function O$(t) { for (let e = 0; e < Ei.length; e++) { const r = Ei[e]; try { const n = r.popperNode(); r.$_mouseDownContains = n.contains(t.target) } catch { } } } function o7e(t) { U8(t) } function s7e(t) { U8(t, !0) } function U8(t, e = !1) { const r = {}; for (let n = Ei.length - 1; n >= 0; n--) { const a = Ei[n]; try { const i = a.$_containsGlobalTarget = l7e(a, t); a.$_pendingHide = !1, requestAnimationFrame(() => { if (a.$_pendingHide = !1, !r[a.randomId] && E$(a, i, t)) { if (a.$_handleGlobalClose(t, e), !t.closeAllPopover && t.closePopover && i) { let s = a.parentPopper; for (; s;)r[s.randomId] = !0, s = s.parentPopper; return } let o = a.parentPopper; for (; o && E$(o, o.$_containsGlobalTarget, t);)o.$_handleGlobalClose(t, e), o = o.parentPopper } }) } catch { } } } function l7e(t, e) { const r = t.popperNode(); return t.$_mouseDownContains || r.contains(e.target) } function E$(t, e, r) { return r.closeAllPopover || r.closePopover && e || u7e(t, r) && !e } function u7e(t, e) { if (typeof t.autoHide == "function") { const r = t.autoHide(e); return t.lastAutoHide = r, r } return t.autoHide } function c7e(t) { for (let e = 0; e < Ei.length; e++)Ei[e].$_computePosition(t) } let vl = 0, pl = 0, Hv = 0, Yv = 0; typeof window < "u" && window.addEventListener("mousemove", t => { vl = Hv, pl = Yv, Hv = t.clientX, Yv = t.clientY }, zc ? { passive: !0 } : void 0); function ey(t, e, r, n, a, i, o, s) { const l = ((o - a) * (e - i) - (s - i) * (t - a)) / ((s - i) * (r - t) - (o - a) * (n - e)), u = ((r - t) * (e - i) - (n - e) * (t - a)) / ((s - i) * (r - t) - (o - a) * (n - e)); return l >= 0 && l <= 1 && u >= 0 && u <= 1 } const f7e = { extends: Y8() }, z1 = (t, e) => { const r = t.__vccOpts || t; for (const [n, a] of e) r[n] = a; return r }; function h7e(t, e, r, n, a, i) { return $(), j("div", { ref: "reference", class: Be(["v-popper", { "v-popper--shown": t.slotData.isShown }]) }, [We(t.$slots, "default", Aa($i(t.slotData)))], 2) } const d7e = z1(f7e, [["render", h7e]]); function v7e() { var t = window.navigator.userAgent, e = t.indexOf("MSIE "); if (e > 0) return parseInt(t.substring(e + 5, t.indexOf(".", e)), 10); var r = t.indexOf("Trident/"); if (r > 0) { var n = t.indexOf("rv:"); return parseInt(t.substring(n + 3, t.indexOf(".", n)), 10) } var a = t.indexOf("Edge/"); return a > 0 ? parseInt(t.substring(a + 5, t.indexOf(".", a)), 10) : -1 } let Ny; function G2() { G2.init || (G2.init = !0, Ny = v7e() !== -1) } var H1 = { name: "ResizeObserver", props: { emitOnMount: { type: Boolean, default: !1 }, ignoreWidth: { type: Boolean, default: !1 }, ignoreHeight: { type: Boolean, default: !1 } }, emits: ["notify"], mounted() { G2(), Dr(() => { this._w = this.$el.offsetWidth, this._h = this.$el.offsetHeight, this.emitOnMount && this.emitSize() }); const t = document.createElement("object"); this._resizeObject = t, t.setAttribute("aria-hidden", "true"), t.setAttribute("tabindex", -1), t.onload = this.addResizeHandlers, t.type = "text/html", Ny && this.$el.appendChild(t), t.data = "about:blank", Ny || this.$el.appendChild(t) }, beforeUnmount() { this.removeResizeHandlers() }, methods: { compareAndNotify() { (!this.ignoreWidth && this._w !== this.$el.offsetWidth || !this.ignoreHeight && this._h !== this.$el.offsetHeight) && (this._w = this.$el.offsetWidth, this._h = this.$el.offsetHeight, this.emitSize()) }, emitSize() { this.$emit("notify", { width: this._w, height: this._h }) }, addResizeHandlers() { this._resizeObject.contentDocument.defaultView.addEventListener("resize", this.compareAndNotify), this.compareAndNotify() }, removeResizeHandlers() { this._resizeObject && this._resizeObject.onload && (!Ny && this._resizeObject.contentDocument && this._resizeObject.contentDocument.defaultView.removeEventListener("resize", this.compareAndNotify), this.$el.removeChild(this._resizeObject), this._resizeObject.onload = null, this._resizeObject = null) } } }; const p7e = aZ(); ba("data-v-b329ee4c"); const g7e = { class: "resize-observer", tabindex: "-1" }; wa(); const m7e = p7e((t, e, r, n, a, i) => ($(), Ie("div", g7e))); H1.render = m7e; H1.__scopeId = "data-v-b329ee4c"; H1.__file = "src/components/ResizeObserver.vue"; const W8 = (t = "theme") => ({ computed: { themeClass() { return i7e(this[t]) } } }), y7e = Ue({ name: "VPopperContent", components: { ResizeObserver: H1 }, mixins: [W8()], props: { popperId: String, theme: String, shown: Boolean, mounted: Boolean, skipTransition: Boolean, autoHide: Boolean, handleResize: Boolean, classes: Object, result: Object }, emits: ["hide", "resize"], methods: { toPx(t) { return t != null && !isNaN(t) ? `${t}px` : null } } }), _7e = ["id", "aria-hidden", "tabindex", "data-popper-placement"], b7e = { ref: "inner", class: "v-popper__inner" }, w7e = P("div", { class: "v-popper__arrow-outer" }, null, -1), S7e = P("div", { class: "v-popper__arrow-inner" }, null, -1), x7e = [w7e, S7e]; function T7e(t, e, r, n, a, i) { const o = In("ResizeObserver"); return $(), j("div", { id: t.popperId, ref: "popover", class: Be(["v-popper__popper", [t.themeClass, t.classes.popperClass, { "v-popper__popper--shown": t.shown, "v-popper__popper--hidden": !t.shown, "v-popper__popper--show-from": t.classes.showFrom, "v-popper__popper--show-to": t.classes.showTo, "v-popper__popper--hide-from": t.classes.hideFrom, "v-popper__popper--hide-to": t.classes.hideTo, "v-popper__popper--skip-transition": t.skipTransition, "v-popper__popper--arrow-overflow": t.result && t.result.arrow.overflow, "v-popper__popper--no-positioning": !t.result }]]), style: at(t.result ? { position: t.result.strategy, transform: `translate3d(${Math.round(t.result.x)}px,${Math.round(t.result.y)}px,0)` } : void 0), "aria-hidden": t.shown ? "false" : "true", tabindex: t.autoHide ? 0 : void 0, "data-popper-placement": t.result ? t.result.placement : void 0, onKeyup: e[2] || (e[2] = qt(s => t.autoHide && t.$emit("hide"), ["esc"])) }, [P("div", { class: "v-popper__backdrop", onClick: e[0] || (e[0] = s => t.autoHide && t.$emit("hide")) }), P("div", { class: "v-popper__wrapper", style: at(t.result ? { transformOrigin: t.result.transformOrigin } : void 0) }, [P("div", b7e, [t.mounted ? ($(), j(Ve, { key: 0 }, [P("div", null, [We(t.$slots, "default")]), t.handleResize ? ($(), Ie(o, { key: 0, onNotify: e[1] || (e[1] = s => t.$emit("resize", s)) })) : ce("", !0)], 64)) : ce("", !0)], 512), P("div", { ref: "arrow", class: "v-popper__arrow-container", style: at(t.result ? { left: t.toPx(t.result.arrow.x), top: t.toPx(t.result.arrow.y) } : void 0) }, x7e, 4)], 4)], 46, _7e) } const G8 = z1(y7e, [["render", T7e]]), j8 = { methods: { show(...t) { return this.$refs.popper.show(...t) }, hide(...t) { return this.$refs.popper.hide(...t) }, dispose(...t) { return this.$refs.popper.dispose(...t) }, onResize(...t) { return this.$refs.popper.onResize(...t) } } }, D7e = Ue({ name: "VPopperWrapper", components: { Popper: d7e, PopperContent: G8 }, mixins: [j8, W8("finalTheme")], props: { theme: { type: String, default: null } }, computed: { finalTheme() { return this.theme ?? this.$options.vPopperTheme } }, methods: { getTargetNodes() { return Array.from(this.$el.children).filter(t => t !== this.$refs.popperContent.$el) } } }); function C7e(t, e, r, n, a, i) { const o = In("PopperContent"), s = In("Popper"); return $(), Ie(s, { ref: "popper", theme: t.finalTheme, "target-nodes": t.getTargetNodes, "popper-node": () => t.$refs.popperContent.$el, class: Be([t.themeClass]) }, { default: Me(({ popperId: l, isShown: u, shouldMountContent: c, skipTransition: f, autoHide: h, show: d, hide: v, handleResize: p, onResize: g, classes: m, result: y }) => [We(t.$slots, "default", { shown: u, show: d, hide: v }), de(o, { ref: "popperContent", "popper-id": l, theme: t.finalTheme, shown: u, mounted: c, "skip-transition": f, "auto-hide": h, "handle-resize": p, classes: m, result: y, onHide: v, onResize: g }, { default: Me(() => [We(t.$slots, "popper", { shown: u, hide: v })]), _: 2 }, 1032, ["popper-id", "theme", "shown", "mounted", "skip-transition", "auto-hide", "handle-resize", "classes", "result", "onHide", "onResize"])]), _: 3 }, 8, ["theme", "target-nodes", "popper-node", "class"]) } const Ok = z1(D7e, [["render", C7e]]), M7e = { ...Ok, name: "VDropdown", vPopperTheme: "dropdown" }, k7e = { ...Ok, name: "VMenu", vPopperTheme: "menu" }, A7e = { ...Ok, name: "VTooltip", vPopperTheme: "tooltip" }, L7e = Ue({ name: "VTooltipDirective", components: { Popper: Y8(), PopperContent: G8 }, mixins: [j8], inheritAttrs: !1, props: { theme: { type: String, default: "tooltip" }, html: { type: Boolean, default: t => Vp(t.theme, "html") }, content: { type: [String, Number, Function], default: null }, loadingContent: { type: String, default: t => Vp(t.theme, "loadingContent") }, targetNodes: { type: Function, required: !0 } }, data() { return { asyncContent: null } }, computed: { isContentAsync() { return typeof this.content == "function" }, loading() { return this.isContentAsync && this.asyncContent == null }, finalContent() { return this.isContentAsync ? this.loading ? this.loadingContent : this.asyncContent : this.content } }, watch: { content: { handler() { this.fetchContent(!0) }, immediate: !0 }, async finalContent() { await this.$nextTick(), this.$refs.popper.onResize() } }, created() { this.$_fetchId = 0 }, methods: { fetchContent(t) { if (typeof this.content == "function" && this.$_isShown && (t || !this.$_loading && this.asyncContent == null)) { this.asyncContent = null, this.$_loading = !0; const e = ++this.$_fetchId, r = this.content(this); r.then ? r.then(n => this.onResult(e, n)) : this.onResult(e, r) } }, onResult(t, e) { t === this.$_fetchId && (this.$_loading = !1, this.asyncContent = e) }, onShow() { this.$_isShown = !0, this.fetchContent() }, onHide() { this.$_isShown = !1 } } }), I7e = ["innerHTML"], P7e = ["textContent"]; function R7e(t, e, r, n, a, i) { const o = In("PopperContent"), s = In("Popper"); return $(), Ie(s, Dn({ ref: "popper" }, t.$attrs, { theme: t.theme, "target-nodes": t.targetNodes, "popper-node": () => t.$refs.popperContent.$el, onApplyShow: t.onShow, onApplyHide: t.onHide }), { default: Me(({ popperId: l, isShown: u, shouldMountContent: c, skipTransition: f, autoHide: h, hide: d, handleResize: v, onResize: p, classes: g, result: m }) => [de(o, { ref: "popperContent", class: Be({ "v-popper--tooltip-loading": t.loading }), "popper-id": l, theme: t.theme, shown: u, mounted: c, "skip-transition": f, "auto-hide": h, "handle-resize": v, classes: g, result: m, onHide: d, onResize: p }, { default: Me(() => [t.html ? ($(), j("div", { key: 0, innerHTML: t.finalContent }, null, 8, I7e)) : ($(), j("div", { key: 1, textContent: fe(t.finalContent) }, null, 8, P7e))]), _: 2 }, 1032, ["class", "popper-id", "theme", "shown", "mounted", "skip-transition", "auto-hide", "handle-resize", "classes", "result", "onHide", "onResize"])]), _: 1 }, 16, ["theme", "target-nodes", "popper-node", "onApplyShow", "onApplyHide"]) } const O7e = z1(L7e, [["render", R7e]]), Z8 = "v-popper--has-tooltip"; function E7e(t, e) { let r = t.placement; if (!r && e) for (const n of H8) e[n] && (r = n); return r || (r = Vp(t.theme || "tooltip", "placement")), r } function q8(t, e, r) { let n; const a = typeof e; return a === "string" ? n = { content: e } : e && a === "object" ? n = e : n = { content: !1 }, n.placement = E7e(n, r), n.targetNodes = () => [t], n.referenceNode = () => t, n } let ix, zp, N7e = 0; function $7e() { if (ix) return; zp = ne([]), ix = m7({ name: "VTooltipDirectiveApp", setup() { return { directives: zp } }, render() { return this.directives.map(e => k_(O7e, { ...e.options, shown: e.shown || e.options.shown, key: e.id })) }, devtools: { hide: !0 } }); const t = document.createElement("div"); document.body.appendChild(t), ix.mount(t) } function F7e(t, e, r) { $7e(); const n = ne(q8(t, e, r)), a = ne(!1), i = { id: N7e++, options: n, shown: a }; return zp.value.push(i), t.classList && t.classList.add(Z8), t.$_popper = { options: n, item: i, show() { a.value = !0 }, hide() { a.value = !1 } } } function X8(t) { if (t.$_popper) { const e = zp.value.indexOf(t.$_popper.item); e !== -1 && zp.value.splice(e, 1), delete t.$_popper, delete t.$_popperOldShown, delete t.$_popperMountTarget } t.classList && t.classList.remove(Z8) } function N$(t, { value: e, modifiers: r }) { const n = q8(t, e, r); if (!n.content || Vp(n.theme || "tooltip", "disabled")) X8(t); else { let a; t.$_popper ? (a = t.$_popper, a.options.value = n) : a = F7e(t, e, r), typeof e.shown < "u" && e.shown !== t.$_popperOldShown && (t.$_popperOldShown = e.shown, e.shown ? a.show() : a.hide()) } } const B7e = { beforeMount: N$, updated: N$, beforeUnmount(t) { X8(t) } }; function $$(t) { t.addEventListener("click", K8), t.addEventListener("touchstart", Q8, zc ? { passive: !0 } : !1) } function F$(t) { t.removeEventListener("click", K8), t.removeEventListener("touchstart", Q8), t.removeEventListener("touchend", J8), t.removeEventListener("touchcancel", eY) } function K8(t) { const e = t.currentTarget; t.closePopover = !e.$_vclosepopover_touch, t.closeAllPopover = e.$_closePopoverModifiers && !!e.$_closePopoverModifiers.all } function Q8(t) { if (t.changedTouches.length === 1) { const e = t.currentTarget; e.$_vclosepopover_touch = !0; const r = t.changedTouches[0]; e.$_vclosepopover_touchPoint = r, e.addEventListener("touchend", J8), e.addEventListener("touchcancel", eY) } } function J8(t) { const e = t.currentTarget; if (e.$_vclosepopover_touch = !1, t.changedTouches.length === 1) { const r = t.changedTouches[0], n = e.$_vclosepopover_touchPoint; t.closePopover = Math.abs(r.screenY - n.screenY) < 20 && Math.abs(r.screenX - n.screenX) < 20, t.closeAllPopover = e.$_closePopoverModifiers && !!e.$_closePopoverModifiers.all } } function eY(t) { const e = t.currentTarget; e.$_vclosepopover_touch = !1 } const V7e = { beforeMount(t, { value: e, modifiers: r }) { t.$_closePopoverModifiers = r, (typeof e > "u" || e) && $$(t) }, updated(t, { value: e, oldValue: r, modifiers: n }) { t.$_closePopoverModifiers = n, e !== r && (typeof e > "u" || e ? $$(t) : F$(t)) }, beforeUnmount(t) { F$(t) } }; function z7e(t, e = {}) { t.$_vTooltipInstalled || (t.$_vTooltipInstalled = !0, V8(As, e), t.directive("tooltip", B7e), t.directive("close-popper", V7e), t.component("VTooltip", A7e), t.component("VDropdown", M7e), t.component("VMenu", k7e)) } const H7e = { version: "2.0.0-beta.24", install: z7e, options: As }; function bi(t) { "@babel/helpers - typeof"; return bi = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, bi(t) } function kt(t) { if (t === null || t === !0 || t === !1) return NaN; var e = Number(t); return isNaN(e) ? e : e < 0 ? Math.ceil(e) : Math.floor(e) } function dt(t, e) { if (e.length < t) throw new TypeError(t + " argument" + (t > 1 ? "s" : "") + " required, but only " + e.length + " present") } function Pt(t) { dt(1, arguments); var e = Object.prototype.toString.call(t); return t instanceof Date || bi(t) === "object" && e === "[object Date]" ? new Date(t.getTime()) : typeof t == "number" || e === "[object Number]" ? new Date(t) : ((typeof t == "string" || e === "[object String]") && typeof console < "u" && (console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"), console.warn(new Error().stack)), new Date(NaN)) } function Hl(t, e) { dt(2, arguments); var r = Pt(t), n = kt(e); return isNaN(n) ? new Date(NaN) : (n && r.setDate(r.getDate() + n), r) } function Do(t, e) { dt(2, arguments); var r = Pt(t), n = kt(e); if (isNaN(n)) return new Date(NaN); if (!n) return r; var a = r.getDate(), i = new Date(r.getTime()); i.setMonth(r.getMonth() + n + 1, 0); var o = i.getDate(); return a >= o ? i : (r.setFullYear(i.getFullYear(), i.getMonth(), a), r) } function tY(t, e) { if (dt(2, arguments), !e || bi(e) !== "object") return new Date(NaN); var r = e.years ? kt(e.years) : 0, n = e.months ? kt(e.months) : 0, a = e.weeks ? kt(e.weeks) : 0, i = e.days ? kt(e.days) : 0, o = e.hours ? kt(e.hours) : 0, s = e.minutes ? kt(e.minutes) : 0, l = e.seconds ? kt(e.seconds) : 0, u = Pt(t), c = n || r ? Do(u, n + r * 12) : u, f = i || a ? Hl(c, i + a * 7) : c, h = s + o * 60, d = l + h * 60, v = d * 1e3, p = new Date(f.getTime() + v); return p } function Y7e(t, e) { dt(2, arguments); var r = Pt(t).getTime(), n = kt(e); return new Date(r + n) } var U7e = {}; function lu() { return U7e } function j2(t, e) { var r, n, a, i, o, s, l, u; dt(1, arguments); var c = lu(), f = kt((r = (n = (a = (i = e == null ? void 0 : e.weekStartsOn) !== null && i !== void 0 ? i : e == null || (o = e.locale) === null || o === void 0 || (s = o.options) === null || s === void 0 ? void 0 : s.weekStartsOn) !== null && a !== void 0 ? a : c.weekStartsOn) !== null && n !== void 0 ? n : (l = c.locale) === null || l === void 0 || (u = l.options) === null || u === void 0 ? void 0 : u.weekStartsOn) !== null && r !== void 0 ? r : 0); if (!(f >= 0 && f <= 6)) throw new RangeError("weekStartsOn must be between 0 and 6 inclusively"); var h = Pt(t), d = h.getDay(), v = (d < f ? 7 : 0) + d - f; return h.setDate(h.getDate() - v), h.setHours(0, 0, 0, 0), h } function r_(t) { return dt(1, arguments), j2(t, { weekStartsOn: 1 }) } function W7e(t) { dt(1, arguments); var e = Pt(t), r = e.getFullYear(), n = new Date(0); n.setFullYear(r + 1, 0, 4), n.setHours(0, 0, 0, 0); var a = r_(n), i = new Date(0); i.setFullYear(r, 0, 4), i.setHours(0, 0, 0, 0); var o = r_(i); return e.getTime() >= a.getTime() ? r + 1 : e.getTime() >= o.getTime() ? r : r - 1 } function G7e(t) { dt(1, arguments); var e = W7e(t), r = new Date(0); r.setFullYear(e, 0, 4), r.setHours(0, 0, 0, 0); var n = r_(r); return n } function n_(t) { var e = new Date(Date.UTC(t.getFullYear(), t.getMonth(), t.getDate(), t.getHours(), t.getMinutes(), t.getSeconds(), t.getMilliseconds())); return e.setUTCFullYear(t.getFullYear()), t.getTime() - e.getTime() } function B$(t) { dt(1, arguments); var e = Pt(t); return e.setHours(0, 0, 0, 0), e } var j7e = 864e5; function Z7e(t, e) { dt(2, arguments); var r = B$(t), n = B$(e), a = r.getTime() - n_(r), i = n.getTime() - n_(n); return Math.round((a - i) / j7e) } function rY(t, e) { dt(2, arguments); var r = kt(e); return Do(t, r * 12) } var Ek = 6e4, Nk = 36e5, q7e = 1e3; function nY(t) { return dt(1, arguments), t instanceof Date || bi(t) === "object" && Object.prototype.toString.call(t) === "[object Date]" } function Uv(t) { if (dt(1, arguments), !nY(t) && typeof t != "number") return !1; var e = Pt(t); return !isNaN(Number(e)) } function V$(t, e) { var r; dt(1, arguments); var n = t || {}, a = Pt(n.start), i = Pt(n.end), o = i.getTime(); if (!(a.getTime() <= o)) throw new RangeError("Invalid interval"); var s = [], l = a; l.setHours(0, 0, 0, 0); var u = Number((r = e == null ? void 0 : e.step) !== null && r !== void 0 ? r : 1); if (u < 1 || isNaN(u)) throw new RangeError("`options.step` must be a number greater than 1"); for (; l.getTime() <= o;)s.push(Pt(l)), l.setDate(l.getDate() + u), l.setHours(0, 0, 0, 0); return s } function X7e(t, e) { var r, n, a, i, o, s, l, u; dt(1, arguments); var c = lu(), f = kt((r = (n = (a = (i = e == null ? void 0 : e.weekStartsOn) !== null && i !== void 0 ? i : e == null || (o = e.locale) === null || o === void 0 || (s = o.options) === null || s === void 0 ? void 0 : s.weekStartsOn) !== null && a !== void 0 ? a : c.weekStartsOn) !== null && n !== void 0 ? n : (l = c.locale) === null || l === void 0 || (u = l.options) === null || u === void 0 ? void 0 : u.weekStartsOn) !== null && r !== void 0 ? r : 0); if (!(f >= 0 && f <= 6)) throw new RangeError("weekStartsOn must be between 0 and 6 inclusively"); var h = Pt(t), d = h.getDay(), v = (d < f ? -7 : 0) + 6 - (d - f); return h.setDate(h.getDate() + v), h.setHours(23, 59, 59, 999), h } function aY(t, e) { dt(2, arguments); var r = kt(e); return Y7e(t, -r) } var K7e = 864e5; function Q7e(t) { dt(1, arguments); var e = Pt(t), r = e.getTime(); e.setUTCMonth(0, 1), e.setUTCHours(0, 0, 0, 0); var n = e.getTime(), a = r - n; return Math.floor(a / K7e) + 1 } function Oh(t) { dt(1, arguments); var e = 1, r = Pt(t), n = r.getUTCDay(), a = (n < e ? 7 : 0) + n - e; return r.setUTCDate(r.getUTCDate() - a), r.setUTCHours(0, 0, 0, 0), r } function iY(t) { dt(1, arguments); var e = Pt(t), r = e.getUTCFullYear(), n = new Date(0); n.setUTCFullYear(r + 1, 0, 4), n.setUTCHours(0, 0, 0, 0); var a = Oh(n), i = new Date(0); i.setUTCFullYear(r, 0, 4), i.setUTCHours(0, 0, 0, 0); var o = Oh(i); return e.getTime() >= a.getTime() ? r + 1 : e.getTime() >= o.getTime() ? r : r - 1 } function J7e(t) { dt(1, arguments); var e = iY(t), r = new Date(0); r.setUTCFullYear(e, 0, 4), r.setUTCHours(0, 0, 0, 0); var n = Oh(r); return n } var e4e = 6048e5; function oY(t) { dt(1, arguments); var e = Pt(t), r = Oh(e).getTime() - J7e(e).getTime(); return Math.round(r / e4e) + 1 } function Hc(t, e) { var r, n, a, i, o, s, l, u; dt(1, arguments); var c = lu(), f = kt((r = (n = (a = (i = e == null ? void 0 : e.weekStartsOn) !== null && i !== void 0 ? i : e == null || (o = e.locale) === null || o === void 0 || (s = o.options) === null || s === void 0 ? void 0 : s.weekStartsOn) !== null && a !== void 0 ? a : c.weekStartsOn) !== null && n !== void 0 ? n : (l = c.locale) === null || l === void 0 || (u = l.options) === null || u === void 0 ? void 0 : u.weekStartsOn) !== null && r !== void 0 ? r : 0); if (!(f >= 0 && f <= 6)) throw new RangeError("weekStartsOn must be between 0 and 6 inclusively"); var h = Pt(t), d = h.getUTCDay(), v = (d < f ? 7 : 0) + d - f; return h.setUTCDate(h.getUTCDate() - v), h.setUTCHours(0, 0, 0, 0), h } function $k(t, e) { var r, n, a, i, o, s, l, u; dt(1, arguments); var c = Pt(t), f = c.getUTCFullYear(), h = lu(), d = kt((r = (n = (a = (i = e == null ? void 0 : e.firstWeekContainsDate) !== null && i !== void 0 ? i : e == null || (o = e.locale) === null || o === void 0 || (s = o.options) === null || s === void 0 ? void 0 : s.firstWeekContainsDate) !== null && a !== void 0 ? a : h.firstWeekContainsDate) !== null && n !== void 0 ? n : (l = h.locale) === null || l === void 0 || (u = l.options) === null || u === void 0 ? void 0 : u.firstWeekContainsDate) !== null && r !== void 0 ? r : 1); if (!(d >= 1 && d <= 7)) throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively"); var v = new Date(0); v.setUTCFullYear(f + 1, 0, d), v.setUTCHours(0, 0, 0, 0); var p = Hc(v, e), g = new Date(0); g.setUTCFullYear(f, 0, d), g.setUTCHours(0, 0, 0, 0); var m = Hc(g, e); return c.getTime() >= p.getTime() ? f + 1 : c.getTime() >= m.getTime() ? f : f - 1 } function t4e(t, e) { var r, n, a, i, o, s, l, u; dt(1, arguments); var c = lu(), f = kt((r = (n = (a = (i = e == null ? void 0 : e.firstWeekContainsDate) !== null && i !== void 0 ? i : e == null || (o = e.locale) === null || o === void 0 || (s = o.options) === null || s === void 0 ? void 0 : s.firstWeekContainsDate) !== null && a !== void 0 ? a : c.firstWeekContainsDate) !== null && n !== void 0 ? n : (l = c.locale) === null || l === void 0 || (u = l.options) === null || u === void 0 ? void 0 : u.firstWeekContainsDate) !== null && r !== void 0 ? r : 1), h = $k(t, e), d = new Date(0); d.setUTCFullYear(h, 0, f), d.setUTCHours(0, 0, 0, 0); var v = Hc(d, e); return v } var r4e = 6048e5; function sY(t, e) { dt(1, arguments); var r = Pt(t), n = Hc(r, e).getTime() - t4e(r, e).getTime(); return Math.round(n / r4e) + 1 } function Sr(t, e) { for (var r = t < 0 ? "-" : "", n = Math.abs(t).toString(); n.length < e;)n = "0" + n; return r + n } var n4e = { y: function (e, r) { var n = e.getUTCFullYear(), a = n > 0 ? n : 1 - n; return Sr(r === "yy" ? a % 100 : a, r.length) }, M: function (e, r) { var n = e.getUTCMonth(); return r === "M" ? String(n + 1) : Sr(n + 1, 2) }, d: function (e, r) { return Sr(e.getUTCDate(), r.length) }, a: function (e, r) { var n = e.getUTCHours() / 12 >= 1 ? "pm" : "am"; switch (r) { case "a": case "aa": return n.toUpperCase(); case "aaa": return n; case "aaaaa": return n[0]; case "aaaa": default: return n === "am" ? "a.m." : "p.m." } }, h: function (e, r) { return Sr(e.getUTCHours() % 12 || 12, r.length) }, H: function (e, r) { return Sr(e.getUTCHours(), r.length) }, m: function (e, r) { return Sr(e.getUTCMinutes(), r.length) }, s: function (e, r) { return Sr(e.getUTCSeconds(), r.length) }, S: function (e, r) { var n = r.length, a = e.getUTCMilliseconds(), i = Math.floor(a * Math.pow(10, n - 3)); return Sr(i, r.length) } }; const cl = n4e; var Ff = { am: "am", pm: "pm", midnight: "midnight", noon: "noon", morning: "morning", afternoon: "afternoon", evening: "evening", night: "night" }, a4e = { G: function (e, r, n) { var a = e.getUTCFullYear() > 0 ? 1 : 0; switch (r) { case "G": case "GG": case "GGG": return n.era(a, { width: "abbreviated" }); case "GGGGG": return n.era(a, { width: "narrow" }); case "GGGG": default: return n.era(a, { width: "wide" }) } }, y: function (e, r, n) { if (r === "yo") { var a = e.getUTCFullYear(), i = a > 0 ? a : 1 - a; return n.ordinalNumber(i, { unit: "year" }) } return cl.y(e, r) }, Y: function (e, r, n, a) { var i = $k(e, a), o = i > 0 ? i : 1 - i; if (r === "YY") { var s = o % 100; return Sr(s, 2) } return r === "Yo" ? n.ordinalNumber(o, { unit: "year" }) : Sr(o, r.length) }, R: function (e, r) { var n = iY(e); return Sr(n, r.length) }, u: function (e, r) { var n = e.getUTCFullYear(); return Sr(n, r.length) }, Q: function (e, r, n) { var a = Math.ceil((e.getUTCMonth() + 1) / 3); switch (r) { case "Q": return String(a); case "QQ": return Sr(a, 2); case "Qo": return n.ordinalNumber(a, { unit: "quarter" }); case "QQQ": return n.quarter(a, { width: "abbreviated", context: "formatting" }); case "QQQQQ": return n.quarter(a, { width: "narrow", context: "formatting" }); case "QQQQ": default: return n.quarter(a, { width: "wide", context: "formatting" }) } }, q: function (e, r, n) { var a = Math.ceil((e.getUTCMonth() + 1) / 3); switch (r) { case "q": return String(a); case "qq": return Sr(a, 2); case "qo": return n.ordinalNumber(a, { unit: "quarter" }); case "qqq": return n.quarter(a, { width: "abbreviated", context: "standalone" }); case "qqqqq": return n.quarter(a, { width: "narrow", context: "standalone" }); case "qqqq": default: return n.quarter(a, { width: "wide", context: "standalone" }) } }, M: function (e, r, n) { var a = e.getUTCMonth(); switch (r) { case "M": case "MM": return cl.M(e, r); case "Mo": return n.ordinalNumber(a + 1, { unit: "month" }); case "MMM": return n.month(a, { width: "abbreviated", context: "formatting" }); case "MMMMM": return n.month(a, { width: "narrow", context: "formatting" }); case "MMMM": default: return n.month(a, { width: "wide", context: "formatting" }) } }, L: function (e, r, n) { var a = e.getUTCMonth(); switch (r) { case "L": return String(a + 1); case "LL": return Sr(a + 1, 2); case "Lo": return n.ordinalNumber(a + 1, { unit: "month" }); case "LLL": return n.month(a, { width: "abbreviated", context: "standalone" }); case "LLLLL": return n.month(a, { width: "narrow", context: "standalone" }); case "LLLL": default: return n.month(a, { width: "wide", context: "standalone" }) } }, w: function (e, r, n, a) { var i = sY(e, a); return r === "wo" ? n.ordinalNumber(i, { unit: "week" }) : Sr(i, r.length) }, I: function (e, r, n) { var a = oY(e); return r === "Io" ? n.ordinalNumber(a, { unit: "week" }) : Sr(a, r.length) }, d: function (e, r, n) { return r === "do" ? n.ordinalNumber(e.getUTCDate(), { unit: "date" }) : cl.d(e, r) }, D: function (e, r, n) { var a = Q7e(e); return r === "Do" ? n.ordinalNumber(a, { unit: "dayOfYear" }) : Sr(a, r.length) }, E: function (e, r, n) { var a = e.getUTCDay(); switch (r) { case "E": case "EE": case "EEE": return n.day(a, { width: "abbreviated", context: "formatting" }); case "EEEEE": return n.day(a, { width: "narrow", context: "formatting" }); case "EEEEEE": return n.day(a, { width: "short", context: "formatting" }); case "EEEE": default: return n.day(a, { width: "wide", context: "formatting" }) } }, e: function (e, r, n, a) { var i = e.getUTCDay(), o = (i - a.weekStartsOn + 8) % 7 || 7; switch (r) { case "e": return String(o); case "ee": return Sr(o, 2); case "eo": return n.ordinalNumber(o, { unit: "day" }); case "eee": return n.day(i, { width: "abbreviated", context: "formatting" }); case "eeeee": return n.day(i, { width: "narrow", context: "formatting" }); case "eeeeee": return n.day(i, { width: "short", context: "formatting" }); case "eeee": default: return n.day(i, { width: "wide", context: "formatting" }) } }, c: function (e, r, n, a) { var i = e.getUTCDay(), o = (i - a.weekStartsOn + 8) % 7 || 7; switch (r) { case "c": return String(o); case "cc": return Sr(o, r.length); case "co": return n.ordinalNumber(o, { unit: "day" }); case "ccc": return n.day(i, { width: "abbreviated", context: "standalone" }); case "ccccc": return n.day(i, { width: "narrow", context: "standalone" }); case "cccccc": return n.day(i, { width: "short", context: "standalone" }); case "cccc": default: return n.day(i, { width: "wide", context: "standalone" }) } }, i: function (e, r, n) { var a = e.getUTCDay(), i = a === 0 ? 7 : a; switch (r) { case "i": return String(i); case "ii": return Sr(i, r.length); case "io": return n.ordinalNumber(i, { unit: "day" }); case "iii": return n.day(a, { width: "abbreviated", context: "formatting" }); case "iiiii": return n.day(a, { width: "narrow", context: "formatting" }); case "iiiiii": return n.day(a, { width: "short", context: "formatting" }); case "iiii": default: return n.day(a, { width: "wide", context: "formatting" }) } }, a: function (e, r, n) { var a = e.getUTCHours(), i = a / 12 >= 1 ? "pm" : "am"; switch (r) { case "a": case "aa": return n.dayPeriod(i, { width: "abbreviated", context: "formatting" }); case "aaa": return n.dayPeriod(i, { width: "abbreviated", context: "formatting" }).toLowerCase(); case "aaaaa": return n.dayPeriod(i, { width: "narrow", context: "formatting" }); case "aaaa": default: return n.dayPeriod(i, { width: "wide", context: "formatting" }) } }, b: function (e, r, n) { var a = e.getUTCHours(), i; switch (a === 12 ? i = Ff.noon : a === 0 ? i = Ff.midnight : i = a / 12 >= 1 ? "pm" : "am", r) { case "b": case "bb": return n.dayPeriod(i, { width: "abbreviated", context: "formatting" }); case "bbb": return n.dayPeriod(i, { width: "abbreviated", context: "formatting" }).toLowerCase(); case "bbbbb": return n.dayPeriod(i, { width: "narrow", context: "formatting" }); case "bbbb": default: return n.dayPeriod(i, { width: "wide", context: "formatting" }) } }, B: function (e, r, n) { var a = e.getUTCHours(), i; switch (a >= 17 ? i = Ff.evening : a >= 12 ? i = Ff.afternoon : a >= 4 ? i = Ff.morning : i = Ff.night, r) { case "B": case "BB": case "BBB": return n.dayPeriod(i, { width: "abbreviated", context: "formatting" }); case "BBBBB": return n.dayPeriod(i, { width: "narrow", context: "formatting" }); case "BBBB": default: return n.dayPeriod(i, { width: "wide", context: "formatting" }) } }, h: function (e, r, n) { if (r === "ho") { var a = e.getUTCHours() % 12; return a === 0 && (a = 12), n.ordinalNumber(a, { unit: "hour" }) } return cl.h(e, r) }, H: function (e, r, n) { return r === "Ho" ? n.ordinalNumber(e.getUTCHours(), { unit: "hour" }) : cl.H(e, r) }, K: function (e, r, n) { var a = e.getUTCHours() % 12; return r === "Ko" ? n.ordinalNumber(a, { unit: "hour" }) : Sr(a, r.length) }, k: function (e, r, n) { var a = e.getUTCHours(); return a === 0 && (a = 24), r === "ko" ? n.ordinalNumber(a, { unit: "hour" }) : Sr(a, r.length) }, m: function (e, r, n) { return r === "mo" ? n.ordinalNumber(e.getUTCMinutes(), { unit: "minute" }) : cl.m(e, r) }, s: function (e, r, n) { return r === "so" ? n.ordinalNumber(e.getUTCSeconds(), { unit: "second" }) : cl.s(e, r) }, S: function (e, r) { return cl.S(e, r) }, X: function (e, r, n, a) { var i = a._originalDate || e, o = i.getTimezoneOffset(); if (o === 0) return "Z"; switch (r) { case "X": return H$(o); case "XXXX": case "XX": return Ju(o); case "XXXXX": case "XXX": default: return Ju(o, ":") } }, x: function (e, r, n, a) { var i = a._originalDate || e, o = i.getTimezoneOffset(); switch (r) { case "x": return H$(o); case "xxxx": case "xx": return Ju(o); case "xxxxx": case "xxx": default: return Ju(o, ":") } }, O: function (e, r, n, a) { var i = a._originalDate || e, o = i.getTimezoneOffset(); switch (r) { case "O": case "OO": case "OOO": return "GMT" + z$(o, ":"); case "OOOO": default: return "GMT" + Ju(o, ":") } }, z: function (e, r, n, a) { var i = a._originalDate || e, o = i.getTimezoneOffset(); switch (r) { case "z": case "zz": case "zzz": return "GMT" + z$(o, ":"); case "zzzz": default: return "GMT" + Ju(o, ":") } }, t: function (e, r, n, a) { var i = a._originalDate || e, o = Math.floor(i.getTime() / 1e3); return Sr(o, r.length) }, T: function (e, r, n, a) { var i = a._originalDate || e, o = i.getTime(); return Sr(o, r.length) } }; function z$(t, e) { var r = t > 0 ? "-" : "+", n = Math.abs(t), a = Math.floor(n / 60), i = n % 60; if (i === 0) return r + String(a); var o = e || ""; return r + String(a) + o + Sr(i, 2) } function H$(t, e) { if (t % 60 === 0) { var r = t > 0 ? "-" : "+"; return r + Sr(Math.abs(t) / 60, 2) } return Ju(t, e) } function Ju(t, e) { var r = e || "", n = t > 0 ? "-" : "+", a = Math.abs(t), i = Sr(Math.floor(a / 60), 2), o = Sr(a % 60, 2); return n + i + r + o } const i4e = a4e; var Y$ = function (e, r) { switch (e) { case "P": return r.date({ width: "short" }); case "PP": return r.date({ width: "medium" }); case "PPP": return r.date({ width: "long" }); case "PPPP": default: return r.date({ width: "full" }) } }, lY = function (e, r) { switch (e) { case "p": return r.time({ width: "short" }); case "pp": return r.time({ width: "medium" }); case "ppp": return r.time({ width: "long" }); case "pppp": default: return r.time({ width: "full" }) } }, o4e = function (e, r) { var n = e.match(/(P+)(p+)?/) || [], a = n[1], i = n[2]; if (!i) return Y$(e, r); var o; switch (a) { case "P": o = r.dateTime({ width: "short" }); break; case "PP": o = r.dateTime({ width: "medium" }); break; case "PPP": o = r.dateTime({ width: "long" }); break; case "PPPP": default: o = r.dateTime({ width: "full" }); break }return o.replace("{{date}}", Y$(a, r)).replace("{{time}}", lY(i, r)) }, s4e = { p: lY, P: o4e }; const Z2 = s4e; var l4e = ["D", "DD"], u4e = ["YY", "YYYY"]; function uY(t) { return l4e.indexOf(t) !== -1 } function cY(t) { return u4e.indexOf(t) !== -1 } function a_(t, e, r) { if (t === "YYYY") throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e, "`) for formatting years to the input `").concat(r, "`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")); if (t === "YY") throw new RangeError("Use `yy` instead of `YY` (in `".concat(e, "`) for formatting years to the input `").concat(r, "`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")); if (t === "D") throw new RangeError("Use `d` instead of `D` (in `".concat(e, "`) for formatting days of the month to the input `").concat(r, "`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")); if (t === "DD") throw new RangeError("Use `dd` instead of `DD` (in `".concat(e, "`) for formatting days of the month to the input `").concat(r, "`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")) } var c4e = { lessThanXSeconds: { one: "less than a second", other: "less than {{count}} seconds" }, xSeconds: { one: "1 second", other: "{{count}} seconds" }, halfAMinute: "half a minute", lessThanXMinutes: { one: "less than a minute", other: "less than {{count}} minutes" }, xMinutes: { one: "1 minute", other: "{{count}} minutes" }, aboutXHours: { one: "about 1 hour", other: "about {{count}} hours" }, xHours: { one: "1 hour", other: "{{count}} hours" }, xDays: { one: "1 day", other: "{{count}} days" }, aboutXWeeks: { one: "about 1 week", other: "about {{count}} weeks" }, xWeeks: { one: "1 week", other: "{{count}} weeks" }, aboutXMonths: { one: "about 1 month", other: "about {{count}} months" }, xMonths: { one: "1 month", other: "{{count}} months" }, aboutXYears: { one: "about 1 year", other: "about {{count}} years" }, xYears: { one: "1 year", other: "{{count}} years" }, overXYears: { one: "over 1 year", other: "over {{count}} years" }, almostXYears: { one: "almost 1 year", other: "almost {{count}} years" } }, f4e = function (e, r, n) { var a, i = c4e[e]; return typeof i == "string" ? a = i : r === 1 ? a = i.one : a = i.other.replace("{{count}}", r.toString()), n != null && n.addSuffix ? n.comparison && n.comparison > 0 ? "in " + a : a + " ago" : a }; const h4e = f4e; function ox(t) { return function () { var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, r = e.width ? String(e.width) : t.defaultWidth, n = t.formats[r] || t.formats[t.defaultWidth]; return n } } var d4e = { full: "EEEE, MMMM do, y", long: "MMMM do, y", medium: "MMM d, y", short: "MM/dd/yyyy" }, v4e = { full: "h:mm:ss a zzzz", long: "h:mm:ss a z", medium: "h:mm:ss a", short: "h:mm a" }, p4e = { full: "{{date}} 'at' {{time}}", long: "{{date}} 'at' {{time}}", medium: "{{date}}, {{time}}", short: "{{date}}, {{time}}" }, g4e = { date: ox({ formats: d4e, defaultWidth: "full" }), time: ox({ formats: v4e, defaultWidth: "full" }), dateTime: ox({ formats: p4e, defaultWidth: "full" }) }; const m4e = g4e; var y4e = { lastWeek: "'last' eeee 'at' p", yesterday: "'yesterday at' p", today: "'today at' p", tomorrow: "'tomorrow at' p", nextWeek: "eeee 'at' p", other: "P" }, _4e = function (e, r, n, a) { return y4e[e] }; const b4e = _4e; function Kd(t) { return function (e, r) { var n = r != null && r.context ? String(r.context) : "standalone", a; if (n === "formatting" && t.formattingValues) { var i = t.defaultFormattingWidth || t.defaultWidth, o = r != null && r.width ? String(r.width) : i; a = t.formattingValues[o] || t.formattingValues[i] } else { var s = t.defaultWidth, l = r != null && r.width ? String(r.width) : t.defaultWidth; a = t.values[l] || t.values[s] } var u = t.argumentCallback ? t.argumentCallback(e) : e; return a[u] } } var w4e = { narrow: ["B", "A"], abbreviated: ["BC", "AD"], wide: ["Before Christ", "Anno Domini"] }, S4e = { narrow: ["1", "2", "3", "4"], abbreviated: ["Q1", "Q2", "Q3", "Q4"], wide: ["1st quarter", "2nd quarter", "3rd quarter", "4th quarter"] }, x4e = { narrow: ["J", "F", "M", "A", "M", "J", "J", "A", "S", "O", "N", "D"], abbreviated: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], wide: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"] }, T4e = { narrow: ["S", "M", "T", "W", "T", "F", "S"], short: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], abbreviated: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], wide: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"] }, D4e = { narrow: { am: "a", pm: "p", midnight: "mi", noon: "n", morning: "morning", afternoon: "afternoon", evening: "evening", night: "night" }, abbreviated: { am: "AM", pm: "PM", midnight: "midnight", noon: "noon", morning: "morning", afternoon: "afternoon", evening: "evening", night: "night" }, wide: { am: "a.m.", pm: "p.m.", midnight: "midnight", noon: "noon", morning: "morning", afternoon: "afternoon", evening: "evening", night: "night" } }, C4e = { narrow: { am: "a", pm: "p", midnight: "mi", noon: "n", morning: "in the morning", afternoon: "in the afternoon", evening: "in the evening", night: "at night" }, abbreviated: { am: "AM", pm: "PM", midnight: "midnight", noon: "noon", morning: "in the morning", afternoon: "in the afternoon", evening: "in the evening", night: "at night" }, wide: { am: "a.m.", pm: "p.m.", midnight: "midnight", noon: "noon", morning: "in the morning", afternoon: "in the afternoon", evening: "in the evening", night: "at night" } }, M4e = function (e, r) { var n = Number(e), a = n % 100; if (a > 20 || a < 10) switch (a % 10) { case 1: return n + "st"; case 2: return n + "nd"; case 3: return n + "rd" }return n + "th" }, k4e = { ordinalNumber: M4e, era: Kd({ values: w4e, defaultWidth: "wide" }), quarter: Kd({ values: S4e, defaultWidth: "wide", argumentCallback: function (e) { return e - 1 } }), month: Kd({ values: x4e, defaultWidth: "wide" }), day: Kd({ values: T4e, defaultWidth: "wide" }), dayPeriod: Kd({ values: D4e, defaultWidth: "wide", formattingValues: C4e, defaultFormattingWidth: "wide" }) }; const A4e = k4e; function Qd(t) { return function (e) { var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, n = r.width, a = n && t.matchPatterns[n] || t.matchPatterns[t.defaultMatchWidth], i = e.match(a); if (!i) return null; var o = i[0], s = n && t.parsePatterns[n] || t.parsePatterns[t.defaultParseWidth], l = Array.isArray(s) ? I4e(s, function (f) { return f.test(o) }) : L4e(s, function (f) { return f.test(o) }), u; u = t.valueCallback ? t.valueCallback(l) : l, u = r.valueCallback ? r.valueCallback(u) : u; var c = e.slice(o.length); return { value: u, rest: c } } } function L4e(t, e) { for (var r in t) if (t.hasOwnProperty(r) && e(t[r])) return r } function I4e(t, e) { for (var r = 0; r < t.length; r++)if (e(t[r])) return r } function P4e(t) { return function (e) { var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, n = e.match(t.matchPattern); if (!n) return null; var a = n[0], i = e.match(t.parsePattern); if (!i) return null; var o = t.valueCallback ? t.valueCallback(i[0]) : i[0]; o = r.valueCallback ? r.valueCallback(o) : o; var s = e.slice(a.length); return { value: o, rest: s } } } var R4e = /^(\d+)(th|st|nd|rd)?/i, O4e = /\d+/i, E4e = { narrow: /^(b|a)/i, abbreviated: /^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i, wide: /^(before christ|before common era|anno domini|common era)/i }, N4e = { any: [/^b/i, /^(a|c)/i] }, $4e = { narrow: /^[1234]/i, abbreviated: /^q[1234]/i, wide: /^[1234](th|st|nd|rd)? quarter/i }, F4e = { any: [/1/i, /2/i, /3/i, /4/i] }, B4e = { narrow: /^[jfmasond]/i, abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i, wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i }, V4e = { narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i], any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i] }, z4e = { narrow: /^[smtwf]/i, short: /^(su|mo|tu|we|th|fr|sa)/i, abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i, wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i }, H4e = { narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i], any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i] }, Y4e = { narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i, any: /^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i }, U4e = { any: { am: /^a/i, pm: /^p/i, midnight: /^mi/i, noon: /^no/i, morning: /morning/i, afternoon: /afternoon/i, evening: /evening/i, night: /night/i } }, W4e = { ordinalNumber: P4e({ matchPattern: R4e, parsePattern: O4e, valueCallback: function (e) { return parseInt(e, 10) } }), era: Qd({ matchPatterns: E4e, defaultMatchWidth: "wide", parsePatterns: N4e, defaultParseWidth: "any" }), quarter: Qd({ matchPatterns: $4e, defaultMatchWidth: "wide", parsePatterns: F4e, defaultParseWidth: "any", valueCallback: function (e) { return e + 1 } }), month: Qd({ matchPatterns: B4e, defaultMatchWidth: "wide", parsePatterns: V4e, defaultParseWidth: "any" }), day: Qd({ matchPatterns: z4e, defaultMatchWidth: "wide", parsePatterns: H4e, defaultParseWidth: "any" }), dayPeriod: Qd({ matchPatterns: Y4e, defaultMatchWidth: "any", parsePatterns: U4e, defaultParseWidth: "any" }) }; const G4e = W4e; var j4e = { code: "en-US", formatDistance: h4e, formatLong: m4e, formatRelative: b4e, localize: A4e, match: G4e, options: { weekStartsOn: 0, firstWeekContainsDate: 1 } }; const fY = j4e; var Z4e = /[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g, q4e = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g, X4e = /^'([^]*?)'?$/, K4e = /''/g, Q4e = /[a-zA-Z]/; function Wv(t, e, r) { var n, a, i, o, s, l, u, c, f, h, d, v, p, g, m, y, _, b; dt(2, arguments); var x = String(e), S = lu(), T = (n = (a = r == null ? void 0 : r.locale) !== null && a !== void 0 ? a : S.locale) !== null && n !== void 0 ? n : fY, C = kt((i = (o = (s = (l = r == null ? void 0 : r.firstWeekContainsDate) !== null && l !== void 0 ? l : r == null || (u = r.locale) === null || u === void 0 || (c = u.options) === null || c === void 0 ? void 0 : c.firstWeekContainsDate) !== null && s !== void 0 ? s : S.firstWeekContainsDate) !== null && o !== void 0 ? o : (f = S.locale) === null || f === void 0 || (h = f.options) === null || h === void 0 ? void 0 : h.firstWeekContainsDate) !== null && i !== void 0 ? i : 1); if (!(C >= 1 && C <= 7)) throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively"); var M = kt((d = (v = (p = (g = r == null ? void 0 : r.weekStartsOn) !== null && g !== void 0 ? g : r == null || (m = r.locale) === null || m === void 0 || (y = m.options) === null || y === void 0 ? void 0 : y.weekStartsOn) !== null && p !== void 0 ? p : S.weekStartsOn) !== null && v !== void 0 ? v : (_ = S.locale) === null || _ === void 0 || (b = _.options) === null || b === void 0 ? void 0 : b.weekStartsOn) !== null && d !== void 0 ? d : 0); if (!(M >= 0 && M <= 6)) throw new RangeError("weekStartsOn must be between 0 and 6 inclusively"); if (!T.localize) throw new RangeError("locale must contain localize property"); if (!T.formatLong) throw new RangeError("locale must contain formatLong property"); var k = Pt(t); if (!Uv(k)) throw new RangeError("Invalid time value"); var A = n_(k), R = aY(k, A), N = { firstWeekContainsDate: C, weekStartsOn: M, locale: T, _originalDate: k }, z = x.match(q4e).map(function (F) { var V = F[0]; if (V === "p" || V === "P") { var L = Z2[V]; return L(F, T.formatLong) } return F }).join("").match(Z4e).map(function (F) { if (F === "''") return "'"; var V = F[0]; if (V === "'") return J4e(F); var L = i4e[V]; if (L) return !(r != null && r.useAdditionalWeekYearTokens) && cY(F) && a_(F, e, String(t)), !(r != null && r.useAdditionalDayOfYearTokens) && uY(F) && a_(F, e, String(t)), L(R, F, T.localize, N); if (V.match(Q4e)) throw new RangeError("Format string contains an unescaped latin alphabet character `" + V + "`"); return F }).join(""); return z } function J4e(t) { var e = t.match(X4e); return e ? e[1].replace(K4e, "'") : t } function eFe(t, e) { if (t == null) throw new TypeError("assign requires that input parameter not be null or undefined"); for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]); return t } function tFe(t) { dt(1, arguments); var e = Pt(t), r = e.getDay(); return r } function rFe(t) { dt(1, arguments); var e = Pt(t), r = e.getFullYear(), n = e.getMonth(), a = new Date(0); return a.setFullYear(r, n + 1, 0), a.setHours(0, 0, 0, 0), a.getDate() } function hs(t) { dt(1, arguments); var e = Pt(t), r = e.getHours(); return r } var nFe = 6048e5; function aFe(t) { dt(1, arguments); var e = Pt(t), r = r_(e).getTime() - G7e(e).getTime(); return Math.round(r / nFe) + 1 } function ds(t) { dt(1, arguments); var e = Pt(t), r = e.getMinutes(); return r } function Vr(t) { dt(1, arguments); var e = Pt(t), r = e.getMonth(); return r } function Eh(t) { dt(1, arguments); var e = Pt(t), r = e.getSeconds(); return r } function zr(t) { return dt(1, arguments), Pt(t).getFullYear() } function Fk(t, e) { dt(2, arguments); var r = Pt(t), n = Pt(e); return r.getTime() > n.getTime() } function Bk(t, e) { dt(2, arguments); var r = Pt(t), n = Pt(e); return r.getTime() < n.getTime() } function hY(t, e) { dt(2, arguments); var r = Pt(t), n = Pt(e); return r.getTime() === n.getTime() } function U$(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } function iFe(t, e) { if (t) { if (typeof t == "string") return U$(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); if (r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set") return Array.from(t); if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return U$(t, e) } } function W$(t, e) {
    var r = typeof Symbol < "u" && t[Symbol.iterator] || t["@@iterator"]; if (!r) {
        if (Array.isArray(t) || (r = iFe(t)) || e && t && typeof t.length == "number") { r && (t = r); var n = 0, a = function () { }; return { s: a, n: function () { return n >= t.length ? { done: !0 } : { done: !1, value: t[n++] } }, e: function (u) { throw u }, f: a } } throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
    } var i = !0, o = !1, s; return { s: function () { r = r.call(t) }, n: function () { var u = r.next(); return i = u.done, u }, e: function (u) { o = !0, s = u }, f: function () { try { !i && r.return != null && r.return() } finally { if (o) throw s } } }
} function Je(t) { if (t === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function q2(t, e) { return q2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (n, a) { return n.__proto__ = a, n }, q2(t, e) } function dr(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && q2(t, e) } function i_(t) { return i_ = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (r) { return r.__proto__ || Object.getPrototypeOf(r) }, i_(t) } function oFe() { if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham) return !1; if (typeof Proxy == "function") return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch { return !1 } } function sFe(t, e) { if (e && (bi(e) === "object" || typeof e == "function")) return e; if (e !== void 0) throw new TypeError("Derived constructors may only return object or undefined"); return Je(t) } function vr(t) { var e = oFe(); return function () { var n = i_(t), a; if (e) { var i = i_(this).constructor; a = Reflect.construct(n, arguments, i) } else a = n.apply(this, arguments); return sFe(this, a) } } function rr(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function lFe(t, e) { if (bi(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e || "default"); if (bi(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } function dY(t) { var e = lFe(t, "string"); return bi(e) == "symbol" ? e : String(e) } function G$(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, dY(n.key), n) } } function nr(t, e, r) { return e && G$(t.prototype, e), r && G$(t, r), Object.defineProperty(t, "prototype", { writable: !1 }), t } function Ze(t, e, r) { return e = dY(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } var uFe = 10, vY = function () { function t() { rr(this, t), Ze(this, "priority", void 0), Ze(this, "subPriority", 0) } return nr(t, [{ key: "validate", value: function (r, n) { return !0 } }]), t }(), cFe = function (t) { dr(r, t); var e = vr(r); function r(n, a, i, o, s) { var l; return rr(this, r), l = e.call(this), l.value = n, l.validateValue = a, l.setValue = i, l.priority = o, s && (l.subPriority = s), l } return nr(r, [{ key: "validate", value: function (a, i) { return this.validateValue(a, this.value, i) } }, { key: "set", value: function (a, i, o) { return this.setValue(a, i, this.value, o) } }]), r }(vY), fFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", uFe), Ze(Je(n), "subPriority", -1), n } return nr(r, [{ key: "set", value: function (a, i) { if (i.timestampIsSet) return a; var o = new Date(0); return o.setFullYear(a.getUTCFullYear(), a.getUTCMonth(), a.getUTCDate()), o.setHours(a.getUTCHours(), a.getUTCMinutes(), a.getUTCSeconds(), a.getUTCMilliseconds()), o } }]), r }(vY), br = function () { function t() { rr(this, t), Ze(this, "incompatibleTokens", void 0), Ze(this, "priority", void 0), Ze(this, "subPriority", void 0) } return nr(t, [{ key: "run", value: function (r, n, a, i) { var o = this.parse(r, n, a, i); return o ? { setter: new cFe(o.value, this.validate, this.set, this.priority, this.subPriority), rest: o.rest } : null } }, { key: "validate", value: function (r, n, a) { return !0 } }]), t }(), hFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 140), Ze(Je(n), "incompatibleTokens", ["R", "u", "t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i, o) { switch (i) { case "G": case "GG": case "GGG": return o.era(a, { width: "abbreviated" }) || o.era(a, { width: "narrow" }); case "GGGGG": return o.era(a, { width: "narrow" }); case "GGGG": default: return o.era(a, { width: "wide" }) || o.era(a, { width: "abbreviated" }) || o.era(a, { width: "narrow" }) } } }, { key: "set", value: function (a, i, o) { return i.era = o, a.setUTCFullYear(o, 0, 1), a.setUTCHours(0, 0, 0, 0), a } }]), r }(br), vn = { month: /^(1[0-2]|0?\d)/, date: /^(3[0-1]|[0-2]?\d)/, dayOfYear: /^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/, week: /^(5[0-3]|[0-4]?\d)/, hour23h: /^(2[0-3]|[0-1]?\d)/, hour24h: /^(2[0-4]|[0-1]?\d)/, hour11h: /^(1[0-1]|0?\d)/, hour12h: /^(1[0-2]|0?\d)/, minute: /^[0-5]?\d/, second: /^[0-5]?\d/, singleDigit: /^\d/, twoDigits: /^\d{1,2}/, threeDigits: /^\d{1,3}/, fourDigits: /^\d{1,4}/, anyDigitsSigned: /^-?\d+/, singleDigitSigned: /^-?\d/, twoDigitsSigned: /^-?\d{1,2}/, threeDigitsSigned: /^-?\d{1,3}/, fourDigitsSigned: /^-?\d{1,4}/ }, yo = { basicOptionalMinutes: /^([+-])(\d{2})(\d{2})?|Z/, basic: /^([+-])(\d{2})(\d{2})|Z/, basicOptionalSeconds: /^([+-])(\d{2})(\d{2})((\d{2}))?|Z/, extended: /^([+-])(\d{2}):(\d{2})|Z/, extendedOptionalSeconds: /^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/ }; function pn(t, e) { return t && { value: e(t.value), rest: t.rest } } function Jr(t, e) { var r = e.match(t); return r ? { value: parseInt(r[0], 10), rest: e.slice(r[0].length) } : null } function _o(t, e) { var r = e.match(t); if (!r) return null; if (r[0] === "Z") return { value: 0, rest: e.slice(1) }; var n = r[1] === "+" ? 1 : -1, a = r[2] ? parseInt(r[2], 10) : 0, i = r[3] ? parseInt(r[3], 10) : 0, o = r[5] ? parseInt(r[5], 10) : 0; return { value: n * (a * Nk + i * Ek + o * q7e), rest: e.slice(r[0].length) } } function pY(t) { return Jr(vn.anyDigitsSigned, t) } function an(t, e) { switch (t) { case 1: return Jr(vn.singleDigit, e); case 2: return Jr(vn.twoDigits, e); case 3: return Jr(vn.threeDigits, e); case 4: return Jr(vn.fourDigits, e); default: return Jr(new RegExp("^\\d{1," + t + "}"), e) } } function o_(t, e) { switch (t) { case 1: return Jr(vn.singleDigitSigned, e); case 2: return Jr(vn.twoDigitsSigned, e); case 3: return Jr(vn.threeDigitsSigned, e); case 4: return Jr(vn.fourDigitsSigned, e); default: return Jr(new RegExp("^-?\\d{1," + t + "}"), e) } } function Vk(t) { switch (t) { case "morning": return 4; case "evening": return 17; case "pm": case "noon": case "afternoon": return 12; case "am": case "midnight": case "night": default: return 0 } } function gY(t, e) { var r = e > 0, n = r ? e : 1 - e, a; if (n <= 50) a = t || 100; else { var i = n + 50, o = Math.floor(i / 100) * 100, s = t >= i % 100; a = t + o - (s ? 100 : 0) } return r ? a : 1 - a } function mY(t) { return t % 400 === 0 || t % 4 === 0 && t % 100 !== 0 } var dFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 130), Ze(Je(n), "incompatibleTokens", ["Y", "R", "u", "w", "I", "i", "e", "c", "t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i, o) { var s = function (u) { return { year: u, isTwoDigitYear: i === "yy" } }; switch (i) { case "y": return pn(an(4, a), s); case "yo": return pn(o.ordinalNumber(a, { unit: "year" }), s); default: return pn(an(i.length, a), s) } } }, { key: "validate", value: function (a, i) { return i.isTwoDigitYear || i.year > 0 } }, { key: "set", value: function (a, i, o) { var s = a.getUTCFullYear(); if (o.isTwoDigitYear) { var l = gY(o.year, s); return a.setUTCFullYear(l, 0, 1), a.setUTCHours(0, 0, 0, 0), a } var u = !("era" in i) || i.era === 1 ? o.year : 1 - o.year; return a.setUTCFullYear(u, 0, 1), a.setUTCHours(0, 0, 0, 0), a } }]), r }(br), vFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 130), Ze(Je(n), "incompatibleTokens", ["y", "R", "u", "Q", "q", "M", "L", "I", "d", "D", "i", "t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i, o) { var s = function (u) { return { year: u, isTwoDigitYear: i === "YY" } }; switch (i) { case "Y": return pn(an(4, a), s); case "Yo": return pn(o.ordinalNumber(a, { unit: "year" }), s); default: return pn(an(i.length, a), s) } } }, { key: "validate", value: function (a, i) { return i.isTwoDigitYear || i.year > 0 } }, { key: "set", value: function (a, i, o, s) { var l = $k(a, s); if (o.isTwoDigitYear) { var u = gY(o.year, l); return a.setUTCFullYear(u, 0, s.firstWeekContainsDate), a.setUTCHours(0, 0, 0, 0), Hc(a, s) } var c = !("era" in i) || i.era === 1 ? o.year : 1 - o.year; return a.setUTCFullYear(c, 0, s.firstWeekContainsDate), a.setUTCHours(0, 0, 0, 0), Hc(a, s) } }]), r }(br), pFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 130), Ze(Je(n), "incompatibleTokens", ["G", "y", "Y", "u", "Q", "q", "M", "L", "w", "d", "D", "e", "c", "t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i) { return o_(i === "R" ? 4 : i.length, a) } }, { key: "set", value: function (a, i, o) { var s = new Date(0); return s.setUTCFullYear(o, 0, 4), s.setUTCHours(0, 0, 0, 0), Oh(s) } }]), r }(br), gFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 130), Ze(Je(n), "incompatibleTokens", ["G", "y", "Y", "R", "w", "I", "i", "e", "c", "t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i) { return o_(i === "u" ? 4 : i.length, a) } }, { key: "set", value: function (a, i, o) { return a.setUTCFullYear(o, 0, 1), a.setUTCHours(0, 0, 0, 0), a } }]), r }(br), mFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 120), Ze(Je(n), "incompatibleTokens", ["Y", "R", "q", "M", "L", "w", "I", "d", "D", "i", "e", "c", "t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i, o) { switch (i) { case "Q": case "QQ": return an(i.length, a); case "Qo": return o.ordinalNumber(a, { unit: "quarter" }); case "QQQ": return o.quarter(a, { width: "abbreviated", context: "formatting" }) || o.quarter(a, { width: "narrow", context: "formatting" }); case "QQQQQ": return o.quarter(a, { width: "narrow", context: "formatting" }); case "QQQQ": default: return o.quarter(a, { width: "wide", context: "formatting" }) || o.quarter(a, { width: "abbreviated", context: "formatting" }) || o.quarter(a, { width: "narrow", context: "formatting" }) } } }, { key: "validate", value: function (a, i) { return i >= 1 && i <= 4 } }, { key: "set", value: function (a, i, o) { return a.setUTCMonth((o - 1) * 3, 1), a.setUTCHours(0, 0, 0, 0), a } }]), r }(br), yFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 120), Ze(Je(n), "incompatibleTokens", ["Y", "R", "Q", "M", "L", "w", "I", "d", "D", "i", "e", "c", "t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i, o) { switch (i) { case "q": case "qq": return an(i.length, a); case "qo": return o.ordinalNumber(a, { unit: "quarter" }); case "qqq": return o.quarter(a, { width: "abbreviated", context: "standalone" }) || o.quarter(a, { width: "narrow", context: "standalone" }); case "qqqqq": return o.quarter(a, { width: "narrow", context: "standalone" }); case "qqqq": default: return o.quarter(a, { width: "wide", context: "standalone" }) || o.quarter(a, { width: "abbreviated", context: "standalone" }) || o.quarter(a, { width: "narrow", context: "standalone" }) } } }, { key: "validate", value: function (a, i) { return i >= 1 && i <= 4 } }, { key: "set", value: function (a, i, o) { return a.setUTCMonth((o - 1) * 3, 1), a.setUTCHours(0, 0, 0, 0), a } }]), r }(br), _Fe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "incompatibleTokens", ["Y", "R", "q", "Q", "L", "w", "I", "D", "i", "e", "c", "t", "T"]), Ze(Je(n), "priority", 110), n } return nr(r, [{ key: "parse", value: function (a, i, o) { var s = function (u) { return u - 1 }; switch (i) { case "M": return pn(Jr(vn.month, a), s); case "MM": return pn(an(2, a), s); case "Mo": return pn(o.ordinalNumber(a, { unit: "month" }), s); case "MMM": return o.month(a, { width: "abbreviated", context: "formatting" }) || o.month(a, { width: "narrow", context: "formatting" }); case "MMMMM": return o.month(a, { width: "narrow", context: "formatting" }); case "MMMM": default: return o.month(a, { width: "wide", context: "formatting" }) || o.month(a, { width: "abbreviated", context: "formatting" }) || o.month(a, { width: "narrow", context: "formatting" }) } } }, { key: "validate", value: function (a, i) { return i >= 0 && i <= 11 } }, { key: "set", value: function (a, i, o) { return a.setUTCMonth(o, 1), a.setUTCHours(0, 0, 0, 0), a } }]), r }(br), bFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 110), Ze(Je(n), "incompatibleTokens", ["Y", "R", "q", "Q", "M", "w", "I", "D", "i", "e", "c", "t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i, o) { var s = function (u) { return u - 1 }; switch (i) { case "L": return pn(Jr(vn.month, a), s); case "LL": return pn(an(2, a), s); case "Lo": return pn(o.ordinalNumber(a, { unit: "month" }), s); case "LLL": return o.month(a, { width: "abbreviated", context: "standalone" }) || o.month(a, { width: "narrow", context: "standalone" }); case "LLLLL": return o.month(a, { width: "narrow", context: "standalone" }); case "LLLL": default: return o.month(a, { width: "wide", context: "standalone" }) || o.month(a, { width: "abbreviated", context: "standalone" }) || o.month(a, { width: "narrow", context: "standalone" }) } } }, { key: "validate", value: function (a, i) { return i >= 0 && i <= 11 } }, { key: "set", value: function (a, i, o) { return a.setUTCMonth(o, 1), a.setUTCHours(0, 0, 0, 0), a } }]), r }(br); function wFe(t, e, r) { dt(2, arguments); var n = Pt(t), a = kt(e), i = sY(n, r) - a; return n.setUTCDate(n.getUTCDate() - i * 7), n } var SFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 100), Ze(Je(n), "incompatibleTokens", ["y", "R", "u", "q", "Q", "M", "L", "I", "d", "D", "i", "t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i, o) { switch (i) { case "w": return Jr(vn.week, a); case "wo": return o.ordinalNumber(a, { unit: "week" }); default: return an(i.length, a) } } }, { key: "validate", value: function (a, i) { return i >= 1 && i <= 53 } }, { key: "set", value: function (a, i, o, s) { return Hc(wFe(a, o, s), s) } }]), r }(br); function xFe(t, e) { dt(2, arguments); var r = Pt(t), n = kt(e), a = oY(r) - n; return r.setUTCDate(r.getUTCDate() - a * 7), r } var TFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 100), Ze(Je(n), "incompatibleTokens", ["y", "Y", "u", "q", "Q", "M", "L", "w", "d", "D", "e", "c", "t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i, o) { switch (i) { case "I": return Jr(vn.week, a); case "Io": return o.ordinalNumber(a, { unit: "week" }); default: return an(i.length, a) } } }, { key: "validate", value: function (a, i) { return i >= 1 && i <= 53 } }, { key: "set", value: function (a, i, o) { return Oh(xFe(a, o)) } }]), r }(br), DFe = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31], CFe = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31], MFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 90), Ze(Je(n), "subPriority", 1), Ze(Je(n), "incompatibleTokens", ["Y", "R", "q", "Q", "w", "I", "D", "i", "e", "c", "t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i, o) { switch (i) { case "d": return Jr(vn.date, a); case "do": return o.ordinalNumber(a, { unit: "date" }); default: return an(i.length, a) } } }, { key: "validate", value: function (a, i) { var o = a.getUTCFullYear(), s = mY(o), l = a.getUTCMonth(); return s ? i >= 1 && i <= CFe[l] : i >= 1 && i <= DFe[l] } }, { key: "set", value: function (a, i, o) { return a.setUTCDate(o), a.setUTCHours(0, 0, 0, 0), a } }]), r }(br), kFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 90), Ze(Je(n), "subpriority", 1), Ze(Je(n), "incompatibleTokens", ["Y", "R", "q", "Q", "M", "L", "w", "I", "d", "E", "i", "e", "c", "t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i, o) { switch (i) { case "D": case "DD": return Jr(vn.dayOfYear, a); case "Do": return o.ordinalNumber(a, { unit: "date" }); default: return an(i.length, a) } } }, { key: "validate", value: function (a, i) { var o = a.getUTCFullYear(), s = mY(o); return s ? i >= 1 && i <= 366 : i >= 1 && i <= 365 } }, { key: "set", value: function (a, i, o) { return a.setUTCMonth(0, o), a.setUTCHours(0, 0, 0, 0), a } }]), r }(br); function zk(t, e, r) { var n, a, i, o, s, l, u, c; dt(2, arguments); var f = lu(), h = kt((n = (a = (i = (o = r == null ? void 0 : r.weekStartsOn) !== null && o !== void 0 ? o : r == null || (s = r.locale) === null || s === void 0 || (l = s.options) === null || l === void 0 ? void 0 : l.weekStartsOn) !== null && i !== void 0 ? i : f.weekStartsOn) !== null && a !== void 0 ? a : (u = f.locale) === null || u === void 0 || (c = u.options) === null || c === void 0 ? void 0 : c.weekStartsOn) !== null && n !== void 0 ? n : 0); if (!(h >= 0 && h <= 6)) throw new RangeError("weekStartsOn must be between 0 and 6 inclusively"); var d = Pt(t), v = kt(e), p = d.getUTCDay(), g = v % 7, m = (g + 7) % 7, y = (m < h ? 7 : 0) + v - p; return d.setUTCDate(d.getUTCDate() + y), d } var AFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 90), Ze(Je(n), "incompatibleTokens", ["D", "i", "e", "c", "t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i, o) { switch (i) { case "E": case "EE": case "EEE": return o.day(a, { width: "abbreviated", context: "formatting" }) || o.day(a, { width: "short", context: "formatting" }) || o.day(a, { width: "narrow", context: "formatting" }); case "EEEEE": return o.day(a, { width: "narrow", context: "formatting" }); case "EEEEEE": return o.day(a, { width: "short", context: "formatting" }) || o.day(a, { width: "narrow", context: "formatting" }); case "EEEE": default: return o.day(a, { width: "wide", context: "formatting" }) || o.day(a, { width: "abbreviated", context: "formatting" }) || o.day(a, { width: "short", context: "formatting" }) || o.day(a, { width: "narrow", context: "formatting" }) } } }, { key: "validate", value: function (a, i) { return i >= 0 && i <= 6 } }, { key: "set", value: function (a, i, o, s) { return a = zk(a, o, s), a.setUTCHours(0, 0, 0, 0), a } }]), r }(br), LFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 90), Ze(Je(n), "incompatibleTokens", ["y", "R", "u", "q", "Q", "M", "L", "I", "d", "D", "E", "i", "c", "t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i, o, s) { var l = function (c) { var f = Math.floor((c - 1) / 7) * 7; return (c + s.weekStartsOn + 6) % 7 + f }; switch (i) { case "e": case "ee": return pn(an(i.length, a), l); case "eo": return pn(o.ordinalNumber(a, { unit: "day" }), l); case "eee": return o.day(a, { width: "abbreviated", context: "formatting" }) || o.day(a, { width: "short", context: "formatting" }) || o.day(a, { width: "narrow", context: "formatting" }); case "eeeee": return o.day(a, { width: "narrow", context: "formatting" }); case "eeeeee": return o.day(a, { width: "short", context: "formatting" }) || o.day(a, { width: "narrow", context: "formatting" }); case "eeee": default: return o.day(a, { width: "wide", context: "formatting" }) || o.day(a, { width: "abbreviated", context: "formatting" }) || o.day(a, { width: "short", context: "formatting" }) || o.day(a, { width: "narrow", context: "formatting" }) } } }, { key: "validate", value: function (a, i) { return i >= 0 && i <= 6 } }, { key: "set", value: function (a, i, o, s) { return a = zk(a, o, s), a.setUTCHours(0, 0, 0, 0), a } }]), r }(br), IFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 90), Ze(Je(n), "incompatibleTokens", ["y", "R", "u", "q", "Q", "M", "L", "I", "d", "D", "E", "i", "e", "t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i, o, s) { var l = function (c) { var f = Math.floor((c - 1) / 7) * 7; return (c + s.weekStartsOn + 6) % 7 + f }; switch (i) { case "c": case "cc": return pn(an(i.length, a), l); case "co": return pn(o.ordinalNumber(a, { unit: "day" }), l); case "ccc": return o.day(a, { width: "abbreviated", context: "standalone" }) || o.day(a, { width: "short", context: "standalone" }) || o.day(a, { width: "narrow", context: "standalone" }); case "ccccc": return o.day(a, { width: "narrow", context: "standalone" }); case "cccccc": return o.day(a, { width: "short", context: "standalone" }) || o.day(a, { width: "narrow", context: "standalone" }); case "cccc": default: return o.day(a, { width: "wide", context: "standalone" }) || o.day(a, { width: "abbreviated", context: "standalone" }) || o.day(a, { width: "short", context: "standalone" }) || o.day(a, { width: "narrow", context: "standalone" }) } } }, { key: "validate", value: function (a, i) { return i >= 0 && i <= 6 } }, { key: "set", value: function (a, i, o, s) { return a = zk(a, o, s), a.setUTCHours(0, 0, 0, 0), a } }]), r }(br); function PFe(t, e) { dt(2, arguments); var r = kt(e); r % 7 === 0 && (r = r - 7); var n = 1, a = Pt(t), i = a.getUTCDay(), o = r % 7, s = (o + 7) % 7, l = (s < n ? 7 : 0) + r - i; return a.setUTCDate(a.getUTCDate() + l), a } var RFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 90), Ze(Je(n), "incompatibleTokens", ["y", "Y", "u", "q", "Q", "M", "L", "w", "d", "D", "E", "e", "c", "t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i, o) { var s = function (u) { return u === 0 ? 7 : u }; switch (i) { case "i": case "ii": return an(i.length, a); case "io": return o.ordinalNumber(a, { unit: "day" }); case "iii": return pn(o.day(a, { width: "abbreviated", context: "formatting" }) || o.day(a, { width: "short", context: "formatting" }) || o.day(a, { width: "narrow", context: "formatting" }), s); case "iiiii": return pn(o.day(a, { width: "narrow", context: "formatting" }), s); case "iiiiii": return pn(o.day(a, { width: "short", context: "formatting" }) || o.day(a, { width: "narrow", context: "formatting" }), s); case "iiii": default: return pn(o.day(a, { width: "wide", context: "formatting" }) || o.day(a, { width: "abbreviated", context: "formatting" }) || o.day(a, { width: "short", context: "formatting" }) || o.day(a, { width: "narrow", context: "formatting" }), s) } } }, { key: "validate", value: function (a, i) { return i >= 1 && i <= 7 } }, { key: "set", value: function (a, i, o) { return a = PFe(a, o), a.setUTCHours(0, 0, 0, 0), a } }]), r }(br), OFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 80), Ze(Je(n), "incompatibleTokens", ["b", "B", "H", "k", "t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i, o) { switch (i) { case "a": case "aa": case "aaa": return o.dayPeriod(a, { width: "abbreviated", context: "formatting" }) || o.dayPeriod(a, { width: "narrow", context: "formatting" }); case "aaaaa": return o.dayPeriod(a, { width: "narrow", context: "formatting" }); case "aaaa": default: return o.dayPeriod(a, { width: "wide", context: "formatting" }) || o.dayPeriod(a, { width: "abbreviated", context: "formatting" }) || o.dayPeriod(a, { width: "narrow", context: "formatting" }) } } }, { key: "set", value: function (a, i, o) { return a.setUTCHours(Vk(o), 0, 0, 0), a } }]), r }(br), EFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 80), Ze(Je(n), "incompatibleTokens", ["a", "B", "H", "k", "t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i, o) { switch (i) { case "b": case "bb": case "bbb": return o.dayPeriod(a, { width: "abbreviated", context: "formatting" }) || o.dayPeriod(a, { width: "narrow", context: "formatting" }); case "bbbbb": return o.dayPeriod(a, { width: "narrow", context: "formatting" }); case "bbbb": default: return o.dayPeriod(a, { width: "wide", context: "formatting" }) || o.dayPeriod(a, { width: "abbreviated", context: "formatting" }) || o.dayPeriod(a, { width: "narrow", context: "formatting" }) } } }, { key: "set", value: function (a, i, o) { return a.setUTCHours(Vk(o), 0, 0, 0), a } }]), r }(br), NFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 80), Ze(Je(n), "incompatibleTokens", ["a", "b", "t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i, o) { switch (i) { case "B": case "BB": case "BBB": return o.dayPeriod(a, { width: "abbreviated", context: "formatting" }) || o.dayPeriod(a, { width: "narrow", context: "formatting" }); case "BBBBB": return o.dayPeriod(a, { width: "narrow", context: "formatting" }); case "BBBB": default: return o.dayPeriod(a, { width: "wide", context: "formatting" }) || o.dayPeriod(a, { width: "abbreviated", context: "formatting" }) || o.dayPeriod(a, { width: "narrow", context: "formatting" }) } } }, { key: "set", value: function (a, i, o) { return a.setUTCHours(Vk(o), 0, 0, 0), a } }]), r }(br), $Fe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 70), Ze(Je(n), "incompatibleTokens", ["H", "K", "k", "t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i, o) { switch (i) { case "h": return Jr(vn.hour12h, a); case "ho": return o.ordinalNumber(a, { unit: "hour" }); default: return an(i.length, a) } } }, { key: "validate", value: function (a, i) { return i >= 1 && i <= 12 } }, { key: "set", value: function (a, i, o) { var s = a.getUTCHours() >= 12; return s && o < 12 ? a.setUTCHours(o + 12, 0, 0, 0) : !s && o === 12 ? a.setUTCHours(0, 0, 0, 0) : a.setUTCHours(o, 0, 0, 0), a } }]), r }(br), FFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 70), Ze(Je(n), "incompatibleTokens", ["a", "b", "h", "K", "k", "t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i, o) { switch (i) { case "H": return Jr(vn.hour23h, a); case "Ho": return o.ordinalNumber(a, { unit: "hour" }); default: return an(i.length, a) } } }, { key: "validate", value: function (a, i) { return i >= 0 && i <= 23 } }, { key: "set", value: function (a, i, o) { return a.setUTCHours(o, 0, 0, 0), a } }]), r }(br), BFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 70), Ze(Je(n), "incompatibleTokens", ["h", "H", "k", "t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i, o) { switch (i) { case "K": return Jr(vn.hour11h, a); case "Ko": return o.ordinalNumber(a, { unit: "hour" }); default: return an(i.length, a) } } }, { key: "validate", value: function (a, i) { return i >= 0 && i <= 11 } }, { key: "set", value: function (a, i, o) { var s = a.getUTCHours() >= 12; return s && o < 12 ? a.setUTCHours(o + 12, 0, 0, 0) : a.setUTCHours(o, 0, 0, 0), a } }]), r }(br), VFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 70), Ze(Je(n), "incompatibleTokens", ["a", "b", "h", "H", "K", "t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i, o) { switch (i) { case "k": return Jr(vn.hour24h, a); case "ko": return o.ordinalNumber(a, { unit: "hour" }); default: return an(i.length, a) } } }, { key: "validate", value: function (a, i) { return i >= 1 && i <= 24 } }, { key: "set", value: function (a, i, o) { var s = o <= 24 ? o % 24 : o; return a.setUTCHours(s, 0, 0, 0), a } }]), r }(br), zFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 60), Ze(Je(n), "incompatibleTokens", ["t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i, o) { switch (i) { case "m": return Jr(vn.minute, a); case "mo": return o.ordinalNumber(a, { unit: "minute" }); default: return an(i.length, a) } } }, { key: "validate", value: function (a, i) { return i >= 0 && i <= 59 } }, { key: "set", value: function (a, i, o) { return a.setUTCMinutes(o, 0, 0), a } }]), r }(br), HFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 50), Ze(Je(n), "incompatibleTokens", ["t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i, o) { switch (i) { case "s": return Jr(vn.second, a); case "so": return o.ordinalNumber(a, { unit: "second" }); default: return an(i.length, a) } } }, { key: "validate", value: function (a, i) { return i >= 0 && i <= 59 } }, { key: "set", value: function (a, i, o) { return a.setUTCSeconds(o, 0), a } }]), r }(br), YFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 30), Ze(Je(n), "incompatibleTokens", ["t", "T"]), n } return nr(r, [{ key: "parse", value: function (a, i) { var o = function (l) { return Math.floor(l * Math.pow(10, -i.length + 3)) }; return pn(an(i.length, a), o) } }, { key: "set", value: function (a, i, o) { return a.setUTCMilliseconds(o), a } }]), r }(br), UFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 10), Ze(Je(n), "incompatibleTokens", ["t", "T", "x"]), n } return nr(r, [{ key: "parse", value: function (a, i) { switch (i) { case "X": return _o(yo.basicOptionalMinutes, a); case "XX": return _o(yo.basic, a); case "XXXX": return _o(yo.basicOptionalSeconds, a); case "XXXXX": return _o(yo.extendedOptionalSeconds, a); case "XXX": default: return _o(yo.extended, a) } } }, { key: "set", value: function (a, i, o) { return i.timestampIsSet ? a : new Date(a.getTime() - o) } }]), r }(br), WFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 10), Ze(Je(n), "incompatibleTokens", ["t", "T", "X"]), n } return nr(r, [{ key: "parse", value: function (a, i) { switch (i) { case "x": return _o(yo.basicOptionalMinutes, a); case "xx": return _o(yo.basic, a); case "xxxx": return _o(yo.basicOptionalSeconds, a); case "xxxxx": return _o(yo.extendedOptionalSeconds, a); case "xxx": default: return _o(yo.extended, a) } } }, { key: "set", value: function (a, i, o) { return i.timestampIsSet ? a : new Date(a.getTime() - o) } }]), r }(br), GFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 40), Ze(Je(n), "incompatibleTokens", "*"), n } return nr(r, [{ key: "parse", value: function (a) { return pY(a) } }, { key: "set", value: function (a, i, o) { return [new Date(o * 1e3), { timestampIsSet: !0 }] } }]), r }(br), jFe = function (t) { dr(r, t); var e = vr(r); function r() { var n; rr(this, r); for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++)i[o] = arguments[o]; return n = e.call.apply(e, [this].concat(i)), Ze(Je(n), "priority", 20), Ze(Je(n), "incompatibleTokens", "*"), n } return nr(r, [{ key: "parse", value: function (a) { return pY(a) } }, { key: "set", value: function (a, i, o) { return [new Date(o), { timestampIsSet: !0 }] } }]), r }(br), ZFe = { G: new hFe, y: new dFe, Y: new vFe, R: new pFe, u: new gFe, Q: new mFe, q: new yFe, M: new _Fe, L: new bFe, w: new SFe, I: new TFe, d: new MFe, D: new kFe, E: new AFe, e: new LFe, c: new IFe, i: new RFe, a: new OFe, b: new EFe, B: new NFe, h: new $Fe, H: new FFe, K: new BFe, k: new VFe, m: new zFe, s: new HFe, S: new YFe, X: new UFe, x: new WFe, t: new GFe, T: new jFe }, qFe = /[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g, XFe = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g, KFe = /^'([^]*?)'?$/, QFe = /''/g, JFe = /\S/, eBe = /[a-zA-Z]/; function X2(t, e, r, n) { var a, i, o, s, l, u, c, f, h, d, v, p, g, m, y, _, b, x; dt(3, arguments); var S = String(t), T = String(e), C = lu(), M = (a = (i = n == null ? void 0 : n.locale) !== null && i !== void 0 ? i : C.locale) !== null && a !== void 0 ? a : fY; if (!M.match) throw new RangeError("locale must contain match property"); var k = kt((o = (s = (l = (u = n == null ? void 0 : n.firstWeekContainsDate) !== null && u !== void 0 ? u : n == null || (c = n.locale) === null || c === void 0 || (f = c.options) === null || f === void 0 ? void 0 : f.firstWeekContainsDate) !== null && l !== void 0 ? l : C.firstWeekContainsDate) !== null && s !== void 0 ? s : (h = C.locale) === null || h === void 0 || (d = h.options) === null || d === void 0 ? void 0 : d.firstWeekContainsDate) !== null && o !== void 0 ? o : 1); if (!(k >= 1 && k <= 7)) throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively"); var A = kt((v = (p = (g = (m = n == null ? void 0 : n.weekStartsOn) !== null && m !== void 0 ? m : n == null || (y = n.locale) === null || y === void 0 || (_ = y.options) === null || _ === void 0 ? void 0 : _.weekStartsOn) !== null && g !== void 0 ? g : C.weekStartsOn) !== null && p !== void 0 ? p : (b = C.locale) === null || b === void 0 || (x = b.options) === null || x === void 0 ? void 0 : x.weekStartsOn) !== null && v !== void 0 ? v : 0); if (!(A >= 0 && A <= 6)) throw new RangeError("weekStartsOn must be between 0 and 6 inclusively"); if (T === "") return S === "" ? Pt(r) : new Date(NaN); var R = { firstWeekContainsDate: k, weekStartsOn: A, locale: M }, N = [new fFe], z = T.match(XFe).map(function (se) { var ue = se[0]; if (ue in Z2) { var pe = Z2[ue]; return pe(se, M.formatLong) } return se }).join("").match(qFe), F = [], V = W$(z), L; try { var H = function () { var ue = L.value; !(n != null && n.useAdditionalWeekYearTokens) && cY(ue) && a_(ue, T, t), !(n != null && n.useAdditionalDayOfYearTokens) && uY(ue) && a_(ue, T, t); var pe = ue[0], Se = ZFe[pe]; if (Se) { var G = Se.incompatibleTokens; if (Array.isArray(G)) { var Z = F.find(function (le) { return G.includes(le.token) || le.token === pe }); if (Z) throw new RangeError("The format string mustn't contain `".concat(Z.fullToken, "` and `").concat(ue, "` at the same time")) } else if (Se.incompatibleTokens === "*" && F.length > 0) throw new RangeError("The format string mustn't contain `".concat(ue, "` and any other token at the same time")); F.push({ token: pe, fullToken: ue }); var J = Se.run(S, ue, M.match, R); if (!J) return { v: new Date(NaN) }; N.push(J.setter), S = J.rest } else { if (pe.match(eBe)) throw new RangeError("Format string contains an unescaped latin alphabet character `" + pe + "`"); if (ue === "''" ? ue = "'" : pe === "'" && (ue = tBe(ue)), S.indexOf(ue) === 0) S = S.slice(ue.length); else return { v: new Date(NaN) } } }; for (V.s(); !(L = V.n()).done;) { var q = H(); if (bi(q) === "object") return q.v } } catch (se) { V.e(se) } finally { V.f() } if (S.length > 0 && JFe.test(S)) return new Date(NaN); var K = N.map(function (se) { return se.priority }).sort(function (se, ue) { return ue - se }).filter(function (se, ue, pe) { return pe.indexOf(se) === ue }).map(function (se) { return N.filter(function (ue) { return ue.priority === se }).sort(function (ue, pe) { return pe.subPriority - ue.subPriority }) }).map(function (se) { return se[0] }), te = Pt(r); if (isNaN(te.getTime())) return new Date(NaN); var oe = aY(te, n_(te)), X = {}, U = W$(K), B; try { for (U.s(); !(B = U.n()).done;) { var ee = B.value; if (!ee.validate(oe, R)) return new Date(NaN); var Q = ee.set(oe, X, R); Array.isArray(Q) ? (oe = Q[0], eFe(X, Q[1])) : oe = Q } } catch (se) { U.e(se) } finally { U.f() } return oe } function tBe(t) { return t.match(KFe)[1].replace(QFe, "'") } function rBe(t, e) { dt(2, arguments); var r = kt(e); return Hl(t, -r) } function nBe(t, e) { var r; dt(1, arguments); var n = kt((r = e == null ? void 0 : e.additionalDigits) !== null && r !== void 0 ? r : 2); if (n !== 2 && n !== 1 && n !== 0) throw new RangeError("additionalDigits must be 0, 1 or 2"); if (!(typeof t == "string" || Object.prototype.toString.call(t) === "[object String]")) return new Date(NaN); var a = sBe(t), i; if (a.date) { var o = lBe(a.date, n); i = uBe(o.restDateString, o.year) } if (!i || isNaN(i.getTime())) return new Date(NaN); var s = i.getTime(), l = 0, u; if (a.time && (l = cBe(a.time), isNaN(l))) return new Date(NaN); if (a.timezone) { if (u = fBe(a.timezone), isNaN(u)) return new Date(NaN) } else { var c = new Date(s + l), f = new Date(0); return f.setFullYear(c.getUTCFullYear(), c.getUTCMonth(), c.getUTCDate()), f.setHours(c.getUTCHours(), c.getUTCMinutes(), c.getUTCSeconds(), c.getUTCMilliseconds()), f } return new Date(s + l + u) } var ty = { dateTimeDelimiter: /[T ]/, timeZoneDelimiter: /[Z ]/i, timezone: /([Z+-].*)$/ }, aBe = /^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/, iBe = /^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/, oBe = /^([+-])(\d{2})(?::?(\d{2}))?$/; function sBe(t) { var e = {}, r = t.split(ty.dateTimeDelimiter), n; if (r.length > 2) return e; if (/:/.test(r[0]) ? n = r[0] : (e.date = r[0], n = r[1], ty.timeZoneDelimiter.test(e.date) && (e.date = t.split(ty.timeZoneDelimiter)[0], n = t.substr(e.date.length, t.length))), n) { var a = ty.timezone.exec(n); a ? (e.time = n.replace(a[1], ""), e.timezone = a[1]) : e.time = n } return e } function lBe(t, e) { var r = new RegExp("^(?:(\\d{4}|[+-]\\d{" + (4 + e) + "})|(\\d{2}|[+-]\\d{" + (2 + e) + "})$)"), n = t.match(r); if (!n) return { year: NaN, restDateString: "" }; var a = n[1] ? parseInt(n[1]) : null, i = n[2] ? parseInt(n[2]) : null; return { year: i === null ? a : i * 100, restDateString: t.slice((n[1] || n[2]).length) } } function uBe(t, e) { if (e === null) return new Date(NaN); var r = t.match(aBe); if (!r) return new Date(NaN); var n = !!r[4], a = Jd(r[1]), i = Jd(r[2]) - 1, o = Jd(r[3]), s = Jd(r[4]), l = Jd(r[5]) - 1; if (n) return gBe(e, s, l) ? hBe(e, s, l) : new Date(NaN); var u = new Date(0); return !vBe(e, i, o) || !pBe(e, a) ? new Date(NaN) : (u.setUTCFullYear(e, i, Math.max(a, o)), u) } function Jd(t) { return t ? parseInt(t) : 1 } function cBe(t) { var e = t.match(iBe); if (!e) return NaN; var r = sx(e[1]), n = sx(e[2]), a = sx(e[3]); return mBe(r, n, a) ? r * Nk + n * Ek + a * 1e3 : NaN } function sx(t) { return t && parseFloat(t.replace(",", ".")) || 0 } function fBe(t) { if (t === "Z") return 0; var e = t.match(oBe); if (!e) return 0; var r = e[1] === "+" ? -1 : 1, n = parseInt(e[2]), a = e[3] && parseInt(e[3]) || 0; return yBe(n, a) ? r * (n * Nk + a * Ek) : NaN } function hBe(t, e, r) { var n = new Date(0); n.setUTCFullYear(t, 0, 4); var a = n.getUTCDay() || 7, i = (e - 1) * 7 + r + 1 - a; return n.setUTCDate(n.getUTCDate() + i), n } var dBe = [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]; function yY(t) { return t % 400 === 0 || t % 4 === 0 && t % 100 !== 0 } function vBe(t, e, r) { return e >= 0 && e <= 11 && r >= 1 && r <= (dBe[e] || (yY(t) ? 29 : 28)) } function pBe(t, e) { return e >= 1 && e <= (yY(t) ? 366 : 365) } function gBe(t, e, r) { return e >= 1 && e <= 53 && r >= 0 && r <= 6 } function mBe(t, e, r) { return t === 24 ? e === 0 && r === 0 : r >= 0 && r < 60 && e >= 0 && e < 60 && t >= 0 && t < 25 } function yBe(t, e) { return e >= 0 && e <= 59 } function Gv(t, e) { dt(2, arguments); var r = Pt(t), n = kt(e), a = r.getFullYear(), i = r.getDate(), o = new Date(0); o.setFullYear(a, n, 15), o.setHours(0, 0, 0, 0); var s = rFe(o); return r.setMonth(n, Math.min(i, s)), r } function da(t, e) { if (dt(2, arguments), bi(e) !== "object" || e === null) throw new RangeError("values parameter must be an object"); var r = Pt(t); return isNaN(r.getTime()) ? new Date(NaN) : (e.year != null && r.setFullYear(e.year), e.month != null && (r = Gv(r, e.month)), e.date != null && r.setDate(kt(e.date)), e.hours != null && r.setHours(kt(e.hours)), e.minutes != null && r.setMinutes(kt(e.minutes)), e.seconds != null && r.setSeconds(kt(e.seconds)), e.milliseconds != null && r.setMilliseconds(kt(e.milliseconds)), r) } function _Y(t, e) { dt(2, arguments); var r = Pt(t), n = kt(e); return r.setHours(n), r } function Hk(t, e) { dt(2, arguments); var r = Pt(t), n = kt(e); return r.setMilliseconds(n), r } function bY(t, e) { dt(2, arguments); var r = Pt(t), n = kt(e); return r.setMinutes(n), r } function wY(t, e) { dt(2, arguments); var r = Pt(t), n = kt(e); return r.setSeconds(n), r } function Pc(t, e) { dt(2, arguments); var r = Pt(t), n = kt(e); return isNaN(r.getTime()) ? new Date(NaN) : (r.setFullYear(n), r) } function mh(t, e) { dt(2, arguments); var r = kt(e); return Do(t, -r) } function _Be(t, e) { if (dt(2, arguments), !e || bi(e) !== "object") return new Date(NaN); var r = e.years ? kt(e.years) : 0, n = e.months ? kt(e.months) : 0, a = e.weeks ? kt(e.weeks) : 0, i = e.days ? kt(e.days) : 0, o = e.hours ? kt(e.hours) : 0, s = e.minutes ? kt(e.minutes) : 0, l = e.seconds ? kt(e.seconds) : 0, u = mh(t, n + r * 12), c = rBe(u, i + a * 7), f = s + o * 60, h = l + f * 60, d = h * 1e3, v = new Date(c.getTime() - d); return v } function bBe(t, e) { dt(2, arguments); var r = kt(e); return rY(t, -r) } const nf = (t, e) => { const r = t.__vccOpts || t; for (const [n, a] of e) r[n] = a; return r }, wBe = {}, SBe = { version: "1.1", xmlns: "http://www.w3.org/2000/svg", width: "32", height: "32", viewBox: "0 0 32 32", class: "dp__icon" }, xBe = P("path", { d: "M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z" }, null, -1), TBe = P("path", { d: "M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z" }, null, -1), DBe = P("path", { d: "M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z" }, null, -1), CBe = P("path", { d: "M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z" }, null, -1), MBe = [xBe, TBe, DBe, CBe]; function kBe(t, e) { return $(), j("svg", SBe, MBe) } const Y1 = nf(wBe, [["render", kBe]]), ABe = {}, LBe = { version: "1.1", xmlns: "http://www.w3.org/2000/svg", width: "32", height: "32", viewBox: "0 0 32 32", class: "dp__icon" }, IBe = P("path", { d: "M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z" }, null, -1), PBe = P("path", { d: "M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z" }, null, -1), RBe = [IBe, PBe]; function OBe(t, e) { return $(), j("svg", LBe, RBe) } const EBe = nf(ABe, [["render", OBe]]), NBe = {}, $Be = { version: "1.1", xmlns: "http://www.w3.org/2000/svg", width: "32", height: "32", viewBox: "0 0 32 32", class: "dp__icon" }, FBe = P("path", { d: "M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z" }, null, -1), BBe = [FBe]; function VBe(t, e) { return $(), j("svg", $Be, BBe) } const j$ = nf(NBe, [["render", VBe]]), zBe = {}, HBe = { version: "1.1", xmlns: "http://www.w3.org/2000/svg", width: "32", height: "32", viewBox: "0 0 32 32", class: "dp__icon" }, YBe = P("path", { d: "M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z" }, null, -1), UBe = [YBe]; function WBe(t, e) { return $(), j("svg", HBe, UBe) } const Z$ = nf(zBe, [["render", WBe]]), GBe = {}, jBe = { version: "1.1", xmlns: "http://www.w3.org/2000/svg", width: "32", height: "32", viewBox: "0 0 32 32", class: "dp__icon" }, ZBe = P("path", { d: "M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z" }, null, -1), qBe = P("path", { d: "M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z" }, null, -1), XBe = [ZBe, qBe]; function KBe(t, e) { return $(), j("svg", jBe, XBe) } const SY = nf(GBe, [["render", KBe]]), QBe = {}, JBe = { version: "1.1", xmlns: "http://www.w3.org/2000/svg", width: "32", height: "32", viewBox: "0 0 32 32", class: "dp__icon" }, e6e = P("path", { d: "M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z" }, null, -1), t6e = [e6e]; function r6e(t, e) { return $(), j("svg", JBe, t6e) } const xY = nf(QBe, [["render", r6e]]), n6e = {}, a6e = { version: "1.1", xmlns: "http://www.w3.org/2000/svg", width: "32", height: "32", viewBox: "0 0 32 32", class: "dp__icon" }, i6e = P("path", { d: "M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z" }, null, -1), o6e = [i6e]; function s6e(t, e) { return $(), j("svg", a6e, o6e) } const TY = nf(n6e, [["render", s6e]]), q$ = (t, e) => { const r = X2(t, e.slice(0, t.length), new Date); return Uv(r) && nY(r) ? r : null }, l6e = (t, e) => { if (typeof e == "string") return q$(t, e); if (Array.isArray(e)) { let r = null; for (const n of e) if (r = q$(t, n), r) break; return r } return typeof e == "function" ? e(t) : null }, Le = t => t ? new Date(t) : new Date, u6e = (t, e) => { if (e) { const n = (t.getMonth() + 1).toString().padStart(2, "0"), a = t.getDate().toString().padStart(2, "0"), i = t.getHours().toString().padStart(2, "0"), o = t.getMinutes().toString().padStart(2, "0"); return `${t.getFullYear()}-${n}-${a}T${i}:${o}:00.000Z` } const r = Date.UTC(t.getUTCFullYear(), t.getUTCMonth(), t.getUTCDate(), t.getUTCHours(), t.getUTCMinutes(), t.getUTCSeconds()); return new Date(r).toISOString() }, Vo = t => { let e = Le(JSON.parse(JSON.stringify(t))); return e = _Y(e, 0), e = bY(e, 0), e = wY(e, 0), e = Hk(e, 0), e }, ni = (t, e, r, n) => { let a = t ? Le(t) : Le(); return (e || e === 0) && (a = _Y(a, +e)), (r || r === 0) && (a = bY(a, +r)), (n || n === 0) && (a = wY(a, +n)), Hk(a, 0) }, ea = (t, e) => !t || !e ? !1 : Bk(Vo(t), Vo(e)), Zr = (t, e) => !t || !e ? !1 : hY(Vo(t), Vo(e)), ga = (t, e) => !t || !e ? !1 : Fk(Vo(t), Vo(e)), DY = (t, e, r) => t && t[0] && t[1] ? ga(r, t[0]) && ea(r, t[1]) : t && t[0] && e ? ga(r, t[0]) && ea(r, e) || ea(r, t[0]) && ga(r, e) : !1, ev = zo({ menuFocused: !1, shiftKeyInMenu: !1 }), CY = () => { const t = r => { ev.menuFocused = r }, e = r => { ev.shiftKeyInMenu !== r && (ev.shiftKeyInMenu = r) }; return { control: De(() => ({ shiftKeyInMenu: ev.shiftKeyInMenu, menuFocused: ev.menuFocused })), setMenuFocused: t, setShiftKey: e } }; function Yk(t) { return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t } var s_ = {}, c6e = { get exports() { return s_ }, set exports(t) { s_ = t } }; (function (t, e) { Object.defineProperty(e, "__esModule", { value: !0 }), e.default = r; function r(n) { if (n === null || n === !0 || n === !1) return NaN; var a = Number(n); return isNaN(a) ? a : a < 0 ? Math.ceil(a) : Math.floor(a) } t.exports = e.default })(c6e, s_); const f6e = Yk(s_); var l_ = {}, h6e = { get exports() { return l_ }, set exports(t) { l_ = t } }; (function (t, e) { Object.defineProperty(e, "__esModule", { value: !0 }), e.default = r; function r(n) { var a = new Date(Date.UTC(n.getFullYear(), n.getMonth(), n.getDate(), n.getHours(), n.getMinutes(), n.getSeconds(), n.getMilliseconds())); return a.setUTCFullYear(n.getFullYear()), n.getTime() - a.getTime() } t.exports = e.default })(h6e, l_); const X$ = Yk(l_); function d6e(t, e) { var r = m6e(e); return r.formatToParts ? p6e(r, t) : g6e(r, t) } var v6e = { year: 0, month: 1, day: 2, hour: 3, minute: 4, second: 5 }; function p6e(t, e) { try { for (var r = t.formatToParts(e), n = [], a = 0; a < r.length; a++) { var i = v6e[r[a].type]; i >= 0 && (n[i] = parseInt(r[a].value, 10)) } return n } catch (o) { if (o instanceof RangeError) return [NaN]; throw o } } function g6e(t, e) { var r = t.format(e).replace(/\u200E/g, ""), n = /(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r); return [n[3], n[1], n[2], n[4], n[5], n[6]] } var lx = {}; function m6e(t) { if (!lx[t]) { var e = new Intl.DateTimeFormat("en-US", { hour12: !1, timeZone: "America/New_York", year: "numeric", month: "numeric", day: "2-digit", hour: "2-digit", minute: "2-digit", second: "2-digit" }).format(new Date("2014-06-25T04:00:00.123Z")), r = e === "06/25/2014, 00:00:00" || e === "‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00"; lx[t] = r ? new Intl.DateTimeFormat("en-US", { hour12: !1, timeZone: t, year: "numeric", month: "numeric", day: "2-digit", hour: "2-digit", minute: "2-digit", second: "2-digit" }) : new Intl.DateTimeFormat("en-US", { hourCycle: "h23", timeZone: t, year: "numeric", month: "numeric", day: "2-digit", hour: "2-digit", minute: "2-digit", second: "2-digit" }) } return lx[t] } function Uk(t, e, r, n, a, i, o) { var s = new Date(0); return s.setUTCFullYear(t, e, r), s.setUTCHours(n, a, i, o), s } var K$ = 36e5, y6e = 6e4, ux = { timezone: /([Z+-].*)$/, timezoneZ: /^(Z)$/, timezoneHH: /^([+-]\d{2})$/, timezoneHHMM: /^([+-]\d{2}):?(\d{2})$/ }; function Wk(t, e, r) { var n, a; if (!t || (n = ux.timezoneZ.exec(t), n)) return 0; var i; if (n = ux.timezoneHH.exec(t), n) return i = parseInt(n[1], 10), Q$(i) ? -(i * K$) : NaN; if (n = ux.timezoneHHMM.exec(t), n) { i = parseInt(n[1], 10); var o = parseInt(n[2], 10); return Q$(i, o) ? (a = Math.abs(i) * K$ + o * y6e, i > 0 ? -a : a) : NaN } if (w6e(t)) { e = new Date(e || Date.now()); var s = r ? e : _6e(e), l = K2(s, t), u = r ? l : b6e(e, l, t); return -u } return NaN } function _6e(t) { return Uk(t.getFullYear(), t.getMonth(), t.getDate(), t.getHours(), t.getMinutes(), t.getSeconds(), t.getMilliseconds()) } function K2(t, e) { var r = d6e(t, e), n = Uk(r[0], r[1] - 1, r[2], r[3] % 24, r[4], r[5], 0).getTime(), a = t.getTime(), i = a % 1e3; return a -= i >= 0 ? i : 1e3 + i, n - a } function b6e(t, e, r) { var n = t.getTime(), a = n - e, i = K2(new Date(a), r); if (e === i) return e; a -= i - e; var o = K2(new Date(a), r); return i === o ? i : Math.max(i, o) } function Q$(t, e) { return -23 <= t && t <= 23 && (e == null || 0 <= e && e <= 59) } var J$ = {}; function w6e(t) { if (J$[t]) return !0; try { return new Intl.DateTimeFormat(void 0, { timeZone: t }), J$[t] = !0, !0 } catch { return !1 } } var S6e = /(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/; const MY = S6e; var cx = 36e5, e5 = 6e4, x6e = 2, pa = { dateTimePattern: /^([0-9W+-]+)(T| )(.*)/, datePattern: /^([0-9W+-]+)(.*)/, plainTime: /:/, YY: /^(\d{2})$/, YYY: [/^([+-]\d{2})$/, /^([+-]\d{3})$/, /^([+-]\d{4})$/], YYYY: /^(\d{4})/, YYYYY: [/^([+-]\d{4})/, /^([+-]\d{5})/, /^([+-]\d{6})/], MM: /^-(\d{2})$/, DDD: /^-?(\d{3})$/, MMDD: /^-?(\d{2})-?(\d{2})$/, Www: /^-?W(\d{2})$/, WwwD: /^-?W(\d{2})-?(\d{1})$/, HH: /^(\d{2}([.,]\d*)?)$/, HHMM: /^(\d{2}):?(\d{2}([.,]\d*)?)$/, HHMMSS: /^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/, timeZone: MY }; function Q2(t, e) { if (arguments.length < 1) throw new TypeError("1 argument required, but only " + arguments.length + " present"); if (t === null) return new Date(NaN); var r = e || {}, n = r.additionalDigits == null ? x6e : f6e(r.additionalDigits); if (n !== 2 && n !== 1 && n !== 0) throw new RangeError("additionalDigits must be 0, 1 or 2"); if (t instanceof Date || typeof t == "object" && Object.prototype.toString.call(t) === "[object Date]") return new Date(t.getTime()); if (typeof t == "number" || Object.prototype.toString.call(t) === "[object Number]") return new Date(t); if (!(typeof t == "string" || Object.prototype.toString.call(t) === "[object String]")) return new Date(NaN); var a = T6e(t), i = D6e(a.date, n), o = i.year, s = i.restDateString, l = C6e(s, o); if (isNaN(l)) return new Date(NaN); if (l) { var u = l.getTime(), c = 0, f; if (a.time && (c = M6e(a.time), isNaN(c))) return new Date(NaN); if (a.timeZone || r.timeZone) { if (f = Wk(a.timeZone || r.timeZone, new Date(u + c)), isNaN(f)) return new Date(NaN) } else f = X$(new Date(u + c)), f = X$(new Date(u + c + f)); return new Date(u + c + f) } else return new Date(NaN) } function T6e(t) { var e = {}, r = pa.dateTimePattern.exec(t), n; if (r ? (e.date = r[1], n = r[3]) : (r = pa.datePattern.exec(t), r ? (e.date = r[1], n = r[2]) : (e.date = null, n = t)), n) { var a = pa.timeZone.exec(n); a ? (e.time = n.replace(a[1], ""), e.timeZone = a[1].trim()) : e.time = n } return e } function D6e(t, e) { var r = pa.YYY[e], n = pa.YYYYY[e], a; if (a = pa.YYYY.exec(t) || n.exec(t), a) { var i = a[1]; return { year: parseInt(i, 10), restDateString: t.slice(i.length) } } if (a = pa.YY.exec(t) || r.exec(t), a) { var o = a[1]; return { year: parseInt(o, 10) * 100, restDateString: t.slice(o.length) } } return { year: null } } function C6e(t, e) { if (e === null) return null; var r, n, a, i; if (t.length === 0) return n = new Date(0), n.setUTCFullYear(e), n; if (r = pa.MM.exec(t), r) return n = new Date(0), a = parseInt(r[1], 10) - 1, r5(e, a) ? (n.setUTCFullYear(e, a), n) : new Date(NaN); if (r = pa.DDD.exec(t), r) { n = new Date(0); var o = parseInt(r[1], 10); return L6e(e, o) ? (n.setUTCFullYear(e, 0, o), n) : new Date(NaN) } if (r = pa.MMDD.exec(t), r) { n = new Date(0), a = parseInt(r[1], 10) - 1; var s = parseInt(r[2], 10); return r5(e, a, s) ? (n.setUTCFullYear(e, a, s), n) : new Date(NaN) } if (r = pa.Www.exec(t), r) return i = parseInt(r[1], 10) - 1, n5(e, i) ? t5(e, i) : new Date(NaN); if (r = pa.WwwD.exec(t), r) { i = parseInt(r[1], 10) - 1; var l = parseInt(r[2], 10) - 1; return n5(e, i, l) ? t5(e, i, l) : new Date(NaN) } return null } function M6e(t) { var e, r, n; if (e = pa.HH.exec(t), e) return r = parseFloat(e[1].replace(",", ".")), fx(r) ? r % 24 * cx : NaN; if (e = pa.HHMM.exec(t), e) return r = parseInt(e[1], 10), n = parseFloat(e[2].replace(",", ".")), fx(r, n) ? r % 24 * cx + n * e5 : NaN; if (e = pa.HHMMSS.exec(t), e) { r = parseInt(e[1], 10), n = parseInt(e[2], 10); var a = parseFloat(e[3].replace(",", ".")); return fx(r, n, a) ? r % 24 * cx + n * e5 + a * 1e3 : NaN } return null } function t5(t, e, r) { e = e || 0, r = r || 0; var n = new Date(0); n.setUTCFullYear(t, 0, 4); var a = n.getUTCDay() || 7, i = e * 7 + r + 1 - a; return n.setUTCDate(n.getUTCDate() + i), n } var k6e = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31], A6e = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]; function kY(t) { return t % 400 === 0 || t % 4 === 0 && t % 100 !== 0 } function r5(t, e, r) { if (e < 0 || e > 11) return !1; if (r != null) { if (r < 1) return !1; var n = kY(t); if (n && r > A6e[e] || !n && r > k6e[e]) return !1 } return !0 } function L6e(t, e) { if (e < 1) return !1; var r = kY(t); return !(r && e > 366 || !r && e > 365) } function n5(t, e, r) { return !(e < 0 || e > 52 || r != null && (r < 0 || r > 6)) } function fx(t, e, r) { return !(t != null && (t < 0 || t >= 25) || e != null && (e < 0 || e >= 60) || r != null && (r < 0 || r >= 60)) } var u_ = {}, I6e = { get exports() { return u_ }, set exports(t) { u_ = t } }, c_ = {}, P6e = { get exports() { return c_ }, set exports(t) { c_ = t } }; (function (t, e) { Object.defineProperty(e, "__esModule", { value: !0 }), e.default = r; function r(n, a) { if (n == null) throw new TypeError("assign requires that input parameter not be null or undefined"); for (var i in a) Object.prototype.hasOwnProperty.call(a, i) && (n[i] = a[i]); return n } t.exports = e.default })(P6e, c_); (function (t, e) { Object.defineProperty(e, "__esModule", { value: !0 }), e.default = a; var r = n(c_); function n(i) { return i && i.__esModule ? i : { default: i } } function a(i) { return (0, r.default)({}, i) } t.exports = e.default })(I6e, u_); const R6e = Yk(u_); function O6e(t, e, r) { var n = Q2(t, r), a = Wk(e, n, !0), i = new Date(n.getTime() - a), o = new Date(0); return o.setFullYear(i.getUTCFullYear(), i.getUTCMonth(), i.getUTCDate()), o.setHours(i.getUTCHours(), i.getUTCMinutes(), i.getUTCSeconds(), i.getUTCMilliseconds()), o } function E6e(t, e, r) { if (typeof t == "string" && !t.match(MY)) { var n = R6e(r); return n.timeZone = e, Q2(t, n) } var a = Q2(t, r), i = Uk(a.getFullYear(), a.getMonth(), a.getDate(), a.getHours(), a.getMinutes(), a.getSeconds(), a.getMilliseconds()).getTime(), o = Wk(e, new Date(i)); return new Date(i + o) } const N6e = (t, e = 3) => { const r = []; for (let n = 0; n < t.length; n += e)r.push([t[n], t[n + 1], t[n + 2]]); return r }, $6e = (t, e) => { const r = [1, 2, 3, 4, 5, 6, 7].map(i => new Intl.DateTimeFormat(t, { weekday: "short", timeZone: "UTC" }).format(new Date(`2017-01-0${i}T00:00:00+00:00`)).slice(0, 2)), n = r.slice(0, e), a = r.slice(e + 1, r.length); return [r[e]].concat(...a).concat(...n) }, F6e = t => { const e = []; for (let r = +t[0]; r <= +t[1]; r++)e.push({ value: +r, text: `${r}` }); return e }, B6e = (t, e) => { const r = new Intl.DateTimeFormat(t, { month: e, timeZone: "UTC" }); return [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12].map(n => { const a = n < 10 ? `0${n}` : n; return new Date(`2017-${a}-01T00:00:00+00:00`) }).map((n, a) => ({ text: r.format(n), value: a })) }, V6e = t => [12, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11][t], Mn = t => { const e = Y(t); return e != null && e.$el ? e == null ? void 0 : e.$el : e }, z6e = t => Object.assign({ type: "dot" }, t), AY = t => Array.isArray(t) ? !!t[0] && !!t[1] : !1, f_ = { prop: t => `"${t}" prop must be enabled!`, dateArr: t => `You need to use array as "model-value" binding in order to support "${t}"` }, Xn = t => t, a5 = t => t === 0 ? t : !t || isNaN(+t) ? null : +t, i5 = t => Object.assign({ menuAppear: "dp-menu-appear", open: "dp-slide-down", close: "dp-slide-up", next: "calendar-next", previous: "calendar-prev", vNext: "dp-slide-up", vPrevious: "dp-slide-down" }, t), H6e = t => Object.assign({ toggleOverlay: "Toggle overlay", menu: "Datepicker menu", input: "Datepicker input", calendarWrap: "Calendar wrapper", calendarDays: "Calendar days", openTimePicker: "Open time picker", closeTimePicker: "Close time Picker", incrementValue: e => `Increment ${e}`, decrementValue: e => `Decrement ${e}`, openTpOverlay: e => `Open ${e} overlay`, amPmButton: "Switch AM/PM mode", openYearsOverlay: "Open years overlay", openMonthsOverlay: "Open months overlay", nextMonth: "Next month", prevMonth: "Previous month", day: () => "" }, t), Y6e = t => t === null ? 0 : typeof t == "boolean" ? t ? 2 : 0 : +t >= 2 ? +t : 2, U6e = (t, e, r) => t || (typeof r == "string" ? r : e), W6e = t => typeof t == "boolean" ? t ? i5({}) : !1 : i5(t), G6e = () => ({ enterSubmit: !0, tabSubmit: !0, openMenu: !0, rangeSeparator: " - " }), j6e = t => Object.assign({ months: [], years: [], times: { hours: [], minutes: [], seconds: [] } }, t), ja = t => { const e = () => { if (t.partialRange) return null; throw new Error(f_.prop("partial-range")) }, r = De(() => ({ ariaLabels: H6e(t.ariaLabels), textInputOptions: Object.assign(G6e(), t.textInputOptions), multiCalendars: Y6e(t.multiCalendars), previewFormat: U6e(t.previewFormat, t.format, i()), filters: j6e(t.filters), transitions: W6e(t.transitions), startTime: h() })), n = L => { if (t.range) return L(); throw new Error(f_.prop("range")) }, a = () => { const L = t.enableSeconds ? ":ss" : ""; return t.is24 ? `HH:mm${L}` : `hh:mm${L} aa` }, i = () => t.format ? t.format : t.monthPicker ? "MM/yyyy" : t.timePicker ? a() : t.weekPicker ? "MM/dd/yyyy" : t.yearPicker ? "yyyy" : t.enableTimePicker ? `MM/dd/yyyy, ${a()}` : "MM/dd/yyyy", o = (L, H) => { if (typeof t.format == "function") return t.format(L); const q = H || i(), K = t.formatLocale ? { locale: t.formatLocale } : void 0; return Array.isArray(L) ? `${Wv(L[0], q, K)} ${t.modelAuto && !L[1] ? "" : r.value.textInputOptions.rangeSeparator || "-"} ${L[1] ? Wv(L[1], q, K) : ""}` : Wv(L, q, K) }, s = L => t.timezone ? O6e(L, t.timezone) : L, l = L => t.timezone ? E6e(L, t.timezone) : L, u = De(() => L => { var H; return (H = t.hideNavigation) == null ? void 0 : H.includes(L) }), c = L => { const H = t.maxDate ? ga(s(L), s(Le(t.maxDate))) : !1, q = t.minDate ? ea(s(L), s(Le(t.minDate))) : !1, K = m(L, t.disabledDates), te = r.value.filters.months.map(ee => +ee).includes(Vr(L)), oe = t.disabledWeekDays.length ? t.disabledWeekDays.some(ee => +ee === tFe(L)) : !1, X = t.allowedDates.length ? !t.allowedDates.some(ee => Zr(s(Le(ee)), s(L))) : !1, U = zr(L), B = U < +t.yearRange[0] || U > +t.yearRange[1]; return !(H || q || K || te || B || oe || X) }, f = L => { const H = { hours: hs(Le()), minutes: ds(Le()), seconds: Eh(Le()) }; return Object.assign(H, L) }, h = () => t.range ? t.startTime && Array.isArray(t.startTime) ? [f(t.startTime[0]), f(t.startTime[1])] : null : t.startTime && !Array.isArray(t.startTime) ? f(t.startTime) : null, d = L => !c(L), v = L => Array.isArray(L) ? Uv(L[0]) && (L[1] ? Uv(L[1]) : !0) : L ? Uv(L) : !1, p = L => L instanceof Date ? L : nBe(L), g = L => { const H = j2(s(L), { weekStartsOn: +t.weekStart }), q = X7e(s(L), { weekStartsOn: +t.weekStart }); return [H, q] }, m = (L, H) => Array.isArray(H) ? H.some(q => Zr(s(Le(q)), s(L))) : H(L), y = (L, H, q) => { let K = L ? Le(L) : Le(); return (H || H === 0) && (K = Gv(K, H)), q && (K = Pc(K, q)), K }, _ = L => da(Le(), { hours: hs(L), minutes: ds(L), seconds: Eh(L) }), b = L => da(Le(), { hours: +L.hours || 0, minutes: +L.minutes || 0, seconds: +L.seconds || 0 }), x = (L, H, q, K) => { if (!L) return !0; if (K) { const te = q === "max" ? Bk(L, H) : Fk(L, H), oe = { seconds: 0, milliseconds: 0 }; return te || hY(da(L, oe), da(H, oe)) } return q === "max" ? L.getTime() <= H.getTime() : L.getTime() >= H.getTime() }, S = () => !t.enableTimePicker || t.monthPicker || t.yearPicker || t.ignoreTimeValidation, T = L => Array.isArray(L) ? [L[0] ? _(L[0]) : null, L[1] ? _(L[1]) : null] : _(L), C = L => { const H = t.maxTime ? b(t.maxTime) : Le(t.maxDate); return Array.isArray(L) ? x(L[0], H, "max", !!t.maxDate) && x(L[1], H, "max", !!t.maxDate) : x(L, H, "max", !!t.maxDate) }, M = (L, H) => { const q = t.minTime ? b(t.minTime) : Le(t.minDate); return Array.isArray(L) ? x(L[0], q, "min", !!t.minDate) && x(L[1], q, "min", !!t.minDate) && H : x(L, q, "min", !!t.minDate) && H }, k = L => { let H = !0; if (!L || S()) return !0; const q = !t.minDate && !t.maxDate ? T(L) : L; return (t.maxTime || t.maxDate) && (H = C(Xn(q))), (t.minTime || t.minDate) && (H = M(Xn(q), H)), H }, A = (L, H) => { const q = Le(JSON.parse(JSON.stringify(L))), K = []; for (let te = 0; te < 7; te++) { const oe = Hl(q, te), X = Vr(oe) !== H; K.push({ text: t.hideOffsetDates && X ? "" : oe.getDate(), value: oe, current: !X, classData: {} }) } return K }, R = (L, H) => { const q = [], K = Le(s(new Date(H, L))), te = Le(s(new Date(H, L + 1, 0))), oe = j2(K, { weekStartsOn: t.weekStart }), X = U => { const B = A(U, L); if (q.push({ days: B }), !q[q.length - 1].days.some(ee => Zr(Vo(ee.value), Vo(te)))) { const ee = Hl(U, 7); X(ee) } }; if (X(oe), t.sixWeeks && q.length < 6) { const U = 6 - q.length; for (let B = 1; B <= U; B++) { const ee = q[q.length - 1], Q = ee.days[ee.days.length - 1], se = A(Hl(Q.value, 1), Vr(K)); q.push({ days: se }) } } return q }, N = (L, H, q) => [da(Le(L), { date: 1 }), da(Le(), { month: H, year: q, date: 1 })], z = (L, H) => ea(...N(t.minDate, L, H)) || Zr(...N(t.minDate, L, H)), F = (L, H) => ga(...N(t.maxDate, L, H)) || Zr(...N(t.maxDate, L, H)), V = (L, H, q) => { let K = !1; return t.maxDate && q && F(L, H) && (K = !0), t.minDate && !q && z(L, H) && (K = !0), K }; return { checkPartialRangeValue: e, checkRangeEnabled: n, getZonedDate: s, getZonedToUtc: l, formatDate: o, getDefaultPattern: i, validateDate: c, getDefaultStartTime: h, isDisabled: d, isValidDate: v, sanitizeDate: p, getWeekFromDate: g, matchDate: m, setDateMonthOrYear: y, isValidTime: k, getCalendarDays: R, validateMonthYearInRange: (L, H, q, K) => { let te = !1; return K ? t.minDate && t.maxDate ? te = V(L, H, q) : (t.minDate && z(L, H) || t.maxDate && F(L, H)) && (te = !0) : te = !0, te }, validateMaxDate: F, validateMinDate: z, defaults: r, hideNavigationButtons: u } }, Br = zo({ monthYear: [], calendar: [], time: [], actionRow: [], selectionGrid: [], timePicker: { 0: [], 1: [] }, monthPicker: [] }), hx = ne(null), ry = ne(!1), dx = ne(!1), vx = ne(!1), px = ne(!1), sa = ne(0), Vn = ne(0), uu = () => { const t = De(() => ry.value ? [...Br.selectionGrid, Br.actionRow].filter(f => f.length) : dx.value ? [...Br.timePicker[0], ...Br.timePicker[1], px.value ? [] : [hx.value], Br.actionRow].filter(f => f.length) : vx.value ? [...Br.monthPicker, Br.actionRow] : [Br.monthYear, ...Br.calendar, Br.time, Br.actionRow].filter(f => f.length)), e = f => { sa.value = f ? sa.value + 1 : sa.value - 1; let h = null; t.value[Vn.value] && (h = t.value[Vn.value][sa.value]), h || (sa.value = f ? sa.value - 1 : sa.value + 1) }, r = f => { Vn.value === 0 && !f || Vn.value === t.value.length && f || (Vn.value = f ? Vn.value + 1 : Vn.value - 1, t.value[Vn.value] ? t.value[Vn.value] && !t.value[Vn.value][sa.value] && sa.value !== 0 && (sa.value = t.value[Vn.value].length - 1) : Vn.value = f ? Vn.value - 1 : Vn.value + 1) }, n = f => { let h = null; t.value[Vn.value] && (h = t.value[Vn.value][sa.value]), h ? h.focus({ preventScroll: !ry.value }) : sa.value = f ? sa.value - 1 : sa.value + 1 }, a = () => { e(!0), n(!0) }, i = () => { e(!1), n(!1) }, o = () => { r(!1), n(!0) }, s = () => { r(!0), n(!0) }, l = (f, h) => { Br[h] = f }, u = (f, h) => { Br[h] = f }, c = () => { sa.value = 0, Vn.value = 0 }; return { buildMatrix: l, buildMultiLevelMatrix: u, setTimePickerBackRef: f => { hx.value = f }, setSelectionGrid: f => { ry.value = f, c(), f || (Br.selectionGrid = []) }, setTimePicker: (f, h = !1) => { dx.value = f, px.value = h, c(), f || (Br.timePicker[0] = [], Br.timePicker[1] = []) }, setTimePickerElements: (f, h = 0) => { Br.timePicker[h] = f }, arrowRight: a, arrowLeft: i, arrowUp: o, arrowDown: s, clearArrowNav: () => { Br.monthYear = [], Br.calendar = [], Br.time = [], Br.actionRow = [], Br.selectionGrid = [], Br.timePicker[0] = [], Br.timePicker[1] = [], ry.value = !1, dx.value = !1, px.value = !1, vx.value = !1, c(), hx.value = null }, setMonthPicker: f => { vx.value = f, c() }, refSets: Br } }, o5 = t => Array.isArray(t), Uu = t => Array.isArray(t), s5 = t => Array.isArray(t) && t.length === 2, Z6e = (t, e, r, n, a) => { const { getDefaultStartTime: i, isDisabled: o, sanitizeDate: s, getWeekFromDate: l, setDateMonthOrYear: u, validateMonthYearInRange: c, defaults: f } = ja(t), h = De({ get: () => t.internalModelValue, set: ie => { !t.readonly && !t.disabled && e("update:internal-model-value", ie) } }), d = ne([]); mt(h, () => { t.multiCalendars || x() }); const v = ne([{ month: Vr(Le()), year: zr(Le()) }]), p = zo({ hours: t.range ? [hs(Le()), hs(Le())] : hs(Le()), minutes: t.range ? [ds(Le()), ds(Le())] : ds(Le()), seconds: t.range ? [0, 0] : 0 }), g = De(() => ie => v.value[ie] ? v.value[ie].month : 0), m = De(() => ie => v.value[ie] ? v.value[ie].year : 0), y = De(() => t.flow && t.flow.length ? a.value === t.flow.length : !0), _ = (ie, ge, nt) => { var ct, Zt; v.value[ie] || (v.value[ie] = { month: 0, year: 0 }), v.value[ie].month = ge === null ? (ct = v.value[ie]) == null ? void 0 : ct.month : ge, v.value[ie].year = nt === null ? (Zt = v.value[ie]) == null ? void 0 : Zt.year : nt }, b = (ie, ge) => { p[ie] = ge }; Lt(() => { h.value || (t.startDate && (_(0, Vr(Le(t.startDate)), zr(Le(t.startDate))), f.value.multiCalendars && Ne(0)), f.value.startTime && F()), x(!0) }); const x = (ie = !1) => { if (h.value) return Array.isArray(h.value) ? (d.value = h.value, k(ie)) : T(h.value); if (t.timePicker) return A(); if (t.monthPicker && !t.range) return R(); if (t.yearPicker && !t.range) return N(); if (f.value.multiCalendars && ie && !t.startDate) return S(Le(), ie) }, S = (ie, ge = !1) => { if ((!f.value.multiCalendars || !t.multiStatic || ge) && _(0, Vr(ie), zr(ie)), f.value.multiCalendars) for (let nt = 1; nt < f.value.multiCalendars; nt++) { const ct = da(Le(), { month: g.value(nt - 1), year: m.value(nt - 1) }), Zt = tY(ct, { months: 1 }); v.value[nt] = { month: Vr(Zt), year: zr(Zt) } } }, T = ie => { S(ie), b("hours", hs(ie)), b("minutes", ds(ie)), b("seconds", Eh(ie)) }, C = (ie, ge) => { S(ie[0], ge); const nt = (ct, Zt) => [ct(ie[0]), ie[1] ? ct(ie[1]) : p[Zt][1]]; b("hours", nt(hs, "hours")), b("minutes", nt(ds, "minutes")), b("seconds", nt(Eh, "seconds")) }, M = (ie, ge) => { if ((t.range || t.weekPicker) && !t.multiDates) return C(ie, ge); if (t.multiDates) { const nt = ie[ie.length - 1]; return T(nt) } }, k = ie => { const ge = h.value; M(ge, ie), f.value.multiCalendars && t.multiCalendarsSolo && L() }, A = () => { if (F(), !t.range) h.value = ni(Le(), p.hours, p.minutes, z()); else { const ie = p.hours, ge = p.minutes; h.value = [ni(Le(), ie[0], ge[0], z()), ni(Le(), ie[1], ge[1], z(!1))] } }, R = () => { h.value = u(Le(), g.value(0), m.value(0)) }, N = () => { h.value = Le() }, z = (ie = !0) => t.enableSeconds ? Array.isArray(p.seconds) ? ie ? p.seconds[0] : p.seconds[1] : p.seconds : 0, F = () => { const ie = i(); if (ie) { const ge = Array.isArray(ie), nt = ge ? [+ie[0].hours, +ie[1].hours] : +ie.hours, ct = ge ? [+ie[0].minutes, +ie[1].minutes] : +ie.minutes, Zt = ge ? [+ie[0].seconds, +ie[1].seconds] : +ie.seconds; b("hours", nt), b("minutes", ct), t.enableSeconds && b("seconds", Zt) } }, V = () => Array.isArray(h.value) && h.value.length ? h.value[h.value.length - 1] : null, L = () => { if (Array.isArray(h.value) && h.value.length === 2) { const ie = Le(Le(h.value[1] ? h.value[1] : Do(h.value[0], 1))), [ge, nt] = [Vr(h.value[0]), zr(h.value[0])], [ct, Zt] = [Vr(h.value[1]), zr(h.value[1])]; (ge !== ct || ge === ct && nt !== Zt) && t.multiCalendarsSolo && _(1, Vr(ie), zr(ie)) } }, H = ie => { const ge = Do(ie, 1); return { month: Vr(ge), year: zr(ge) } }, q = ie => { const ge = Vr(Le(ie)), nt = zr(Le(ie)); if (_(0, ge, nt), f.value.multiCalendars > 0) for (let ct = 1; ct < f.value.multiCalendars; ct++) { const Zt = H(da(Le(ie), { year: g.value(ct - 1), month: m.value(ct - 1) })); _(ct, Zt.month, Zt.year) } }, K = ie => { if (h.value && Array.isArray(h.value)) if (h.value.some(ge => Zr(ie, ge))) { const ge = h.value.filter(nt => !Zr(nt, ie)); h.value = ge.length ? ge : null } else (t.multiDatesLimit && +t.multiDatesLimit > h.value.length || !t.multiDatesLimit) && h.value.push(ie); else h.value = [ie] }, te = (ie, ge) => { const nt = ga(ie, ge) ? ge : ie, ct = ga(ge, ie) ? ge : ie; return V$({ start: nt, end: ct }) }, oe = ie => { if (Array.isArray(h.value) && h.value[0]) { const ge = Z7e(ie, h.value[0]), nt = te(h.value[0], ie), ct = nt.length === 1 ? 0 : nt.filter(Fn => o(Fn)).length, Zt = Math.abs(ge) - ct; if (t.minRange && t.maxRange) return Zt >= +t.minRange && Zt <= +t.maxRange; if (t.minRange) return Zt >= +t.minRange; if (t.maxRange) return Zt <= +t.maxRange } return !0 }, X = ie => Array.isArray(h.value) && h.value.length === 2 ? t.fixedStart && (ga(ie, h.value[0]) || Zr(ie, h.value[0])) ? [h.value[0], ie] : t.fixedEnd && (ea(ie, h.value[1]) || Zr(ie, h.value[1])) ? [ie, h.value[1]] : (e("invalid-fixed-range", ie), h.value) : [], U = () => { t.autoApply && y.value && e("auto-apply") }, B = () => { t.autoApply && e("select-date") }, ee = ie => !V$({ start: ie[0], end: ie[1] }).some(ge => o(ge)), Q = ie => (h.value = l(Le(ie.value)), U()), se = ie => { const ge = ni(Le(ie.value), p.hours, p.minutes, z()); t.multiDates ? K(ge) : h.value = ge, r(), U() }, ue = () => { d.value = h.value ? h.value.slice() : [], d.value.length === 2 && !(t.fixedStart || t.fixedEnd) && (d.value = []) }, pe = (ie, ge) => { const nt = [Le(ie.value), Hl(Le(ie.value), +t.autoRange)]; ee(nt) && (ge && q(ie.value), d.value = nt) }, Se = ie => { G(ie.value) || (d.value = X(Le(ie.value))) }, G = ie => t.noDisabledRange ? te(d.value[0], ie).some(ge => o(ge)) : !1, Z = (ie, ge) => { if (ue(), t.autoRange) return pe(ie, ge); if (t.fixedStart || t.fixedEnd) return Se(ie); d.value[0] ? oe(Le(ie.value)) && !G(ie.value) && (ea(Le(ie.value), Le(d.value[0])) ? d.value.unshift(Le(ie.value)) : d.value[1] = Le(ie.value)) : d.value[0] = Le(ie.value) }, J = ie => { d.value[ie] = ni(d.value[ie], p.hours[ie], p.minutes[ie], z(ie !== 1)) }, le = () => { d.value.length && (d.value[0] && !d.value[1] ? J(0) : (J(0), J(1), r()), h.value = d.value.slice(), d.value[0] && d.value[1] && t.autoApply && e("auto-apply"), d.value[0] && !d.value[1] && t.modelAuto && t.autoApply && e("auto-apply")) }, ve = (ie, ge = !1) => { if (!(o(ie.value) || !ie.current && t.hideOffsetDates)) { if (t.weekPicker) return Q(ie); if (!t.range) return se(ie); Uu(p.hours) && Uu(p.minutes) && !t.multiDates && (Z(ie, ge), le()) } }, we = ie => { const ge = ie.find(nt => nt.current); return ge ? aFe(ge.value) : "" }, Ne = ie => { for (let ge = ie - 1; ge >= 0; ge--) { const nt = mh(da(Le(), { month: g.value(ge + 1), year: m.value(ge + 1) }), 1); _(ge, Vr(nt), zr(nt)) } for (let ge = ie + 1; ge <= f.value.multiCalendars - 1; ge++) { const nt = Do(da(Le(), { month: g.value(ge - 1), year: m.value(ge - 1) }), 1); _(ge, Vr(nt), zr(nt)) } }, Ce = ie => u(Le(), g.value(ie), m.value(ie)), Pe = ie => ni(ie, p.hours, p.minutes, z()), xe = (ie, ge) => { const nt = t.monthPicker ? g.value(ie) !== ge.month || !ge.fromNav : m.value(ie) !== ge.year; if (_(ie, ge.month, ge.year), f.value.multiCalendars && !t.multiCalendarsSolo && Ne(ie), t.monthPicker || t.yearPicker) if (t.range) { if (nt) { let ct = h.value ? h.value.slice() : []; ct.length === 2 && ct[1] !== null && (ct = []), ct.length ? ea(Ce(ie), ct[0]) ? ct.unshift(Ce(ie)) : ct[1] = Ce(ie) : ct = [Ce(ie)], h.value = ct } } else h.value = Ce(ie); e("update-month-year", { instance: ie, month: ge.month, year: ge.year }), n(t.multiCalendarsSolo ? ie : void 0) }, Ye = async (ie = !1) => { if (t.autoApply && (t.monthPicker || t.yearPicker)) { await Dr(); const ge = t.monthPicker ? ie : !1; t.range ? e("auto-apply", ge || !h.value || h.value.length === 1) : e("auto-apply", ge) } r() }, ot = (ie, ge) => { const nt = da(Le(), { month: g.value(ge), year: m.value(ge) }), ct = ie < 0 ? Do(nt, 1) : mh(nt, 1); c(Vr(ct), zr(ct), ie < 0, t.preventMinMaxNavigation) && (_(ge, Vr(ct), zr(ct)), f.value.multiCalendars && !t.multiCalendarsSolo && Ne(ge), e("update-month-year", { instance: ge, month: Vr(ct), year: zr(ct) }), n()) }, st = ie => { o5(ie) && o5(h.value) && Uu(p.hours) && Uu(p.minutes) ? (ie[0] && h.value[0] && (h.value[0] = ni(ie[0], p.hours[0], p.minutes[0], z())), ie[1] && h.value[1] && (h.value[1] = ni(ie[1], p.hours[1], p.minutes[1], z(!1)))) : t.multiDates && Array.isArray(h.value) ? h.value[h.value.length - 1] = Pe(ie) : !t.range && !s5(ie) && (h.value = Pe(ie)), e("time-update") }, xt = (ie, ge = !0, nt = !1) => { const ct = ge ? ie : p.hours, Zt = !ge && !nt ? ie : p.minutes, Fn = nt ? ie : p.seconds; if (t.range && s5(h.value) && Uu(ct) && Uu(Zt) && Uu(Fn) && !t.disableTimeRangeValidation) { const Nr = qe => ni(h.value[qe], ct[qe], Zt[qe], Fn[qe]), be = qe => Hk(h.value[qe], 0); if (Zr(h.value[0], h.value[1]) && (Fk(Nr(0), be(1)) || Bk(Nr(1), be(0)))) return } if (b("hours", ct), b("minutes", Zt), b("seconds", Fn), h.value) if (t.multiDates) { const Nr = V(); Nr && st(Nr) } else st(h.value); else t.timePicker && st(t.range ? [Le(), Le()] : Le()); r() }, vt = (ie, ge) => { t.monthChangeOnScroll && ot(t.monthChangeOnScroll !== "inverse" ? -ie.deltaY : ie.deltaY, ge) }, Jt = (ie, ge, nt = !1) => { t.monthChangeOnArrows && t.vertical === nt && ur(ie, ge) }, ur = (ie, ge) => { ot(ie === "right" ? -1 : 1, ge) }; return { time: p, month: g, year: m, modelValue: h, calendars: v, monthYearSelect: Ye, isDisabled: o, updateTime: xt, getWeekNum: we, selectDate: ve, updateMonthYear: xe, handleScroll: vt, getMarker: ie => t.markers.find(ge => Zr(s(ie.value), s(ge.date))), handleArrow: Jt, handleSwipe: ur, selectCurrentDate: () => { t.range ? h.value && Array.isArray(h.value) && h.value[0] ? h.value = ea(Le(), h.value[0]) ? [Le(), h.value[0]] : [h.value[0], Le()] : h.value = [Le()] : h.value = Le(), B() }, presetDateRange: (ie, ge) => { ge || ie.length && ie.length <= 2 && t.range && (h.value = ie.map(nt => Le(nt)), B(), t.multiCalendars && Dr().then(() => x(!0))) } } }, q6e = (t, e, r) => { const n = ne(), { getZonedToUtc: a, getZonedDate: i, formatDate: o, getDefaultPattern: s, checkRangeEnabled: l, checkPartialRangeValue: u, isValidDate: c, setDateMonthOrYear: f, defaults: h } = ja(e), d = ne(""), v = qv(e, "format"); mt(n, () => { t("internal-model-change", n.value) }), mt(v, () => { H() }); const p = U => { const B = U || Le(); return e.modelType ? K(B) : { hours: hs(B), minutes: ds(B), seconds: e.enableSeconds ? Eh(B) : 0 } }, g = U => e.modelType ? K(U) : { month: Vr(U), year: zr(U) }, m = U => Array.isArray(U) ? l(() => [Pc(Le(), U[0]), U[1] ? Pc(Le(), U[1]) : u()]) : Pc(Le(), +U), y = (U, B) => (typeof U == "string" || typeof U == "number") && e.modelType ? q(U) : B, _ = U => Array.isArray(U) ? [y(U[0], ni(null, +U[0].hours, +U[0].minutes, U[0].seconds)), y(U[1], ni(null, +U[1].hours, +U[1].minutes, U[1].seconds))] : y(U, ni(null, U.hours, U.minutes, U.seconds)), b = U => Array.isArray(U) ? l(() => [y(U[0], f(null, +U[0].month, +U[0].year)), y(U[1], U[1] ? f(null, +U[1].month, +U[1].year) : u())]) : y(U, f(null, +U.month, +U.year)), x = U => { if (Array.isArray(U)) return U.map(B => q(B)); throw new Error(f_.dateArr("multi-dates")) }, S = U => { if (Array.isArray(U)) return [Le(U[0]), Le(U[1])]; throw new Error(f_.dateArr("week-picker")) }, T = U => e.modelAuto ? Array.isArray(U) ? [q(U[0]), q(U[1])] : e.autoApply ? [q(U)] : [q(U), null] : Array.isArray(U) ? l(() => [q(U[0]), U[1] ? q(U[1]) : u()]) : q(U), C = () => { Array.isArray(n.value) && e.range && n.value.length === 1 && n.value.push(u()) }, M = () => { const U = n.value; return [K(U[0]), U[1] ? K(U[1]) : u()] }, k = () => n.value[1] ? M() : K(Xn(n.value[0])), A = () => (n.value || []).map(U => K(U)), R = () => (C(), e.modelAuto ? k() : e.multiDates ? A() : Array.isArray(n.value) ? l(() => M()) : K(Xn(n.value))), N = U => U ? e.timePicker ? _(Xn(U)) : e.monthPicker ? b(Xn(U)) : e.yearPicker ? m(Xn(U)) : e.multiDates ? x(Xn(U)) : e.weekPicker ? S(Xn(U)) : T(Xn(U)) : null, z = U => { const B = N(U); c(Xn(B)) ? (n.value = Xn(B), H()) : (n.value = null, d.value = "") }, F = () => { var U; const B = ee => { var Q; return Wv(ee, (Q = h.value.textInputOptions) == null ? void 0 : Q.format) }; return `${B(n.value[0])} ${(U = h.value.textInputOptions) == null ? void 0 : U.rangeSeparator} ${n.value[1] ? B(n.value[1]) : ""}` }, V = () => { var U; return r.value && n.value ? Array.isArray(n.value) ? F() : Wv(n.value, (U = h.value.textInputOptions) == null ? void 0 : U.format) : o(n.value) }, L = () => { var U; return n.value ? e.multiDates ? n.value.map(B => o(B)).join("; ") : e.textInput && typeof ((U = h.value.textInputOptions) == null ? void 0 : U.format) == "string" ? V() : o(n.value) : "" }, H = () => { !e.format || typeof e.format == "string" ? d.value = L() : d.value = e.format(n.value) }, q = U => { if (e.utc) { const B = new Date(U); return e.utc === "preserve" ? new Date(B.getTime() + B.getTimezoneOffset() * 6e4) : B } return e.modelType ? e.modelType === "date" || e.modelType === "timestamp" ? i(new Date(U)) : e.modelType === "format" && (typeof e.format == "string" || !e.format) ? X2(U, s(), new Date) : i(X2(U, e.modelType, new Date)) : i(new Date(U)) }, K = U => e.utc ? u6e(U, e.utc === "preserve") : e.modelType ? e.modelType === "timestamp" ? +a(U) : e.modelType === "format" && (typeof e.format == "string" || !e.format) ? o(a(U)) : o(a(U), e.modelType) : a(U), te = U => { t("update:model-value", U) }, oe = U => Array.isArray(n.value) ? [U(n.value[0]), n.value[1] ? U(n.value[1]) : u()] : U(Xn(n.value)), X = U => te(Xn(oe(U))); return { inputValue: d, internalModelValue: n, checkBeforeEmit: () => n.value ? e.range ? e.partialRange ? n.value.length >= 1 : n.value.length === 2 : !!n.value : !1, parseExternalModelValue: z, formatInputValue: H, emitModelValue: () => (H(), e.monthPicker ? X(g) : e.timePicker ? X(p) : e.yearPicker ? X(zr) : e.weekPicker ? te(n.value) : te(R())) } }, X6e = (t, e) => { const { validateMonthYearInRange: r, validateMaxDate: n, validateMinDate: a, defaults: i } = ja(t), o = (f, h) => { let d = f; return i.value.filters.months.includes(Vr(d)) ? (d = h ? Do(f, 1) : mh(f, 1), o(d, h)) : d }, s = (f, h) => { let d = f; return i.value.filters.years.includes(zr(d)) ? (d = h ? rY(f, 1) : bBe(f, 1), s(d, h)) : d }, l = f => { const h = da(new Date, { month: t.month, year: t.year }); let d = f ? Do(h, 1) : mh(h, 1), v = Vr(d), p = zr(d); i.value.filters.months.includes(v) && (d = o(d, f), v = Vr(d), p = zr(d)), i.value.filters.years.includes(p) && (d = s(d, f), p = zr(d)), r(v, p, f, t.preventMinMaxNavigation) && u(v, p) }, u = (f, h) => { e("update-month-year", { month: f, year: h }) }, c = De(() => f => { if (!t.preventMinMaxNavigation || f && !t.maxDate || !f && !t.minDate) return !1; const h = da(new Date, { month: t.month, year: t.year }), d = f ? Do(h, 1) : mh(h, 1), v = [Vr(d), zr(d)]; return f ? !n(...v) : !a(...v) }); return { handleMonthYearChange: l, isDisabled: c, updateMonthYear: u } }; var $y = (t => (t.center = "center", t.left = "left", t.right = "right", t))($y || {}); const K6e = (t, e, r, n) => { const a = ne({ top: "0", left: "0", transform: "none" }), i = ne(!1), o = qv(n, "teleportCenter"); mt(o, () => { g() }); const s = T => { const C = T.getBoundingClientRect(); return { left: C.left + window.scrollX, top: C.top + window.scrollY } }, l = T => { const C = T.getBoundingClientRect(); let M = 0, k = 0; for (; T && !isNaN(T.offsetLeft) && !isNaN(T.offsetTop);)M += T.offsetLeft - T.scrollLeft, k = C.top + T.scrollTop, T = T.offsetParent; return { top: k, left: M } }, u = (T, C) => { a.value.left = `${T + C}px`, a.value.transform = "translateX(-100%)" }, c = T => { a.value.left = `${T}px`, a.value.transform = "translateX(0)" }, f = (T, C, M = !1) => { n.position === $y.left && c(T), n.position === $y.right && u(T, C), n.position === $y.center && (a.value.left = `${T + C / 2}px`, a.value.transform = M ? "translate(-50%, -50%)" : "translateX(-50%)") }, h = T => { const { width: C, height: M } = T.getBoundingClientRect(), { top: k, left: A } = n.altPosition ? l(T) : s(T); return { top: k, left: A, width: C, height: M } }, d = () => { const T = Mn(e); if (T) { const { top: C, left: M, width: k, height: A } = h(T); a.value.top = `${C + A / 2}px`, a.value.transform = "translateY(-50%)", f(M, k, !0) } }, v = () => { a.value.left = "50%", a.value.top = "50%", a.value.transform = "translate(-50%, -50%)", a.value.position = "fixed" }, p = () => { const T = Mn(e); a.value = n.altPosition(T) }, g = (T = !0) => { if (!n.inline) return o.value ? v() : n.altPosition && typeof n.altPosition != "boolean" ? p() : (T && r("recalculate-position"), S()) }, m = ({ inputEl: T, menuEl: C, left: M, width: k }) => { window.screen.width > 768 && f(M, k), b(T, C) }, y = (T, C) => { const { top: M, left: k, height: A, width: R } = h(T); a.value.top = `${A + M + +n.offset}px`, m({ inputEl: T, menuEl: C, left: k, width: R }), i.value = !1 }, _ = (T, C) => { const { top: M, left: k, width: A } = h(T), { height: R } = C.getBoundingClientRect(); a.value.top = `${M - R - +n.offset}px`, m({ inputEl: T, menuEl: C, left: k, width: A }), i.value = !0 }, b = (T, C) => { if (n.autoPosition) { const { left: M, width: k } = h(T), { left: A, right: R } = C.getBoundingClientRect(); if (A < 0) return c(M); if (R > document.documentElement.clientWidth) return u(M, k) } }, x = (T, C) => { const { height: M } = C.getBoundingClientRect(), { top: k, height: A } = T.getBoundingClientRect(), R = window.innerHeight - k - A, N = k; return M <= R ? y(T, C) : M > R && M <= N ? _(T, C) : R >= N ? y(T, C) : _(T, C) }, S = () => { const T = Mn(e), C = Mn(t); if (T && C) return n.autoPosition ? x(T, C) : y(T, C) }; return { openOnTop: i, menuPosition: a, setMenuPosition: g, setInitialPosition: d } }, Bf = [{ name: "clock-icon", use: ["time", "calendar"] }, { name: "arrow-left", use: ["month-year", "calendar"] }, { name: "arrow-right", use: ["month-year", "calendar"] }, { name: "arrow-up", use: ["time", "calendar"] }, { name: "arrow-down", use: ["time", "calendar"] }, { name: "calendar-icon", use: ["month-year", "time", "calendar"] }, { name: "day", use: ["calendar"] }, { name: "month-overlay-value", use: ["calendar", "month-year"] }, { name: "year-overlay-value", use: ["calendar", "month-year"] }, { name: "year-overlay", use: ["month-year"] }, { name: "month-overlay", use: ["month-year"] }, { name: "month-overlay-header", use: ["month-year"] }, { name: "year-overlay-header", use: ["month-year"] }, { name: "hours-overlay-value", use: ["calendar", "time"] }, { name: "minutes-overlay-value", use: ["calendar", "time"] }, { name: "seconds-overlay-value", use: ["calendar", "time"] }, { name: "hours", use: ["calendar", "time"] }, { name: "minutes", use: ["calendar", "time"] }, { name: "month", use: ["calendar", "month-year"] }, { name: "year", use: ["calendar", "month-year"] }, { name: "action-select", use: ["action"] }, { name: "action-preview", use: ["action"] }, { name: "calendar-header", use: ["calendar"] }, { name: "marker-tooltip", use: ["calendar"] }, { name: "now-button", use: [] }, { name: "time-picker-overlay", use: ["calendar", "time"] }, { name: "am-pm-button", use: ["calendar", "time"] }, { name: "left-sidebar", use: ["menu"] }, { name: "right-sidebar", use: ["menu"] }, { name: "month-year", use: ["month-year"] }, { name: "time-picker", use: ["menu"] }, { name: "action-row", use: ["action"] }], Q6e = [{ name: "trigger" }, { name: "input-icon" }, { name: "clear-icon" }, { name: "dp-input" }], J6e = { all: () => Bf, monthYear: () => Bf.filter(t => t.use.includes("month-year")), input: () => Q6e, timePicker: () => Bf.filter(t => t.use.includes("time")), action: () => Bf.filter(t => t.use.includes("action")), calendar: () => Bf.filter(t => t.use.includes("calendar")), menu: () => Bf.filter(t => t.use.includes("menu")) }, mc = (t, e, r) => { const n = []; return J6e[e]().forEach(a => { t[a.name] && n.push(a.name) }), r && r.length && r.forEach(a => { a.slot && n.push(a.slot) }), n }, U1 = t => ({ transitionName: De(() => e => t && typeof t != "boolean" ? e ? t.open : t.close : ""), showTransition: !!t }), cu = { multiCalendars: { type: [Boolean, Number, String], default: null }, modelValue: { type: [String, Date, Array, Object, Number], default: null }, modelType: { type: String, default: null }, position: { type: String, default: "center" }, dark: { type: Boolean, default: !1 }, format: { type: [String, Function], default: () => null }, closeOnScroll: { type: Boolean, default: !1 }, autoPosition: { type: Boolean, default: !0 }, closeOnAutoApply: { type: Boolean, default: !0 }, teleport: { type: [String, Object], default: "body" }, altPosition: { type: [Boolean, Function], default: !1 }, transitions: { type: [Boolean, Object], default: !0 }, formatLocale: { type: Object, default: null }, utc: { type: [Boolean, String], default: !1 }, ariaLabels: { type: Object, default: () => ({}) }, offset: { type: [Number, String], default: 10 }, hideNavigation: { type: Array, default: () => [] }, timezone: { type: String, default: null }, vertical: { type: Boolean, default: !1 }, disableMonthYearSelect: { type: Boolean, default: !1 }, menuClassName: { type: String, default: null }, dayClass: { type: Function, default: null }, yearRange: { type: Array, default: () => [1900, 2100] }, multiCalendarsSolo: { type: Boolean, default: !1 }, calendarCellClassName: { type: String, default: null }, enableTimePicker: { type: Boolean, default: !0 }, autoApply: { type: Boolean, default: !1 }, disabledDates: { type: [Array, Function], default: () => [] }, monthNameFormat: { type: String, default: "short" }, startDate: { type: [Date, String], default: null }, startTime: { type: [Object, Array], default: null }, monthYearComponent: { type: Object, default: null }, timePickerComponent: { type: Object, default: null }, actionRowComponent: { type: Object, default: null }, hideOffsetDates: { type: Boolean, default: !1 }, autoRange: { type: [Number, String], default: null }, noToday: { type: Boolean, default: !1 }, disabledWeekDays: { type: Array, default: () => [] }, allowedDates: { type: Array, default: () => [] }, showNowButton: { type: Boolean, default: !1 }, nowButtonLabel: { type: String, default: "Now" }, markers: { type: Array, default: () => [] }, modeHeight: { type: [Number, String], default: 255 }, escClose: { type: Boolean, default: !0 }, spaceConfirm: { type: Boolean, default: !0 }, monthChangeOnArrows: { type: Boolean, default: !0 }, presetRanges: { type: Array, default: () => [] }, flow: { type: Array, default: () => [] }, preventMinMaxNavigation: { type: Boolean, default: !1 }, minRange: { type: [Number, String], default: null }, maxRange: { type: [Number, String], default: null }, multiDatesLimit: { type: [Number, String], default: null }, reverseYears: { type: Boolean, default: !1 }, keepActionRow: { type: Boolean, default: !1 }, weekPicker: { type: Boolean, default: !1 }, filters: { type: Object, default: () => ({}) }, arrowNavigation: { type: Boolean, default: !1 }, multiStatic: { type: Boolean, default: !0 }, disableTimeRangeValidation: { type: Boolean, default: !1 }, highlight: { type: [Array, Function], default: null }, highlightWeekDays: { type: Array, default: null }, highlightDisabledDays: { type: Boolean, default: !1 }, teleportCenter: { type: Boolean, default: !1 }, locale: { type: String, default: "en-Us" }, weekNumName: { type: String, default: "W" }, weekStart: { type: [Number, String], default: 1 }, weekNumbers: { type: Boolean, default: !1 }, calendarClassName: { type: String, default: null }, noSwipe: { type: Boolean, default: !1 }, monthChangeOnScroll: { type: [Boolean, String], default: !0 }, dayNames: { type: [Function, Array], default: null }, monthPicker: { type: Boolean, default: !1 }, customProps: { type: Object, default: null }, yearPicker: { type: Boolean, default: !1 }, modelAuto: { type: Boolean, default: !1 }, selectText: { type: String, default: "Select" }, cancelText: { type: String, default: "Cancel" }, previewFormat: { type: [String, Function], default: () => "" }, multiDates: { type: Boolean, default: !1 }, partialRange: { type: Boolean, default: !0 }, ignoreTimeValidation: { type: Boolean, default: !1 }, minDate: { type: [Date, String], default: null }, maxDate: { type: [Date, String], default: null }, minTime: { type: Object, default: null }, maxTime: { type: Object, default: null }, name: { type: String, default: null }, placeholder: { type: String, default: "" }, hideInputIcon: { type: Boolean, default: !1 }, clearable: { type: Boolean, default: !0 }, state: { type: Boolean, default: null }, required: { type: Boolean, default: !1 }, autocomplete: { type: String, default: "off" }, inputClassName: { type: String, default: null }, inlineWithInput: { type: Boolean, default: !1 }, textInputOptions: { type: Object, default: () => null }, fixedStart: { type: Boolean, default: !1 }, fixedEnd: { type: Boolean, default: !1 }, timePicker: { type: Boolean, default: !1 }, enableSeconds: { type: Boolean, default: !1 }, is24: { type: Boolean, default: !0 }, noHoursOverlay: { type: Boolean, default: !1 }, noMinutesOverlay: { type: Boolean, default: !1 }, noSecondsOverlay: { type: Boolean, default: !1 }, hoursGridIncrement: { type: [String, Number], default: 1 }, minutesGridIncrement: { type: [String, Number], default: 5 }, secondsGridIncrement: { type: [String, Number], default: 5 }, hoursIncrement: { type: [Number, String], default: 1 }, minutesIncrement: { type: [Number, String], default: 1 }, secondsIncrement: { type: [Number, String], default: 1 }, range: { type: Boolean, default: !1 }, uid: { type: String, default: null }, disabled: { type: Boolean, default: !1 }, readonly: { type: Boolean, default: !1 }, inline: { type: Boolean, default: !1 }, textInput: { type: Boolean, default: !1 }, onClickOutside: { type: Function, default: null }, noDisabledRange: { type: Boolean, default: !1 }, sixWeeks: { type: Boolean, default: !1 } }, eVe = ["aria-label", "aria-disabled", "aria-readonly"], tVe = { key: 1, class: "dp__input_wrap" }, rVe = ["id", "name", "inputmode", "placeholder", "disabled", "readonly", "required", "value", "autocomplete", "onKeydown"], nVe = { key: 2, class: "dp__input_icon" }, aVe = { key: 4, class: "dp__clear_icon" }, iVe = Ue({ __name: "DatepickerInput", props: { isMenuOpen: { type: Boolean, default: !1 }, inputValue: { type: String, default: "" }, ...cu }, emits: ["clear", "open", "update:input-value", "set-input-date", "close", "select-date", "set-empty-date", "toggle", "focus-prev", "focus", "blur"], setup(t, { expose: e, emit: r }) { const n = t, { getDefaultPattern: a, isValidDate: i, defaults: o } = ja(n), s = ne(), l = ne(null), u = ne(!1), c = De(() => ({ dp__pointer: !n.disabled && !n.readonly && !n.textInput, dp__disabled: n.disabled, dp__input_readonly: !n.textInput, dp__input: !0, dp__input_icon_pad: !n.hideInputIcon, dp__input_valid: n.state, dp__input_invalid: n.state === !1, dp__input_focus: u.value || n.isMenuOpen, dp__input_reg: !n.textInput, [n.inputClassName]: !!n.inputClassName })), f = () => { r("set-input-date", null), n.autoApply && (r("set-empty-date"), s.value = null) }, h = T => { var C; return l6e(T, ((C = o.value.textInputOptions) == null ? void 0 : C.format) || a()) }, d = T => { const { rangeSeparator: C } = o.value.textInputOptions, [M, k] = T.split(`${C}`); if (M) { const A = h(M.trim()), R = k ? h(k.trim()) : null, N = A && R ? [A, R] : [A]; s.value = A ? N : null } }, v = T => { if (n.range) d(T); else if (n.multiDates) { const C = T.split(";"); s.value = C.map(M => h(M.trim())).filter(M => M) } else s.value = h(T) }, p = T => { var C; const { value: M } = T.target; M !== "" ? ((C = o.value.textInputOptions) != null && C.openMenu && !n.isMenuOpen && r("open"), v(M), r("set-input-date", s.value)) : f(), r("update:input-value", M) }, g = () => { var T, C; (T = o.value.textInputOptions) != null && T.enterSubmit && i(s.value) && n.inputValue !== "" ? (r("set-input-date", s.value, !0), s.value = null) : (C = o.value.textInputOptions) != null && C.enterSubmit && n.inputValue === "" && (s.value = null, r("clear")) }, m = () => { var T, C; (T = o.value.textInputOptions) != null && T.tabSubmit && i(s.value) && n.inputValue !== "" ? (r("set-input-date", s.value, !0), s.value = null) : (C = o.value.textInputOptions) != null && C.tabSubmit && n.inputValue === "" && (s.value = null, r("clear")) }, y = () => { u.value = !0, r("focus") }, _ = T => { var C; T.preventDefault(), T.stopImmediatePropagation(), T.stopPropagation(), n.textInput && (C = o.value.textInputOptions) != null && C.openMenu && !n.inlineWithInput ? n.isMenuOpen ? o.value.textInputOptions.enterSubmit && r("select-date") : r("open") : n.textInput || r("toggle") }, b = () => { u.value = !1, n.isMenuOpen || r("blur"), n.autoApply && n.textInput && s.value && (r("set-input-date", s.value), r("select-date"), s.value = null) }, x = () => { r("clear") }, S = T => { n.textInput || T.preventDefault() }; return e({ focusInput: () => { l.value && l.value.focus({ preventScroll: !0 }) } }), (T, C) => { var M; return $(), j("div", { onClick: _, "aria-label": (M = Y(o).ariaLabels) == null ? void 0 : M.input, role: "textbox", "aria-multiline": "false", "aria-disabled": T.disabled, "aria-readonly": T.readonly }, [T.$slots.trigger && !T.$slots["dp-input"] && !T.inline ? We(T.$slots, "trigger", { key: 0 }) : ce("", !0), !T.$slots.trigger && (!T.inline || T.inlineWithInput) ? ($(), j("div", tVe, [T.$slots["dp-input"] && !T.$slots.trigger && !T.inline ? We(T.$slots, "dp-input", { key: 0, value: t.inputValue, onInput: p, onEnter: g, onTab: m, onClear: x }) : ce("", !0), T.$slots["dp-input"] ? ce("", !0) : ($(), j("input", { key: 1, ref_key: "inputRef", ref: l, id: T.uid ? `dp-input-${T.uid}` : void 0, name: T.name, class: Be(Y(c)), inputmode: T.textInput ? "text" : "none", placeholder: T.placeholder, disabled: T.disabled, readonly: T.readonly, required: T.required, value: t.inputValue, autocomplete: T.autocomplete, onInput: p, onKeydown: [qt(_, ["enter"]), qt(m, ["tab"])], onBlur: b, onFocus: y, onKeypress: S }, null, 42, rVe)), T.$slots["input-icon"] && !T.hideInputIcon ? ($(), j("span", nVe, [We(T.$slots, "input-icon")])) : ce("", !0), !T.$slots["input-icon"] && !T.hideInputIcon && !T.$slots["dp-input"] ? ($(), Ie(Y(Y1), { key: 3, class: "dp__input_icon dp__input_icons" })) : ce("", !0), T.$slots["clear-icon"] && t.inputValue && T.clearable && !T.disabled && !T.readonly ? ($(), j("span", aVe, [We(T.$slots, "clear-icon", { clear: x })])) : ce("", !0), T.clearable && !T.$slots["clear-icon"] && t.inputValue && !T.disabled && !T.readonly ? ($(), Ie(Y(EBe), { key: 5, class: "dp__clear_icon dp__input_icons", "data-test": "clear-icon", onClick: hn(x, ["stop", "prevent"]) }, null, 8, ["onClick"])) : ce("", !0)])) : ce("", !0)], 8, eVe) } } }), oVe = { class: "dp__selection_preview" }, sVe = { class: "dp__action_buttons" }, lVe = ["onKeydown"], uVe = Ue({ __name: "ActionRow", props: { calendarWidth: { type: Number, default: 0 }, menuMount: { type: Boolean, default: !1 }, internalModelValue: { type: [Date, Array], default: null }, ...cu }, emits: ["close-picker", "select-date", "invalid-select"], setup(t, { emit: e }) { const r = t, { formatDate: n, isValidTime: a, defaults: i } = ja(r), { buildMatrix: o } = uu(), s = ne(null), l = ne(null); Lt(() => { r.arrowNavigation && o([Mn(s), Mn(l)], "actionRow") }); const u = De(() => r.range && !r.partialRange && r.internalModelValue ? r.internalModelValue.length === 2 : !0), c = De(() => !h.value || !d.value || !u.value), f = De(() => ({ dp__action: !0, dp__select: !0, dp__action_disabled: c.value })), h = De(() => !r.enableTimePicker || r.ignoreTimeValidation ? !0 : a(r.internalModelValue)), d = De(() => r.monthPicker ? m(r.internalModelValue) : !0), v = () => { const _ = i.value.previewFormat; return r.timePicker || r.monthPicker, _(Xn(r.internalModelValue)) }, p = () => { const _ = r.internalModelValue; return i.value.multiCalendars > 0 ? `${n(_[0])} - ${n(_[1])}` : [n(_[0]), n(_[1])] }, g = De(() => !r.internalModelValue || !r.menuMount ? "" : typeof i.value.previewFormat == "string" ? Array.isArray(r.internalModelValue) ? r.internalModelValue.length === 2 && r.internalModelValue[1] ? p() : r.multiDates ? r.internalModelValue.map(_ => `${n(_)}`) : r.modelAuto ? `${n(r.internalModelValue[0])}` : `${n(r.internalModelValue[0])} -` : n(r.internalModelValue) : v()), m = _ => { if (!r.monthPicker) return !0; let b = !0; return r.minDate && r.maxDate ? ga(Le(_), Le(r.minDate)) && ea(Le(_), Le(r.maxDate)) : (r.minDate && (b = ga(Le(_), Le(r.minDate))), r.maxDate && (b = ea(Le(_), Le(r.maxDate))), b) }, y = () => { h.value && d.value && u.value ? e("select-date") : e("invalid-select") }; return (_, b) => ($(), j("div", { class: "dp__action_row", style: at(t.calendarWidth ? { width: `${t.calendarWidth}px` } : {}) }, [_.$slots["action-row"] ? We(_.$slots, "action-row", Aa(Dn({ key: 0 }, { internalModelValue: t.internalModelValue, disabled: Y(c), selectDate: () => _.$emit("select-date"), closePicker: () => _.$emit("close-picker") }))) : ($(), j(Ve, { key: 1 }, [P("div", oVe, [_.$slots["action-preview"] ? We(_.$slots, "action-preview", { key: 0, value: t.internalModelValue }) : ce("", !0), _.$slots["action-preview"] ? ce("", !0) : ($(), j(Ve, { key: 1 }, [Array.isArray(Y(g)) ? ce("", !0) : ($(), j(Ve, { key: 0 }, [Tt(fe(Y(g)), 1)], 64)), Array.isArray(Y(g)) ? ($(!0), j(Ve, { key: 1 }, It(Y(g), (x, S) => ($(), j("div", { key: S }, fe(x), 1))), 128)) : ce("", !0)], 64))]), P("div", sVe, [_.$slots["action-select"] ? We(_.$slots, "action-select", { key: 0, value: t.internalModelValue }) : ce("", !0), _.$slots["action-select"] ? ce("", !0) : ($(), j(Ve, { key: 1 }, [_.inline ? ce("", !0) : ($(), j("span", { key: 0, class: "dp__action dp__cancel", ref_key: "cancelButtonRef", ref: s, tabindex: "0", onClick: b[0] || (b[0] = x => _.$emit("close-picker")), onKeydown: [b[1] || (b[1] = qt(x => _.$emit("close-picker"), ["enter"])), b[2] || (b[2] = qt(x => _.$emit("close-picker"), ["space"]))] }, fe(_.cancelText), 545)), P("span", { class: Be(Y(f)), tabindex: "0", onKeydown: [qt(y, ["enter"]), qt(y, ["space"])], onClick: y, "data-test": "select-button", ref_key: "selectButtonRef", ref: l }, fe(_.selectText), 43, lVe)], 64))])], 64))], 4)) } }), cVe = ["aria-label"], fVe = { class: "dp__calendar_header", role: "row" }, hVe = { key: 0, class: "dp__calendar_header_item", role: "gridcell" }, dVe = P("div", { class: "dp__calendar_header_separator" }, null, -1), vVe = ["aria-label"], pVe = { key: 0, role: "gridcell", class: "dp__calendar_item dp__week_num" }, gVe = { class: "dp__cell_inner" }, mVe = ["aria-selected", "aria-disabled", "aria-label", "data-test", "onClick", "onKeydown", "onMouseenter", "onMouseleave"], yVe = P("div", { class: "dp__arrow_bottom_tp" }, null, -1), _Ve = Ue({ __name: "Calendar", props: { mappedDates: { type: Array, default: () => [] }, getWeekNum: { type: Function, default: () => "" }, specificMode: { type: Boolean, default: !1 }, instance: { type: Number, default: 0 }, month: { type: Number, default: 0 }, year: { type: Number, default: 0 }, ...cu }, emits: ["select-date", "set-hover-date", "handle-scroll", "mount", "handle-swipe", "handle-space", "tooltip-open", "tooltip-close"], setup(t, { expose: e, emit: r }) { const n = t, { buildMultiLevelMatrix: a } = uu(), { setDateMonthOrYear: i, defaults: o } = ja(n), s = ne(null), l = ne({ bottom: "", left: "", transform: "" }), u = ne([]), c = ne(null), f = ne(!0), h = ne(""), d = ne({ startX: 0, endX: 0, startY: 0, endY: 0 }), v = De(() => n.dayNames ? Array.isArray(n.dayNames) ? n.dayNames : n.dayNames(n.locale, +n.weekStart) : $6e(n.locale, +n.weekStart)); Lt(() => { r("mount", { cmp: "calendar", refs: u }), n.noSwipe || c.value && (c.value.addEventListener("touchstart", M, { passive: !1 }), c.value.addEventListener("touchend", k, { passive: !1 }), c.value.addEventListener("touchmove", A, { passive: !1 })), n.monthChangeOnScroll && c.value && c.value.addEventListener("wheel", z, { passive: !1 }) }); const p = F => F ? n.vertical ? "vNext" : "next" : n.vertical ? "vPrevious" : "previous", g = (F, V) => { if (n.transitions) { const L = Vo(i(Le(), n.month, n.year)); h.value = ga(Vo(i(Le(), F, V)), L) ? o.value.transitions[p(!0)] : o.value.transitions[p(!1)], f.value = !1, Dr(() => { f.value = !0 }) } }, m = De(() => ({ dp__calendar_wrap: !0, [n.calendarClassName]: !!n.calendarClassName })), y = De(() => F => { const V = z6e(F); return { dp__marker_dot: V.type === "dot", dp__marker_line: V.type === "line" } }), _ = De(() => F => Zr(F, s.value)), b = De(() => ({ dp__calendar: !0, dp__calendar_next: o.value.multiCalendars > 0 && n.instance !== 0 })), x = De(() => F => n.hideOffsetDates ? F.current : !0), S = De(() => n.specificMode ? { height: `${n.modeHeight}px` } : void 0), T = (F, V, L) => { var H, q; if (r("set-hover-date", F), (q = (H = F.marker) == null ? void 0 : H.tooltip) != null && q.length) { const K = Mn(u.value[V][L]); if (K) { const { width: te, height: oe } = K.getBoundingClientRect(); l.value = { bottom: `${oe}px`, left: `${te / 2}px`, transform: "translateX(-50%)" }, s.value = F.value, r("tooltip-open", F.value) } } }, C = F => { s.value && (s.value = null, r("tooltip-close", F.value)) }, M = F => { d.value.startX = F.changedTouches[0].screenX, d.value.startY = F.changedTouches[0].screenY }, k = F => { d.value.endX = F.changedTouches[0].screenX, d.value.endY = F.changedTouches[0].screenY, R() }, A = F => { n.vertical && !n.inline && F.preventDefault() }, R = () => { const F = n.vertical ? "Y" : "X"; Math.abs(d.value[`start${F}`] - d.value[`end${F}`]) > 10 && r("handle-swipe", d.value[`start${F}`] > d.value[`end${F}`] ? "right" : "left") }, N = (F, V, L) => { F && (Array.isArray(u.value[V]) ? u.value[V][L] = F : u.value[V] = [F]), n.arrowNavigation && a(u.value, "calendar") }, z = F => { n.monthChangeOnScroll && (F.preventDefault(), r("handle-scroll", F)) }; return e({ triggerTransition: g }), (F, V) => { var L; return $(), j("div", { class: Be(Y(b)) }, [P("div", { style: at(Y(S)) }, [t.specificMode ? ce("", !0) : ($(), j("div", { key: 0, ref_key: "calendarWrapRef", ref: c, class: Be(Y(m)), role: "grid", "aria-label": (L = Y(o).ariaLabels) == null ? void 0 : L.calendarWrap }, [P("div", fVe, [F.weekNumbers ? ($(), j("div", hVe, fe(F.weekNumName), 1)) : ce("", !0), ($(!0), j(Ve, null, It(Y(v), (H, q) => ($(), j("div", { class: "dp__calendar_header_item", role: "gridcell", key: q, "data-test": "calendar-header" }, [F.$slots["calendar-header"] ? We(F.$slots, "calendar-header", { key: 0, day: H, index: q }) : ce("", !0), F.$slots["calendar-header"] ? ce("", !0) : ($(), j(Ve, { key: 1 }, [Tt(fe(H), 1)], 64))]))), 128))]), dVe, de(Cr, { name: h.value, css: !!F.transitions }, { default: Me(() => { var H; return [f.value ? ($(), j("div", { key: 0, class: "dp__calendar", role: "grid", "aria-label": (H = Y(o).ariaLabels) == null ? void 0 : H.calendarDays }, [($(!0), j(Ve, null, It(t.mappedDates, (q, K) => ($(), j("div", { class: "dp__calendar_row", role: "row", key: K }, [F.weekNumbers ? ($(), j("div", pVe, [P("div", gVe, fe(t.getWeekNum(q.days)), 1)])) : ce("", !0), ($(!0), j(Ve, null, It(q.days, (te, oe) => { var X, U, B; return $(), j("div", { role: "gridcell", class: "dp__calendar_item", ref_for: !0, ref: ee => N(ee, K, oe), key: oe + K, "aria-selected": te.classData.dp__active_date || te.classData.dp__range_start || te.classData.dp__range_start, "aria-disabled": te.classData.dp__cell_disabled, "aria-label": (U = (X = Y(o).ariaLabels) == null ? void 0 : X.day) == null ? void 0 : U.call(X, te), tabindex: "0", "data-test": te.value, onClick: hn(ee => F.$emit("select-date", te), ["stop", "prevent"]), onKeydown: [qt(ee => F.$emit("select-date", te), ["enter"]), qt(ee => F.$emit("handle-space", te), ["space"])], onMouseenter: ee => T(te, K, oe), onMouseleave: ee => C(te) }, [P("div", { class: Be(["dp__cell_inner", te.classData]) }, [F.$slots.day && Y(x)(te) ? We(F.$slots, "day", { key: 0, day: +te.text, date: te.value }) : ce("", !0), F.$slots.day ? ce("", !0) : ($(), j(Ve, { key: 1 }, [Tt(fe(te.text), 1)], 64)), te.marker && Y(x)(te) ? ($(), j("div", { key: 2, class: Be(Y(y)(te.marker)), style: at(te.marker.color ? { backgroundColor: te.marker.color } : {}) }, null, 6)) : ce("", !0), Y(_)(te.value) ? ($(), j("div", { key: 3, class: "dp__marker_tooltip", style: at(l.value) }, [(B = te.marker) != null && B.tooltip ? ($(), j("div", { key: 0, class: "dp__tooltip_content", onClick: V[0] || (V[0] = hn(() => { }, ["stop"])) }, [($(!0), j(Ve, null, It(te.marker.tooltip, (ee, Q) => ($(), j("div", { key: Q, class: "dp__tooltip_text" }, [F.$slots["marker-tooltip"] ? We(F.$slots, "marker-tooltip", { key: 0, tooltip: ee, day: te.value }) : ce("", !0), F.$slots["marker-tooltip"] ? ce("", !0) : ($(), j(Ve, { key: 1 }, [P("div", { class: "dp__tooltip_mark", style: at(ee.color ? { backgroundColor: ee.color } : {}) }, null, 4), P("div", null, fe(ee.text), 1)], 64))]))), 128)), yVe])) : ce("", !0)], 4)) : ce("", !0)], 2)], 40, mVe) }), 128))]))), 128))], 8, vVe)) : ce("", !0)] }), _: 3 }, 8, ["name", "css"])], 10, cVe))], 4)], 2) } } }), bVe = ["aria-label", "aria-disabled"], gx = Ue({ __name: "ActionIcon", props: { ariaLabel: { type: String, default: "" }, disabled: { type: Boolean, default: !1 } }, emits: ["activate", "set-ref"], setup(t, { emit: e }) { const r = ne(null); return Lt(() => e("set-ref", r)), (n, a) => ($(), j("div", { class: "dp__month_year_col_nav", onClick: a[0] || (a[0] = i => n.$emit("activate")), onKeydown: [a[1] || (a[1] = qt(i => n.$emit("activate"), ["enter"])), a[2] || (a[2] = qt(i => n.$emit("activate"), ["space"]))], tabindex: "0", role: "button", "aria-label": t.ariaLabel, "aria-disabled": t.disabled, ref_key: "elRef", ref: r }, [P("div", { class: Be(["dp__inner_nav", { dp__inner_nav_disabled: t.disabled }]) }, [We(n.$slots, "default")], 2)], 40, bVe)) } }), wVe = ["onKeydown"], SVe = { class: "dp__selection_grid_header" }, xVe = ["aria-selected", "aria-disabled", "data-test", "onClick", "onKeydown", "onMouseover"], TVe = ["aria-label", "onKeydown"], jv = Ue({ __name: "SelectionGrid", props: { items: { type: Array, default: () => [] }, modelValue: { type: [String, Number], default: null }, multiModelValue: { type: Array, default: () => [] }, disabledValues: { type: Array, default: () => [] }, minValue: { type: [Number, String], default: null }, maxValue: { type: [Number, String], default: null }, year: { type: Number, default: 0 }, skipActive: { type: Boolean, default: !1 }, headerRefs: { type: Array, default: () => [] }, skipButtonRef: { type: Boolean, default: !1 }, monthPicker: { type: Boolean, default: !1 }, yearPicker: { type: Boolean, default: !1 }, escClose: { type: Boolean, default: !0 }, type: { type: String, default: null }, arrowNavigation: { type: Boolean, default: !1 }, autoApply: { type: Boolean, default: !1 }, textInput: { type: Boolean, default: !1 }, ariaLabels: { type: Object, default: () => ({}) }, hideNavigation: { type: Array, default: () => [] } }, emits: ["update:model-value", "selected", "toggle", "reset-flow"], setup(t, { expose: e, emit: r }) { const n = t, { setSelectionGrid: a, buildMultiLevelMatrix: i, setMonthPicker: o } = uu(), { hideNavigationButtons: s } = ja(n), l = ne(!1), u = ne(null), c = ne(null), f = ne([]), h = ne(), d = ne(null), v = ne(0), p = ne(null); Q5(() => { u.value = null }), Lt(() => { Dr().then(() => M()), m(), g(!0) }), Bs(() => g(!1)); const g = V => { var L; n.arrowNavigation && ((L = n.headerRefs) != null && L.length ? o(V) : a(V)) }, m = () => { const V = Mn(c); V && (n.textInput || V.focus({ preventScroll: !0 }), l.value = V.clientHeight < V.scrollHeight) }, y = De(() => ({ dp__overlay: !0 })), _ = De(() => ({ dp__overlay_col: !0 })), b = V => n.skipActive ? !1 : V.value === n.modelValue, x = De(() => n.items.map(V => V.filter(L => L).map(L => { var H, q, K; const te = n.disabledValues.some(X => X === L.value) || C(L.value), oe = (H = n.multiModelValue) != null && H.length ? (q = n.multiModelValue) == null ? void 0 : q.some(X => Zr(X, Pc(n.monthPicker ? Gv(new Date, L.value) : new Date, n.monthPicker ? n.year : L.value))) : b(L); return { ...L, className: { dp__overlay_cell_active: oe, dp__overlay_cell: !oe, dp__overlay_cell_disabled: te, dp__overlay_cell_active_disabled: te && oe, dp__overlay_cell_pad: !0, dp__cell_in_between: (K = n.multiModelValue) != null && K.length ? A(L.value) : !1 } } }))), S = De(() => ({ dp__button: !0, dp__overlay_action: !0, dp__over_action_scroll: l.value, dp__button_bottom: n.autoApply })), T = De(() => { var V, L; return { dp__overlay_container: !0, dp__container_flex: ((V = n.items) == null ? void 0 : V.length) <= 6, dp__container_block: ((L = n.items) == null ? void 0 : L.length) > 6 } }), C = V => { const L = n.maxValue || n.maxValue === 0, H = n.minValue || n.minValue === 0; return !L && !H ? !1 : L && H ? +V > +n.maxValue || +V < +n.minValue : L ? +V > +n.maxValue : H ? +V < +n.minValue : !1 }, M = () => { const V = Mn(u), L = Mn(c), H = Mn(d), q = Mn(p), K = H ? H.getBoundingClientRect().height : 0; L && (v.value = L.getBoundingClientRect().height - K), V && q && (q.scrollTop = V.offsetTop - q.offsetTop - (v.value / 2 - V.getBoundingClientRect().height) - K) }, k = V => { !n.disabledValues.some(L => L === V) && !C(V) && (r("update:model-value", V), r("selected")) }, A = V => { const L = n.monthPicker ? n.year : V; return DY(n.multiModelValue, Pc(n.monthPicker ? Gv(new Date, h.value || 0) : new Date, n.monthPicker ? L : h.value || L), Pc(n.monthPicker ? Gv(new Date, V) : new Date, L)) }, R = () => { r("toggle"), r("reset-flow") }, N = () => { n.escClose && R() }, z = (V, L, H, q) => { V && (L.value === +n.modelValue && !n.disabledValues.includes(L.value) && (u.value = V), n.arrowNavigation && (Array.isArray(f.value[H]) ? f.value[H][q] = V : f.value[H] = [V], F())) }, F = () => { var V, L; const H = (V = n.headerRefs) != null && V.length ? [n.headerRefs].concat(f.value) : f.value.concat([n.skipButtonRef ? [] : [d.value]]); i(Xn(H), (L = n.headerRefs) != null && L.length ? "monthPicker" : "selectionGrid") }; return e({ focusGrid: m }), (V, L) => { var H; return $(), j("div", { ref_key: "gridWrapRef", ref: c, class: Be(Y(y)), role: "dialog", tabindex: "0", onKeydown: qt(N, ["esc"]) }, [P("div", { class: Be(Y(T)), ref_key: "containerRef", ref: p, role: "grid", style: at({ height: `${v.value}px` }) }, [P("div", SVe, [We(V.$slots, "header")]), V.$slots.overlay ? We(V.$slots, "overlay", { key: 0 }) : ($(!0), j(Ve, { key: 1 }, It(Y(x), (q, K) => ($(), j("div", { class: "dp__overlay_row", key: K, role: "row" }, [($(!0), j(Ve, null, It(q, (te, oe) => ($(), j("div", { role: "gridcell", class: Be(Y(_)), key: te.value, "aria-selected": te.value === t.modelValue && !t.disabledValues.includes(te.value), "aria-disabled": te.className.dp__overlay_cell_disabled, ref_for: !0, ref: X => z(X, te, K, oe), tabindex: "0", "data-test": te.text, onClick: X => k(te.value), onKeydown: [qt(X => k(te.value), ["enter"]), qt(X => k(te.value), ["space"])], onMouseover: X => h.value = te.value }, [P("div", { class: Be(te.className) }, [V.$slots.item ? We(V.$slots, "item", { key: 0, item: te }) : ce("", !0), V.$slots.item ? ce("", !0) : ($(), j(Ve, { key: 1 }, [Tt(fe(te.text), 1)], 64))], 2)], 42, xVe))), 128))]))), 128))], 6), V.$slots["button-icon"] ? Ot(($(), j("div", { key: 0, role: "button", "aria-label": (H = t.ariaLabels) == null ? void 0 : H.toggleOverlay, class: Be(Y(S)), tabindex: "0", ref_key: "toggleButton", ref: d, onClick: R, onKeydown: qt(R, ["enter"]) }, [We(V.$slots, "button-icon")], 42, TVe)), [[un, !Y(s)(t.type)]]) : ce("", !0)], 42, wVe) } } }), DVe = ["aria-label"], l5 = Ue({ __name: "RegularPicker", props: { ariaLabel: { type: String, default: "" }, showSelectionGrid: { type: Boolean, default: !1 }, modelValue: { type: Number, default: null }, items: { type: Array, default: () => [] }, disabledValues: { type: Array, default: () => [] }, minValue: { type: Number, default: null }, maxValue: { type: Number, default: null }, slotName: { type: String, default: "" }, overlaySlot: { type: String, default: "" }, headerRefs: { type: Array, default: () => [] }, escClose: { type: Boolean, default: !0 }, type: { type: String, default: null }, transitions: { type: [Object, Boolean], default: !1 }, arrowNavigation: { type: Boolean, default: !1 }, autoApply: { type: Boolean, default: !1 }, textInput: { type: Boolean, default: !1 }, ariaLabels: { type: Object, default: () => ({}) }, hideNavigation: { type: Array, default: () => [] } }, emits: ["update:model-value", "toggle", "set-ref"], setup(t, { emit: e }) { const r = t, { transitionName: n, showTransition: a } = U1(r.transitions), i = ne(null); return Lt(() => e("set-ref", i)), (o, s) => ($(), j(Ve, null, [P("div", { class: "dp__month_year_select", onClick: s[0] || (s[0] = l => o.$emit("toggle")), onKeydown: [s[1] || (s[1] = qt(l => o.$emit("toggle"), ["enter"])), s[2] || (s[2] = qt(l => o.$emit("toggle"), ["space"]))], role: "button", "aria-label": t.ariaLabel, tabindex: "0", ref_key: "elRef", ref: i }, [We(o.$slots, "default")], 40, DVe), de(Cr, { name: Y(n)(t.showSelectionGrid), css: Y(a) }, { default: Me(() => [t.showSelectionGrid ? ($(), Ie(jv, Dn({ key: 0 }, { modelValue: t.modelValue, items: t.items, disabledValues: t.disabledValues, minValue: t.minValue, maxValue: t.maxValue, escClose: t.escClose, type: t.type, arrowNavigation: t.arrowNavigation, textInput: t.textInput, autoApply: t.autoApply, ariaLabels: t.ariaLabels, hideNavigation: t.hideNavigation }, { "header-refs": [], "onUpdate:modelValue": s[3] || (s[3] = l => o.$emit("update:model-value", l)), onToggle: s[4] || (s[4] = l => o.$emit("toggle")) }), La({ "button-icon": Me(() => [o.$slots["calendar-icon"] ? We(o.$slots, "calendar-icon", { key: 0 }) : ce("", !0), o.$slots["calendar-icon"] ? ce("", !0) : ($(), Ie(Y(Y1), { key: 1 }))]), _: 2 }, [o.$slots[t.slotName] ? { name: "item", fn: Me(({ item: l }) => [We(o.$slots, t.slotName, { item: l })]), key: "0" } : void 0, o.$slots[t.overlaySlot] ? { name: "overlay", fn: Me(() => [We(o.$slots, t.overlaySlot)]), key: "1" } : void 0, o.$slots[`${t.overlaySlot}-header`] ? { name: "header", fn: Me(() => [We(o.$slots, `${t.overlaySlot}-header`)]), key: "2" } : void 0]), 1040)) : ce("", !0)]), _: 3 }, 8, ["name", "css"])], 64)) } }), CVe = { class: "dp__month_year_row" }, MVe = { class: "dp__month_year_wrap" }, kVe = { class: "dp__month_picker_header" }, AVe = ["aria-label"], LVe = ["aria-label"], IVe = ["aria-label"], PVe = Ue({ __name: "MonthYearPicker", props: { month: { type: Number, default: 0 }, year: { type: Number, default: 0 }, instance: { type: Number, default: 0 }, years: { type: Array, default: () => [] }, months: { type: Array, default: () => [] }, internalModelValue: { type: [Date, Array], default: null }, ...cu }, emits: ["update-month-year", "month-year-select", "mount", "reset-flow", "overlay-closed"], setup(t, { expose: e, emit: r }) { const n = t, { defaults: a } = ja(n), { transitionName: i, showTransition: o } = U1(a.value.transitions), { buildMatrix: s } = uu(), { handleMonthYearChange: l, isDisabled: u, updateMonthYear: c } = X6e(n, r), f = ne(!1), h = ne(!1), d = ne([null, null, null, null]), v = ne(null), p = ne(null), g = ne(null); Lt(() => { r("mount") }); const m = B => ({ get: () => n[B], set: ee => { const Q = B === "month" ? "year" : "month"; r("update-month-year", { [B]: ee, [Q]: n[Q] }), r("month-year-select", B === "year"), B === "month" ? K(!0) : te(!0) } }), y = De(m("month")), _ = De(m("year")), b = B => { const ee = zr(Le(B)); return n.year === ee }, x = De(() => n.monthPicker ? Array.isArray(n.disabledDates) ? n.disabledDates.map(B => Le(B)).filter(B => b(B)).map(B => Vr(B)) : [] : []), S = De(() => B => { const ee = B === "month"; return { showSelectionGrid: (ee ? f : h).value, items: (ee ? V : L).value, disabledValues: a.value.filters[ee ? "months" : "years"].concat(x.value), minValue: (ee ? k : C).value, maxValue: (ee ? A : M).value, headerRefs: ee && n.monthPicker ? [v.value, p.value, g.value] : [], escClose: n.escClose, transitions: a.value.transitions, ariaLabels: a.value.ariaLabels, textInput: n.textInput, autoApply: n.autoApply, arrowNavigation: n.arrowNavigation, hideNavigation: n.hideNavigation } }), T = De(() => B => ({ month: n.month, year: n.year, items: B === "month" ? n.months : n.years, instance: n.instance, updateMonthYear: c, toggle: B === "month" ? K : te })), C = De(() => n.minDate ? zr(Le(n.minDate)) : null), M = De(() => n.maxDate ? zr(Le(n.maxDate)) : null), k = De(() => { if (n.minDate && C.value) { if (C.value > n.year) return 12; if (C.value === n.year) return Vr(Le(n.minDate)) } return null }), A = De(() => n.maxDate && M.value ? M.value < n.year ? -1 : M.value === n.year ? Vr(Le(n.maxDate)) : null : null), R = De(() => n.range && n.internalModelValue && (n.monthPicker || n.yearPicker) ? n.internalModelValue : []), N = B => B.reverse(), z = (B, ee = !1) => { const Q = [], se = ue => ee ? N(ue) : ue; for (let ue = 0; ue < B.length; ue += 3) { const pe = [B[ue], B[ue + 1], B[ue + 2]]; Q.push(se(pe)) } return ee ? Q.reverse() : Q }, F = De(() => n.months.find(ee => ee.value === n.month) || { text: "", value: 0 }), V = De(() => z(n.months)), L = De(() => z(n.years, n.reverseYears)), H = De(() => a.value.multiCalendars ? n.multiCalendarsSolo ? !0 : n.instance === 0 : !0), q = De(() => a.value.multiCalendars ? n.multiCalendarsSolo ? !0 : n.instance === a.value.multiCalendars - 1 : !0), K = (B = !1) => { oe(B), f.value = !f.value, f.value || r("overlay-closed") }, te = (B = !1) => { oe(B), h.value = !h.value, h.value || r("overlay-closed") }, oe = B => { B || r("reset-flow") }, X = (B = !1) => { u.value(B) || r("update-month-year", { year: B ? n.year + 1 : n.year - 1, month: n.month, fromNav: !0 }) }, U = (B, ee) => { n.arrowNavigation && (d.value[ee] = Mn(B), s(d.value, "monthYear")) }; return e({ toggleMonthPicker: K, toggleYearPicker: te }), (B, ee) => { var Q, se, ue, pe, Se; return $(), j("div", CVe, [B.$slots["month-year"] ? We(B.$slots, "month-year", Aa(Dn({ key: 0 }, { month: t.month, year: t.year, months: t.months, years: t.years, updateMonthYear: Y(c), handleMonthYearChange: Y(l), instance: t.instance }))) : ($(), j(Ve, { key: 1 }, [!B.monthPicker && !B.yearPicker ? ($(), j(Ve, { key: 0 }, [Y(H) && !B.vertical ? ($(), Ie(gx, { key: 0, "aria-label": (Q = Y(a).ariaLabels) == null ? void 0 : Q.prevMonth, disabled: Y(u)(!1), onActivate: ee[0] || (ee[0] = G => Y(l)(!1)), onSetRef: ee[1] || (ee[1] = G => U(G, 0)) }, { default: Me(() => [B.$slots["arrow-left"] ? We(B.$slots, "arrow-left", { key: 0 }) : ce("", !0), B.$slots["arrow-left"] ? ce("", !0) : ($(), Ie(Y(j$), { key: 1 }))]), _: 3 }, 8, ["aria-label", "disabled"])) : ce("", !0), P("div", MVe, [de(l5, Dn({ type: "month", "slot-name": "month-overlay-val", "overlay-slot": "overlay-month", "aria-label": (se = Y(a).ariaLabels) == null ? void 0 : se.openMonthsOverlay, modelValue: Y(y), "onUpdate:modelValue": ee[2] || (ee[2] = G => Ir(y) ? y.value = G : null) }, Y(S)("month"), { onToggle: K, onSetRef: ee[3] || (ee[3] = G => U(G, 1)) }), La({ default: Me(() => [B.$slots.month ? We(B.$slots, "month", Aa(Dn({ key: 0 }, Y(F)))) : ce("", !0), B.$slots.month ? ce("", !0) : ($(), j(Ve, { key: 1 }, [Tt(fe(Y(F).text), 1)], 64))]), _: 2 }, [B.$slots["calendar-icon"] ? { name: "calendar-icon", fn: Me(() => [We(B.$slots, "calendar-icon")]), key: "0" } : void 0, B.$slots["month-overlay-value"] ? { name: "month-overlay-val", fn: Me(({ item: G }) => [We(B.$slots, "month-overlay-value", { text: G.text, value: G.value })]), key: "1" } : void 0, B.$slots["month-overlay"] ? { name: "overlay-month", fn: Me(() => [We(B.$slots, "month-overlay", Aa($i(Y(T)("month"))))]), key: "2" } : void 0, B.$slots["month-overlay-header"] ? { name: "overlay-month-header", fn: Me(() => [We(B.$slots, "month-overlay-header", { toggle: K })]), key: "3" } : void 0]), 1040, ["aria-label", "modelValue"]), de(l5, Dn({ type: "year", "slot-name": "year-overlay-val", "overlay-slot": "overlay-year", "aria-label": (ue = Y(a).ariaLabels) == null ? void 0 : ue.openYearsOverlay, modelValue: Y(_), "onUpdate:modelValue": ee[4] || (ee[4] = G => Ir(_) ? _.value = G : null) }, Y(S)("year"), { onToggle: te, onSetRef: ee[5] || (ee[5] = G => U(G, 2)) }), La({ default: Me(() => [B.$slots.year ? We(B.$slots, "year", { key: 0, year: t.year }) : ce("", !0), B.$slots.year ? ce("", !0) : ($(), j(Ve, { key: 1 }, [Tt(fe(t.year), 1)], 64))]), _: 2 }, [B.$slots["calendar-icon"] ? { name: "calendar-icon", fn: Me(() => [We(B.$slots, "calendar-icon")]), key: "0" } : void 0, B.$slots["year-overlay-value"] ? { name: "year-overlay-val", fn: Me(({ item: G }) => [We(B.$slots, "year-overlay-value", { text: G.text, value: G.value })]), key: "1" } : void 0, B.$slots["year-overlay"] ? { name: "overlay-year", fn: Me(() => [We(B.$slots, "year-overlay", Aa($i(Y(T)("year"))))]), key: "2" } : void 0, B.$slots["year-overlay-header"] ? { name: "overlay-year-header", fn: Me(() => [We(B.$slots, "year-overlay-header", { toggle: te })]), key: "3" } : void 0]), 1040, ["aria-label", "modelValue"])]), Y(H) && B.vertical ? ($(), Ie(gx, { key: 1, "aria-label": (pe = Y(a).ariaLabels) == null ? void 0 : pe.prevMonth, disabled: Y(u)(!1), onActivate: ee[6] || (ee[6] = G => Y(l)(!1)) }, { default: Me(() => [B.$slots["arrow-up"] ? We(B.$slots, "arrow-up", { key: 0 }) : ce("", !0), B.$slots["arrow-up"] ? ce("", !0) : ($(), Ie(Y(xY), { key: 1 }))]), _: 3 }, 8, ["aria-label", "disabled"])) : ce("", !0), Y(q) ? ($(), Ie(gx, { key: 2, ref: "rightIcon", disabled: Y(u)(!0), "aria-label": (Se = Y(a).ariaLabels) == null ? void 0 : Se.nextMonth, onActivate: ee[7] || (ee[7] = G => Y(l)(!0)), onSetRef: ee[8] || (ee[8] = G => U(G, 3)) }, { default: Me(() => [B.$slots[B.vertical ? "arrow-down" : "arrow-right"] ? We(B.$slots, B.vertical ? "arrow-down" : "arrow-right", { key: 0 }) : ce("", !0), B.$slots[B.vertical ? "arrow-down" : "arrow-right"] ? ce("", !0) : ($(), Ie(iy(B.vertical ? Y(TY) : Y(Z$)), { key: 1 }))]), _: 3 }, 8, ["disabled", "aria-label"])) : ce("", !0)], 64)) : ce("", !0), B.monthPicker ? ($(), Ie(jv, Dn({ key: 1 }, Y(S)("month"), { "skip-active": B.range, year: t.year, "multi-model-value": Y(R), "month-picker": "", modelValue: Y(y), "onUpdate:modelValue": ee[17] || (ee[17] = G => Ir(y) ? y.value = G : null), onToggle: K, onSelected: ee[18] || (ee[18] = G => B.$emit("overlay-closed")) }), La({ header: Me(() => { var G, Z, J; return [P("div", kVe, [P("div", { class: "dp__month_year_col_nav", tabindex: "0", ref_key: "mpPrevIconRef", ref: v, onClick: ee[9] || (ee[9] = le => X(!1)), onKeydown: ee[10] || (ee[10] = qt(le => X(!1), ["enter"])) }, [P("div", { class: Be(["dp__inner_nav", { dp__inner_nav_disabled: Y(u)(!1) }]), role: "button", "aria-label": (G = Y(a).ariaLabels) == null ? void 0 : G.prevMonth }, [B.$slots["arrow-left"] ? We(B.$slots, "arrow-left", { key: 0 }) : ce("", !0), B.$slots["arrow-left"] ? ce("", !0) : ($(), Ie(Y(j$), { key: 1 }))], 10, AVe)], 544), P("div", { class: "dp__pointer", role: "button", ref_key: "mpYearButtonRef", ref: p, "aria-label": (Z = Y(a).ariaLabels) == null ? void 0 : Z.openYearsOverlay, tabindex: "0", onClick: ee[11] || (ee[11] = () => te(!1)), onKeydown: ee[12] || (ee[12] = qt(() => te(!1), ["enter"])) }, [B.$slots.year ? We(B.$slots, "year", { key: 0, year: t.year }) : ce("", !0), B.$slots.year ? ce("", !0) : ($(), j(Ve, { key: 1 }, [Tt(fe(t.year), 1)], 64))], 40, LVe), P("div", { class: "dp__month_year_col_nav", tabindex: "0", ref_key: "mpNextIconRef", ref: g, onClick: ee[13] || (ee[13] = le => X(!0)), onKeydown: ee[14] || (ee[14] = qt(le => X(!0), ["enter"])) }, [P("div", { class: Be(["dp__inner_nav", { dp__inner_nav_disabled: Y(u)(!0) }]), role: "button", "aria-label": (J = Y(a).ariaLabels) == null ? void 0 : J.nextMonth }, [B.$slots["arrow-right"] ? We(B.$slots, "arrow-right", { key: 0 }) : ce("", !0), B.$slots["arrow-right"] ? ce("", !0) : ($(), Ie(Y(Z$), { key: 1 }))], 10, IVe)], 544)]), de(Cr, { name: Y(i)(h.value), css: Y(o) }, { default: Me(() => [h.value ? ($(), Ie(jv, Dn({ key: 0 }, Y(S)("year"), { modelValue: Y(_), "onUpdate:modelValue": ee[15] || (ee[15] = le => Ir(_) ? _.value = le : null), onToggle: te, onSelected: ee[16] || (ee[16] = le => B.$emit("overlay-closed")) }), La({ "button-icon": Me(() => [B.$slots["calendar-icon"] ? We(B.$slots, "calendar-icon", { key: 0 }) : ce("", !0), B.$slots["calendar-icon"] ? ce("", !0) : ($(), Ie(Y(Y1), { key: 1 }))]), _: 2 }, [B.$slots["year-overlay-value"] ? { name: "item", fn: Me(({ item: le }) => [We(B.$slots, "year-overlay-value", { text: le.text, value: le.value })]), key: "0" } : void 0]), 1040, ["modelValue"])) : ce("", !0)]), _: 3 }, 8, ["name", "css"])] }), _: 2 }, [B.$slots["month-overlay-value"] ? { name: "item", fn: Me(({ item: G }) => [We(B.$slots, "month-overlay-value", { text: G.text, value: G.value })]), key: "0" } : void 0]), 1040, ["skip-active", "year", "multi-model-value", "modelValue"])) : ce("", !0), B.yearPicker ? ($(), Ie(jv, Dn({ key: 2 }, Y(S)("year"), { modelValue: Y(_), "onUpdate:modelValue": ee[19] || (ee[19] = G => Ir(_) ? _.value = G : null), "multi-model-value": Y(R), "skip-active": B.range, "skip-button-ref": "", "year-picker": "", onToggle: te, onSelected: ee[20] || (ee[20] = G => B.$emit("overlay-closed")) }), La({ _: 2 }, [B.$slots["year-overlay-value"] ? { name: "item", fn: Me(({ item: G }) => [We(B.$slots, "year-overlay-value", { text: G.text, value: G.value })]), key: "0" } : void 0]), 1040, ["modelValue", "multi-model-value", "skip-active"])) : ce("", !0)], 64))]) } } }), RVe = { key: 0, class: "dp__time_input" }, OVe = ["aria-label", "onKeydown", "onClick"], EVe = ["aria-label", "data-test", "onKeydown", "onClick"], NVe = ["aria-label", "onKeydown", "onClick"], $Ve = { key: 0 }, FVe = ["aria-label", "onKeydown"], BVe = Ue({ __name: "TimeInput", props: { hours: { type: Number, default: 0 }, minutes: { type: Number, default: 0 }, seconds: { type: Number, default: 0 }, closeTimePickerBtn: { type: Object, default: null }, order: { type: Number, default: 0 }, ...cu }, emits: ["set-hours", "set-minutes", "update:hours", "update:minutes", "update:seconds", "reset-flow", "mounted", "overlay-closed"], setup(t, { expose: e, emit: r }) { const n = t, { setTimePickerElements: a, setTimePickerBackRef: i } = uu(), { defaults: o } = ja(n), { transitionName: s, showTransition: l } = U1(o.value.transitions), u = zo({ hours: !1, minutes: !1, seconds: !1 }), c = ne("AM"), f = ne(null), h = ne([]); Lt(() => { r("mounted") }); const d = De(() => L => !!(n.maxTime && n.maxTime[L] && n.maxTime[L] < n[L] + +n[`${L}Increment`])), v = De(() => L => !!(n.minTime && n.minTime[L] && n.minTime[L] > n[L] - +n[`${L}Increment`])), p = (L, H) => tY(da(Le(), L), H), g = (L, H) => _Be(da(Le(), L), H), m = De(() => ({ dp__time_col: !0, dp__time_col_reg: !n.enableSeconds && n.is24, dp__time_col_reg_with_button: !n.enableSeconds && !n.is24, dp__time_col_sec: n.enableSeconds && n.is24, dp__time_col_sec_with_button: n.enableSeconds && !n.is24 })), y = De(() => { const L = [{ type: "hours" }, { type: "", separator: !0 }, { type: "minutes" }]; return n.enableSeconds ? L.concat([{ type: "", separator: !0 }, { type: "seconds" }]) : L }), _ = De(() => y.value.filter(L => !L.separator)), b = De(() => L => { if (L === "hours") { const H = R(n.hours); return { text: H < 10 ? `0${H}` : `${H}`, value: H } } return { text: n[L] < 10 ? `0${n[L]}` : `${n[L]}`, value: n[L] } }), x = L => { const H = n.is24 ? 24 : 12, q = L === "hours" ? H : 60, K = +n[`${L}GridIncrement`], te = L === "hours" && !n.is24 ? K : 0, oe = []; for (let X = te; X < q; X += K)oe.push({ value: X, text: X < 10 ? `0${X}` : `${X}` }); return L === "hours" && !n.is24 && oe.push({ value: 0, text: "12" }), N6e(oe) }, S = (L, H) => { const q = n.minTime && n.minTime[H], K = n.maxTime && n.maxTime[H]; return q && K ? L < q || L > K : q ? L < q : K ? L > K : !1 }, T = De(() => L => x(L).flat().map(H => H.value).filter(H => S(H, L))), C = L => n[`no${L[0].toUpperCase() + L.slice(1)}Overlay`], M = L => { C(L) || (u[L] = !u[L], u[L] || r("overlay-closed")) }, k = L => L === "hours" ? hs : L === "minutes" ? ds : Eh, A = (L, H = !0) => { const q = H ? p : g; (H ? d.value(L) : v.value(L)) || r(`update:${L}`, k(L)(q({ [L]: +n[L] }, { [L]: +n[`${L}Increment`] }))) }, R = L => n.is24 ? L : (L >= 12 ? c.value = "PM" : c.value = "AM", V6e(L)), N = () => { c.value === "PM" ? (c.value = "AM", r("update:hours", n.hours - 12)) : (c.value = "PM", r("update:hours", n.hours + 12)) }, z = L => { u[L] = !0 }, F = (L, H, q) => { if (L && n.arrowNavigation) { Array.isArray(h.value[H]) ? h.value[H][q] = L : h.value[H] = [L]; const K = h.value.reduce((te, oe) => oe.map((X, U) => [...te[U] || [], oe[U]]), []); i(n.closeTimePickerBtn), f.value && (K[1] = K[1].concat(f.value)), a(K, n.order) } }, V = (L, H) => L === "hours" && !n.is24 ? r(`update:${L}`, c.value === "PM" ? H + 12 : H) : r(`update:${L}`, H); return e({ openChildCmp: z }), (L, H) => { var q; return L.disabled ? ce("", !0) : ($(), j("div", RVe, [($(!0), j(Ve, null, It(Y(y), (K, te) => { var oe, X, U; return $(), j("div", { key: te, class: Be(Y(m)) }, [K.separator ? ($(), j(Ve, { key: 0 }, [Tt(" : ")], 64)) : ($(), j(Ve, { key: 1 }, [P("div", { class: Be({ dp__inc_dec_button: !0, dp__inc_dec_button_disabled: Y(d)(K.type) }), role: "button", "data-test": "time-inc-btn", "aria-label": (oe = Y(o).ariaLabels) == null ? void 0 : oe.incrementValue(K.type), tabindex: "0", onKeydown: [qt(B => A(K.type), ["enter"]), qt(B => A(K.type), ["space"])], onClick: B => A(K.type), ref_for: !0, ref: B => F(B, te, 0) }, [L.$slots["arrow-up"] ? We(L.$slots, "arrow-up", { key: 0 }) : ce("", !0), L.$slots["arrow-up"] ? ce("", !0) : ($(), Ie(Y(xY), { key: 1 }))], 42, OVe), P("div", { role: "button", "aria-label": (X = Y(o).ariaLabels) == null ? void 0 : X.openTpOverlay(K.type), class: Be(C(K.type) ? "" : "dp__time_display"), tabindex: "0", "data-test": `${K.type}-toggle-overlay-btn`, onKeydown: [qt(B => M(K.type), ["enter"]), qt(B => M(K.type), ["space"])], onClick: B => M(K.type), ref_for: !0, ref: B => F(B, te, 1) }, [L.$slots[K.type] ? We(L.$slots, K.type, { key: 0, text: Y(b)(K.type).text, value: Y(b)(K.type).value }) : ce("", !0), L.$slots[K.type] ? ce("", !0) : ($(), j(Ve, { key: 1 }, [Tt(fe(Y(b)(K.type).text), 1)], 64))], 42, EVe), P("div", { class: Be({ dp__inc_dec_button: !0, dp__inc_dec_button_disabled: Y(v)(K.type) }), role: "button", "data-test": "time-dec-btn", "aria-label": (U = Y(o).ariaLabels) == null ? void 0 : U.decrementValue(K.type), tabindex: "0", onKeydown: [qt(B => A(K.type, !1), ["enter"]), qt(B => A(K.type, !1), ["space"])], onClick: B => A(K.type, !1), ref_for: !0, ref: B => F(B, te, 2) }, [L.$slots["arrow-down"] ? We(L.$slots, "arrow-down", { key: 0 }) : ce("", !0), L.$slots["arrow-down"] ? ce("", !0) : ($(), Ie(Y(TY), { key: 1 }))], 42, NVe)], 64))], 2) }), 128)), L.is24 ? ce("", !0) : ($(), j("div", $Ve, [L.$slots["am-pm-button"] ? We(L.$slots, "am-pm-button", { key: 0, toggle: N, value: c.value }) : ce("", !0), L.$slots["am-pm-button"] ? ce("", !0) : ($(), j("button", { key: 1, ref_key: "amPmButton", ref: f, type: "button", class: "dp__pm_am_button", role: "button", "aria-label": (q = Y(o).ariaLabels) == null ? void 0 : q.amPmButton, tabindex: "0", onClick: N, onKeydown: [qt(hn(N, ["prevent"]), ["enter"]), qt(hn(N, ["prevent"]), ["space"])] }, fe(c.value), 41, FVe))])), ($(!0), j(Ve, null, It(Y(_), (K, te) => ($(), Ie(Cr, { key: te, name: Y(s)(u[K.type]), css: Y(l) }, { default: Me(() => [u[K.type] ? ($(), Ie(jv, { key: 0, items: x(K.type), "disabled-values": Y(o).filters.times[K.type].concat(Y(T)(K.type)), "esc-close": L.escClose, "aria-labels": Y(o).ariaLabels, "hide-navigation": L.hideNavigation, "onUpdate:modelValue": oe => V(K.type, oe), onSelected: oe => M(K.type), onToggle: oe => M(K.type), onResetFlow: H[0] || (H[0] = oe => L.$emit("reset-flow")), type: K.type }, La({ "button-icon": Me(() => [L.$slots["clock-icon"] ? We(L.$slots, "clock-icon", { key: 0 }) : ce("", !0), L.$slots["clock-icon"] ? ce("", !0) : ($(), Ie(Y(SY), { key: 1 }))]), _: 2 }, [L.$slots[`${K.type}-overlay-value`] ? { name: "item", fn: Me(({ item: oe }) => [We(L.$slots, `${K.type}-overlay-value`, { text: oe.text, value: oe.value })]), key: "0" } : void 0]), 1032, ["items", "disabled-values", "esc-close", "aria-labels", "hide-navigation", "onUpdate:modelValue", "onSelected", "onToggle", "type"])) : ce("", !0)]), _: 2 }, 1032, ["name", "css"]))), 128))])) } } }), VVe = ["aria-label"], zVe = { class: "dp__overlay_container dp__container_flex dp__time_picker_overlay_container" }, HVe = { key: 1, class: "dp__overlay_row" }, YVe = ["aria-label"], UVe = Ue({ __name: "TimePicker", props: { hours: { type: [Number, Array], default: 0 }, minutes: { type: [Number, Array], default: 0 }, seconds: { type: [Number, Array], default: 0 }, internalModelValue: { type: [Date, Array], default: null }, ...cu }, emits: ["update:hours", "update:minutes", "update:seconds", "mount", "reset-flow", "overlay-closed"], setup(t, { expose: e, emit: r }) { const n = t, { buildMatrix: a, setTimePicker: i } = uu(), o = gD(), { hideNavigationButtons: s, defaults: l } = ja(n), { transitionName: u, showTransition: c } = U1(l.value.transitions), f = ne(null), h = ne(null), d = ne([]), v = ne(null); Lt(() => { r("mount"), !n.timePicker && n.arrowNavigation ? a([Mn(f.value)], "time") : i(!0, n.timePicker) }); const p = De(() => n.range && n.modelAuto ? AY(n.internalModelValue) : !0), g = ne(!1), m = A => ({ hours: Array.isArray(n.hours) ? n.hours[A] : n.hours, minutes: Array.isArray(n.minutes) ? n.minutes[A] : n.minutes, seconds: Array.isArray(n.seconds) ? n.seconds[A] : n.seconds }), y = De(() => { const A = []; if (n.range) for (let R = 0; R < 2; R++)A.push(m(R)); else A.push(m(0)); return A }), _ = (A, R = !1, N = "") => { R || r("reset-flow"), g.value = A, n.arrowNavigation && (i(A), A || r("overlay-closed")), Dr(() => { N !== "" && d.value[0] && d.value[0].openChildCmp(N) }) }, b = De(() => ({ dp__button: !0, dp__button_bottom: n.autoApply })), x = mc(o, "timePicker"), S = (A, R, N) => n.range ? R === 0 ? [A, y.value[1][N]] : [y.value[0][N], A] : A, T = A => { r("update:hours", A) }, C = A => { r("update:minutes", A) }, M = A => { r("update:seconds", A) }, k = () => { v.value && n.arrowNavigation && v.value.focus({ preventScroll: !0 }) }; return e({ toggleTimePicker: _ }), (A, R) => { var N; return $(), j("div", null, [A.timePicker ? ce("", !0) : Ot(($(), j("div", { key: 0, class: Be(Y(b)), role: "button", "aria-label": (N = Y(l).ariaLabels) == null ? void 0 : N.openTimePicker, tabindex: "0", "data-test": "open-time-picker-btn", ref_key: "openTimePickerBtn", ref: f, onKeydown: [R[0] || (R[0] = qt(z => _(!0), ["enter"])), R[1] || (R[1] = qt(z => _(!0), ["space"]))], onClick: R[2] || (R[2] = z => _(!0)) }, [A.$slots["clock-icon"] ? We(A.$slots, "clock-icon", { key: 0 }) : ce("", !0), A.$slots["clock-icon"] ? ce("", !0) : ($(), Ie(Y(SY), { key: 1 }))], 42, VVe)), [[un, !Y(s)("time")]]), de(Cr, { name: Y(u)(g.value), css: Y(c) }, { default: Me(() => { var z; return [g.value || A.timePicker ? ($(), j("div", { key: 0, class: "dp__overlay", ref_key: "overlayRef", ref: v, tabindex: "0" }, [P("div", zVe, [A.$slots["time-picker-overlay"] ? We(A.$slots, "time-picker-overlay", { key: 0, hours: t.hours, minutes: t.minutes, seconds: t.seconds, setHours: T, setMinutes: C, setSeconds: M }) : ce("", !0), A.$slots["time-picker-overlay"] ? ce("", !0) : ($(), j("div", HVe, [($(!0), j(Ve, null, It(Y(y), (F, V) => Ot(($(), Ie(BVe, Dn({ key: V }, { ...A.$props, order: V, hours: F.hours, minutes: F.minutes, seconds: F.seconds, closeTimePickerBtn: h.value, disabled: V === 0 ? A.fixedStart : A.fixedEnd }, { ref_for: !0, ref_key: "timeInputRefs", ref: d, "onUpdate:hours": L => T(S(L, V, "hours")), "onUpdate:minutes": L => C(S(L, V, "minutes")), "onUpdate:seconds": L => M(S(L, V, "seconds")), onMounted: k, onOverlayClosed: k }), La({ _: 2 }, [It(Y(x), (L, H) => ({ name: L, fn: Me(q => [We(A.$slots, L, Aa($i(q)))]) }))]), 1040, ["onUpdate:hours", "onUpdate:minutes", "onUpdate:seconds"])), [[un, V === 0 ? !0 : Y(p)]])), 128))])), A.timePicker ? ce("", !0) : Ot(($(), j("div", { key: 2, ref_key: "closeTimePickerBtn", ref: h, class: Be(Y(b)), role: "button", "aria-label": (z = Y(l).ariaLabels) == null ? void 0 : z.closeTimePicker, tabindex: "0", onKeydown: [R[3] || (R[3] = qt(F => _(!1), ["enter"])), R[4] || (R[4] = qt(F => _(!1), ["space"]))], onClick: R[5] || (R[5] = F => _(!1)) }, [A.$slots["calendar-icon"] ? We(A.$slots, "calendar-icon", { key: 0 }) : ce("", !0), A.$slots["calendar-icon"] ? ce("", !0) : ($(), Ie(Y(Y1), { key: 1 }))], 42, YVe)), [[un, !Y(s)("time")]])])], 512)) : ce("", !0)] }), _: 3 }, 8, ["name", "css"])]) } } }), WVe = (t, e) => { const { isDisabled: r, matchDate: n, getWeekFromDate: a } = ja(e), i = ne(null), o = ne(Le()), s = L => { !L.current && e.hideOffsetDates || (i.value = L.value) }, l = () => { i.value = null }, u = L => Array.isArray(t.value) && e.range && t.value[0] && i.value ? L ? ga(i.value, t.value[0]) : ea(i.value, t.value[0]) : !0, c = (L, H) => { const q = () => t.value ? H ? t.value[0] || null : t.value[1] : null, K = t.value && Array.isArray(t.value) ? q() : null; return Zr(Le(L.value), K) }, f = L => { const H = Array.isArray(t.value) ? t.value[0] : null; return L ? !ea(i.value || null, H) : !0 }, h = (L, H = !0) => (e.range || e.weekPicker) && Array.isArray(t.value) ? e.hideOffsetDates && !L.current ? !1 : Zr(Le(L.value), t.value[H ? 0 : 1]) : e.range ? c(L, H) && f(H) || Zr(L.value, Array.isArray(t.value) ? t.value[0] : null) && u(H) : !1, d = (L, H, q) => Array.isArray(t.value) && t.value[0] && t.value.length === 1 ? L ? !1 : q ? ga(t.value[0], H.value) : ea(t.value[0], H.value) : !1, v = L => !t.value || e.hideOffsetDates && !L.current ? !1 : e.range ? e.modelAuto && Array.isArray(t.value) ? Zr(L.value, t.value[0] ? t.value[0] : o.value) : !1 : e.multiDates && Array.isArray(t.value) ? t.value.some(H => Zr(H, L.value)) : Zr(L.value, t.value ? t.value : o.value), p = L => { if (e.autoRange || e.weekPicker) { if (i.value) { if (e.hideOffsetDates && !L.current) return !1; const H = Hl(i.value, +e.autoRange), q = a(Le(i.value)); return e.weekPicker ? Zr(q[1], Le(L.value)) : Zr(H, Le(L.value)) } return !1 } return !1 }, g = L => { if (e.autoRange || e.weekPicker) { if (i.value) { const H = Hl(i.value, +e.autoRange); if (e.hideOffsetDates && !L.current) return !1; const q = a(Le(i.value)); return e.weekPicker ? ga(L.value, q[0]) && ea(L.value, q[1]) : ga(L.value, i.value) && ea(L.value, H) } return !1 } return !1 }, m = L => { if (e.autoRange || e.weekPicker) { if (i.value) { if (e.hideOffsetDates && !L.current) return !1; const H = a(Le(i.value)); return e.weekPicker ? Zr(H[0], L.value) : Zr(i.value, L.value) } return !1 } return !1 }, y = L => DY(t.value, i.value, L.value), _ = () => e.modelAuto && Array.isArray(e.internalModelValue) ? !!e.internalModelValue[0] : !1, b = () => e.modelAuto ? AY(e.internalModelValue) : !0, x = L => { if (Array.isArray(t.value) && t.value.length || e.weekPicker) return !1; const H = e.range ? !h(L) && !h(L, !1) : !0; return !r(L.value) && !v(L) && !(!L.current && e.hideOffsetDates) && H }, S = L => e.range ? e.modelAuto ? _() && v(L) : !1 : v(L), T = L => e.highlight ? n(L.value, e.highlight) : !1, C = L => r(L.value) && e.highlightDisabledDays === !1, M = L => e.highlightWeekDays && e.highlightWeekDays.includes(L.value.getDay()), k = L => (e.range || e.weekPicker) && (!(e.multiCalendars > 0) || L.current) && b() && !(!L.current && e.hideOffsetDates) && !v(L) ? y(L) : !1, A = L => ({ dp__cell_offset: !L.current, dp__pointer: !e.disabled && !(!L.current && e.hideOffsetDates) && !r(L.value), dp__cell_disabled: r(L.value), dp__cell_highlight: !C(L) && (T(L) || M(L)) && !S(L), dp__cell_highlight_active: !C(L) && (T(L) || M(L)) && S(L), dp__today: !e.noToday && Zr(L.value, o.value) && L.current }), R = L => ({ dp__active_date: S(L), dp__date_hover: x(L) }), N = L => ({ ...z(L), ...F(L), dp__range_between_week: k(L) && e.weekPicker }), z = L => ({ dp__range_start: e.multiCalendars > 0 ? L.current && h(L) && b() : h(L) && b(), dp__range_end: e.multiCalendars > 0 ? L.current && h(L, !1) && b() : h(L, !1) && b(), dp__range_between: k(L) && !e.weekPicker, dp__date_hover_start: d(x(L), L, !0), dp__date_hover_end: d(x(L), L, !1) }), F = L => ({ ...z(L), dp__cell_auto_range: g(L), dp__cell_auto_range_start: m(L), dp__cell_auto_range_end: p(L) }), V = L => e.range ? e.autoRange ? F(L) : e.modelAuto ? { ...R(L), ...z(L) } : z(L) : e.weekPicker ? N(L) : R(L); return { setHoverDate: s, clearHoverDate: l, getDayClassData: L => ({ ...A(L), ...V(L), [e.dayClass ? e.dayClass(L.value) : ""]: !0, [e.calendarCellClassName]: !!e.calendarCellClassName }) } }, GVe = ["id", "onKeydown"], jVe = { key: 0, class: "dp__sidebar_left" }, ZVe = { key: 1, class: "dp__preset_ranges" }, qVe = ["onClick"], XVe = { key: 2, class: "dp__sidebar_right" }, KVe = { key: 3, class: "dp__now_wrap" }, QVe = Ue({ __name: "DatepickerMenu", props: { openOnTop: { type: Boolean, default: !1 }, internalModelValue: { type: [Date, Array], default: null }, ...cu }, emits: ["close-picker", "select-date", "auto-apply", "time-update", "flow-step", "update-month-year", "invalid-select", "update:internal-model-value", "recalculate-position", "invalid-fixed-range", "tooltip-open", "tooltip-close"], setup(t, { expose: e, emit: r }) { const n = t, { setMenuFocused: a, setShiftKey: i, control: o } = CY(), { getCalendarDays: s, defaults: l } = ja(n), u = gD(), c = ne(null), f = zo({ timePicker: !!(!n.enableTimePicker || n.timePicker || n.monthPicker), monthYearInput: !!n.timePicker, calendar: !1 }), h = ne([]), d = ne([]), v = ne(null), p = ne(null), g = ne(0), m = ne(!1), y = ne(0); Lt(() => { var be; m.value = !0, !((be = n.presetRanges) != null && be.length) && !u["left-sidebar"] && !u["right-sidebar"] && we(); const qe = Mn(p); if (qe && !n.textInput && !n.inline && (a(!0), C()), qe) { const Bn = Sn => { !n.monthYearComponent && !n.timePickerComponent && !Object.keys(u).length && Sn.preventDefault(), Sn.stopImmediatePropagation(), Sn.stopPropagation() }; qe.addEventListener("pointerdown", Bn), qe.addEventListener("mousedown", Bn) } window.addEventListener("resize", we) }), Bs(() => { window.removeEventListener("resize", we) }); const { arrowRight: _, arrowLeft: b, arrowDown: x, arrowUp: S } = uu(), T = be => { be || be === 0 ? d.value[be].triggerTransition(N.value(be), z.value(be)) : d.value.forEach((qe, Bn) => qe.triggerTransition(N.value(Bn), z.value(Bn))) }, C = () => { const be = Mn(p); be && be.focus({ preventScroll: !0 }) }, M = () => { var be; (be = n.flow) != null && be.length && y.value !== -1 && (y.value += 1, r("flow-step", y.value), Zt()) }, k = () => { y.value = -1 }, { calendars: A, modelValue: R, month: N, year: z, time: F, updateTime: V, updateMonthYear: L, selectDate: H, getWeekNum: q, monthYearSelect: K, handleScroll: te, handleArrow: oe, handleSwipe: X, getMarker: U, selectCurrentDate: B, presetDateRange: ee } = Z6e(n, r, M, T, y), { setHoverDate: Q, clearHoverDate: se, getDayClassData: ue } = WVe(R, n); mt(A, () => { n.openOnTop && setTimeout(() => { r("recalculate-position") }, 0) }, { deep: !0 }); const pe = mc(u, "calendar"), Se = mc(u, "action"), G = mc(u, "timePicker"), Z = mc(u, "monthYear"), J = De(() => n.openOnTop ? "dp__arrow_bottom" : "dp__arrow_top"), le = De(() => F6e(n.yearRange)), ve = De(() => B6e(n.locale, n.monthNameFormat)), we = () => { const be = Mn(c); be && (g.value = be.getBoundingClientRect().width) }, Ne = De(() => be => s(N.value(be), z.value(be))), Ce = De(() => l.value.multiCalendars > 0 && n.range ? [...Array(l.value.multiCalendars).keys()] : [0]), Pe = De(() => be => be === 1), xe = De(() => n.monthPicker || n.timePicker || n.yearPicker), Ye = De(() => ({ dp__flex_display: l.value.multiCalendars > 0 })), ot = De(() => ({ dp__instance_calendar: l.value.multiCalendars > 0 })), st = De(() => ({ dp__menu_disabled: n.disabled, dp__menu_readonly: n.readonly })), xt = De(() => be => Jt(Ne, be)), vt = De(() => ({ dp__menu: !0, dp__menu_index: !n.inline, dp__relative: n.inline, [n.menuClassName]: !!n.menuClassName })), Jt = (be, qe) => be.value(qe).map(Bn => ({ ...Bn, days: Bn.days.map(Sn => (Sn.marker = U(Sn), Sn.classData = ue(Sn), Sn)) })), ur = be => { be.stopPropagation(), be.stopImmediatePropagation() }, ie = () => { n.escClose && r("close-picker") }, ge = (be, qe = !1) => { H(be, qe), n.spaceConfirm && r("select-date") }, nt = be => { var qe; (qe = n.flow) != null && qe.length && (f[be] = !0, Object.keys(f).filter(Bn => !f[Bn]).length || Zt()) }, ct = (be, qe, Bn, Sn, ...af) => { if (n.flow[y.value] === be) { const ft = Sn ? qe.value[0] : qe.value; ft && ft[Bn](...af) } }, Zt = () => { ct("month", h, "toggleMonthPicker", !0, !0), ct("year", h, "toggleYearPicker", !0, !0), ct("calendar", v, "toggleTimePicker", !1, !1, !0), ct("time", v, "toggleTimePicker", !1, !0, !0); const be = n.flow[y.value]; (be === "hours" || be === "minutes" || be === "seconds") && ct(be, v, "toggleTimePicker", !1, !0, !0, be) }, Fn = be => { if (n.arrowNavigation) { if (be === "up") return S(); if (be === "down") return x(); if (be === "left") return b(); if (be === "right") return _() } else be === "left" || be === "up" ? oe("left", 0, be === "up") : oe("right", 0, be === "down") }, Nr = be => { i(be.shiftKey), !n.disableMonthYearSelect && be.code === "Tab" && be.target.classList.contains("dp__menu") && o.value.shiftKeyInMenu && (be.preventDefault(), be.stopImmediatePropagation(), r("close-picker")) }; return e({ updateMonthYear: L }), (be, qe) => { var Bn; return $(), Ie(Cr, { appear: "", name: (Bn = Y(l).transitions) == null ? void 0 : Bn.menuAppear, mode: "out-in", css: !!be.transitions }, { default: Me(() => { var Sn, af; return [P("div", { id: be.uid ? `dp-menu-${be.uid}` : void 0, tabindex: "0", ref_key: "dpMenuRef", ref: p, role: "dialog", class: Be(Y(vt)), onMouseleave: qe[14] || (qe[14] = (...ft) => Y(se) && Y(se)(...ft)), onClick: ur, onKeydown: [qt(ie, ["esc"]), qe[15] || (qe[15] = qt(hn(ft => Fn("left"), ["prevent"]), ["left"])), qe[16] || (qe[16] = qt(hn(ft => Fn("up"), ["prevent"]), ["up"])), qe[17] || (qe[17] = qt(hn(ft => Fn("down"), ["prevent"]), ["down"])), qe[18] || (qe[18] = qt(hn(ft => Fn("right"), ["prevent"]), ["right"])), Nr] }, [(be.disabled || be.readonly) && be.inline ? ($(), j("div", { key: 0, class: Be(Y(st)) }, null, 2)) : ce("", !0), !be.inline && !be.teleportCenter ? ($(), j("div", { key: 1, class: Be(Y(J)) }, null, 2)) : ce("", !0), P("div", { class: Be({ dp__menu_content_wrapper: ((Sn = be.presetRanges) == null ? void 0 : Sn.length) || !!be.$slots["left-sidebar"] || !!be.$slots["right-sidebar"] }) }, [be.$slots["left-sidebar"] ? ($(), j("div", jVe, [We(be.$slots, "left-sidebar")])) : ce("", !0), (af = be.presetRanges) != null && af.length ? ($(), j("div", ZVe, [($(!0), j(Ve, null, It(be.presetRanges, (ft, $a) => ($(), j("div", { key: $a, style: at(ft.style || {}), class: "dp__preset_range", onClick: Ht => Y(ee)(ft.range, !!ft.slot) }, [ft.slot ? We(be.$slots, ft.slot, { key: 0, presetDateRange: Y(ee), label: ft.label, range: ft.range }) : ($(), j(Ve, { key: 1 }, [Tt(fe(ft.label), 1)], 64))], 12, qVe))), 128))])) : ce("", !0), P("div", { class: "dp__instance_calendar", ref_key: "calendarWrapperRef", ref: c, role: "document" }, [P("div", { class: Be(Y(Ye)) }, [($(!0), j(Ve, null, It(Y(Ce), (ft, $a) => ($(), j("div", { key: ft, class: Be(Y(ot)) }, [!be.disableMonthYearSelect && !be.timePicker ? ($(), Ie(iy(be.monthYearComponent ? be.monthYearComponent : PVe), Dn({ key: 0, ref_for: !0, ref: Ht => { Ht && (h.value[$a] = Ht) }, months: Y(ve), years: Y(le), month: Y(N)(ft), year: Y(z)(ft), instance: ft, "internal-model-value": t.internalModelValue }, be.$props, { onMount: qe[0] || (qe[0] = Ht => nt("monthYearInput")), onResetFlow: k, onUpdateMonthYear: Ht => Y(L)(ft, Ht), onMonthYearSelect: Y(K), onOverlayClosed: C }), La({ _: 2 }, [It(Y(Z), (Ht, of) => ({ name: Ht, fn: Me(Ge => [We(be.$slots, Ht, Aa($i(Ge)))]) }))]), 1040, ["months", "years", "month", "year", "instance", "internal-model-value", "onUpdateMonthYear", "onMonthYearSelect"])) : ce("", !0), de(_Ve, Dn({ ref_for: !0, ref: Ht => { Ht && (d.value[$a] = Ht) }, "specific-mode": Y(xe), "get-week-num": Y(q), instance: ft, "mapped-dates": Y(xt)(ft), month: Y(N)(ft), year: Y(z)(ft) }, be.$props, { "flow-step": y.value, "onUpdate:flowStep": qe[1] || (qe[1] = Ht => y.value = Ht), onSelectDate: Ht => Y(H)(Ht, !Y(Pe)(ft)), onHandleSpace: Ht => ge(Ht, !Y(Pe)(ft)), onSetHoverDate: qe[2] || (qe[2] = Ht => Y(Q)(Ht)), onHandleScroll: Ht => Y(te)(Ht, ft), onHandleSwipe: Ht => Y(X)(Ht, ft), onMount: qe[3] || (qe[3] = Ht => nt("calendar")), onResetFlow: k, onTooltipOpen: qe[4] || (qe[4] = Ht => be.$emit("tooltip-open", Ht)), onTooltipClose: qe[5] || (qe[5] = Ht => be.$emit("tooltip-close", Ht)) }), La({ _: 2 }, [It(Y(pe), (Ht, of) => ({ name: Ht, fn: Me(Ge => [We(be.$slots, Ht, Aa($i({ ...Ge })))]) }))]), 1040, ["specific-mode", "get-week-num", "instance", "mapped-dates", "month", "year", "flow-step", "onSelectDate", "onHandleSpace", "onHandleScroll", "onHandleSwipe"])], 2))), 128))], 2), P("div", null, [be.$slots["time-picker"] ? We(be.$slots, "time-picker", Aa(Dn({ key: 0 }, { time: Y(F), updateTime: Y(V) }))) : ($(), j(Ve, { key: 1 }, [be.enableTimePicker && !be.monthPicker && !be.weekPicker ? ($(), Ie(iy(be.timePickerComponent ? be.timePickerComponent : UVe), Dn({ key: 0, ref_key: "timePickerRef", ref: v, hours: Y(F).hours, minutes: Y(F).minutes, seconds: Y(F).seconds, "internal-model-value": t.internalModelValue }, be.$props, { onMount: qe[6] || (qe[6] = ft => nt("timePicker")), "onUpdate:hours": qe[7] || (qe[7] = ft => Y(V)(ft)), "onUpdate:minutes": qe[8] || (qe[8] = ft => Y(V)(ft, !1)), "onUpdate:seconds": qe[9] || (qe[9] = ft => Y(V)(ft, !1, !0)), onResetFlow: k, onOverlayClosed: C }), La({ _: 2 }, [It(Y(G), (ft, $a) => ({ name: ft, fn: Me(Ht => [We(be.$slots, ft, Aa($i(Ht)))]) }))]), 1040, ["hours", "minutes", "seconds", "internal-model-value"])) : ce("", !0)], 64))])], 512), be.$slots["right-sidebar"] ? ($(), j("div", XVe, [We(be.$slots, "right-sidebar")])) : ce("", !0), be.showNowButton ? ($(), j("div", KVe, [be.$slots["now-button"] ? We(be.$slots, "now-button", { key: 0, selectCurrentDate: Y(B) }) : ce("", !0), be.$slots["now-button"] ? ce("", !0) : ($(), j("button", { key: 1, type: "button", role: "button", class: "dp__now_button", onClick: qe[10] || (qe[10] = (...ft) => Y(B) && Y(B)(...ft)) }, fe(be.nowButtonLabel), 1))])) : ce("", !0)], 2), !be.autoApply || be.keepActionRow ? ($(), Ie(iy(be.actionRowComponent ? be.actionRowComponent : uVe), Dn({ key: 2, "menu-mount": m.value, "calendar-width": g.value, "internal-model-value": t.internalModelValue }, be.$props, { onClosePicker: qe[11] || (qe[11] = ft => be.$emit("close-picker")), onSelectDate: qe[12] || (qe[12] = ft => be.$emit("select-date")), onInvalidSelect: qe[13] || (qe[13] = ft => be.$emit("invalid-select")) }), La({ _: 2 }, [It(Y(Se), (ft, $a) => ({ name: ft, fn: Me(Ht => [We(be.$slots, ft, Aa($i({ ...Ht })))]) }))]), 1040, ["menu-mount", "calendar-width", "internal-model-value"])) : ce("", !0)], 42, GVe)] }), _: 3 }, 8, ["name", "css"]) } } }), JVe = typeof window < "u" ? window : void 0, mx = () => { }, eze = t => nD() ? (y5(t), !0) : !1, tze = (t, e, r, n) => { if (!t) return mx; let a = mx; const i = mt(() => Y(t), s => { a(), s && (s.addEventListener(e, r, n), a = () => { s.removeEventListener(e, r, n), a = mx }) }, { immediate: !0, flush: "post" }), o = () => { i(), a() }; return eze(o), o }, rze = (t, e, r, n = {}) => { const { window: a = JVe, event: i = "pointerdown" } = n; return a ? tze(a, i, o => { const s = Mn(t), l = Mn(e); !s || !l || s === o.target || o.composedPath().includes(s) || o.composedPath().includes(l) || r(o) }, { passive: !0 }) : void 0 }, nze = Ue({ __name: "VueDatePicker", props: { ...cu }, emits: ["update:model-value", "text-submit", "closed", "cleared", "open", "focus", "blur", "internal-model-change", "recalculate-position", "flow-step", "update-month-year", "invalid-select", "invalid-fixed-range", "tooltip-open", "tooltip-close"], setup(t, { expose: e, emit: r }) { const n = t, a = gD(), i = ne(!1), o = qv(n, "modelValue"), s = qv(n, "timezone"), l = ne(null), u = ne(null), c = ne(!1), { setMenuFocused: f, setShiftKey: h } = CY(), { clearArrowNav: d } = uu(), { validateDate: v, isValidTime: p, defaults: g } = ja(n); Lt(() => { M(n.modelValue), n.inline || (window.addEventListener("scroll", F), window.addEventListener("resize", V)), n.inline && (i.value = !0) }), Bs(() => { n.inline || (window.removeEventListener("scroll", F), window.removeEventListener("resize", V)) }); const m = mc(a, "all", n.presetRanges), y = mc(a, "input"); mt([o, s], () => { M(o.value) }, { deep: !0 }); const { openOnTop: _, menuPosition: b, setMenuPosition: x, setInitialPosition: S } = K6e(l, u, r, n), { inputValue: T, internalModelValue: C, parseExternalModelValue: M, emitModelValue: k, formatInputValue: A, checkBeforeEmit: R } = q6e(r, n, c), N = De(() => ({ dp__main: !0, dp__theme_dark: n.dark, dp__theme_light: !n.dark, dp__flex_display: n.inline, dp__flex_display_with_input: n.inlineWithInput })), z = De(() => n.dark ? "dp__theme_dark" : "dp__theme_light"), F = () => { i.value && (n.closeOnScroll ? U() : n.autoPosition && x()) }, V = () => { i.value && x() }, L = () => { !n.disabled && !n.readonly && (S(), i.value = !0, Dr().then(() => { x(), i.value && r("open") }), i.value || X(), M(n.modelValue)) }, H = () => { T.value = "", X(), r("update:model-value", null), r("cleared"), U() }, q = () => { const Z = C.value; return !Z || !Array.isArray(Z) && v(Z) ? !0 : Array.isArray(Z) ? Z.length === 2 && v(Z[0]) && v(Z[1]) ? !0 : v(Z[0]) : !1 }, K = () => { R() && q() ? (k(), U()) : r("invalid-select", C.value) }, te = Z => { k(), n.closeOnAutoApply && !Z && U() }, oe = (Z = !1) => { n.autoApply && p(C.value) && q() && (n.range && Array.isArray(C.value) ? (n.partialRange || C.value.length === 2) && te(Z) : te(Z)) }, X = () => { n.textInput || (C.value = null) }, U = () => { n.inline || (i.value && (i.value = !1, f(!1), h(!1), d(), r("closed"), S(), T.value && M(o.value)), X(), u.value && u.value.focusInput()) }, B = (Z, J) => { if (!Z) { C.value = null; return } C.value = Z, J && (K(), r("text-submit")) }, ee = () => { n.autoApply && p(C.value) && k() }, Q = () => i.value ? U() : L(), se = Z => { C.value = Z }, ue = De(() => n.textInput && g.value.textInputOptions.format), pe = () => { ue.value && (c.value = !0, A()), r("focus") }, Se = () => { ue.value && (c.value = !1, A()), r("blur") }, G = Z => { l.value && l.value.updateMonthYear(0, { month: a5(Z.month), year: a5(Z.year) }) }; return rze(l, u, n.onClickOutside ? () => n.onClickOutside(q) : U), e({ closeMenu: U, selectDate: K, clearValue: H, openMenu: L, onScroll: F, formatInputValue: A, updateInternalModelValue: se, setMonthYear: G }), (Z, J) => ($(), j("div", { class: Be(Y(N)) }, [de(iVe, Dn({ ref_key: "inputRef", ref: u, "is-menu-open": i.value, "input-value": Y(T), "onUpdate:inputValue": J[0] || (J[0] = le => Ir(T) ? T.value = le : null) }, Z.$props, { onClear: H, onOpen: L, onSetInputDate: B, onSetEmptyDate: Y(k), onSelectDate: K, onToggle: Q, onClose: U, onFocus: pe, onBlur: Se }), La({ _: 2 }, [It(Y(y), (le, ve) => ({ name: le, fn: Me(we => [We(Z.$slots, le, Aa($i(we)))]) }))]), 1040, ["is-menu-open", "input-value", "onSetEmptyDate"]), i.value ? ($(), Ie(jZ, { key: 0, to: Z.teleport, disabled: Z.inline }, [i.value ? ($(), Ie(QVe, Dn({ key: 0, ref_key: "dpMenuRef", ref: l, class: Y(z), style: Y(b), "open-on-top": Y(_) }, Z.$props, { "internal-model-value": Y(C), "onUpdate:internalModelValue": J[1] || (J[1] = le => Ir(C) ? C.value = le : null), onClosePicker: U, onSelectDate: K, onAutoApply: oe, onTimeUpdate: ee, onFlowStep: J[2] || (J[2] = le => Z.$emit("flow-step", le)), onUpdateMonthYear: J[3] || (J[3] = le => Z.$emit("update-month-year", le)), onInvalidSelect: J[4] || (J[4] = le => Z.$emit("invalid-select", Y(C))), onInvalidFixedRange: J[5] || (J[5] = le => Z.$emit("invalid-fixed-range", le)), onRecalculatePosition: Y(x), onTooltipOpen: J[6] || (J[6] = le => Z.$emit("tooltip-open", le)), onTooltipClose: J[7] || (J[7] = le => Z.$emit("tooltip-close", le)) }), La({ _: 2 }, [It(Y(m), (le, ve) => ({ name: le, fn: Me(we => [We(Z.$slots, le, Aa($i({ ...we })))]) }))]), 1040, ["class", "style", "open-on-top", "internal-model-value", "onRecalculatePosition"])) : ce("", !0)], 8, ["to", "disabled"])) : ce("", !0)], 2)) } }), Gk = (() => { const t = nze; return t.install = e => { e.component("Vue3DatePicker", t) }, t })(), aze = Object.freeze(Object.defineProperty({ __proto__: null, default: Gk }, Symbol.toStringTag, { value: "Module" })); Object.entries(aze).forEach(([t, e]) => { t !== "default" && (Gk[t] = e) }); const xg = m7(zee), ize = Fq(); xg.use(ize); xg.use(k8); let oze = { arrowOverflow: !0, themes: { "tooltip-bill": { placement: "right", triggers: ["hover", "focus", "touch"] } } }; xg.use(H7e, oze); document.addEventListener("touchstart", function () { }, !1); ze.locale("zh", { week: { dow: 1 } }); xg.component("Datepicker", Gk); xg.mount("#app");
